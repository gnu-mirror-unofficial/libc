<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>Version 2.0 Extended Announcement, GNU C Library - GNU Project - Free Software Foundation (FSF)</TITLE>
<LINK REV="made" HREF="mailto:webmasters@www.gnu.org">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#1F00FF" ALINK="#FF0000" VLINK="#9900DD">
<H3>Version 2.0 Extended Announcement, GNU C Library</H3>
<P>

<PRE>

	GNU libc 2.0 (aka libc-6) is available
	--------------------------------------

!!! BEFORE DOING *ANY* WORK WITH GNU LIBC READ THIS FILE ENTIRELY !!!


The first release of the GNU libc for more than two years has the
version number 2.0 and it is a big step to the complete GNU system.

I've announced this package on the usual GNU announcement list using
the text you find below.  Here I only want to add some more points
which are critical for all users of Linux:

- GNU libc 2.0 is the next major version of the libc, interface number 6.
  This means binaries compiled with the old libc will never use the new
  libc-6.  But it is of course possible to run old and new binaries at the
  same time.

- This step in the interface number will hopefully be the last *forced* one.
  We think we now have ways to guarantee that we never have to create a new
  incompatible interface for the libc if we don't want to do so.  I.e., this
  interface will be stable.  Don't ask for details now.

- GNU libc 2.0 is titled "experimental".  We are not yet ready for the general
  use.  This will take some more weeks.  But we are ready for a much wider
  audience.  The code in the libc should be pretty stable.  Due to some
  recent big changes the compilation environment might not yet be bug free,
  though.  But this shouldn't be critical since the errors are obvious.

- Installing GNU libc 2.0 for the first time isn't trivial.  I first thought
  I could provide a save installation procedure but due to the variety of
  systems out there this is no easy to solve problem.  I don't take any
  responsibility on me if you mess up your system by installing glibc.  If
  you are using a distribution you should probably wait until an upgrading
  package is available.  If you set up your system yourself the following
  explanation should be enough:

  * for using libc-5 the next release of gcc will probably have a new target
    name: *-pc-linuxlibc5.  So first create a directory

	/usr/i586-linuxlibc5

    (use your architecture instead of i586 if necessary)

  * the old headers must be evacuated.  Move /usr/include
	mv /usr/include /usr/i586-linuxlibc5/include

  * create a new directory
	mkdir /usr/include
    and create the necessary links for the kernel headers
	ln -s /usr/src/linux/include/linux /usr/include
	ln -s /usr/src/linux/include/asm /usr/include

  * create a directory for the libc-5 libraries
	mkdir /usr/i586-linuxlibc5/lib

  * add this directory *at the top* of your /etc/ld.so.conf file (you
    should also have ld.so-1.8.8 installed; otherwise you get strange
    messages once glibc is installed)

  * move all the libraries (*.a files, *.so files and the files the links
    point to) into the new directory.  Once this is done you might have
    to rerun `ldconfig'.

  * Remove all files or links names *.so from /lib.  I.e., remove all the
    files the linker will use.  But do *not* remove the shared libraries
    itself!

  * you might want to save the files
	/etc/rpc
	/etc/localtime
	/usr/share/zoneinfo/*
    if available.  But it is not critical and the files which come with
    GNU libc should be compatible with the old files.


- If your system still runs at this point you are almost set.  You
  have possibilities:

  * use the binary release we provide.  Binaries will be available for
	ix86
	m68k
	alpha
    The alpha and m68k binaries may show up later since nobody gave me
    machines to do the work myself.

  * use the source and build the libc yourself

  The decision is also made by your machine and disk space.  Compiling a
  complete  GNU libc binary with shared, static and profiling libraries
  takes on my i586@133+64MB about 3 hours.  If you do this you need disk
  space for

	 23 MB sources
	100 MB object files
	 42 MB installation

  If you go with the binaries you only need the 42 MB.

  These number are for ix86 (I use debugging info which makes the sizes
  explode).  The m68k you'll probably get comparable numbers and for
  alpha they will probably even higher.

- If you decide to compile glibc yourself you need beside the disk space

  * the three add-ons
	crypt
	linuxthreads
	localedata	(optional)
    Please note the export restriction for the crypt add-on.  Non-US users
    should get it from the European site at
	ftp://ftp.ifi.uio.no/pub/gnu

  * GNU make 3.75

  * gcc >= 2.7.2 (better 2.7.2.1)

  * binutils 2.7 (for alpha you even need a snapshot)

  * if something you changed something in the configure files you need
    autoconf-2.12.

  You should have:

  * bash-2.0

- to start the compilation you need to install the add-ons

	tar xf glibc-2.0.tar
	cd glibc-2.0
	tar xf ../glibc-linuxthreads-2.0.tar
	tar xf ../glibc-crypt-2.0.tar
	tar xf ../glibc-localedata-2.0.tar

  and start the configure script using the extra argument

	../configure --enable-add-ons=linuxthreads,crypt,localedata ...

  (Here I already imply that you should create a subdirectory in the
  glibc source directory.  Since we have not yet paid much attention to
  the `make clean' goal this is probably the only way to get the source
  tree clean again.)

- compile, check, and install the library (after you've saved the old
  environment as described above)

	make
	make check
	make install

  Use the CFLAGS make variable to decide about optimization.

- in any case you now have to prepare the gcc for the new library.  Even if
  you used the binary distribution you have to do this step.  The section
  from the FAQ file in the glibc distribution explaining what is to do
  follows.  Before you change anything copy the files below
	/usr/lib/gcc-lib/i586-linux
  to
	/usr/lib/gcc-lib/i586-linuxlibc5
  (please note that this name is the same as used above!)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[Q16]	``When I use GNU libc on my Linux system by linking against
	  to libc.so which comes with glibc all I get is a core dump.''

[A16] {UD} It is not enough to simply link against the GNU libc
library itself.  The GNU C library comes with its own dynamic linker
which really conforms to the ELF API standard.  This dynamic linker
must be used.

Normally this is done by the compiler.  The gcc will use

	-dynamic-linker /lib/ld-linux.so.1

unless the user specifies her/himself a -dynamic-linker argument.  But
this is not the correct name for the GNU dynamic linker.  The correct
name is /lib/ld.so.1 which is the name specified in the SVr4 ABi.

To change your environment to use GNU libc for compiling you need to
change the `specs' file of your gcc.  This file is normally found at

	/usr/lib/gcc-lib/&lt;arch&gt;/&lt;version&gt;/specs

In this file you have to change a few things:

- change `ld-linux.so.1' to `ld.so.1' (or to ld-linux.so.2, see below)

- remove all expression `%{...:-lgmon}';  there is no libgmon in glibc


Things are getting a bit more complicated if you have GNU libc
installed in some other place than /usr, i.e., if you do not want to
use it instead of the old libc.  In this case the needed startup files
and libraries are not found in the regular places.  So the specs file
must tell the compiler and linker exactly what to use.  Here is for
example the gcc-2.7.2 specs file when GNU libc is installed at
/usr:

-----------------------------------------------------------------------
*asm:
%{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*}

*asm_final:
%{pipe:-}

*cpp:
%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{!m386:-D__i486__} %{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}

*cc1:
%{profile:-p}

*cc1plus:


*endfile:
%{!shared:crtend.o%s} %{shared:crtendS.o%s} crtn.o%s

*link:
-m elf_i386 %{shared:-shared}   %{!shared:     %{!ibcs:       %{!static: 	%{rdynamic:-export-dynamic} 	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} 	%{static:-static}}}

*lib:
%{!shared: %{pthread:-lpthread} 	%{profile:-lc_p} %{!profile: -lc}}

*libgcc:
-lgcc

*startfile:
%{!shared:      %{pg:gcrt1.o%s} %{!pg:%{p:gcrt1.o%s} 		       %{!p:%{profile:gcrt1.o%s} 			 %{!profile:crt1.o%s}}}}    crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}

*switches_need_spaces:


*signed_char:
%{funsigned-char:-D__CHAR_UNSIGNED__}

*predefines:
-D__ELF__ -Dunix -Di386 -Dlinux -Asystem(unix) -Asystem(posix) -Acpu(i386) -Amachine(i386)

*cross_compile:
0

*multilib:
. ;

-----------------------------------------------------------------------

The above is currently correct for ix86/Linux.  Because of
compatibility issues on this platform the dynamic linker must have
a different name: ld-linux.so.2.  So you have to replace

	%{!dynamic-linker:-dynamic-linker=/home/gnu/lib/ld-linux.so.2}
by
	%{!dynamic-linker:-dynamic-linker=/home/gnu/lib/ld.so.1}

in the above example specs file to make it work for other systems.

Future versions of GCC will automatically provide the correct specs.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


Now you should be ready for using GNU libc.  Please take the system as
what it is currently: experimental.  There are a lot of machines out
there which only use GNU libc but this does not mean everything works
now.  You should start compiling some programs and try to run them.
Always remember that you should be able to compile binaries for libc-5
using the
	-b i586-linuxlibc5
option to gcc.


Now some more comments to news for glibc on Linux.  The whole library
is not a "port" of the Linux libc back into GNU libc.  Instead almost
all things are written for GNU libc and some are also used in the
Linux libc (e.g., the whole internationalization subsystem).  So you
should not expect the new libc to behave exactly like libc-5.  We
corrected some functions and made others more compliant with the
general rules of GNU.  Please consult the FAQ file in the distribution
for some examples.

One of the biggest changes was that the interface to the kernel is
abstracted.  I.e., where libc-5 simply used system calls and uses the
kernel headers this does not happen anymore for libc-6.

In fact almost no kernel header file is used anymore!  I know several
people had problems with this decision but

	- Linus is happy since he does not has to pay attention to the
	  users of the libc when changing headers

	- distribution builders are happy since their distributions do
	  not depend on a special kernel version and may become obsolete
	  when something changed in the kernel (note that Debian already
	  uses this method)

	- the libc maintainer is happy since he also has not change the
	  library and headers to follow a moving target

	- we were able to implement changes in the libc which are not
	  yet available in the kernel (e.g., using larger types for
	  central types like uid_t and gid_t and, most important, sigset_t).


If you ask me what the most noticeable change from libc-5 to libc-6 is
I would answer: multi-threading.  GNU libc uses one thread
implementation (Xavier Leroy's LinuxThreads, a special version) and it
fully exploits it.  The whole libc is thread safe, functions with
non-reentrant interface have a reentrant counterpart.  The stdio
implementation is really thread safe and not partly as done in libc-5
with all the hacks.

The second big advantage has the name NSS.  This is a scheme for
handling name databases.  This scheme originally comes from Solaris
and it provides a clean and extendable way to handle the different
lookup schemes.  Currently we support: plain file, database file, DNS,
NIS and a compatibility mode for NIS.  Future releases will support
NIS+ and hesiod and perhaps some more.  The interface for these
modules, which are implemented in shared libs, is documented in the
GNU libc manual and so everybody can write a new model her/himself.

Side note: Sun has a similar implementation for Solaris where all the
modules are shared objects.  The difference is that you cannot
generate a static application using any lookup function on Solaris.
The GNU dynamic loader does not have this limitation.)

The math library should be much more correct and often also faster.

The GNU libc also has several new functions from POSIX and XPG4.2 and
is overall very much closer to comply with all the standards out
there.  I can run the POSIX test suite without many problems.



Finally a word to the complains I heard in the past.  Some people love
to speak about the "bureaucrats at the FSF" and the slow development.
I don't think this deserves a reply but the feeling I mean to
recognize here is:

	The FSF is not able to keep the pace with the fast development
	in the Linux community.

I want to add several comments here:

1. Before starting to work entirely on the GNU libc I help HJ a lot in
   writing the Linux libc and even after that point many (most?) of the
   new code in the Linux libc came from the GNU libc and was written by
   me.  So I very well know the speed of the development on Linux since
   I was responsible for it sometimes.

2. When people complain about "bureaucrats" this mainly means that we
   always require assignments.  It is true that this is sometimes
   problematic.  But let's take the following example:

   ``GNU and the whole free software slowly has more influence on the
     software market than many of the companies want.  Somebody the
     leader of one of the evil companies, let's call it `Hellsware',
     decides to corrupt the FSF.  They let one of their employers offer
     some new and interesting code to the FSF but refuse to send an
     assignment.  Now they wait until the FSF heavily uses the code
     and suddenly they claim that the code is their own property and
     that is is patented.  They fire the employer (after giving her/him
     lots of money to not tell the story) and sue the FSF.  Given the
     American justice system and the amount of money available for the
     defense the result is foreseeable.''

   With an assignment the FSF would be in a much stronger situation.
   The employer would have declared that the code is usable without
   restriction (e.g., patents) and so the FSF can always declare they
   never knew about the misuse.

   You can decide: live with free software or with only one evil company
   left?

3. Many (especially commercial) users of Linux in fact *do* want to see
   a slower change of the code.  We try to fit there needs with our release
   scheme.

4. For a few GNU packages (including GNU libc) we now use GNATS for
   handling bug reports.  The `glibcbug' script which comes with the GNU
   libc should be used to report bugs.  An WWW interface to GNATS will
   hopefully soon be available so that you should be able to follow the
   status of your bug report and also examine old problem reports.

   A plea: please do *not* (exclusively) end bug reports to the Linux
   mailing lists.  I don't read them regularly since there is far too
   much noise.  Use the `glibcbug' script.

5. We will use a release scheme for glibc which is now also in use for gcc.
   I.e., 2.0.x will go on until we reached a stable version.  In the
   meantime we will start working on glibc-2.1.



One final word: *please* read all the available documentation before
reporting a bug (perhaps excluding the manual though this would be
good as well).  I cannot and will not answer questions answered in
these docs.  Please with high email traffic will agree that there must
be a cutoff.  I don't speak about 50 mails a day.

Please also consult the WWW pages for the GNU libc at
	http://www.gnu.org/software/libc/libc.html
I'll hopefully update and extend these pages so keep looking.


Thanks for reading through all this and I hope we all work good
together in making the GNU libc the best libc available in the
universe.

At this point I want to thank again my fellow workers in the very busy
last months.

	Roland McGrath, former glibc maintainer
	Andreas Schwab, for the m68k port and constantly repairing what
		I break.
	Richard Henderson, David Mosberger-Tang for the DEC Alpha port
	Hongjiu Lu, for lots of the underlying code for ix86 and
		constant real-life checks
	Ralf Baechle, for the MIPS port
	Miguel de Icaza, for the Sparc port
	Xavier Leroy, for the LinuxThreads package
	Wolfram Gloger &amp; Doug Lea for the new malloc
	Thorsten Kukuk, for the NIS implementation

Many of bugs were found due to the constant nit picking by

	Andreas Jaeger
	a sun	&lt;asun@zoology.washington.edu&gt;

Thanks to all of them!

-- Uli
---------------.      drepper@cygnus.com  ,-.   Rubensstrasse 5
Ulrich Drepper  \    ,-------------------'   \  76149 Karlsruhe/Germany
Cygnus Solutions `--' drepper@gnu.org  `------------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Version 2.0 of the GNU C library is now available for anonymous FTP from
ftp.gnu.org in the file glibc-2.0.tar.gz (about 3.8 megabytes gzip'd).
No diffs are available to the 1.09.1 release since the diffs would be much
larger than the sources itself.

The `crypt' DES encryption code is in glibc-crypt-2.0.tar.gz (about
30k gzip'd).  Please note that it is illegal under US federal law to
export this software outside the United States.  Those outside the
USA can get the file from

	ftp://ftp.ifi.uio.no/pub/gnu		 [129.240.64.21]

instead.  You do NOT need the crypt package to build the rest of the C
library.  The C library contains sources for a MD5 based "encryption"
so that the crypt functions are available.  If the machine works in a
networked environment it is useful to use the crypt package, though.

Beside the crypt package there are two more "add-ons" available for
use in the GNU C library.  They are available at the same places like
the glibc-2.0.tar.gz file itself:

* glibc-linuxthreads-2.0.tar.gz is a clone(2) based POSIX thread
  implementation for Linux.

* glibc-localedate-2.0.tar.gz are the POSIX locale specification and
  character set definition which are used in the `localedef' tool to
  produce locale information files which are used the C library functions.


This is a major new release.  It is not possible to list all the
changes which happened in the last two years.  At the bottom of this
mail you find a list of the most important changes, taken from the
`NEWS' file in the distribution.

The GNU C library is a complete drop-in replacement for libc.a on
Unix.  On systems which support shared libraries the GNU C library
will also be installed as a shared library.  It conforms to the ANSI C
standard (including amendment 1), POSIX.1:1996, and XPG4.2, has most
of the functions specified by POSIX.2, and is intended to be upward
compatible with 4.3 and 4.4 BSD.  It also has several functions from
System V and other systems, plus GNU extensions.

The current version of the GNU C library is ported to only a few systems:

		*-*-gnu			GNU Hurd
		i386-*-linux-gnu	Linux/GNU on Intel ix86
		m68k-*-linux-gnu	Linux/GNU on Motorola m680x0
		alpha-*-linux-gnu	Linux/GNU on DEC Alpha

The ports to sparc-*-linux-gnu and mips-*-linux-gnu are nearly finished.

On these platforms the GNU C library is intended to be the standard C
library.  On Linux the 2.0 version of the GNU libc will be used as the
libc-6, superceding the Linux based GNU C library version 5.

Former versions of this library ran on a wide variety of systems.
Currently there are efforts to port GNU libc again to sparc-*-sysv,
sparc-sun-solaris2, mips-sgi-irix5, and mips-sgi-irix6.

Porting the GNU C library to modern systems is not hard.  People
interested in porting the library should read the WWW page on porting

	http://www.gnu.org/software/libc/porting.html

and get on the mailing (see below).  The INSTALL file now includes
some porting instructions which should help people get started.  If
you have questions, or are doing a port, tell the mailing list about
it.

All bug reports for the GNU C library should be sent using the
`glibcbug' shell script which comes with the GNU libc to

	mailto://bugs@gnu.org

Suggestions and questions should be send to to the mailing list

	mailto://bug-glibc@gnu.org

If you don't read the gnewsgroup gnu.bug.glibc, you can subscribe to
the list by asking:

	mailto://bug-glibc-request@gnu.org

Please DO NOT send bug report for the GNU C library to
&lt;bug-gcc@gnu.org&gt;.  That list is for bug reports for GNU CC.
GNU CC and the GNU C library are separate entities maintained by
separate people.

If you send patches, please also report what the bugs you think you
are fixing are!  Fill in all fields in the form presented to you by
the `glibcbug' script.  Large mounds of patches with comments like
"foobar was broken", or "foobar didn't handle frobnication right" are
very difficult to deal with.  Unless you tell me, I have no way of
knowing how to reproduce the bugs you found and figure out the right
solution, and I cannot assume that your solution is correct.

The Texinfo source for the GNU C Library Reference Manual comes along
with the C library.  This manual documents all the library facilities,
both what Unix terms ``system calls'' (section 2) and ``library
functions'' (section 3).  Before printing the manual, beware that it
is more than 700 pages long, so you may well be better off ordering a
printed copy from the FSF than trying to print it yourself.
Unfortunately, we have not had the time to update the manual recently.


At this point I would like to thank all the people who made this
software possible by providing code or by testing and debugging.  The
ChangeLog file gives you an impression of the amount of work which was
done.


-- Uli
---------------.      drepper@cygnus.com  ,-.   Rubensstrasse 5
Ulrich Drepper  \    ,-------------------'   \  76149 Karlsruhe/Germany
Cygnus Solutions `--' drepper@gnu.org  `------------------------

Version 2.0

* GNU extensions are no longer declared by default.  To enable them you
  must define the macro `_GNU_SOURCE' in your program or compile with
  `-D_GNU_SOURCE'.

* The library has changed from using GNU ld symbol aliases to using weak
  symbols where available.  The ELF object file format supports weak
  symbols; GNU ld also supports weak symbols in the a.out format.  (There
  is also now support for other GNU ld extensions in ELF.  Use the
  `--with-elf' option to configure to indicate you have ELF, and
  `--with-gnu-ld' if using GNU ld.)  This change resulted in the deletion
  of many files which contained only symbol aliases, reducing the size of
  the source and the compiled library; many other files were renamed to
  less cryptic names previously occupied by the symbol alias files.
  There is a new header file &lt;elf.h&gt; for programs which operate on
  files in the ELF format.

* Converted to Autoconf version 2, so `configure' has more options.
  Run `configure --help' to see the details.

* The library can now be configured to build profiling, highly-optimized
  (but undebuggable), and/or shared libraries (ELF with GNU ld only).  The
  `--enable-profile', `--enable-omitfp', and `--enable-shared' options to
  `configure' enable building these extra libraries.  The shared library is
  built by default when using both ELF and GNU ld.  When shared libraries
  are enabled, the new library `-ldl' is available for arbitrary run-time
  loading of shared objects; its interface is defined in &lt;dlfcn.h&gt;.  The
  new header file &lt;link.h&gt; gives access to the internals of the run-time
  dynamic linker, `ld.so'.  The shell script `ldd' is similar to the
  application of same name on other systems and it provides information
  about dynamically linked binaries.

* The C library now provides the run-time support code for profiling
  executables compiled with `-pg'.  Programs can control the profiling code
  through the interface in &lt;sys/gmon.h&gt;.  The `gmon.out' files written by
  the GNU C library can be read only by GNU `gprof' (from GNU binutils);
  the support for this file format was contributed by David Mosberger-Tang.

* The math code has been replaced with a math library based on fdlibm from
  Sun, and modified by JT Conklin and Ulrich Drepper with i387 support, by
  Ian Taylor with `float' functions and by Ulrich Drepper with `long double'
  functions.  The math functions now reside in a separate library,  so
  programs using them will need to use `-lm' their linking commands.

* John C. Bowman contributed optimized ix87 assembler inline functions.

* Ulrich Drepper has contributed support for an `/etc/nsswitch.conf'
  mechanism similar to that found in Solaris 2.  This is now used for the
  group, passwd, hosts, networks, services, protocols, rpc, ethers,
  shadow, netgroup, publickey, and alias databases.  The `nsswitch.conf'
  file controls what services are used for each individual database.  This
  works by loading shared libraries with names specified in `nsswitch.conf',
  so service modules can be changed or added at any time without even
  relinking any program.  Currently there are the file, db, and NIS based
  NSS services available.

* The new functions `strtoq' and `strtouq' parse integer values from
  strings, like `strtol' and `strtoul', but they return `long long int' and
  `unsigned long long int' values, respectively (64-bit quantities).

* The new functions `strtof' and `strtold' parse floating-point values from
  strings, like `strtod', but they return `float' and `long double' values,
  respectively (on some machines `double' and `long double' are the same).

* Ulrich Drepper has contributed new implementations of the floating-point
  printing and reading code used in the `printf' family of functions and
  `strtod', `strtof', and `strtold'.  These new functions are perfectly
  accurate, and much faster than the old ones.

* The implementation of the POSIX locale model was completely rewritten by
  Ulrich Drepper.  This includes the new programs `localedef' and `locale'
  to compile the POSIX locale definition.

* The former dummy implementations of the strcoll and strxfrm function are
  now replaced by fully functional code contributed by Ulrich Drepper.  The
  collation information comes from the POSIX locale definitions.

* The new header &lt;langinfo.h&gt; defines an interface for accessing
  various locale-dependent data (using the locale chosen with `setlocale').

* Ulrich Drepper has contributed a new suite of functions for operation on
  wide-character and multibyte-character strings, in &lt;wchar.h&gt;;
  and classification and case conversion of wide characters, in &lt;wctype.h&gt;.
  These new functions are conforming to the ISO C, Amendement 1 specification.

* There is now a second implementation of the standard I/O library available.
  It comes from GNU libg++ as was written by Per Bothner, heavily modified
  by Hongjiu Lu and made thread safe by Ulrich Drepper.

* You can now use positional parameter specifications in format strings
  for the `printf' and `scanf' families of functions.  For example,
  `printf ("Number %2$d, Mr %1$s\n", "Jones", 6);'' prints
  ``Number 6, Mr Jones''.  This is mainly useful when providing different
  format strings for different languages, whose grammars may dictate
  different orderings of the values being printed.  To support this
  feature, the interface for `register_printf_handler' has changed; see
  the header file &lt;printf.h&gt; for details.

* The `printf' and `scanf' families of functions now understand a new
  formatting flag for numeric conversions: the ' flag (e.g. %'d or %'f) says
  to group numbers as indicated by the locale; for `scanf' and friends, this
  says to accept as valid only a number with all the proper grouping
  separators in the right places.  In the default "C" locale, numbers are
  not grouped; but locales for specific countries will define the usual
  conventions (i.e. separate thousands with `,' in the US locale).

* The pgrp functions have been regularized, slightly incompatibly but much
  less confusingly.  The core functions are now `getpgid' and `setpgid',
  which take arguments for the PID to operate on; the POSIX.1 `getpgrp' (no
  argument) and BSD `setpgrp' (identical to `setpgid') functions are
  provided for compatibility.  There is no longer an incompatible `getpgrp'
  with an argument declared under _BSD_SOURCE; no BSD code uses it.

* The new header file &lt;fts.h&gt; and suite of functions simplify programs that
  operate on directory trees.  This code comes from 4.4 BSD.

* The resolver code has been updated from the BIND 4.9.5-P1 release.
  Parts of the code were heavily modified by Ulrich Drepper to fit in the
  NSS scheme used in glibc.

* The new function `malloc_find_object_address' finds the starting address
  of a malloc'd block, given any address within the block;
  `malloc_object_allocated_size' returns the size of an allocated block;
  and `malloc_walk' lets you walk through all allocated blocks.  These can
  be useful for debugging; see &lt;malloc.h&gt; for the interfaces.

* There is a new malloc debugging hook `__memalign_hook'.

* There are new typedefs `ushort' for `unsigned short int' and `uint' for
  `unsigned int' in &lt;sys/types.h&gt;.  These are for compatibility only and
  their use is discouraged.

* The `-lmcheck' library to enable standard malloc debugging hooks is now
  done differently, so that it works even without GNU ld.

* New function `euidaccess' checks allowed access to a file like `access',
  but using the effective IDs instead of the real IDs.

* The time zone data files have been updated for the latest and greatest
  local time conventions of the countries of the world.

* The new function `dirfd' extracts the file descriptor used by a DIR stream;
  see &lt;dirent.h&gt;.

* The new functions `ecvt', `fcvt', and `gcvt' provide an obsolete interface
  for formatting floating-point numbers.  They are provided only for
  compatibility; new programs should use `sprintf' instead.  There are
  also equivalent function for the `long double' floating-point type and
  all functions also exist in a reentrant form.

* The new auxiliary library `-lutil' from 4.4 BSD contains various
  functions for maintaining the login-record files (primarily of use to
  system programs such as `login'), and convenient functions for
  allocating and initializing a pseudo-terminal (pty) device.

* Ulrich Drepper has contributed new support for System V style
  shared memory and IPC on systems that support it.

* Ulrich Drepper has contributed several miscellaneous new functions found
  in System V: The `hsearch' family of functions provide an effective
  implementation of hash tables; `a64l' and `l64a' provide a very simple
  binary to ASCII mapping; `drand48' and friends provide a 48-bit random
  number generator.

* Ulrich Drepper has contributed new reentrant counterparts for the
  `random' and `hsearch' families of functions; `random_r', `hsearch_r', etc.

* Ulrich Drepper has contributed new, highly-optimized versions of several
  string functions for the i486/Pentium family of processors.

* Ulrich Drepper has updated the Linux-specific code, based largely
  on work done in Hongjiu Lu's version of GNU libc for Linux.
  The GNU library now supports Linux versions 2.0.10 and later,
  using the ELF object file format (i[3456]86-*-linux).

* Andreas Schwab has ported the C library to Linux/m68k (m68k-*-linux).

* David Mosberger-Tang and Richard Henderson have ported the C library
  to Linux/Alpha (alpha-*-linux).  Richard Henderson contributed the
  dynamic linking support for ELF/Alpha.

* Richard Henderson contributed several Alpha optimized assembler function
  for arithmetic and string handling.

* Ulrich Drepper has contributed a new set of message catalog functions to
  support multiple languages using the &lt;libintl.h&gt; interface, for use with
  his new package GNU gettext.  Translation volunteers have contributed
  catalogs of the library's messages in Spanish, German, and Korean.

* For compatibility with XPG4, Ulrich Drepper has contributed the `gencat'
  program and the `catgets' function for reading the catalog files it
  creates.  (The &lt;libintl.h&gt; interface is preferred; we include the
  &lt;nl_types.h&gt; interface using `catgets' only for source compatibility with
  programs already written to use it.)

* New header file &lt;values.h&gt; gives SVID-compatible names for &lt;limits.h&gt;
  constants.

* Various new macros, declarations, and small header files for compatibility
  with 4.4 BSD.

* New function `group_member' is a convenient way to check if a process has
  a given effective group ID.

* When using GCC 2.7 and later, the socket functions are now declared in a
  special way so that passing an argument of type `struct sockaddr_in *',
  `struct sockaddr_ns *', or `struct sockaddr_un *' instead of the generic
  `struct sockaddr *' type, does not generate a type-clash warning.

* New function `error' declared in header file &lt;error.h&gt; is a convenient
  function for printing error messages and optionally exiting; this is the
  canonical function used in GNU programs.  The new functions `err', `warn',
  and friends in header file &lt;err.h&gt; are the canonical 4.4 BSD interface for
  doing the same thing.

* The &lt;glob.h&gt; interface has several new flags from 4.4 BSD that extend the
  POSIX.2 `glob' function to do ~ and {...} expansion.

* New function `unsetenv' complements `setenv' for compatibility with 4.4 BSD.
  `clearenv' which is used in POSIX.9 is also available.

* New function `getsid' returns session ID number on systems that support it.

* We have incorporated the 4.4 BSD `db' library (version 1.85).  New header
  files &lt;db.h&gt; and &lt;mpool.h&gt; provide a rich set of functions for several
  types of simple databases stored in memory and in files, and &lt;ndbm.h&gt; is
  an old `ndbm'-compatible interface using the `db' functions.  Link with
  `-ldb' to get these functions.

* New macro `strdupa' copies a string like `strdup', but uses local stack
  space from `alloca' instead of dynamic heap space from `malloc'.

* New function `strnlen' is like `strlen' but searches only a given maximum
  number of characters for the null terminator.  `stpncpy', `strndup' and
  `strndupa' are similar variants for the `stpcpy', `strdup' and `strdupa'
  function.

* New function `statfs' in header &lt;sys/statfs.h&gt;.

* The new &lt;argz.h&gt; and &lt;envz.h&gt; interfaces contributed by Miles Bader
  provide convenient functions for operating on blocks of null-terminated
  strings.

* A new suite of functions in &lt;utmp.h&gt; handle all the details of reading
  and writing the utmp file.

* An implementation of the NIS/YP(tm) based NSS service was contributed by
  Thorsten Kukuk.

* Paul Eggert and Ulrich Drepper modified the `strftime' function to be
  completely POSIX compliant and also implemented the extended functionality
  to handle alternate digit representation and alternate era date formats.

* Ulrich Drepper provided an implementation of the `strptime' function
  defined in XPG4.2 which transforms a string into a `struct tm' value.

* Paul Eggert provided the tzselect shell script as part of the timezone
  code.  The shell script makes it easy to select the correct timezone
  specification.

* The implementation of the malloc family of functions is completely replaced
  by a new implementation by Doug Lea with many improvements by Wolfram Gloger.
  The implementation uses the mmap function (if available) and it is
  optimized for the use in multi threaded programs.

* Ulrich Drepper contributed a MD5 "encryption" for the crypt family of
  functions.  This new functionality is usable by specifying a special
  salt string and it is compatible with implementation on *BSD systems.

* Lots of functions from the XPG4.2 standard were added by Ulrich Drepper:
  `getsubopt' to handle second level command line options, `bsd_signal'
  to access BSD style `signal' functionality, the obsolete `regexp' style
  expression matcher.

* the `lchown' function is available on system which support this
  functionality.

* The implementation of the shadow password handling function was contributed
  by Ulrich Drepper.

* David Mosberger-Tang changed the SunRPC implementation to be 64bit safe.

* POSIX.1g support was added.  The &lt;sys/select.h&gt; header is available,
  `isfdtype' and `pselect' are implemented.  Craig Metz contributed an
  implementation of `getaddrinfo'.

</PRE>

<HR>

Return to <A HREF="/home.html">GNU's home page</A>.
<P>

Please send FSF &amp; GNU inquiries &amp; questions to 

<A HREF="mailto:gnu@gnu.org"><EM>gnu@gnu.org</EM></A>.
There are also <A HREF="/home.html#ContactInfo">other ways to
contact</A> the FSF.
<P>

Please send comments on these web pages to

<A HREF="mailto:webmasters@www.gnu.org"><EM>webmasters@www.gnu.org</EM></A>,
send other questions to
<A HREF="mailto:gnu@gnu.org"><EM>gnu@gnu.org</EM></A>.
<P>
Copyright (C) 1996, 1997, 1998 Free Software Foundation, Inc.,
59 Temple Place - Suite 330, Boston, MA  02111,  USA
<P>
Verbatim copying and distribution of this entire article is
permitted in any medium, provided this notice is preserved.<P>
Updated:
<!-- hhmts start -->
23 Feb 1998 grat-w
<!-- hhmts end -->
<HR>
</BODY>
</HTML>
