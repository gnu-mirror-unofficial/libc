<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="CPU%20Time">CPU Time</a>,
Next:<a rel=next accesskey=n href="Processor-Time.html#Processor%20Time">Processor Time</a>,
Up:<a rel=up accesskey=u href="Processor-And-CPU-Time.html#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<hr><br>

<h4>CPU Time Inquiry</h4>

<p>To get a process' CPU time, you can use the <code>clock</code> function.  This
facility is declared in the header file <code>time.h</code>.

<p>In typical usage, you call the <code>clock</code> function at the beginning
and end of the interval you want to time, subtract the values, and then
divide by <code>CLOCKS_PER_SEC</code> (the number of clock ticks per second)
to get processor time, like this:

<br><pre>#include &lt;time.h&gt;

clock_t start, end;
double cpu_time_used;

start = clock();
<small>...</small> /* Do the work. */
end = clock();
cpu_time_used = ((double) (end - start)) / CLOCKS_PER_SEC;
</pre>

<p>Do not use a single CPU time as an amount of time; it doesn't work that
way.  Either do a subtraction as shown above or query processor time
directly.  See <a href="Processor-Time.html#Processor%20Time">Processor Time</a>.

<p>Different computers and operating systems vary wildly in how they keep
track of CPU time.  It's common for the internal processor clock
to have a resolution somewhere between a hundredth and millionth of a
second.

<p>
<table width="100%">
<tr>
<td align="left">int <b>CLOCKS_PER_SEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is the number of clock ticks per second measured
by the <code>clock</code> function.  POSIX requires that this value be one
million independent of the actual resolution. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>CLK_TCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an obsolete name for <code>CLOCKS_PER_SEC</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>clock_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the type of the value returned by the <code>clock</code> function. 
Values of type <code>clock_t</code> are numbers of clock ticks. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">clock_t <b>clock</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the calling process' current CPU time.  If the CPU
time is not available or cannot be represented, <code>clock</code> returns the
value <code>(clock_t)(-1)</code>. 
</td></tr>
</table>

</body></html>

