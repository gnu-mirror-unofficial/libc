<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Access%20Modes">Access Modes</a>,
Next:<a rel=next accesskey=n href="Open-time-Flags.html#Open-time%20Flags">Open-time Flags</a>,
Up:<a rel=up accesskey=u href="File-Status-Flags.html#File%20Status%20Flags">File Status Flags</a>
<hr><br>

<h4>File Access Modes</h4>

<p>The file access modes allow a file descriptor to be used for reading,
writing, or both.  (In the GNU system, they can also allow none of these,
and allow execution of the file as a program.)  The access modes are chosen
when the file is opened, and never change.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_RDONLY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for read access. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_WRONLY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for write access. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_RDWR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for both reading and writing. 
</td></tr>
</table>

<p>In the GNU system (and not in other systems), <code>O_RDONLY</code> and
<code>O_WRONLY</code> are independent bits that can be bitwise-ORed together,
and it is valid for either bit to be set or clear.  This means that
<code>O_RDWR</code> is the same as <code>O_RDONLY|O_WRONLY</code>.  A file access
mode of zero is permissible; it allows no operations that do input or
output to the file, but does allow other operations such as
<code>fchmod</code>.  On the GNU system, since "read-only" or "write-only"
is a misnomer, <code>fcntl.h</code> defines additional names for the file
access modes.  These names are preferred when writing GNU-specific code. 
But most programs will want to be portable to other POSIX.1 systems and
should use the POSIX.1 names above instead.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_READ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for reading.  Same as <code>O_RDWR</code>; only defined on GNU. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_WRITE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for reading.  Same as <code>O_WRONLY</code>; only defined on GNU. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_EXEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for executing.  Only defined on GNU. 
</td></tr>
</table>

<p>To determine the file access mode with <code>fcntl</code>, you must extract
the access mode bits from the retrieved file status flags.  In the GNU
system, you can just test the <code>O_READ</code> and <code>O_WRITE</code> bits in
the flags word.  But in other POSIX.1 systems, reading and writing
access modes are not stored as distinct bit flags.  The portable way to
extract the file access mode bits is with <code>O_ACCMODE</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_ACCMODE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro stands for a mask that can be bitwise-ANDed with the file
status flag value to produce a value representing the file access mode. 
The mode will be <code>O_RDONLY</code>, <code>O_WRONLY</code>, or <code>O_RDWR</code>. 
(In the GNU system it could also be zero, and it never includes the
<code>O_EXEC</code> bit.) 
</td></tr>
</table>

</body></html>

