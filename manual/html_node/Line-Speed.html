<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Line%20Speed">Line Speed</a>,
Next:<a rel=next accesskey=n href="Special-Characters.html#Special%20Characters">Special Characters</a>,
Previous:<a rel=previous accesskey=p href="Local-Modes.html#Local%20Modes">Local Modes</a>,
Up:<a rel=up accesskey=u href="Terminal-Modes.html#Terminal%20Modes">Terminal Modes</a>
<hr><br>

<h4>Line Speed</h4>

<p>The terminal line speed tells the computer how fast to read and write
data on the terminal.

<p>If the terminal is connected to a real serial line, the terminal speed
you specify actually controls the line--if it doesn't match the
terminal's own idea of the speed, communication does not work.  Real
serial ports accept only certain standard speeds.  Also, particular
hardware may not support even all the standard speeds.  Specifying a
speed of zero hangs up a dialup connection and turns off modem control
signals.

<p>If the terminal is not a real serial line (for example, if it is a
network connection), then the line speed won't really affect data
transmission speed, but some programs will use it to determine the
amount of padding needed.  It's best to specify a line speed value that
matches the actual speed of the actual terminal, but you can safely
experiment with different values to vary the amount of padding.

<p>There are actually two line speeds for each terminal, one for input and
one for output.  You can set them independently, but most often
terminals use the same speed for both directions.

<p>The speed values are stored in the <code>struct termios</code> structure, but
don't try to access them in the <code>struct termios</code> structure
directly.  Instead, you should use the following functions to read and
store them:

<p>
<table width="100%">
<tr>
<td align="left">speed_t <b>cfgetospeed</b><i> (const struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the output line speed stored in the structure
<code>*<var>termios-p</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">speed_t <b>cfgetispeed</b><i> (const struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the input line speed stored in the structure
<code>*<var>termios-p</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetospeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as the output
speed.  The normal return value is 0; a value of -1
indicates an error.  If <var>speed</var> is not a speed, <code>cfsetospeed</code>
returns -1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetispeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as the input
speed.  The normal return value is 0; a value of -1
indicates an error.  If <var>speed</var> is not a speed, <code>cfsetospeed</code>
returns -1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetspeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as both the
input and output speeds.  The normal return value is 0; a value
of -1 indicates an error.  If <var>speed</var> is not a speed,
<code>cfsetspeed</code> returns -1.  This function is an extension in
4.4 BSD. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>speed_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>speed_t</code> type is an unsigned integer data type used to
represent line speeds. 
</td></tr>
</table>

<p>The functions <code>cfsetospeed</code> and <code>cfsetispeed</code> report errors
only for speed values that the system simply cannot handle.  If you
specify a speed value that is basically acceptable, then those functions
will succeed.  But they do not check that a particular hardware device
can actually support the specified speeds--in fact, they don't know
which device you plan to set the speed for.  If you use <code>tcsetattr</code>
to set the speed of a particular device to a value that it cannot
handle, <code>tcsetattr</code> returns -1.

<p><strong>Portability note:</strong> In the GNU library, the functions above
accept speeds measured in bits per second as input, and return speed
values measured in bits per second.  Other libraries require speeds to
be indicated by special codes.  For POSIX.1 portability, you must use
one of the following symbols to represent the speed; their precise
numeric values are system-dependent, but each name has a fixed meaning:
<code>B110</code> stands for 110 bps, <code>B300</code> for 300 bps, and so on. 
There is no portable way to represent any speed but these, but these are
the only speeds that typical serial lines can support.

<br><pre>B0  B50  B75  B110  B134  B150  B200
B300  B600  B1200  B1800  B2400  B4800
B9600  B19200  B38400  B57600  B115200
B230400  B460800
</pre>

<p>BSD defines two additional speed symbols as aliases: <code>EXTA</code> is an
alias for <code>B19200</code> and <code>EXTB</code> is an alias for <code>B38400</code>. 
These aliases are obsolete.

</body></html>

