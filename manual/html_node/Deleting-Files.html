<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The GNU C Library">
<meta name="generator" content="makeinfo 4.6">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
--></style>
</head>
<body>
<div class="node">
<p>
Node:&nbsp;<a name="Deleting%20Files">Deleting Files</a>,
Next:&nbsp;<a rel="next" accesskey="n" href="Renaming-Files.html#Renaming%20Files">Renaming Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Symbolic-Links.html#Symbolic%20Links">Symbolic Links</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="File-System-Interface.html#File%20System%20Interface">File System Interface</a>
<hr><br>
</div>

<h3 class="section">Deleting Files</h3>

<p>You can delete a file with <code>unlink</code> or <code>remove</code>.

   <p>Deletion actually deletes a file name.  If this is the file's only name,
then the file is deleted as well.  If the file has other remaining names
(see <a href="Hard-Links.html#Hard%20Links">Hard Links</a>), it remains accessible under those names.

<p>
<table width="100%">
<tr>
<td align="left">int <b>unlink</b><i> </i>(<i>const char *</i><var>filename</var><i></i>)<i>
     </i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>unlink</code> function deletes the file name <var>filename</var>.  If
this is a file's sole name, the file itself is also deleted.  (Actually,
if any process has the file open when this happens, deletion is
postponed until all processes have closed the file.)

     <p>The function <code>unlink</code> is declared in the header file <code>unistd.h</code>.

     <p>This function returns <code>0</code> on successful completion, and <code>-1</code>
on error.  In addition to the usual file name errors
(see <a href="File-Name-Errors.html#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions are
defined for this function:

          <dl>
<dt><code>EACCES</code>
          <dd>Write permission is denied for the directory from which the file is to be
removed, or the directory has the sticky bit set and you do not own the file.

          <br><dt><code>EBUSY</code>
          <dd>This error indicates that the file is being used by the system in such a
way that it can't be unlinked.  For example, you might see this error if
the file name specifies the root directory or a mount point for a file
system.

          <br><dt><code>ENOENT</code>
          <dd>The file name to be deleted doesn't exist.

          <br><dt><code>EPERM</code>
          <dd>On some systems <code>unlink</code> cannot be used to delete the name of a
directory, or at least can only be used this way by a privileged user. 
To avoid such problems, use <code>rmdir</code> to delete directories.  (In the
GNU system <code>unlink</code> can never delete the name of a directory.)

          <br><dt><code>EROFS</code>
          <dd>The directory containing the file name to be deleted is on a read-only
file system and can't be modified. 
</dl>
     </td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>rmdir</b><i> </i>(<i>const char *</i><var>filename</var><i></i>)<i>
     </i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rmdir</code> function deletes a directory.  The directory must be
empty before it can be removed; in other words, it can only contain
entries for <code>.</code> and <code>..</code>.

     <p>In most other respects, <code>rmdir</code> behaves like <code>unlink</code>.  There
are two additional <code>errno</code> error conditions defined for
<code>rmdir</code>:

          <dl>
<dt><code>ENOTEMPTY</code>
          <dd><dt><code>EEXIST</code>
          <dd>The directory to be deleted is not empty. 
</dl>

     <p>These two error codes are synonymous; some systems use one, and some use
the other.  The GNU system always uses <code>ENOTEMPTY</code>.

     <p>The prototype for this function is declared in the header file
<code>unistd.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>remove</b><i> </i>(<i>const char *</i><var>filename</var><i></i>)<i>
     </i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the ISO&nbsp;C function to remove a file.  It works like
<code>unlink</code> for files and like <code>rmdir</code> for directories. 
<code>remove</code> is declared in <code>stdio.h</code>. 
</td></tr>
</table>

   </body></html>

