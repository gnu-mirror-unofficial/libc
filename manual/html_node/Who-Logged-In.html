<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Who%20Logged%20In">Who Logged In</a>,
Next:<a rel=next accesskey=n href="User-Accounting-Database.html#User%20Accounting%20Database">User Accounting Database</a>,
Previous:<a rel=previous accesskey=p href="Tips-for-Setuid.html#Tips%20for%20Setuid">Tips for Setuid</a>,
Up:<a rel=up accesskey=u href="Users-and-Groups.html#Users%20and%20Groups">Users and Groups</a>
<hr><br>

<h3>Identifying Who Logged In</h3>

<p>You can use the functions listed in this section to determine the login
name of the user who is running a process, and the name of the user who
logged in the current session.  See also the function <code>getuid</code> and
friends (see <a href="Reading-Persona.html#Reading%20Persona">Reading Persona</a>).  How this information is collected by
the system and how to control/add/remove information from the background
storage is described in <a href="User-Accounting-Database.html#User%20Accounting%20Database">User Accounting Database</a>.

<p>The <code>getlogin</code> function is declared in <code>unistd.h</code>, while
<code>cuserid</code> and <code>L_cuserid</code> are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getlogin</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getlogin</code> function returns a pointer to a string containing the
name of the user logged in on the controlling terminal of the process,
or a null pointer if this information cannot be determined.  The string
is statically allocated and might be overwritten on subsequent calls to
this function or to <code>cuserid</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>cuserid</b><i> (char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>cuserid</code> function returns a pointer to a string containing a
user name associated with the effective ID of the process.  If
<var>string</var> is not a null pointer, it should be an array that can hold
at least <code>L_cuserid</code> characters; the string is returned in this
array.  Otherwise, a pointer to a string in a static area is returned. 
This string is statically allocated and might be overwritten on
subsequent calls to this function or to <code>getlogin</code>.

<p>The use of this function is deprecated since it is marked to be
withdrawn in XPG4.2 and has already been removed from newer revisions of
POSIX.1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>L_cuserid</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An integer constant that indicates how long an array you might need to
store a user name. 
</td></tr>
</table>

<p>These functions let your program identify positively the user who is
running or the user who logged in this session.  (These can differ when
setuid programs are involved; see <a href="Process-Persona.html#Process%20Persona">Process Persona</a>.)  The user cannot
do anything to fool these functions.

<p>For most purposes, it is more useful to use the environment variable
<code>LOGNAME</code> to find out who the user is.  This is more flexible
precisely because the user can set <code>LOGNAME</code> arbitrarily. 
See <a href="Standard-Environment.html#Standard%20Environment">Standard Environment</a>.

</body></html>

