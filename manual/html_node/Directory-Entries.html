<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Directory%20Entries">Directory Entries</a>,
Next:<a rel=next accesskey=n href="Opening-a-Directory.html#Opening%20a%20Directory">Opening a Directory</a>,
Up:<a rel=up accesskey=u href="Accessing-Directories.html#Accessing%20Directories">Accessing Directories</a>
<hr><br>

<h4>Format of a Directory Entry</h4>

<p>This section describes what you find in a single directory entry, as you
might obtain it from a directory stream.  All the symbols are declared
in the header file <code>dirent.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct dirent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to return information about directory
entries.  It contains the following fields:

<dl>
<dt><code>char d_name[]</code>
<dd>This is the null-terminated file name component.  This is the only
field you can count on in all POSIX systems.

<br><dt><code>ino_t d_fileno</code>
<dd>This is the file serial number.  For BSD compatibility, you can also
refer to this member as <code>d_ino</code>.  In the GNU system and most POSIX
systems, for most files this the same as the <code>st_ino</code> member that
<code>stat</code> will return for the file.  See <a href="File-Attributes.html#File%20Attributes">File Attributes</a>.

<br><dt><code>unsigned char d_namlen</code>
<dd>This is the length of the file name, not including the terminating null
character.  Its type is <code>unsigned char</code> because that is the integer
type of the appropriate size

<br><dt><code>unsigned char d_type</code>
<dd>This is the type of the file, possibly unknown.  The following constants
are defined for its value:

<dl>
<dt><code>DT_UNKNOWN</code>
<dd>The type is unknown.  On some systems this is the only value returned.

<br><dt><code>DT_REG</code>
<dd>A regular file.

<br><dt><code>DT_DIR</code>
<dd>A directory.

<br><dt><code>DT_FIFO</code>
<dd>A named pipe, or FIFO.  See <a href="FIFO-Special-Files.html#FIFO%20Special%20Files">FIFO Special Files</a>.

<br><dt><code>DT_SOCK</code>
<dd>A local-domain socket.  
<br><dt><code>DT_CHR</code>
<dd>A character device.

<br><dt><code>DT_BLK</code>
<dd>A block device. 
</dl>

<p>This member is a BSD extension.  The symbol <code>_DIRENT_HAVE_D_TYPE</code>
is defined if this member is available.  On systems where it is used, it
corresponds to the file type bits in the <code>st_mode</code> member of
<code>struct statbuf</code>.  If the value cannot be determine the member
value is DT_UNKNOWN.  These two macros convert between <code>d_type</code>
values and <code>st_mode</code> values:

<p>
<table width="100%">
<tr>
<td align="left">int <b>IFTODT</b><i> (mode_t <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the <code>d_type</code> value corresponding to <var>mode</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">mode_t <b>DTTOIF</b><i> (int <var>dtype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the <code>st_mode</code> value corresponding to <var>dtype</var>. 
</td></tr>
</table>
</dl>

<p>This structure may contain additional members in the future.  Their
availability is always announced in the compilation environment by a
macro names <code>_DIRENT_HAVE_D_<var>xxx</var></code> where <var>xxx</var> is replaced
by the name of the new member.  For instance, the member <code>d_reclen</code>
available on some systems is announced through the macro
<code>_DIRENT_HAVE_D_RECLEN</code>.

<p>When a file has multiple names, each name has its own directory entry. 
The only way you can tell that the directory entries belong to a
single file is that they have the same value for the <code>d_fileno</code>
field.

<p>File attributes such as size, modification times etc., are part of the
file itself, not of any particular directory entry.  See <a href="File-Attributes.html#File%20Attributes">File Attributes</a>. 
</td></tr>
</table>

</body></html>

