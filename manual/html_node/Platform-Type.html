<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Platform%20Type">Platform Type</a>,
Next:<a rel=next accesskey=n href="Filesystem-Handling.html#Filesystem%20Handling">Filesystem Handling</a>,
Previous:<a rel=previous accesskey=p href="Host-Identification.html#Host%20Identification">Host Identification</a>,
Up:<a rel=up accesskey=u href="System-Management.html#System%20Management">System Management</a>
<hr><br>

<h3>Platform Type Identification</h3>

<p>You can use the <code>uname</code> function to find out some information about
the type of computer your program is running on.  This function and the
associated data type are declared in the header file
<code>sys/utsname.h</code>.

<p>As a bonus, <code>uname</code> also gives some information identifying the
particular system your program is running on.  This is the same information
which you can get with functions targetted to this purpose described in
<a href="Host-Identification.html#Host%20Identification">Host Identification</a>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct utsname</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utsname</code> structure is used to hold information returned
by the <code>uname</code> function.  It has the following members:

<dl>
<dt><code>char sysname[]</code>
<dd>This is the name of the operating system in use.

<br><dt><code>char release[]</code>
<dd>This is the current release level of the operating system implementation.

<br><dt><code>char version[]</code>
<dd>This is the current version level within the release of the operating
system.

<br><dt><code>char machine[]</code>
<dd>This is a description of the type of hardware that is in use.

<p>Some systems provide a mechanism to interrogate the kernel directly for
this information.  On systems without such a mechanism, the GNU C
library fills in this field based on the configuration name that was
specified when building and installing the library.

<p>GNU uses a three-part name to describe a system configuration; the three
parts are <var>cpu</var>, <var>manufacturer</var> and <var>system-type</var>, and they
are separated with dashes.  Any possible combination of three names is
potentially meaningful, but most such combinations are meaningless in
practice and even the meaningful ones are not necessarily supported by
any particular GNU program.

<p>Since the value in <code>machine</code> is supposed to describe just the
hardware, it consists of the first two parts of the configuration name:
<code><var>cpu</var>-<var>manufacturer</var></code>.  For example, it might be one of these:

<blockquote>
<code>"sparc-sun"</code>,
<code>"i386-<var>anything</var>"</code>,
<code>"m68k-hp"</code>,
<code>"m68k-sony"</code>,
<code>"m68k-sun"</code>,
<code>"mips-dec"</code>
</blockquote>

<br><dt><code>char nodename[]</code>
<dd>This is the host name of this particular computer.  In the GNU C
library, the value is the same as that returned by <code>gethostname</code>;
see <a href="Host-Identification.html#Host%20Identification">Host Identification</a>.

<p>gethostname() is implemented with a call to uname().

<br><dt><code>char domainname[]</code>
<dd>This is the NIS or YP domain name.  It is the same value returned by
<code>getdomainname</code>; see <a href="Host-Identification.html#Host%20Identification">Host Identification</a>.  This element
is a relatively recent invention and use of it is not as portable as
use of the rest of the structure.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>uname</b><i> (struct utsname *<var>info</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>uname</code> function fills in the structure pointed to by
<var>info</var> with information about the operating system and host machine. 
A non-negative value indicates that the data was successfully stored.

<p><code>-1</code> as the value indicates an error.  The only error possible is
<code>EFAULT</code>, which we normally don't mention as it is always a
possibility. 
</td></tr>
</table>

</body></html>

