<html lang="en">
<head>
<title>The GNU C Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="The GNU C Library">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<h1>The GNU C Library</h1>
<p><hr>
Node:<a name="Top">Top</a>,
Next:<a rel=next accesskey=n href="#Introduction">Introduction</a>,
Previous:<a rel=previous accesskey=p href="#dir">(dir)</a>,
Up:<a rel=up accesskey=u href="#dir">(dir)</a>
<br>

<h2>Main Menu</h2>

<p>This is Edition 0.10, last updated 2001-07-06, of
<cite>The GNU C Library Reference Manual</cite>, for Version 2.2.x
of the GNU C Library.

<ul>
<li><a accesskey=1 href="#Introduction">Introduction</a>:                  Purpose of the GNU C Library. 
<li><a accesskey=2 href="#Error%20Reporting">Error Reporting</a>:               How library functions report errors. 
<li><a accesskey=3 href="#Memory">Memory</a>:                        Allocating virtual memory and controlling
                                   paging. 
<li><a accesskey=4 href="#Character%20Handling">Character Handling</a>:            Character testing and conversion functions. 
<li><a accesskey=5 href="#String%20and%20Array%20Utilities">String and Array Utilities</a>:    Utilities for copying and comparing strings
                                   and arrays. 
<li><a accesskey=6 href="#Character%20Set%20Handling">Character Set Handling</a>:        Support for extended character sets. 
<li><a accesskey=7 href="#Locales">Locales</a>:                       The country and language can affect the
                                   behavior of library functions. 
<li><a accesskey=8 href="#Message%20Translation">Message Translation</a>:           How to make the program speak the user's
                                   language. 
<li><a accesskey=9 href="#Searching%20and%20Sorting">Searching and Sorting</a>:         General searching and sorting functions. 
<li><a href="#Pattern%20Matching">Pattern Matching</a>:              Matching shell ``globs'' and regular
                                   expressions. 
<li><a href="#I%2fO%20Overview">I/O Overview</a>:                  Introduction to the I/O facilities. 
<li><a href="#I%2fO%20on%20Streams">I/O on Streams</a>:                High-level, portable I/O facilities. 
<li><a href="#Low-Level%20I%2fO">Low-Level I/O</a>:                 Low-level, less portable I/O. 
<li><a href="#File%20System%20Interface">File System Interface</a>:         Functions for manipulating files. 
<li><a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>:               A simple interprocess communication
                                   mechanism. 
<li><a href="#Sockets">Sockets</a>:                       A more complicated IPC mechanism, with
                                   networking support. 
<li><a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>:  How to change the characteristics of a
                                   terminal device. 
<li><a href="#Syslog">Syslog</a>:                        System logging and messaging. 
<li><a href="#Mathematics">Mathematics</a>:                   Math functions, useful constants, random
                                   numbers. 
<li><a href="#Arithmetic">Arithmetic</a>:                    Low level arithmetic functions. 
<li><a href="#Date%20and%20Time">Date and Time</a>:                 Functions for getting the date and time and
                                   formatting them nicely. 
<li><a href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>:  Functions for examining resource usage and
                                   getting and setting limits. 
<li><a href="#Non-Local%20Exits">Non-Local Exits</a>:               Jumping out of nested function calls. 
<li><a href="#Signal%20Handling">Signal Handling</a>:               How to send, block, and handle signals. 
<li><a href="#Program%20Basics">Program Basics</a>:                Writing the beginning and end of your
                                   program. 
<li><a href="#Processes">Processes</a>:                     How to create processes and run other
                                   programs. 
<li><a href="#Job%20Control">Job Control</a>:                   All about process groups and sessions. 
<li><a href="#Name%20Service%20Switch">Name Service Switch</a>:           Accessing system databases. 
<li><a href="#Users%20and%20Groups">Users and Groups</a>:              How users are identified and classified. 
<li><a href="#System%20Management">System Management</a>:             Controlling the system and getting
                                   information about it. 
<li><a href="#System%20Configuration">System Configuration</a>:          Parameters describing operating system
                                   limits. 
<li><a href="#Cryptographic%20Functions">Cryptographic Functions</a>:       DES encryption and password handling. 
<li><a href="#Debugging%20Support">Debugging Support</a>:             Functions to help debugging applications..

<p>Appendices

</p><li><a href="#Language%20Features">Language Features</a>:             C language features provided by the library. 
<li><a href="#Library%20Summary">Library Summary</a>:               A summary showing the syntax, header file,
                                   and derivation of each library feature. 
<li><a href="#Installation">Installation</a>:                  How to install the GNU C library. 
<li><a href="#Maintenance">Maintenance</a>:                   How to enhance and port the GNU C Library. 
<li><a href="#Contributors">Contributors</a>:                  Who wrote what parts of the GNU C library. 
<li><a href="#Free%20Manuals">Free Manuals</a>: 		 Free Software Needs Free Documentation. 
<li><a href="#Copying">Copying</a>:                       The GNU Lesser General Public License says
                                  how you can copy and share the GNU C Library. 
<li><a href="#Documentation%20License">Documentation License</a>:         This manual is under the GNU Free
                                  Documentation License.

<p>Indices

</p><li><a href="#Concept%20Index">Concept Index</a>:                 Index of concepts and names. 
<li><a href="#Type%20Index">Type Index</a>:                    Index of types and type qualifiers. 
<li><a href="#Function%20Index">Function Index</a>:                Index of functions and function-like macros. 
<li><a href="#Variable%20Index">Variable Index</a>:                Index of variables and variable-like macros. 
<li><a href="#File%20Index">File Index</a>:                    Index of programs and files.

<p>--- The Detailed Node Listing ---

<p>Introduction

</p><li><a href="#Getting%20Started">Getting Started</a>:              What this manual is for and how to use it. 
<li><a href="#Standards%20and%20Portability">Standards and Portability</a>:    Standards and sources upon which the GNU
                                 C library is based. 
<li><a href="#Using%20the%20Library">Using the Library</a>:            Some practical uses for the library. 
<li><a href="#Roadmap%20to%20the%20Manual">Roadmap to the Manual</a>:        Overview of the remaining chapters in
                                 this manual.

<p>Standards and Portability

</p><li><a href="#ISO%20C">ISO C</a>:                        The international standard for the C
                                 programming language. 
<li><a href="#POSIX">POSIX</a>:                        The ISO/IEC 9945 (aka IEEE 1003) standards
                                 for operating systems. 
<li><a href="#Berkeley%20Unix">Berkeley Unix</a>:                BSD and SunOS. 
<li><a href="#SVID">SVID</a>:                         The System V Interface Description. 
<li><a href="#XPG">XPG</a>:                          The X/Open Portability Guide.

<p>Using the Library

</p><li><a href="#Header%20Files">Header Files</a>:                 How to include the header files in your
                                 programs. 
<li><a href="#Macro%20Definitions">Macro Definitions</a>:            Some functions in the library may really
                                 be implemented as macros. 
<li><a href="#Reserved%20Names">Reserved Names</a>:               The C standard reserves some names for
                                 the library, and some for users. 
<li><a href="#Feature%20Test%20Macros">Feature Test Macros</a>:          How to control what names are defined.

<p>Error Reporting

</p><li><a href="#Checking%20for%20Errors">Checking for Errors</a>:          How errors are reported by library functions. 
<li><a href="#Error%20Codes">Error Codes</a>:                  Error code macros; all of these expand
                                 into integer constant values. 
<li><a href="#Error%20Messages">Error Messages</a>:               Mapping error codes onto error messages.

<p>Memory

</p><li><a href="#Memory%20Concepts">Memory Concepts</a>:              An introduction to concepts and terminology. 
<li><a href="#Memory%20Allocation">Memory Allocation</a>:            Allocating storage for your program data
<li><a href="#Locking%20Pages">Locking Pages</a>:                Preventing page faults
<li><a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>:    <code>brk</code>, <code>sbrk</code>

<p>Memory Allocation

</p><li><a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>:      How to get different kinds of allocation in C. 
<li><a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>:     The <code>malloc</code> facility allows fully general
		 		 dynamic allocation. 
<li><a href="#Allocation%20Debugging">Allocation Debugging</a>:         Finding memory leaks and not freed memory. 
<li><a href="#Obstacks">Obstacks</a>:                     Obstacks are less general than malloc
				 but more efficient and convenient. 
<li><a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>:      Allocation of variable-sized blocks
				 of automatic storage that are freed when the
				 calling function returns.

<p>Unconstrained Allocation

</p><li><a href="#Basic%20Allocation">Basic Allocation</a>:             Simple use of <code>malloc</code>. 
<li><a href="#Malloc%20Examples">Malloc Examples</a>:              Examples of <code>malloc</code>.  <code>xmalloc</code>. 
<li><a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>:         Use <code>free</code> to free a block you
				 got with <code>malloc</code>. 
<li><a href="#Changing%20Block%20Size">Changing Block Size</a>:          Use <code>realloc</code> to make a block
				 bigger or smaller. 
<li><a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>:     Use <code>calloc</code> to allocate a
				 block and clear it. 
<li><a href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>:        Efficiency considerations in use of
				 these functions. 
<li><a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>:        Allocating specially aligned memory. 
<li><a href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>:    Use <code>mallopt</code> to adjust allocation
                                 parameters. 
<li><a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>:    Automatic checking for errors. 
<li><a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>:             You can use these hooks for debugging
				 programs that use <code>malloc</code>. 
<li><a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>:         Getting information about how much
				 memory your program is using. 
<li><a href="#Summary%20of%20Malloc">Summary of Malloc</a>:            Summary of <code>malloc</code> and related functions.

<p>Allocation Debugging

</p><li><a href="#Tracing%20malloc">Tracing malloc</a>:                How to install the tracing functionality. 
<li><a href="#Using%20the%20Memory%20Debugger">Using the Memory Debugger</a>:     Example programs excerpts. 
<li><a href="#Tips%20for%20the%20Memory%20Debugger">Tips for the Memory Debugger</a>:  Some more or less clever ideas. 
<li><a href="#Interpreting%20the%20traces">Interpreting the traces</a>:       What do all these lines mean?

<p>Obstacks

</p><li><a href="#Creating%20Obstacks">Creating Obstacks</a>: 		How to declare an obstack in your program. 
<li><a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>: 	Preparations needed before you can
				 use obstacks. 
<li><a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>:     Allocating objects in an obstack. 
<li><a href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>:      Freeing objects in an obstack. 
<li><a href="#Obstack%20Functions">Obstack Functions</a>: 		The obstack functions are both
				 functions and macros. 
<li><a href="#Growing%20Objects">Growing Objects</a>:              Making an object bigger by stages. 
<li><a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>: 		Extra-high-efficiency (though more
				 complicated) growing objects. 
<li><a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>:         Inquiries about the status of an obstack. 
<li><a href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>:      Controlling alignment of objects in obstacks. 
<li><a href="#Obstack%20Chunks">Obstack Chunks</a>:               How obstacks obtain and release chunks;
				 efficiency considerations. 
<li><a href="#Summary%20of%20Obstacks">Summary of Obstacks</a>:

<p>Variable Size Automatic

</p><li><a href="#Alloca%20Example">Alloca Example</a>:               Example of using <code>alloca</code>. 
<li><a href="#Advantages%20of%20Alloca">Advantages of Alloca</a>:         Reasons to use <code>alloca</code>. 
<li><a href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>:      Reasons to avoid <code>alloca</code>. 
<li><a href="#GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>:   Only in GNU C, here is an alternative
				 method of allocating dynamically and
				 freeing automatically.

<p>Locking Pages

</p><li><a href="#Why%20Lock%20Pages">Why Lock Pages</a>:                 Reasons to read this section. 
<li><a href="#Locked%20Memory%20Details">Locked Memory Details</a>:          Everything you need to know locked
                                    memory
<li><a href="#Page%20Lock%20Functions">Page Lock Functions</a>:            Here's how to do it.

<p>Character Handling

</p><li><a href="#Classification%20of%20Characters">Classification of Characters</a>:        Testing whether characters are
			                letters, digits, punctuation, etc.

<p>
</p><li><a href="#Case%20Conversion">Case Conversion</a>:                     Case mapping, and the like. 
<li><a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>:   Character class determination for
                                        wide characters. 
<li><a href="#Using%20Wide%20Char%20Classes">Using Wide Char Classes</a>:             Notes on using the wide character
                                        classes. 
<li><a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>:      Mapping of wide characters.

<p>String and Array Utilities

</p><li><a href="#Representation%20of%20Strings">Representation of Strings</a>:    Introduction to basic concepts. 
<li><a href="#String%2fArray%20Conventions">String/Array Conventions</a>:     Whether to use a string function or an
				 arbitrary array function. 
<li><a href="#String%20Length">String Length</a>:                Determining the length of a string. 
<li><a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>:    Functions to copy the contents of strings
				 and arrays. 
<li><a href="#String%2fArray%20Comparison">String/Array Comparison</a>:      Functions for byte-wise and character-wise
				 comparison. 
<li><a href="#Collation%20Functions">Collation Functions</a>:          Functions for collating strings. 
<li><a href="#Search%20Functions">Search Functions</a>:             Searching for a specific element or substring. 
<li><a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>:   Splitting a string into tokens by looking
				 for delimiters. 
<li><a href="#strfry">strfry</a>:                       Function for flash-cooking a string. 
<li><a href="#Trivial%20Encryption">Trivial Encryption</a>:           Obscuring data. 
<li><a href="#Encode%20Binary%20Data">Encode Binary Data</a>:           Encoding and Decoding of Binary Data. 
<li><a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>:        Null-separated string vectors.

<p>Argz and Envz Vectors

</p><li><a href="#Argz%20Functions">Argz Functions</a>:               Operations on argz vectors. 
<li><a href="#Envz%20Functions">Envz Functions</a>:               Additional operations on environment vectors.

<p>Character Set Handling

</p><li><a href="#Extended%20Char%20Intro">Extended Char Intro</a>:               Introduction to Extended Characters. 
<li><a href="#Charset%20Function%20Overview">Charset Function Overview</a>:         Overview about Character Handling
                                      Functions. 
<li><a href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>:  Restartable multibyte conversion
                                      Functions. 
<li><a href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>:          Non-reentrant Conversion Function. 
<li><a href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>:        Generic Charset Conversion.

<p>Restartable multibyte conversion

</p><li><a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>:      Selecting the conversion and its properties. 
<li><a href="#Keeping%20the%20state">Keeping the state</a>:             Representing the state of the conversion. 
<li><a href="#Converting%20a%20Character">Converting a Character</a>:        Converting Single Characters. 
<li><a href="#Converting%20Strings">Converting Strings</a>:            Converting Multibyte and Wide Character
                                  Strings. 
<li><a href="#Multibyte%20Conversion%20Example">Multibyte Conversion Example</a>:  A Complete Multibyte Conversion Example.

<p>Non-reentrant Conversion

</p><li><a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>:   Non-reentrant Conversion of Single
                                         Characters. 
<li><a href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>:      Non-reentrant Conversion of Strings. 
<li><a href="#Shift%20State">Shift State</a>:                          States in Non-reentrant Functions.

<p>Generic Charset Conversion

</p><li><a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>:     Generic Character Set Conversion Interface. 
<li><a href="#iconv%20Examples">iconv Examples</a>:                   A complete <code>iconv</code> example. 
<li><a href="#Other%20iconv%20Implementations">Other iconv Implementations</a>:      Some Details about other <code>iconv</code>
                                     Implementations. 
<li><a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>:       The <code>iconv</code> Implementation in the GNU C
                                     library.

<p>Locales

</p><li><a href="#Effects%20of%20Locale">Effects of Locale</a>:            Actions affected by the choice of
                                 locale. 
<li><a href="#Choosing%20Locale">Choosing Locale</a>:              How the user specifies a locale. 
<li><a href="#Locale%20Categories">Locale Categories</a>:            Different purposes for which you can
                                 select a locale. 
<li><a href="#Setting%20the%20Locale">Setting the Locale</a>:           How a program specifies the locale
                                 with library functions. 
<li><a href="#Standard%20Locales">Standard Locales</a>:             Locale names available on all systems. 
<li><a href="#Locale%20Information">Locale Information</a>:           How to access the information for the locale. 
<li><a href="#Formatting%20Numbers">Formatting Numbers</a>:           A dedicated function to format numbers. 
<li><a href="#Yes-or-No%20Questions">Yes-or-No Questions</a>:          Check a Response against the locale.

<p>Locale Information

</p><li><a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>:    ISO C's <code>localeconv</code>. 
<li><a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>:       X/Open's <code>nl_langinfo</code>.

<p>The Lame Way to Locale Data

</p><li><a href="#General%20Numeric">General Numeric</a>:              Parameters for formatting numbers and
                                 currency amounts. 
<li><a href="#Currency%20Symbol">Currency Symbol</a>:              How to print the symbol that identifies an
                                 amount of money (e.g. <code>$</code>). 
<li><a href="#Sign%20of%20Money%20Amount">Sign of Money Amount</a>:         How to print the (positive or negative) sign
                                 for a monetary amount, if one exists.

<p>Message Translation

</p><li><a href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>:   The <code>catgets</code> family of functions. 
<li><a href="#The%20Uniforum%20approach">The Uniforum approach</a>:          The <code>gettext</code> family of functions.

<p>Message catalogs a la X/Open

</p><li><a href="#The%20catgets%20Functions">The catgets Functions</a>:       The <code>catgets</code> function family. 
<li><a href="#The%20message%20catalog%20files">The message catalog files</a>:   Format of the message catalog files. 
<li><a href="#The%20gencat%20program">The gencat program</a>:          How to generate message catalogs files which
                                can be used by the functions. 
<li><a href="#Common%20Usage">Common Usage</a>:                How to use the <code>catgets</code> interface.

<p>The Uniforum approach

</p><li><a href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>:   The <code>gettext</code> family of functions. 
<li><a href="#Helper%20programs%20for%20gettext">Helper programs for gettext</a>:     Programs to handle message catalogs
                                    for <code>gettext</code>.

<p>Message catalogs with gettext

</p><li><a href="#Translation%20with%20gettext">Translation with gettext</a>:        What has to be done to translate a message. 
<li><a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>:        How to determine which catalog to be used. 
<li><a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>:      Additional functions for more complicated
                                    situations. 
<li><a href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>:   How to specify the output character set
                                    <code>gettext</code> uses. 
<li><a href="#GUI%20program%20problems">GUI program problems</a>:            How to use <code>gettext</code> in GUI programs. 
<li><a href="#Using%20gettextized%20software">Using gettextized software</a>:      The possibilities of the user to influence
                                    the way <code>gettext</code> works.

<p>Searching and Sorting

</p><li><a href="#Comparison%20Functions">Comparison Functions</a>:         Defining how to compare two objects. 
				 Since the sort and search facilities
                                 are general, you have to specify the
                                 ordering. 
<li><a href="#Array%20Search%20Function">Array Search Function</a>:        The <code>bsearch</code> function. 
<li><a href="#Array%20Sort%20Function">Array Sort Function</a>:          The <code>qsort</code> function. 
<li><a href="#Search%2fSort%20Example">Search/Sort Example</a>:          An example program. 
<li><a href="#Hash%20Search%20Function">Hash Search Function</a>:         The <code>hsearch</code> function. 
<li><a href="#Tree%20Search%20Function">Tree Search Function</a>:         The <code>tsearch</code> function.

<p>Pattern Matching

</p><li><a href="#Wildcard%20Matching">Wildcard Matching</a>:     Matching a wildcard pattern against a single string. 
<li><a href="#Globbing">Globbing</a>:              Finding the files that match a wildcard pattern. 
<li><a href="#Regular%20Expressions">Regular Expressions</a>:   Matching regular expressions against strings. 
<li><a href="#Word%20Expansion">Word Expansion</a>:        Expanding shell variables, nested commands,
			    arithmetic, and wildcards. 
			    This is what the shell does with shell commands.

<p>Globbing

</p><li><a href="#Calling%20Glob">Calling Glob</a>:              Basic use of <code>glob</code>. 
<li><a href="#Flags%20for%20Globbing">Flags for Globbing</a>:        Flags that enable various options in <code>glob</code>. 
<li><a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>:   GNU specific extensions to <code>glob</code>.

<p>Regular Expressions

</p><li><a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>:     Using <code>regcomp</code> to prepare to match. 
<li><a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>:      Syntax variations for <code>regcomp</code>. 
<li><a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>:       Using <code>regexec</code> to match the compiled
				   pattern that you get from <code>regcomp</code>. 
<li><a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>:        Finding which parts of the string were matched. 
<li><a href="#Subexpression%20Complications">Subexpression Complications</a>:  Find points of which parts were matched. 
<li><a href="#Regexp%20Cleanup">Regexp Cleanup</a>: 		Freeing storage; reporting errors.

<p>Word Expansion

</p><li><a href="#Expansion%20Stages">Expansion Stages</a>:             What word expansion does to a string. 
<li><a href="#Calling%20Wordexp">Calling Wordexp</a>:              How to call <code>wordexp</code>. 
<li><a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>:            Options you can enable in <code>wordexp</code>. 
<li><a href="#Wordexp%20Example">Wordexp Example</a>:              A sample program that does word expansion. 
<li><a href="#Tilde%20Expansion">Tilde Expansion</a>:              Details of how tilde expansion works. 
<li><a href="#Variable%20Substitution">Variable Substitution</a>:        Different types of variable substitution.

<p>I/O Overview

</p><li><a href="#I%2fO%20Concepts">I/O Concepts</a>:        Some basic information and terminology. 
<li><a href="#File%20Names">File Names</a>:          How to refer to a file.

<p>I/O Concepts

</p><li><a href="#Streams%20and%20File%20Descriptors">Streams and File Descriptors</a>:     The GNU Library provides two ways
			             to access the contents of files. 
<li><a href="#File%20Position">File Position</a>:                    The number of bytes from the
                                     beginning of the file.

<p>File Names

</p><li><a href="#Directories">Directories</a>:                  Directories contain entries for files. 
<li><a href="#File%20Name%20Resolution">File Name Resolution</a>:         A file name specifies how to look up a file. 
<li><a href="#File%20Name%20Errors">File Name Errors</a>:             Error conditions relating to file names. 
<li><a href="#File%20Name%20Portability">File Name Portability</a>:        File name portability and syntax issues.

<p>I/O on Streams

</p><li><a href="#Streams">Streams</a>:                      About the data type representing a stream. 
<li><a href="#Standard%20Streams">Standard Streams</a>:             Streams to the standard input and output
                                 devices are created for you. 
<li><a href="#Opening%20Streams">Opening Streams</a>:              How to create a stream to talk to a file. 
<li><a href="#Closing%20Streams">Closing Streams</a>:              Close a stream when you are finished with it. 
<li><a href="#Streams%20and%20Threads">Streams and Threads</a>:          Issues with streams in threaded programs. 
<li><a href="#Streams%20and%20I18N">Streams and I18N</a>:             Streams in internationalized applications. 
<li><a href="#Simple%20Output">Simple Output</a>:                Unformatted output by characters and lines. 
<li><a href="#Character%20Input">Character Input</a>:              Unformatted input by characters and words. 
<li><a href="#Line%20Input">Line Input</a>:                   Reading a line or a record from a stream. 
<li><a href="#Unreading">Unreading</a>:                    Peeking ahead/pushing back input just read. 
<li><a href="#Block%20Input%2fOutput">Block Input/Output</a>:           Input and output operations on blocks of data. 
<li><a href="#Formatted%20Output">Formatted Output</a>:             <code>printf</code> and related functions. 
<li><a href="#Customizing%20Printf">Customizing Printf</a>:           You can define new conversion specifiers for
                                 <code>printf</code> and friends. 
<li><a href="#Formatted%20Input">Formatted Input</a>:              <code>scanf</code> and related functions. 
<li><a href="#EOF%20and%20Errors">EOF and Errors</a>:               How you can tell if an I/O error happens. 
<li><a href="#Error%20Recovery">Error Recovery</a>: 		What you can do about errors. 
<li><a href="#Binary%20Streams">Binary Streams</a>:               Some systems distinguish between text files
                                 and binary files. 
<li><a href="#File%20Positioning">File Positioning</a>:             About random-access streams. 
<li><a href="#Portable%20Positioning">Portable Positioning</a>:         Random access on peculiar ISO C systems. 
<li><a href="#Stream%20Buffering">Stream Buffering</a>:             How to control buffering of streams. 
<li><a href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>:       Streams that do not necessarily correspond
                                 to an open file. 
<li><a href="#Formatted%20Messages">Formatted Messages</a>:           Print strictly formatted messages.

<p>Unreading

</p><li><a href="#Unreading%20Idea">Unreading Idea</a>:               An explanation of unreading with pictures. 
<li><a href="#How%20Unread">How Unread</a>:                   How to call <code>ungetc</code> to do unreading.

<p>Formatted Output

</p><li><a href="#Formatted%20Output%20Basics">Formatted Output Basics</a>:      Some examples to get you started. 
<li><a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>:     General syntax of conversion
                                 specifications. 
<li><a href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>:  Summary of output conversions and
                                 what they do. 
<li><a href="#Integer%20Conversions">Integer Conversions</a>:          Details about formatting of integers. 
<li><a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>:   Details about formatting of
                                 floating-point numbers. 
<li><a href="#Other%20Output%20Conversions">Other Output Conversions</a>:     Details about formatting of strings,
                                 characters, pointers, and the like. 
<li><a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>:   Descriptions of the actual functions. 
<li><a href="#Dynamic%20Output">Dynamic Output</a>: 		Functions that allocate memory for the output. 
<li><a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>:    <code>vprintf</code> and friends. 
<li><a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>:    What kinds of args does a given template
                                 call for? 
<li><a href="#Example%20of%20Parsing">Example of Parsing</a>:           Sample program using <code>parse_printf_format</code>.

<p>Customizing Printf

</p><li><a href="#Registering%20New%20Conversions">Registering New Conversions</a>:          Using <code>register_printf_function</code>
                                         to register a new output conversion. 
<li><a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>:         The handler must be able to get
                                         the options specified in the
                                         template when it is called. 
<li><a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>:          Defining the handler and arginfo
                                         functions that are passed as arguments
                                         to <code>register_printf_function</code>. 
<li><a href="#Printf%20Extension%20Example">Printf Extension Example</a>:             How to define a <code>printf</code>
                                         handler function. 
<li><a href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>:           Predefined <code>printf</code> handlers.

<p>Formatted Input

</p><li><a href="#Formatted%20Input%20Basics">Formatted Input Basics</a>:       Some basics to get you started. 
<li><a href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>:      Syntax of conversion specifications. 
<li><a href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>:   Summary of input conversions and what they do. 
<li><a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>:    Details of conversions for reading numbers. 
<li><a href="#String%20Input%20Conversions">String Input Conversions</a>:     Details of conversions for reading strings. 
<li><a href="#Dynamic%20String%20Input">Dynamic String Input</a>: 	String conversions that <code>malloc</code> the buffer. 
<li><a href="#Other%20Input%20Conversions">Other Input Conversions</a>:      Details of miscellaneous other conversions. 
<li><a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>:    Descriptions of the actual functions. 
<li><a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>:     <code>vscanf</code> and friends.

<p>Stream Buffering

</p><li><a href="#Buffering%20Concepts">Buffering Concepts</a>:           Terminology is defined here. 
<li><a href="#Flushing%20Buffers">Flushing Buffers</a>:             How to ensure that output buffers are flushed. 
<li><a href="#Controlling%20Buffering">Controlling Buffering</a>:        How to specify what kind of buffering to use.

<p>Other Kinds of Streams

</p><li><a href="#String%20Streams">String Streams</a>:               Streams that get data from or put data in
                                 a string or memory buffer. 
<li><a href="#Obstack%20Streams">Obstack Streams</a>: 		Streams that store data in an obstack. 
<li><a href="#Custom%20Streams">Custom Streams</a>:               Defining your own streams with an arbitrary
                                 input data source and/or output data sink.

<p>Custom Streams

</p><li><a href="#Streams%20and%20Cookies">Streams and Cookies</a>:          The <dfn>cookie</dfn> records where to fetch or
                                 store data that is read or written. 
<li><a href="#Hook%20Functions">Hook Functions</a>:               How you should define the four <dfn>hook
                                 functions</dfn> that a custom stream needs.

<p>Formatted Messages

</p><li><a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>:    The <code>fmtmsg</code> function. 
<li><a href="#Adding%20Severity%20Classes">Adding Severity Classes</a>:        Add more severity classes. 
<li><a href="#Example">Example</a>:                        How to use <code>fmtmsg</code> and <code>addseverity</code>.

<p>Low-Level I/O

</p><li><a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>:            How to open and close file
                                         descriptors. 
<li><a href="#I%2fO%20Primitives">I/O Primitives</a>:                       Reading and writing data. 
<li><a href="#File%20Position%20Primitive">File Position Primitive</a>:              Setting a descriptor's file
                                         position. 
<li><a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>:              Converting descriptor to stream
                                         or vice-versa. 
<li><a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>:        Precautions needed if you use both
                                         descriptors and streams. 
<li><a href="#Scatter-Gather">Scatter-Gather</a>:                       Fast I/O to discontinuous buffers. 
<li><a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>:                    Using files like memory. 
<li><a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>:                      How to check for input or output
					 on multiple file descriptors. 
<li><a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>:                    Making sure all I/O actions completed. 
<li><a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>:                     Perform I/O in parallel. 
<li><a href="#Control%20Operations">Control Operations</a>:                   Various other operations on file
					 descriptors. 
<li><a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>:              Fcntl commands for duplicating
                                         file descriptors. 
<li><a href="#Descriptor%20Flags">Descriptor Flags</a>:                     Fcntl commands for manipulating
                                         flags associated with file
                                         descriptors. 
<li><a href="#File%20Status%20Flags">File Status Flags</a>:                    Fcntl commands for manipulating
                                         flags associated with open files. 
<li><a href="#File%20Locks">File Locks</a>:                           Fcntl commands for implementing
                                         file locking. 
<li><a href="#Interrupt%20Input">Interrupt Input</a>:                      Getting an asynchronous signal when
                                         input arrives. 
<li><a href="#IOCTLs">IOCTLs</a>:                               Generic I/O Control operations.

<p>Stream/Descriptor Precautions

</p><li><a href="#Linked%20Channels">Linked Channels</a>: 	   Dealing with channels sharing a file position. 
<li><a href="#Independent%20Channels">Independent Channels</a>:    Dealing with separately opened, unlinked channels. 
<li><a href="#Cleaning%20Streams">Cleaning Streams</a>: 	   Cleaning a stream makes it safe to use
                            another channel.

<p>Asynchronous I/O

</p><li><a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>:     Asynchronous Read and Write Operations. 
<li><a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>:      Getting the Status of AIO Operations. 
<li><a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>:  Getting into a consistent state. 
<li><a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>:         Cancellation of AIO Operations. 
<li><a href="#Configuration%20of%20AIO">Configuration of AIO</a>:          How to optimize the AIO implementation.

<p>File Status Flags

</p><li><a href="#Access%20Modes">Access Modes</a>:                 Whether the descriptor can read or write. 
<li><a href="#Open-time%20Flags">Open-time Flags</a>:              Details of <code>open</code>. 
<li><a href="#Operating%20Modes">Operating Modes</a>:              Special modes to control I/O operations. 
<li><a href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>:    Fetching and changing these flags.

<p>File System Interface

</p><li><a href="#Working%20Directory">Working Directory</a>:            This is used to resolve relative
				 file names. 
<li><a href="#Accessing%20Directories">Accessing Directories</a>:        Finding out what files a directory
				 contains. 
<li><a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>:  Apply actions to all files or a selectable
                                 subset of a directory hierarchy. 
<li><a href="#Hard%20Links">Hard Links</a>:                   Adding alternate names to a file. 
<li><a href="#Symbolic%20Links">Symbolic Links</a>:               A file that ``points to'' a file name. 
<li><a href="#Deleting%20Files">Deleting Files</a>:               How to delete a file, and what that means. 
<li><a href="#Renaming%20Files">Renaming Files</a>:               Changing a file's name. 
<li><a href="#Creating%20Directories">Creating Directories</a>:         A system call just for creating a directory. 
<li><a href="#File%20Attributes">File Attributes</a>:              Attributes of individual files. 
<li><a href="#Making%20Special%20Files">Making Special Files</a>:         How to create special files. 
<li><a href="#Temporary%20Files">Temporary Files</a>:              Naming and creating temporary files.

<p>Accessing Directories

</p><li><a href="#Directory%20Entries">Directory Entries</a>:            Format of one directory entry. 
<li><a href="#Opening%20a%20Directory">Opening a Directory</a>:          How to open a directory stream. 
<li><a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>:    How to read directory entries from the stream. 
<li><a href="#Simple%20Directory%20Lister">Simple Directory Lister</a>:      A very simple directory listing program. 
<li><a href="#Random%20Access%20Directory">Random Access Directory</a>:      Rereading part of the directory
                                 already read with the same stream. 
<li><a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>:   Get entries for user selected subset of
                                 contents in given directory. 
<li><a href="#Simple%20Directory%20Lister%20Mark%20II">Simple Directory Lister Mark II</a>:   Revised version of the program.

<p>File Attributes

</p><li><a href="#Attribute%20Meanings">Attribute Meanings</a>:           The names of the file attributes,
                                 and what their values mean. 
<li><a href="#Reading%20Attributes">Reading Attributes</a>:           How to read the attributes of a file. 
<li><a href="#Testing%20File%20Type">Testing File Type</a>:            Distinguishing ordinary files,
                                 directories, links... 
<li><a href="#File%20Owner">File Owner</a>:                   How ownership for new files is determined,
			         and how to change it. 
<li><a href="#Permission%20Bits">Permission Bits</a>:              How information about a file's access
                                 mode is stored. 
<li><a href="#Access%20Permission">Access Permission</a>:            How the system decides who can access a file. 
<li><a href="#Setting%20Permissions">Setting Permissions</a>:          How permissions for new files are assigned,
			         and how to change them. 
<li><a href="#Testing%20File%20Access">Testing File Access</a>:          How to find out if your process can
                                 access a file. 
<li><a href="#File%20Times">File Times</a>:                   About the time attributes of a file. 
<li><a href="#File%20Size">File Size</a>: 			Manually changing the size of a file.

<p>Pipes and FIFOs

</p><li><a href="#Creating%20a%20Pipe">Creating a Pipe</a>:              Making a pipe with the <code>pipe</code> function. 
<li><a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>:         Using a pipe to communicate with a
				 child process. 
<li><a href="#FIFO%20Special%20Files">FIFO Special Files</a>:           Making a FIFO special file. 
<li><a href="#Pipe%20Atomicity">Pipe Atomicity</a>: 		When pipe (or FIFO) I/O is atomic.

<p>Sockets

</p><li><a href="#Socket%20Concepts">Socket Concepts</a>: 	Basic concepts you need to know about. 
<li><a href="#Communication%20Styles">Communication Styles</a>: Stream communication, datagrams and other styles. 
<li><a href="#Socket%20Addresses">Socket Addresses</a>: 	How socket names (``addresses'') work. 
<li><a href="#Interface%20Naming">Interface Naming</a>: 	Identifying specific network interfaces. 
<li><a href="#Local%20Namespace">Local Namespace</a>: 	Details about the local namespace. 
<li><a href="#Internet%20Namespace">Internet Namespace</a>: 	Details about the Internet namespace. 
<li><a href="#Misc%20Namespaces">Misc Namespaces</a>: 	Other namespaces not documented fully here. 
<li><a href="#Open%2fClose%20Sockets">Open/Close Sockets</a>:   Creating sockets and destroying them. 
<li><a href="#Connections">Connections</a>: 		Operations on sockets with connection state. 
<li><a href="#Datagrams">Datagrams</a>: 		Operations on datagram sockets. 
<li><a href="#Inetd">Inetd</a>: 		Inetd is a daemon that starts servers on request. 
			   The most convenient way to write a server
			   is to make it work with Inetd. 
<li><a href="#Socket%20Options">Socket Options</a>: 	Miscellaneous low-level socket options. 
<li><a href="#Networks%20Database">Networks Database</a>:    Accessing the database of network names.

<p>Socket Addresses

</p><li><a href="#Address%20Formats">Address Formats</a>: 		About <code>struct sockaddr</code>. 
<li><a href="#Setting%20Address">Setting Address</a>: 		Binding an address to a socket. 
<li><a href="#Reading%20Address">Reading Address</a>: 		Reading the address of a socket.

<p>Local Namespace

</p><li><a href="#Local%20Namespace%20Concepts">Concepts</a>:  What you need to understand. 
<li><a href="#Local%20Namespace%20Details">Details</a>:    Address format, symbolic names, etc. 
<li><a href="#Local%20Socket%20Example">Example</a>:       Example of creating a socket.

<p>Internet Namespace

</p><li><a href="#Internet%20Address%20Formats">Internet Address Formats</a>:     How socket addresses are specified in the
                                 Internet namespace. 
<li><a href="#Host%20Addresses">Host Addresses</a>: 	        All about host addresses of Internet host. 
<li><a href="#Protocols%20Database">Protocols Database</a>: 		Referring to protocols by name. 
<li><a href="#Ports">Ports</a>: 			Internet port numbers. 
<li><a href="#Services%20Database">Services Database</a>:            Ports may have symbolic names. 
<li><a href="#Byte%20Order">Byte Order</a>: 		        Different hosts may use different byte
                                 ordering conventions; you need to
                                 canonicalize host address and port number. 
<li><a href="#Inet%20Example">Inet Example</a>: 	        Putting it all together.

<p>Host Addresses

</p><li><a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>: 	What a host number consists of. 
<li><a href="#Host%20Address%20Data%20Type">Data type</a>: 	Data type for a host number. 
<li><a href="#Host%20Address%20Functions">Functions</a>: 	Functions to operate on them. 
<li><a href="#Host%20Names">Names</a>: 		Translating host names to host numbers.

<p>Open/Close Sockets

</p><li><a href="#Creating%20a%20Socket">Creating a Socket</a>:            How to open a socket. 
<li><a href="#Closing%20a%20Socket">Closing a Socket</a>:             How to close a socket. 
<li><a href="#Socket%20Pairs">Socket Pairs</a>:                 These are created like pipes.

<p>Connections

</p><li><a href="#Connecting">Connecting</a>:     	     What the client program must do. 
<li><a href="#Listening">Listening</a>: 		     How a server program waits for requests. 
<li><a href="#Accepting%20Connections">Accepting Connections</a>:     What the server does when it gets a request. 
<li><a href="#Who%20is%20Connected">Who is Connected</a>: 	     Getting the address of the
				other side of a connection. 
<li><a href="#Transferring%20Data">Transferring Data</a>:         How to send and receive data. 
<li><a href="#Byte%20Stream%20Example">Byte Stream Example</a>: 	     An example program: a client for communicating
			      over a byte stream socket in the Internet namespace. 
<li><a href="#Server%20Example">Server Example</a>: 	     A corresponding server program. 
<li><a href="#Out-of-Band%20Data">Out-of-Band Data</a>:          This is an advanced feature.

<p>Transferring Data

</p><li><a href="#Sending%20Data">Sending Data</a>: 		Sending data with <code>send</code>. 
<li><a href="#Receiving%20Data">Receiving Data</a>: 		Reading data with <code>recv</code>. 
<li><a href="#Socket%20Data%20Options">Socket Data Options</a>: 		Using <code>send</code> and <code>recv</code>.

<p>Datagrams

</p><li><a href="#Sending%20Datagrams">Sending Datagrams</a>:     Sending packets on a datagram socket. 
<li><a href="#Receiving%20Datagrams">Receiving Datagrams</a>:   Receiving packets on a datagram socket. 
<li><a href="#Datagram%20Example">Datagram Example</a>:      An example program: packets sent over a
                           datagram socket in the local namespace. 
<li><a href="#Example%20Receiver">Example Receiver</a>: 	 Another program, that receives those packets.

<p>Inetd

</p><li><a href="#Inetd%20Servers">Inetd Servers</a>: 
<li><a href="#Configuring%20Inetd">Configuring Inetd</a>:

<p>Socket Options

</p><li><a href="#Socket%20Option%20Functions">Socket Option Functions</a>:      The basic functions for setting and getting
                                 socket options. 
<li><a href="#Socket-Level%20Options">Socket-Level Options</a>:         Details of the options at the socket level.

<p>Low-Level Terminal Interface

</p><li><a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>:             How to determine if a file is a terminal
			         device, and what its name is. 
<li><a href="#I%2fO%20Queues">I/O Queues</a>:                   About flow control and typeahead. 
<li><a href="#Canonical%20or%20Not">Canonical or Not</a>:             Two basic styles of input processing. 
<li><a href="#Terminal%20Modes">Terminal Modes</a>:               How to examine and modify flags controlling
			         details of terminal I/O: echoing,
                                 signals, editing.  Posix. 
<li><a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>:           BSD compatible terminal mode setting
<li><a href="#Line%20Control">Line Control</a>:                 Sending break sequences, clearing
                                 terminal buffers <small>...</small>
<li><a href="#Noncanon%20Example">Noncanon Example</a>:             How to read single characters without echo. 
<li><a href="#Pseudo-Terminals">Pseudo-Terminals</a>:             How to open a pseudo-terminal.

<p>Terminal Modes

</p><li><a href="#Mode%20Data%20Types">Mode Data Types</a>:              The data type <code>struct termios</code> and
                                 related types. 
<li><a href="#Mode%20Functions">Mode Functions</a>:               Functions to read and set the terminal
                                 attributes. 
<li><a href="#Setting%20Modes">Setting Modes</a>:                The right way to set terminal attributes
                                 reliably. 
<li><a href="#Input%20Modes">Input Modes</a>:                  Flags controlling low-level input handling. 
<li><a href="#Output%20Modes">Output Modes</a>:                 Flags controlling low-level output handling. 
<li><a href="#Control%20Modes">Control Modes</a>:                Flags controlling serial port behavior. 
<li><a href="#Local%20Modes">Local Modes</a>:                  Flags controlling high-level input handling. 
<li><a href="#Line%20Speed">Line Speed</a>:                   How to read and set the terminal line speed. 
<li><a href="#Special%20Characters">Special Characters</a>:           Characters that have special effects,
			         and how to change them. 
<li><a href="#Noncanonical%20Input">Noncanonical Input</a>:           Controlling how long to wait for input.

<p>Special Characters

</p><li><a href="#Editing%20Characters">Editing Characters</a>:           Special characters that terminate lines and
                                  delete text, and other editing functions. 
<li><a href="#Signal%20Characters">Signal Characters</a>:            Special characters that send or raise signals
                                  to or for certain classes of processes. 
<li><a href="#Start%2fStop%20Characters">Start/Stop Characters</a>:        Special characters that suspend or resume
                                  suspended output. 
<li><a href="#Other%20Special">Other Special</a>: 		Other special characters for BSD systems:
				  they can discard output, and print status.

<p>Pseudo-Terminals

</p><li><a href="#Allocation">Allocation</a>:              Allocating a pseudo terminal. 
<li><a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>:   How to open both sides of a
                            pseudo-terminal in a single operation.

<p>Syslog

</p><li><a href="#Overview%20of%20Syslog">Overview of Syslog</a>:            Overview of a system's Syslog facility
<li><a href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>:    Functions to submit messages to Syslog

<p>Submitting Syslog Messages

</p><li><a href="#openlog">openlog</a>:                       Open connection to Syslog
<li><a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>:               Submit message to Syslog
<li><a href="#closelog">closelog</a>:                      Close connection to Syslog
<li><a href="#setlogmask">setlogmask</a>:                    Cause certain messages to be ignored
<li><a href="#Syslog%20Example">Syslog Example</a>:                Example of all of the above

<p>Mathematics

</p><li><a href="#Mathematical%20Constants">Mathematical Constants</a>:       Precise numeric values for often-used
                                 constants. 
<li><a href="#Trig%20Functions">Trig Functions</a>:               Sine, cosine, tangent, and friends. 
<li><a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>:       Arcsine, arccosine, etc. 
<li><a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>:     Also pow and sqrt. 
<li><a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>:         sinh, cosh, tanh, etc. 
<li><a href="#Special%20Functions">Special Functions</a>:            Bessel, gamma, erf. 
<li><a href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>:     Known Maximum Errors in Math Functions. 
<li><a href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>:        Functions for generating pseudo-random
				 numbers. 
<li><a href="#FP%20Function%20Optimizations">FP Function Optimizations</a>:    Fast code or small code.

<p>Pseudo-Random Numbers

</p><li><a href="#ISO%20Random">ISO Random</a>:                   <code>rand</code> and friends. 
<li><a href="#BSD%20Random">BSD Random</a>:                   <code>random</code> and friends. 
<li><a href="#SVID%20Random">SVID Random</a>:                  <code>drand48</code> and friends.

<p>Arithmetic

</p><li><a href="#Integers">Integers</a>:                     Basic integer types and concepts
<li><a href="#Integer%20Division">Integer Division</a>:             Integer division with guaranteed rounding. 
<li><a href="#Floating%20Point%20Numbers">Floating Point Numbers</a>:       Basic concepts.  IEEE 754. 
<li><a href="#Floating%20Point%20Classes">Floating Point Classes</a>:       The five kinds of floating-point number. 
<li><a href="#Floating%20Point%20Errors">Floating Point Errors</a>:        When something goes wrong in a calculation. 
<li><a href="#Rounding">Rounding</a>:                     Controlling how results are rounded. 
<li><a href="#Control%20Functions">Control Functions</a>:            Saving and restoring the FPU's state. 
<li><a href="#Arithmetic%20Functions">Arithmetic Functions</a>:         Fundamental operations provided by the library. 
<li><a href="#Complex%20Numbers">Complex Numbers</a>:              The types.  Writing complex constants. 
<li><a href="#Operations%20on%20Complex">Operations on Complex</a>:        Projection, conjugation, decomposition. 
<li><a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>:           Converting strings to numbers. 
<li><a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>:   An archaic way to convert numbers to strings.

<p>Floating Point Errors

</p><li><a href="#FP%20Exceptions">FP Exceptions</a>:                IEEE 754 math exceptions and how to detect them. 
<li><a href="#Infinity%20and%20NaN">Infinity and NaN</a>:             Special values returned by calculations. 
<li><a href="#Status%20bit%20operations">Status bit operations</a>:        Checking for exceptions after the fact. 
<li><a href="#Math%20Error%20Reporting">Math Error Reporting</a>:         How the math functions report errors.

<p>Arithmetic Functions

</p><li><a href="#Absolute%20Value">Absolute Value</a>:               Absolute values of integers and floats. 
<li><a href="#Normalization%20Functions">Normalization Functions</a>:      Extracting exponents and putting them back. 
<li><a href="#Rounding%20Functions">Rounding Functions</a>:           Rounding floats to integers. 
<li><a href="#Remainder%20Functions">Remainder Functions</a>:          Remainders on division, precisely defined. 
<li><a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>:             Sign bit adjustment.  Adding epsilon. 
<li><a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>:      Comparisons without risk of exceptions. 
<li><a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>:           Max, min, positive difference, multiply-add.

<p>Parsing of Numbers

</p><li><a href="#Parsing%20of%20Integers">Parsing of Integers</a>:          Functions for conversion of integer values. 
<li><a href="#Parsing%20of%20Floats">Parsing of Floats</a>:            Functions for conversion of floating-point
				 values.

<p>Date and Time

</p><li><a href="#Time%20Basics">Time Basics</a>:                  Concepts and definitions. 
<li><a href="#Elapsed%20Time">Elapsed Time</a>:                 Data types to represent elapsed times
<li><a href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>:       Time a program has spent executing. 
<li><a href="#Calendar%20Time">Calendar Time</a>:                Manipulation of ``real'' dates and times. 
<li><a href="#Setting%20an%20Alarm">Setting an Alarm</a>:             Sending a signal after a specified time. 
<li><a href="#Sleeping">Sleeping</a>:                     Waiting for a period of time.

<p>Processor And CPU Time

</p><li><a href="#CPU%20Time">CPU Time</a>:                     The <code>clock</code> function. 
<li><a href="#Processor%20Time">Processor Time</a>:               The <code>times</code> function.

<p>Calendar Time

</p><li><a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>:         Facilities for manipulating calendar time. 
<li><a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>:     A time representation with greater precision. 
<li><a href="#Broken-down%20Time">Broken-down Time</a>:             Facilities for manipulating local time. 
<li><a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>:          Maintaining a high accuracy system clock. 
<li><a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>:     Converting times to strings. 
<li><a href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>:        Convert textual time and date information back
                                 into broken-down time values. 
<li><a href="#TZ%20Variable">TZ Variable</a>:                  How users specify the time zone. 
<li><a href="#Time%20Zone%20Functions">Time Zone Functions</a>:          Functions to examine or specify the time zone. 
<li><a href="#Time%20Functions%20Example">Time Functions Example</a>:       An example program showing use of some of
				 the time functions.

<p>Parsing Date and Time

</p><li><a href="#Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>:   Interpret string according to given format. 
<li><a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>:     User-friendly function to parse data and
                                    time strings.

<p>Resource Usage And Limitation

</p><li><a href="#Resource%20Usage">Resource Usage</a>: 		Measuring various resources used. 
<li><a href="#Limits%20on%20Resources">Limits on Resources</a>: 		Specifying limits on resource usage. 
<li><a href="#Priority">Priority</a>: 			Reading or setting process run priority. 
<li><a href="#Memory%20Resources">Memory Resources</a>:             Querying memory available resources. 
<li><a href="#Processor%20Resources">Processor Resources</a>:          Learn about the processors available.

<p>Priority

</p><li><a href="#Absolute%20Priority">Absolute Priority</a>:                The first tier of priority.  Posix
<li><a href="#Realtime%20Scheduling">Realtime Scheduling</a>:              Scheduling among the process nobility
<li><a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>:       Get/set scheduling policy, priority
<li><a href="#Traditional%20Scheduling">Traditional Scheduling</a>:           Scheduling among the vulgar masses

<p>Traditional Scheduling

</p><li><a href="#Traditional%20Scheduling%20Intro">Traditional Scheduling Intro</a>: 
<li><a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>:

<p>Memory Resources

</p><li><a href="#Memory%20Subsystem">Memory Subsystem</a>:            Overview about traditional Unix memory handling. 
<li><a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>:     How to get information about the memory
                                subsystem?

<p>Non-Local Exits

</p><li><a href="#Non-Local%20Intro">Intro</a>:         When and how to use these facilities. 
<li><a href="#Non-Local%20Details">Details</a>:     Functions for non-local exits. 
<li><a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>:   Portability issues. 
<li><a href="#System%20V%20contexts">System V contexts</a>:             Complete context control a la System V.

<p>Signal Handling

</p><li><a href="#Concepts%20of%20Signals">Concepts of Signals</a>:          Introduction to the signal facilities. 
<li><a href="#Standard%20Signals">Standard Signals</a>:             Particular kinds of signals with
                                 standard names and meanings. 
<li><a href="#Signal%20Actions">Signal Actions</a>:               Specifying what happens when a
                                 particular signal is delivered. 
<li><a href="#Defining%20Handlers">Defining Handlers</a>:            How to write a signal handler function. 
<li><a href="#Interrupted%20Primitives">Interrupted Primitives</a>: 	Signal handlers affect use of <code>open</code>,
				 <code>read</code>, <code>write</code> and other functions. 
<li><a href="#Generating%20Signals">Generating Signals</a>:           How to send a signal to a process. 
<li><a href="#Blocking%20Signals">Blocking Signals</a>:             Making the system hold signals temporarily. 
<li><a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>:         Suspending your program until a signal
                                 arrives. 
<li><a href="#Signal%20Stack">Signal Stack</a>:                 Using a Separate Signal Stack. 
<li><a href="#BSD%20Signal%20Handling">BSD Signal Handling</a>:          Additional functions for backward
			         compatibility with BSD.

<p>Concepts of Signals

</p><li><a href="#Kinds%20of%20Signals">Kinds of Signals</a>:             Some examples of what can cause a signal. 
<li><a href="#Signal%20Generation">Signal Generation</a>:            Concepts of why and how signals occur. 
<li><a href="#Delivery%20of%20Signal">Delivery of Signal</a>:           Concepts of what a signal does to the
                                 process.

<p>Standard Signals

</p><li><a href="#Program%20Error%20Signals">Program Error Signals</a>:        Used to report serious program errors. 
<li><a href="#Termination%20Signals">Termination Signals</a>:          Used to interrupt and/or terminate the
                                 program. 
<li><a href="#Alarm%20Signals">Alarm Signals</a>:                Used to indicate expiration of timers. 
<li><a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>:     Used to indicate input is available. 
<li><a href="#Job%20Control%20Signals">Job Control Signals</a>:          Signals used to support job control. 
<li><a href="#Operation%20Error%20Signals">Operation Error Signals</a>:      Used to report operational system errors. 
<li><a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>:        Miscellaneous Signals. 
<li><a href="#Signal%20Messages">Signal Messages</a>:              Printing a message describing a signal.

<p>Signal Actions

</p><li><a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>:        The simple <code>signal</code> function. 
<li><a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>:     The more powerful <code>sigaction</code> function. 
<li><a href="#Signal%20and%20Sigaction">Signal and Sigaction</a>:         How those two functions interact. 
<li><a href="#Sigaction%20Function%20Example">Sigaction Function Example</a>:   An example of using the sigaction function. 
<li><a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>:          Specifying options for signal handling. 
<li><a href="#Initial%20Signal%20Actions">Initial Signal Actions</a>:       How programs inherit signal actions.

<p>Defining Handlers

</p><li><a href="#Handler%20Returns">Handler Returns</a>:              Handlers that return normally, and what
                                 this means. 
<li><a href="#Termination%20in%20Handler">Termination in Handler</a>:       How handler functions terminate a program. 
<li><a href="#Longjmp%20in%20Handler">Longjmp in Handler</a>:           Nonlocal transfer of control out of a
                                 signal handler. 
<li><a href="#Signals%20in%20Handler">Signals in Handler</a>:           What happens when signals arrive while
                                 the handler is already occupied. 
<li><a href="#Merged%20Signals">Merged Signals</a>: 		When a second signal arrives before the
				 first is handled. 
<li><a href="#Nonreentrancy">Nonreentrancy</a>:                Do not call any functions unless you know they
                                 are reentrant with respect to signals. 
<li><a href="#Atomic%20Data%20Access">Atomic Data Access</a>:           A single handler can run in the middle of
                                 reading or writing a single object.

<p>Atomic Data Access

</p><li><a href="#Non-atomic%20Example">Non-atomic Example</a>: 		A program illustrating interrupted access. 
<li><a href="#Atomic%20Types">Types</a>: 		Data types that guarantee no interruption. 
<li><a href="#Atomic%20Usage">Usage</a>: 		Proving that interruption is harmless.

<p>Generating Signals

</p><li><a href="#Signaling%20Yourself">Signaling Yourself</a>:           A process can send a signal to itself. 
<li><a href="#Signaling%20Another%20Process">Signaling Another Process</a>:    Send a signal to another process. 
<li><a href="#Permission%20for%20kill">Permission for kill</a>:          Permission for using <code>kill</code>. 
<li><a href="#Kill%20Example">Kill Example</a>:                 Using <code>kill</code> for Communication.

<p>Blocking Signals

</p><li><a href="#Why%20Block">Why Block</a>:                            The purpose of blocking signals. 
<li><a href="#Signal%20Sets">Signal Sets</a>:                          How to specify which signals to
                                         block. 
<li><a href="#Process%20Signal%20Mask">Process Signal Mask</a>:                  Blocking delivery of signals to your
				         process during normal execution. 
<li><a href="#Testing%20for%20Delivery">Testing for Delivery</a>:                 Blocking to Test for Delivery of
                                         a Signal. 
<li><a href="#Blocking%20for%20Handler">Blocking for Handler</a>:                 Blocking additional signals while a
				         handler is being run. 
<li><a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>:         Checking for Pending Signals
<li><a href="#Remembering%20a%20Signal">Remembering a Signal</a>:                 How you can get almost the same
                                         effect as blocking a signal, by
                                         handling it and setting a flag
                                         to be tested later.

<p>Waiting for a Signal

</p><li><a href="#Using%20Pause">Using Pause</a>:                  The simple way, using <code>pause</code>. 
<li><a href="#Pause%20Problems">Pause Problems</a>:               Why the simple way is often not very good. 
<li><a href="#Sigsuspend">Sigsuspend</a>:                   Reliably waiting for a specific signal.

<p>BSD Signal Handling

</p><li><a href="#BSD%20Handler">BSD Handler</a>:                  BSD Function to Establish a Handler. 
<li><a href="#Blocking%20in%20BSD">Blocking in BSD</a>:              BSD Functions for Blocking Signals.

<p>Program Basics

</p><li><a href="#Program%20Arguments">Program Arguments</a>:            Parsing your program's command-line arguments. 
<li><a href="#Environment%20Variables">Environment Variables</a>:        Less direct parameters affecting your program
<li><a href="#System%20Calls">System Calls</a>:                 Requesting service from the system
<li><a href="#Program%20Termination">Program Termination</a>:          Telling the system you're done; return status

<p>Program Arguments

</p><li><a href="#Argument%20Syntax">Argument Syntax</a>:              By convention, options start with a hyphen. 
<li><a href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>:    Ways to parse program options and arguments.

<p>Parsing Program Arguments

</p><li><a href="#Getopt">Getopt</a>:                       Parsing program options using <code>getopt</code>. 
<li><a href="#Argp">Argp</a>:                         Parsing program options using <code>argp_parse</code>. 
<li><a href="#Suboptions">Suboptions</a>:                   Some programs need more detailed options. 
<li><a href="#Suboptions%20Example">Suboptions Example</a>:           This shows how it could be done for <code>mount</code>.

<p>Environment Variables

</p><li><a href="#Environment%20Access">Environment Access</a>:           How to get and set the values of
				 environment variables. 
<li><a href="#Standard%20Environment">Standard Environment</a>:         These environment variables have
                		 standard interpretations.

<p>Program Termination

</p><li><a href="#Normal%20Termination">Normal Termination</a>:           If a program calls <code>exit</code>, a
                                 process terminates normally. 
<li><a href="#Exit%20Status">Exit Status</a>:                  The <code>exit status</code> provides information
                                 about why the process terminated. 
<li><a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>:             A process can run its own cleanup
                                 functions upon normal termination. 
<li><a href="#Aborting%20a%20Program">Aborting a Program</a>:           The <code>abort</code> function causes
                                 abnormal program termination. 
<li><a href="#Termination%20Internals">Termination Internals</a>:        What happens when a process terminates.

<p>Processes

</p><li><a href="#Running%20a%20Command">Running a Command</a>:            The easy way to run another program. 
<li><a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>:    An overview of the hard way to do it. 
<li><a href="#Process%20Identification">Process Identification</a>:       How to get the process ID of a process. 
<li><a href="#Creating%20a%20Process">Creating a Process</a>:           How to fork a child process. 
<li><a href="#Executing%20a%20File">Executing a File</a>:             How to make a process execute another program. 
<li><a href="#Process%20Completion">Process Completion</a>:           How to tell when a child process has completed. 
<li><a href="#Process%20Completion%20Status">Process Completion Status</a>:    How to interpret the status value
                                 returned from a child process. 
<li><a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>:   	More functions, for backward compatibility. 
<li><a href="#Process%20Creation%20Example">Process Creation Example</a>:     A complete example program.

<p>Job Control

</p><li><a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>:      Jobs can be controlled by a shell. 
<li><a href="#Job%20Control%20is%20Optional">Job Control is Optional</a>:      Not all POSIX systems support job control. 
<li><a href="#Controlling%20Terminal">Controlling Terminal</a>:         How a process gets its controlling terminal. 
<li><a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>:       How processes share the controlling terminal. 
<li><a href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>:      Jobs left after the user logs out. 
<li><a href="#Implementing%20a%20Shell">Implementing a Shell</a>:         What a shell must do to implement job control. 
<li><a href="#Functions%20for%20Job%20Control">Functions for Job Control</a>:    Functions to control process groups.

<p>Implementing a Shell

</p><li><a href="#Data%20Structures">Data Structures</a>:              Introduction to the sample shell. 
<li><a href="#Initializing%20the%20Shell">Initializing the Shell</a>:       What the shell must do to take
				 responsibility for job control. 
<li><a href="#Launching%20Jobs">Launching Jobs</a>:               Creating jobs to execute commands. 
<li><a href="#Foreground%20and%20Background">Foreground and Background</a>:    Putting a job in foreground of background. 
<li><a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>:   Reporting job status. 
<li><a href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>:      How to continue a stopped job in
				 the foreground or background. 
<li><a href="#Missing%20Pieces">Missing Pieces</a>:               Other parts of the shell.

<p>Functions for Job Control

</p><li><a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>:     Determining the controlling terminal's name. 
<li><a href="#Process%20Group%20Functions">Process Group Functions</a>:      Functions for manipulating process groups. 
<li><a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>:    Functions for controlling terminal access.

<p>Name Service Switch

</p><li><a href="#NSS%20Basics">NSS Basics</a>:                   What is this NSS good for. 
<li><a href="#NSS%20Configuration%20File">NSS Configuration File</a>:       Configuring NSS. 
<li><a href="#NSS%20Module%20Internals">NSS Module Internals</a>:         How does it work internally. 
<li><a href="#Extending%20NSS">Extending NSS</a>:                What to do to add services or databases.

<p>NSS Configuration File

</p><li><a href="#Services%20in%20the%20NSS%20configuration">Services in the NSS configuration</a>:   Service names in the NSS configuration. 
<li><a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>:   React appropriately to the lookup result. 
<li><a href="#Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>:   Things to take care about while
                                     configuring NSS.

<p>NSS Module Internals

</p><li><a href="#NSS%20Module%20Names">NSS Module Names</a>:             Construction of the interface function of
                                the NSS modules. 
<li><a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>:        Programming interface in the NSS module
                                functions.

<p>Extending NSS

</p><li><a href="#Adding%20another%20Service%20to%20NSS">Adding another Service to NSS</a>:   What is to do to add a new service. 
<li><a href="#NSS%20Module%20Function%20Internals">NSS Module Function Internals</a>:   Guidelines for writing new NSS
                                        service functions.

<p>Users and Groups

</p><li><a href="#User%20and%20Group%20IDs">User and Group IDs</a>:           Each user has a unique numeric ID;
				 likewise for groups. 
<li><a href="#Process%20Persona">Process Persona</a>:              The user IDs and group IDs of a process. 
<li><a href="#Why%20Change%20Persona">Why Change Persona</a>:           Why a program might need to change
				 its user and/or group IDs. 
<li><a href="#How%20Change%20Persona">How Change Persona</a>:           Changing the user and group IDs. 
<li><a href="#Reading%20Persona">Reading Persona</a>:              How to examine the user and group IDs.

<p>
</p><li><a href="#Setting%20User%20ID">Setting User ID</a>:              Functions for setting the user ID. 
<li><a href="#Setting%20Groups">Setting Groups</a>:               Functions for setting the group IDs.

<p>
</p><li><a href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>:        Turning setuid access on and off. 
<li><a href="#Setuid%20Program%20Example">Setuid Program Example</a>:       The pertinent parts of one sample program. 
<li><a href="#Tips%20for%20Setuid">Tips for Setuid</a>:              How to avoid granting unlimited access.

<p>
</p><li><a href="#Who%20Logged%20In">Who Logged In</a>:                Getting the name of the user who logged in,
				 or of the real user ID of the current process.

<p>
</p><li><a href="#User%20Accounting%20Database">User Accounting Database</a>:     Keeping information about users and various
                                 actions in databases.

<p>
</p><li><a href="#User%20Database">User Database</a>:                Functions and data structures for
                        	 accessing the user database. 
<li><a href="#Group%20Database">Group Database</a>:               Functions and data structures for
                        	 accessing the group database. 
<li><a href="#Database%20Example">Database Example</a>:             Example program showing the use of database
				 inquiry functions. 
<li><a href="#Netgroup%20Database">Netgroup Database</a>:            Functions for accessing the netgroup database.

<p>User Accounting Database

</p><li><a href="#Manipulating%20the%20Database">Manipulating the Database</a>:    Scanning and modifying the user
                                 accounting database. 
<li><a href="#XPG%20Functions">XPG Functions</a>:                A standardized way for doing the same thing. 
<li><a href="#Logging%20In%20and%20Out">Logging In and Out</a>:           Functions from BSD that modify the user
                                 accounting database.

<p>User Database

</p><li><a href="#User%20Data%20Structure">User Data Structure</a>:          What each user record contains. 
<li><a href="#Lookup%20User">Lookup User</a>:                  How to look for a particular user. 
<li><a href="#Scanning%20All%20Users">Scanning All Users</a>:           Scanning the list of all users, one by one. 
<li><a href="#Writing%20a%20User%20Entry">Writing a User Entry</a>:         How a program can rewrite a user's record.

<p>Group Database

</p><li><a href="#Group%20Data%20Structure">Group Data Structure</a>:         What each group record contains. 
<li><a href="#Lookup%20Group">Lookup Group</a>:                 How to look for a particular group. 
<li><a href="#Scanning%20All%20Groups">Scanning All Groups</a>:          Scanning the list of all groups.

<p>Netgroup Database

</p><li><a href="#Netgroup%20Data">Netgroup Data</a>:                   Data in the Netgroup database and where
                                   it comes from. 
<li><a href="#Lookup%20Netgroup">Lookup Netgroup</a>:                 How to look for a particular netgroup. 
<li><a href="#Netgroup%20Membership">Netgroup Membership</a>:             How to test for netgroup membership.

<p>System Management

</p><li><a href="#Host%20Identification">Host Identification</a>:          Determining the name of the machine. 
<li><a href="#Platform%20Type">Platform Type</a>:                Determining operating system and basic
                                  machine type
<li><a href="#Filesystem%20Handling">Filesystem Handling</a>:          Controlling/querying mounts
<li><a href="#System%20Parameters">System Parameters</a>:            Getting and setting various system parameters

<p>Filesystem Handling

</p><li><a href="#Mount%20Information">Mount Information</a>:            What is or could be mounted? 
<li><a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>:        Controlling what is mounted and how

<p>Mount Information

</p><li><a href="#fstab">fstab</a>:                        The <code>fstab</code> file
<li><a href="#mtab">mtab</a>:                         The <code>mtab</code> file
<li><a href="#Other%20Mount%20Information">Other Mount Information</a>:      Other (non-libc) sources of mount information

<p>System Configuration

</p><li><a href="#General%20Limits">General Limits</a>:            Constants and functions that describe
				various process-related limits that have
				one uniform value for any given machine. 
<li><a href="#System%20Options">System Options</a>:            Optional POSIX features. 
<li><a href="#Version%20Supported">Version Supported</a>:         Version numbers of POSIX.1 and POSIX.2. 
<li><a href="#Sysconf">Sysconf</a>:                   Getting specific configuration values
                                of general limits and system options. 
<li><a href="#Minimums">Minimums</a>:                  Minimum values for general limits.

<p>
</p><li><a href="#Limits%20for%20Files">Limits for Files</a>:          Size limitations that pertain to individual files. 
                                These can vary between file systems
                                or even from file to file. 
<li><a href="#Options%20for%20Files">Options for Files</a>:         Optional features that some files may support. 
<li><a href="#File%20Minimums">File Minimums</a>:             Minimum values for file limits. 
<li><a href="#Pathconf">Pathconf</a>:                  Getting the limit values for a particular file.

<p>
</p><li><a href="#Utility%20Limits">Utility Limits</a>:            Capacity limits of some POSIX.2 utility programs. 
<li><a href="#Utility%20Minimums">Utility Minimums</a>:          Minimum allowable values of those limits.

<p>
</p><li><a href="#String%20Parameters">String Parameters</a>:         Getting the default search path.

<p>Sysconf

</p><li><a href="#Sysconf%20Definition">Sysconf Definition</a>:         Detailed specifications of <code>sysconf</code>. 
<li><a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>:      The list of parameters <code>sysconf</code> can read. 
<li><a href="#Examples%20of%20Sysconf">Examples of Sysconf</a>:        How to use <code>sysconf</code> and the parameter
				 macros properly together.

<p>Cryptographic Functions

</p><li><a href="#Legal%20Problems">Legal Problems</a>:               This software can get you locked up, or worse. 
<li><a href="#getpass">getpass</a>:                      Prompting the user for a password. 
<li><a href="#crypt">crypt</a>:                        A one-way function for UNIX passwords. 
<li><a href="#DES%20Encryption">DES Encryption</a>:               Routines for DES encryption.

<p>Debugging Support

</p><li><a href="#Backtraces">Backtraces</a>:                 Obtaining and printing a back trace of the
                               current stack.

<p>Language Features

</p><li><a href="#Consistency%20Checking">Consistency Checking</a>:         Using <code>assert</code> to abort if
				 something ``impossible'' happens. 
<li><a href="#Variadic%20Functions">Variadic Functions</a>:           Defining functions with varying numbers
                                 of args. 
<li><a href="#Null%20Pointer%20Constant">Null Pointer Constant</a>:        The macro <code>NULL</code>. 
<li><a href="#Important%20Data%20Types">Important Data Types</a>:         Data types for object sizes. 
<li><a href="#Data%20Type%20Measurements">Data Type Measurements</a>:       Parameters of data type representations.

<p>Variadic Functions

</p><li><a href="#Why%20Variadic">Why Variadic</a>:                 Reasons for making functions take
                                 variable arguments. 
<li><a href="#How%20Variadic">How Variadic</a>:                 How to define and call variadic functions. 
<li><a href="#Variadic%20Example">Variadic Example</a>:             A complete example.

<p>How Variadic

</p><li><a href="#Variadic%20Prototypes">Variadic Prototypes</a>:   How to make a prototype for a function
			  with variable arguments. 
<li><a href="#Receiving%20Arguments">Receiving Arguments</a>:   Steps you must follow to access the
			  optional argument values. 
<li><a href="#How%20Many%20Arguments">How Many Arguments</a>:    How to decide whether there are more arguments. 
<li><a href="#Calling%20Variadics">Calling Variadics</a>:     Things you need to know about calling
			  variable arguments functions. 
<li><a href="#Argument%20Macros">Argument Macros</a>:       Detailed specification of the macros
        		  for accessing variable arguments. 
<li><a href="#Old%20Varargs">Old Varargs</a>: 		 The pre-ISO way of defining variadic functions.

<p>Data Type Measurements

</p><li><a href="#Width%20of%20Type">Width of Type</a>:            How many bits does an integer type hold? 
<li><a href="#Range%20of%20Type">Range of Type</a>:            What are the largest and smallest values
			     that an integer type can hold? 
<li><a href="#Floating%20Type%20Macros">Floating Type Macros</a>:     Parameters that measure the floating point types. 
<li><a href="#Structure%20Measurement">Structure Measurement</a>:    Getting measurements on structure types.

<p>Floating Type Macros

</p><li><a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>:      Definitions of terminology. 
<li><a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>:    Details of specific macros. 
<li><a href="#IEEE%20Floating%20Point">IEEE Floating Point</a>:          The measurements for one common
                                 representation.

<p>Installation

</p><li><a href="#Configuring%20and%20compiling">Configuring and compiling</a>:    How to compile and test GNU libc. 
<li><a href="#Running%20make%20install">Running make install</a>:         How to install it once you've got it compiled. 
<li><a href="#Tools%20for%20Compilation">Tools for Compilation</a>:        You'll need these first. 
<li><a href="#Supported%20Configurations">Supported Configurations</a>:     What it runs on, what it doesn't. 
<li><a href="#Linux">Linux</a>:                        Specific advice for Linux systems. 
<li><a href="#Reporting%20Bugs">Reporting Bugs</a>:               So they'll get fixed.

<p>Maintenance

</p><li><a href="#Source%20Layout">Source Layout</a>:          How to add new functions or header files
                             to the GNU C library. 
<li><a href="#Porting">Porting</a>:                How to port the GNU C library to
                             a new machine or operating system.

<p>Porting

</p><li><a href="#Hierarchy%20Conventions">Hierarchy Conventions</a>:        The layout of the <code>sysdeps</code> hierarchy. 
<li><a href="#Porting%20to%20Unix">Porting to Unix</a>:              Porting the library to an average
                                   Unix-like system. 
</ul>

<p><hr>
Node:<a name="Introduction">Introduction</a>,
Next:<a rel=next accesskey=n href="#Error%20Reporting">Error Reporting</a>,
Previous:<a rel=previous accesskey=p href="#Top">Top</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Introduction</h2>

<p>The C language provides no built-in facilities for performing such
common operations as input/output, memory management, string
manipulation, and the like.  Instead, these facilities are defined
in a standard <dfn>library</dfn>, which you compile and link with your
programs.

<p>The GNU C library, described in this document, defines all of the
library functions that are specified by the ISO&nbsp;C standard, as well as
additional features specific to POSIX and other derivatives of the Unix
operating system, and extensions specific to the GNU system.

<p>The purpose of this manual is to tell you how to use the facilities
of the GNU library.  We have mentioned which features belong to which
standards to help you identify things that are potentially non-portable
to other systems.  But the emphasis in this manual is not on strict
portability.

<ul>
<li><a accesskey=1 href="#Getting%20Started">Getting Started</a>:              What this manual is for and how to use it. 
<li><a accesskey=2 href="#Standards%20and%20Portability">Standards and Portability</a>:    Standards and sources upon which the GNU
                                 C library is based. 
<li><a accesskey=3 href="#Using%20the%20Library">Using the Library</a>:            Some practical uses for the library. 
<li><a accesskey=4 href="#Roadmap%20to%20the%20Manual">Roadmap to the Manual</a>:        Overview of the remaining chapters in
                                 this manual. 
</ul>

<p><hr>
Node:<a name="Getting%20Started">Getting Started</a>,
Next:<a rel=next accesskey=n href="#Standards%20and%20Portability">Standards and Portability</a>,
Up:<a rel=up accesskey=u href="#Introduction">Introduction</a>
<br>

<h3>Getting Started</h3>

<p>This manual is written with the assumption that you are at least
somewhat familiar with the C programming language and basic programming
concepts.  Specifically, familiarity with ISO standard C
(see <a href="#ISO%20C">ISO C</a>), rather than "traditional" pre-ISO C dialects, is
assumed.

<p>The GNU C library includes several <dfn>header files</dfn>, each of which
provides definitions and declarations for a group of related facilities;
this information is used by the C compiler when processing your program. 
For example, the header file <code>stdio.h</code> declares facilities for
performing input and output, and the header file <code>string.h</code>
declares string processing utilities.  The organization of this manual
generally follows the same division as the header files.

<p>If you are reading this manual for the first time, you should read all
of the introductory material and skim the remaining chapters.  There are
a <em>lot</em> of functions in the GNU C library and it's not realistic to
expect that you will be able to remember exactly <em>how</em> to use each
and every one of them.  It's more important to become generally familiar
with the kinds of facilities that the library provides, so that when you
are writing your programs you can recognize <em>when</em> to make use of
library functions, and <em>where</em> in this manual you can find more
specific information about them.

<p><hr>
Node:<a name="Standards%20and%20Portability">Standards and Portability</a>,
Next:<a rel=next accesskey=n href="#Using%20the%20Library">Using the Library</a>,
Previous:<a rel=previous accesskey=p href="#Getting%20Started">Getting Started</a>,
Up:<a rel=up accesskey=u href="#Introduction">Introduction</a>
<br>

<h3>Standards and Portability</h3>

<p>This section discusses the various standards and other sources that the
GNU C library is based upon.  These sources include the ISO&nbsp;C and
POSIX standards, and the System V and Berkeley Unix implementations.

<p>The primary focus of this manual is to tell you how to make effective
use of the GNU library facilities.  But if you are concerned about
making your programs compatible with these standards, or portable to
operating systems other than GNU, this can affect how you use the
library.  This section gives you an overview of these standards, so that
you will know what they are when they are mentioned in other parts of
the manual.

<p>See <a href="#Library%20Summary">Library Summary</a>, for an alphabetical list of the functions and
other symbols provided by the library.  This list also states which
standards each function or symbol comes from.

<ul>
<li><a accesskey=1 href="#ISO%20C">ISO C</a>:                        The international standard for the C
                                 programming language. 
<li><a accesskey=2 href="#POSIX">POSIX</a>:                        The ISO/IEC 9945 (aka IEEE 1003) standards
                                 for operating systems. 
<li><a accesskey=3 href="#Berkeley%20Unix">Berkeley Unix</a>:                BSD and SunOS. 
<li><a accesskey=4 href="#SVID">SVID</a>:                         The System V Interface Description. 
<li><a accesskey=5 href="#XPG">XPG</a>:                          The X/Open Portability Guide. 
</ul>

<p><hr>
Node:<a name="ISO%20C">ISO C</a>,
Next:<a rel=next accesskey=n href="#POSIX">POSIX</a>,
Up:<a rel=up accesskey=u href="#Standards%20and%20Portability">Standards and Portability</a>
<br>

<h4>ISO C</h4>

<p>The GNU C library is compatible with the C standard adopted by the
American National Standards Institute (ANSI):
<cite>American National Standard X3.159-1989--"ANSI C"</cite> and later
by the International Standardization Organization (ISO):
<cite>ISO/IEC 9899:1990, "Programming languages--C"</cite>. 
We here refer to the standard as ISO&nbsp;C since this is the more
general standard in respect of ratification. 
The header files and library facilities that make up the GNU library are
a superset of those specified by the ISO&nbsp;C standard.

<p>If you are concerned about strict adherence to the ISO&nbsp;C standard, you
should use the <code>-ansi</code> option when you compile your programs with
the GNU C compiler.  This tells the compiler to define <em>only</em> ISO
standard features from the library header files, unless you explicitly
ask for additional features.  See <a href="#Feature%20Test%20Macros">Feature Test Macros</a>, for
information on how to do this.

<p>Being able to restrict the library to include only ISO&nbsp;C features is
important because ISO&nbsp;C puts limitations on what names can be defined
by the library implementation, and the GNU extensions don't fit these
limitations.  See <a href="#Reserved%20Names">Reserved Names</a>, for more information about these
restrictions.

<p>This manual does not attempt to give you complete details on the
differences between ISO&nbsp;C and older dialects.  It gives advice on how
to write programs to work portably under multiple C dialects, but does
not aim for completeness.

<p><hr>
Node:<a name="POSIX">POSIX</a>,
Next:<a rel=next accesskey=n href="#Berkeley%20Unix">Berkeley Unix</a>,
Previous:<a rel=previous accesskey=p href="#ISO%20C">ISO C</a>,
Up:<a rel=up accesskey=u href="#Standards%20and%20Portability">Standards and Portability</a>
<br>

<h4>POSIX (The Portable Operating System Interface)</h4>

<p>The GNU library is also compatible with the ISO <dfn>POSIX</dfn> family of
standards, known more formally as the <dfn>Portable Operating System
Interface for Computer Environments</dfn> (ISO/IEC 9945).  They were also
published as ANSI/IEEE Std 1003.  POSIX is derived mostly from various
versions of the Unix operating system.

<p>The library facilities specified by the POSIX standards are a superset
of those required by ISO&nbsp;C; POSIX specifies additional features for
ISO&nbsp;C functions, as well as specifying new additional functions.  In
general, the additional requirements and functionality defined by the
POSIX standards are aimed at providing lower-level support for a
particular kind of operating system environment, rather than general
programming language support which can run in many diverse operating
system environments.

<p>The GNU C library implements all of the functions specified in
<cite>ISO/IEC 9945-1:1996, the POSIX System Application Program
Interface</cite>, commonly referred to as POSIX.1.  The primary extensions to
the ISO&nbsp;C facilities specified by this standard include file system
interface primitives (see <a href="#File%20System%20Interface">File System Interface</a>), device-specific
terminal control functions (see <a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>), and
process control functions (see <a href="#Processes">Processes</a>).

<p>Some facilities from <cite>ISO/IEC 9945-2:1993, the POSIX Shell and
Utilities standard</cite> (POSIX.2) are also implemented in the GNU library. 
These include utilities for dealing with regular expressions and other
pattern matching facilities (see <a href="#Pattern%20Matching">Pattern Matching</a>).

<p><hr>
Node:<a name="Berkeley%20Unix">Berkeley Unix</a>,
Next:<a rel=next accesskey=n href="#SVID">SVID</a>,
Previous:<a rel=previous accesskey=p href="#POSIX">POSIX</a>,
Up:<a rel=up accesskey=u href="#Standards%20and%20Portability">Standards and Portability</a>
<br>

<h4>Berkeley Unix</h4>

<p>The GNU C library defines facilities from some versions of Unix which
are not formally standardized, specifically from the 4.2 BSD, 4.3 BSD,
and 4.4 BSD Unix systems (also known as <dfn>Berkeley Unix</dfn>) and from
<dfn>SunOS</dfn> (a popular 4.2 BSD derivative that includes some Unix System
V functionality).  These systems support most of the ISO&nbsp;C and POSIX
facilities, and 4.4 BSD and newer releases of SunOS in fact support them all.

<p>The BSD facilities include symbolic links (see <a href="#Symbolic%20Links">Symbolic Links</a>), the
<code>select</code> function (see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>), the BSD signal
functions (see <a href="#BSD%20Signal%20Handling">BSD Signal Handling</a>), and sockets (see <a href="#Sockets">Sockets</a>).

<p><hr>
Node:<a name="SVID">SVID</a>,
Next:<a rel=next accesskey=n href="#XPG">XPG</a>,
Previous:<a rel=previous accesskey=p href="#Berkeley%20Unix">Berkeley Unix</a>,
Up:<a rel=up accesskey=u href="#Standards%20and%20Portability">Standards and Portability</a>
<br>

<h4>SVID (The System V Interface Description)</h4>

<p>The <dfn>System V Interface Description</dfn> (SVID) is a document describing
the AT&amp;T Unix System V operating system.  It is to some extent a
superset of the POSIX standard (see <a href="#POSIX">POSIX</a>).

<p>The GNU C library defines most of the facilities required by the SVID
that are not also required by the ISO&nbsp;C or POSIX standards, for
compatibility with  System V Unix and other Unix systems (such as
SunOS) which include these facilities.  However, many of the more
obscure and less generally useful facilities required by the SVID are
not included.  (In fact, Unix System V itself does not provide them all.)

<p>The supported facilities from System V include the methods for
inter-process communication and shared memory, the <code>hsearch</code> and
<code>drand48</code> families of functions, <code>fmtmsg</code> and several of the
mathematical functions.

<p><hr>
Node:<a name="XPG">XPG</a>,
Previous:<a rel=previous accesskey=p href="#SVID">SVID</a>,
Up:<a rel=up accesskey=u href="#Standards%20and%20Portability">Standards and Portability</a>
<br>

<h4>XPG (The X/Open Portability Guide)</h4>

<p>The X/Open Portability Guide, published by the X/Open Company, Ltd., is
a more general standard than POSIX.  X/Open owns the Unix copyright and
the XPG specifies the requirements for systems which are intended to be
a Unix system.

<p>The GNU C library complies to the X/Open Portability Guide, Issue 4.2,
with all extensions common to XSI (X/Open System Interface)
compliant systems and also all X/Open UNIX extensions.

<p>The additions on top of POSIX are mainly derived from functionality
available in System&nbsp;V and BSD systems.  Some of the really bad
mistakes in System&nbsp;V systems were corrected, though.  Since
fulfilling the XPG standard with the Unix extensions is a
precondition for getting the Unix brand chances are good that the
functionality is available on commercial systems.

<p><hr>
Node:<a name="Using%20the%20Library">Using the Library</a>,
Next:<a rel=next accesskey=n href="#Roadmap%20to%20the%20Manual">Roadmap to the Manual</a>,
Previous:<a rel=previous accesskey=p href="#Standards%20and%20Portability">Standards and Portability</a>,
Up:<a rel=up accesskey=u href="#Introduction">Introduction</a>
<br>

<h3>Using the Library</h3>

<p>This section describes some of the practical issues involved in using
the GNU C library.

<ul>
<li><a accesskey=1 href="#Header%20Files">Header Files</a>:                 How to include the header files in your
                                 programs. 
<li><a accesskey=2 href="#Macro%20Definitions">Macro Definitions</a>:            Some functions in the library may really
                                 be implemented as macros. 
<li><a accesskey=3 href="#Reserved%20Names">Reserved Names</a>:               The C standard reserves some names for
                                 the library, and some for users. 
<li><a accesskey=4 href="#Feature%20Test%20Macros">Feature Test Macros</a>:          How to control what names are defined. 
</ul>

<p><hr>
Node:<a name="Header%20Files">Header Files</a>,
Next:<a rel=next accesskey=n href="#Macro%20Definitions">Macro Definitions</a>,
Up:<a rel=up accesskey=u href="#Using%20the%20Library">Using the Library</a>
<br>

<h4>Header Files</h4>

<p>Libraries for use by C programs really consist of two parts: <dfn>header
files</dfn> that define types and macros and declare variables and
functions; and the actual library or <dfn>archive</dfn> that contains the
definitions of the variables and functions.

<p>(Recall that in C, a <dfn>declaration</dfn> merely provides information that
a function or variable exists and gives its type.  For a function
declaration, information about the types of its arguments might be
provided as well.  The purpose of declarations is to allow the compiler
to correctly process references to the declared variables and functions. 
A <dfn>definition</dfn>, on the other hand, actually allocates storage for a
variable or says what a function does.)

<p>In order to use the facilities in the GNU C library, you should be sure
that your program source files include the appropriate header files. 
This is so that the compiler has declarations of these facilities
available and can correctly process references to them.  Once your
program has been compiled, the linker resolves these references to
the actual definitions provided in the archive file.

<p>Header files are included into a program source file by the
<code>#include</code> preprocessor directive.  The C language supports two
forms of this directive; the first,

<br><pre>#include "<var>header</var>"
</pre>

<p>is typically used to include a header file <var>header</var> that you write
yourself; this would contain definitions and declarations describing the
interfaces between the different parts of your particular application. 
By contrast,

<br><pre>#include &lt;file.h&gt;
</pre>

<p>is typically used to include a header file <code>file.h</code> that contains
definitions and declarations for a standard library.  This file would
normally be installed in a standard place by your system administrator. 
You should use this second form for the C library header files.

<p>Typically, <code>#include</code> directives are placed at the top of the C
source file, before any other code.  If you begin your source files with
some comments explaining what the code in the file does (a good idea),
put the <code>#include</code> directives immediately afterwards, following the
feature test macro definition (see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>).

<p>For more information about the use of header files and <code>#include</code>
directives, see <a href="cpp.info.html#Header%20Files">Header Files</a>.

<p>The GNU C library provides several header files, each of which contains
the type and macro definitions and variable and function declarations
for a group of related facilities.  This means that your programs may
need to include several header files, depending on exactly which
facilities you are using.

<p>Some library header files include other library header files
automatically.  However, as a matter of programming style, you should
not rely on this; it is better to explicitly include all the header
files required for the library facilities you are using.  The GNU C
library header files have been written in such a way that it doesn't
matter if a header file is accidentally included more than once;
including a header file a second time has no effect.  Likewise, if your
program needs to include multiple header files, the order in which they
are included doesn't matter.

<p><strong>Compatibility Note:</strong> Inclusion of standard header files in any
order and any number of times works in any ISO&nbsp;C implementation. 
However, this has traditionally not been the case in many older C
implementations.

<p>Strictly speaking, you don't <em>have to</em> include a header file to use
a function it declares; you could declare the function explicitly
yourself, according to the specifications in this manual.  But it is
usually better to include the header file because it may define types
and macros that are not otherwise available and because it may define
more efficient macro replacements for some functions.  It is also a sure
way to have the correct declaration.

<p><hr>
Node:<a name="Macro%20Definitions">Macro Definitions</a>,
Next:<a rel=next accesskey=n href="#Reserved%20Names">Reserved Names</a>,
Previous:<a rel=previous accesskey=p href="#Header%20Files">Header Files</a>,
Up:<a rel=up accesskey=u href="#Using%20the%20Library">Using the Library</a>
<br>

<h4>Macro Definitions of Functions</h4>

<p>If we describe something as a function in this manual, it may have a
macro definition as well.  This normally has no effect on how your
program runs--the macro definition does the same thing as the function
would.  In particular, macro equivalents for library functions evaluate
arguments exactly once, in the same way that a function call would.  The
main reason for these macro definitions is that sometimes they can
produce an inline expansion that is considerably faster than an actual
function call.

<p>Taking the address of a library function works even if it is also
defined as a macro.  This is because, in this context, the name of the
function isn't followed by the left parenthesis that is syntactically
necessary to recognize a macro call.

<p>You might occasionally want to avoid using the macro definition of a
function--perhaps to make your program easier to debug.  There are
two ways you can do this:

<ul>
<li>You can avoid a macro definition in a specific use by enclosing the name
of the function in parentheses.  This works because the name of the
function doesn't appear in a syntactic context where it is recognizable
as a macro call.

<li>You can suppress any macro definition for a whole source file by using
the <code>#undef</code> preprocessor directive, unless otherwise stated
explicitly in the description of that facility. 
</ul>

<p>For example, suppose the header file <code>stdlib.h</code> declares a function
named <code>abs</code> with

<br><pre>extern int abs (int);
</pre>

<p>and also provides a macro definition for <code>abs</code>.  Then, in:

<br><pre>#include &lt;stdlib.h&gt;
int f (int *i) { return abs (++*i); }
</pre>

<p>the reference to <code>abs</code> might refer to either a macro or a function. 
On the other hand, in each of the following examples the reference is
to a function and not a macro.

<br><pre>#include &lt;stdlib.h&gt;
int g (int *i) { return (abs) (++*i); }

#undef abs
int h (int *i) { return abs (++*i); }
</pre>

<p>Since macro definitions that double for a function behave in
exactly the same way as the actual function version, there is usually no
need for any of these methods.  In fact, removing macro definitions usually
just makes your program slower.

<p><hr>
Node:<a name="Reserved%20Names">Reserved Names</a>,
Next:<a rel=next accesskey=n href="#Feature%20Test%20Macros">Feature Test Macros</a>,
Previous:<a rel=previous accesskey=p href="#Macro%20Definitions">Macro Definitions</a>,
Up:<a rel=up accesskey=u href="#Using%20the%20Library">Using the Library</a>
<br>

<h4>Reserved Names</h4>

<p>The names of all library types, macros, variables and functions that
come from the ISO&nbsp;C standard are reserved unconditionally; your program
<strong>may not</strong> redefine these names.  All other library names are
reserved if your program explicitly includes the header file that
defines or declares them.  There are several reasons for these
restrictions:

<ul>
<li>Other people reading your code could get very confused if you were using
a function named <code>exit</code> to do something completely different from
what the standard <code>exit</code> function does, for example.  Preventing
this situation helps to make your programs easier to understand and
contributes to modularity and maintainability.

<li>It avoids the possibility of a user accidentally redefining a library
function that is called by other library functions.  If redefinition
were allowed, those other functions would not work properly.

<li>It allows the compiler to do whatever special optimizations it pleases
on calls to these functions, without the possibility that they may have
been redefined by the user.  Some library facilities, such as those for
dealing with variadic arguments (see <a href="#Variadic%20Functions">Variadic Functions</a>)
and non-local exits (see <a href="#Non-Local%20Exits">Non-Local Exits</a>), actually require a
considerable amount of cooperation on the part of the C compiler, and
with respect to the implementation, it might be easier for the compiler
to treat these as built-in parts of the language. 
</ul>

<p>In addition to the names documented in this manual, reserved names
include all external identifiers (global functions and variables) that
begin with an underscore (<code>_</code>) and all identifiers regardless of
use that begin with either two underscores or an underscore followed by
a capital letter are reserved names.  This is so that the library and
header files can define functions, variables, and macros for internal
purposes without risk of conflict with names in user programs.

<p>Some additional classes of identifier names are reserved for future
extensions to the C language or the POSIX.1 environment.  While using these
names for your own purposes right now might not cause a problem, they do
raise the possibility of conflict with future versions of the C
or POSIX standards, so you should avoid these names.

<ul>
<li>Names beginning with a capital <code>E</code> followed a digit or uppercase
letter may be used for additional error code names.  See <a href="#Error%20Reporting">Error Reporting</a>.

<li>Names that begin with either <code>is</code> or <code>to</code> followed by a
lowercase letter may be used for additional character testing and
conversion functions.  See <a href="#Character%20Handling">Character Handling</a>.

<li>Names that begin with <code>LC_</code> followed by an uppercase letter may be
used for additional macros specifying locale attributes. 
See <a href="#Locales">Locales</a>.

<li>Names of all existing mathematics functions (see <a href="#Mathematics">Mathematics</a>)
suffixed with <code>f</code> or <code>l</code> are reserved for corresponding
functions that operate on <code>float</code> and <code>long double</code> arguments,
respectively.

<li>Names that begin with <code>SIG</code> followed by an uppercase letter are
reserved for additional signal names.  See <a href="#Standard%20Signals">Standard Signals</a>.

<li>Names that begin with <code>SIG_</code> followed by an uppercase letter are
reserved for additional signal actions.  See <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<li>Names beginning with <code>str</code>, <code>mem</code>, or <code>wcs</code> followed by a
lowercase letter are reserved for additional string and array functions. 
See <a href="#String%20and%20Array%20Utilities">String and Array Utilities</a>.

<li>Names that end with <code>_t</code> are reserved for additional type names. 
</ul>

<p>In addition, some individual header files reserve names beyond
those that they actually define.  You only need to worry about these
restrictions if your program includes that particular header file.

<ul>
<li>The header file <code>dirent.h</code> reserves names prefixed with
<code>d_</code>.

<li>The header file <code>fcntl.h</code> reserves names prefixed with
<code>l_</code>, <code>F_</code>, <code>O_</code>, and <code>S_</code>.

<li>The header file <code>grp.h</code> reserves names prefixed with <code>gr_</code>.

<li>The header file <code>limits.h</code> reserves names suffixed with <code>_MAX</code>.

<li>The header file <code>pwd.h</code> reserves names prefixed with <code>pw_</code>.

<li>The header file <code>signal.h</code> reserves names prefixed with <code>sa_</code>
and <code>SA_</code>.

<li>The header file <code>sys/stat.h</code> reserves names prefixed with <code>st_</code>
and <code>S_</code>.

<li>The header file <code>sys/times.h</code> reserves names prefixed with <code>tms_</code>.

<li>The header file <code>termios.h</code> reserves names prefixed with <code>c_</code>,
<code>V</code>, <code>I</code>, <code>O</code>, and <code>TC</code>; and names prefixed with
<code>B</code> followed by a digit. 
</ul>

<p><hr>
Node:<a name="Feature%20Test%20Macros">Feature Test Macros</a>,
Previous:<a rel=previous accesskey=p href="#Reserved%20Names">Reserved Names</a>,
Up:<a rel=up accesskey=u href="#Using%20the%20Library">Using the Library</a>
<br>

<h4>Feature Test Macros</h4>

<p>The exact set of features available when you compile a source file
is controlled by which <dfn>feature test macros</dfn> you define.

<p>If you compile your programs using <code>gcc -ansi</code>, you get only the
ISO&nbsp;C library features, unless you explicitly request additional
features by defining one or more of the feature macros. 
See <a href="gcc.info.html#Invoking%20GCC">GNU CC Command Options</a>,
for more information about GCC options.

<p>You should define these macros by using <code>#define</code> preprocessor
directives at the top of your source code files.  These directives
<em>must</em> come before any <code>#include</code> of a system header file.  It
is best to make them the very first thing in the file, preceded only by
comments.  You could also use the <code>-D</code> option to GCC, but it's
better if you make the source files indicate their own meaning in a
self-contained way.

<p>This system exists to allow the library to conform to multiple standards. 
Although the different standards are often described as supersets of each
other, they are usually incompatible because larger standards require
functions with names that smaller ones reserve to the user program.  This
is not mere pedantry -- it has been a problem in practice.  For instance,
some non-GNU programs define functions named <code>getline</code> that have
nothing to do with this library's <code>getline</code>.  They would not be
compilable if all features were enabled indiscriminately.

<p>This should not be used to verify that a program conforms to a limited
standard.  It is insufficient for this purpose, as it will not protect you
from including header files outside the standard, or relying on semantics
undefined within the standard.

<p>
<table width="100%">
<tr>
<td align="left"><b>_POSIX_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro, then the functionality from the POSIX.1
standard (IEEE Standard 1003.1) is available, as well as all of the
ISO&nbsp;C facilities.

<p>The state of <code>_POSIX_SOURCE</code> is irrelevant if you define the
macro <code>_POSIX_C_SOURCE</code> to a positive integer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_POSIX_C_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Define this macro to a positive integer to control which POSIX
functionality is made available.  The greater the value of this macro,
the more functionality is made available.

<p>If you define this macro to a value greater than or equal to <code>1</code>,
then the functionality from the 1990 edition of the POSIX.1 standard
(IEEE Standard 1003.1-1990) is made available.

<p>If you define this macro to a value greater than or equal to <code>2</code>,
then the functionality from the 1992 edition of the POSIX.2 standard
(IEEE Standard 1003.2-1992) is made available.

<p>If you define this macro to a value greater than or equal to <code>199309L</code>,
then the functionality from the 1993 edition of the POSIX.1b standard
(IEEE Standard 1003.1b-1993) is made available.

<p>Greater values for <code>_POSIX_C_SOURCE</code> will enable future extensions. 
The POSIX standards process will define these values as necessary, and
the GNU C Library should support them some time after they become standardized. 
The 1996 edition of POSIX.1 (ISO/IEC 9945-1: 1996) states that
if you define <code>_POSIX_C_SOURCE</code> to a value greater than
or equal to <code>199506L</code>, then the functionality from the 1996
edition is made available. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_BSD_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro, functionality derived from 4.3 BSD Unix is
included as well as the ISO&nbsp;C, POSIX.1, and POSIX.2 material.

<p>Some of the features derived from 4.3 BSD Unix conflict with the
corresponding features specified by the POSIX.1 standard.  If this
macro is defined, the 4.3 BSD definitions take precedence over the
POSIX definitions.

<p>Due to the nature of some of the conflicts between 4.3 BSD and POSIX.1,
you need to use a special <dfn>BSD compatibility library</dfn> when linking
programs compiled for BSD compatibility.  This is because some functions
must be defined in two different ways, one of them in the normal C
library, and one of them in the compatibility library.  If your program
defines <code>_BSD_SOURCE</code>, you must give the option <code>-lbsd-compat</code>
to the compiler or linker when linking the program, to tell it to find
functions in this special compatibility library before looking for them in
the normal C library. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_SVID_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro, functionality derived from SVID is
included as well as the ISO&nbsp;C, POSIX.1, POSIX.2, and X/Open material. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_XOPEN_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left"><b>_XOPEN_SOURCE_EXTENDED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro, functionality described in the X/Open
Portability Guide is included.  This is a superset of the POSIX.1 and
POSIX.2 functionality and in fact <code>_POSIX_SOURCE</code> and
<code>_POSIX_C_SOURCE</code> are automatically defined.

<p>As the unification of all Unices, functionality only available in
BSD and SVID is also included.

<p>If the macro <code>_XOPEN_SOURCE_EXTENDED</code> is also defined, even more
functionality is available.  The extra functions will make all functions
available which are necessary for the X/Open Unix brand.

<p>If the macro <code>_XOPEN_SOURCE</code> has the value 500 this includes
all functionality described so far plus some new definitions from the
Single Unix Specification, version&nbsp;2. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_LARGEFILE_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this macro is defined some extra functions are available which
rectify a few shortcomings in all previous standards.  Specifically,
the functions <code>fseeko</code> and <code>ftello</code> are available.  Without
these functions the difference between the ISO&nbsp;C interface
(<code>fseek</code>, <code>ftell</code>) and the low-level POSIX interface
(<code>lseek</code>) would lead to problems.

<p>This macro was introduced as part of the Large File Support extension (LFS). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_LARGEFILE64_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro an additional set of functions is made available
which enables 32&nbsp;bit systems to use files of sizes beyond
the usual limit of 2GB.  This interface is not available if the system
does not support files that large.  On systems where the natural file
size limit is greater than 2GB (i.e., on 64&nbsp;bit systems) the new
functions are identical to the replaced functions.

<p>The new functionality is made available by a new set of types and
functions which replace the existing ones.  The names of these new objects
contain <code>64</code> to indicate the intention, e.g., <code>off_t</code>
vs. <code>off64_t</code> and <code>fseeko</code> vs. <code>fseeko64</code>.

<p>This macro was introduced as part of the Large File Support extension
(LFS).  It is a transition interface for the period when 64&nbsp;bit
offsets are not generally used (see <code>_FILE_OFFSET_BITS</code>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_FILE_OFFSET_BITS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines which file system interface shall be used, one
replacing the other.  Whereas <code>_LARGEFILE64_SOURCE</code> makes the 64&nbsp;bit interface available as an additional interface,
<code>_FILE_OFFSET_BITS</code> allows the 64&nbsp;bit interface to
replace the old interface.

<p>If <code>_FILE_OFFSET_BITS</code> is undefined, or if it is defined to the
value <code>32</code>, nothing changes.  The 32&nbsp;bit interface is used and
types like <code>off_t</code> have a size of 32&nbsp;bits on 32&nbsp;bit
systems.

<p>If the macro is defined to the value <code>64</code>, the large file interface
replaces the old interface.  I.e., the functions are not made available
under different names (as they are with <code>_LARGEFILE64_SOURCE</code>). 
Instead the old function names now reference the new functions, e.g., a
call to <code>fseeko</code> now indeed calls <code>fseeko64</code>.

<p>This macro should only be selected if the system provides mechanisms for
handling large files.  On 64&nbsp;bit systems this macro has no effect
since the <code>*64</code> functions are identical to the normal functions.

<p>This macro was introduced as part of the Large File Support extension
(LFS). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_ISOC99_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Until the revised ISO&nbsp;C standard is widely adopted the new features
are not automatically enabled.  The GNU libc nevertheless has a complete
implementation of the new standard and to enable the new features the
macro <code>_ISOC99_SOURCE</code> should be defined. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_GNU_SOURCE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define this macro, everything is included: ISO&nbsp;C89, ISO&nbsp;C99, POSIX.1, POSIX.2, BSD, SVID, X/Open, LFS, and GNU extensions.  In
the cases where POSIX.1 conflicts with BSD, the POSIX definitions take
precedence.

<p>If you want to get the full effect of <code>_GNU_SOURCE</code> but make the
BSD definitions take precedence over the POSIX definitions, use this
sequence of definitions:

<br><pre>#define _GNU_SOURCE
#define _BSD_SOURCE
#define _SVID_SOURCE
</pre>

<p>Note that if you do this, you must link your program with the BSD
compatibility library by passing the <code>-lbsd-compat</code> option to the
compiler or linker.  <strong>Note:</strong> If you forget to do this, you may
get very strange errors at run time. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>_REENTRANT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>

<tr>
<td align="left"><b>_THREAD_SAFE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If you define one of these macros, reentrant versions of several functions get
declared.  Some of the functions are specified in POSIX.1c but many others
are only available on a few other systems or are unique to GNU libc. 
The problem is the delay in the standardization of the thread safe C library
interface.

<p>Unlike on some other systems, no special version of the C library must be
used for linking.  There is only one version but while compiling this
it must have been specified to compile as thread safe. 
</td></tr>
</table>

<p>We recommend you use <code>_GNU_SOURCE</code> in new programs.  If you don't
specify the <code>-ansi</code> option to GCC and don't define any of these
macros explicitly, the effect is the same as defining
<code>_POSIX_C_SOURCE</code> to 2 and <code>_POSIX_SOURCE</code>,
<code>_SVID_SOURCE</code>, and <code>_BSD_SOURCE</code> to 1.

<p>When you define a feature test macro to request a larger class of features,
it is harmless to define in addition a feature test macro for a subset of
those features.  For example, if you define <code>_POSIX_C_SOURCE</code>, then
defining <code>_POSIX_SOURCE</code> as well has no effect.  Likewise, if you
define <code>_GNU_SOURCE</code>, then defining either <code>_POSIX_SOURCE</code> or
<code>_POSIX_C_SOURCE</code> or <code>_SVID_SOURCE</code> as well has no effect.

<p>Note, however, that the features of <code>_BSD_SOURCE</code> are not a subset of
any of the other feature test macros supported.  This is because it defines
BSD features that take precedence over the POSIX features that are
requested by the other macros.  For this reason, defining
<code>_BSD_SOURCE</code> in addition to the other feature test macros does have
an effect: it causes the BSD features to take priority over the conflicting
POSIX features.

<p><hr>
Node:<a name="Roadmap%20to%20the%20Manual">Roadmap to the Manual</a>,
Previous:<a rel=previous accesskey=p href="#Using%20the%20Library">Using the Library</a>,
Up:<a rel=up accesskey=u href="#Introduction">Introduction</a>
<br>

<h3>Roadmap to the Manual</h3>

<p>Here is an overview of the contents of the remaining chapters of
this manual.

<ul>
<li><a href="#Error%20Reporting">Error Reporting</a>, describes how errors detected by the library
are reported.

<li><a href="#Language%20Features">Language Features</a>, contains information about library support for
standard parts of the C language, including things like the <code>sizeof</code>
operator and the symbolic constant <code>NULL</code>, how to write functions
accepting variable numbers of arguments, and constants describing the
ranges and other properties of the numerical types.  There is also a simple
debugging mechanism which allows you to put assertions in your code, and
have diagnostic messages printed if the tests fail.

<li><a href="#Memory">Memory</a>, describes the GNU library's facilities for managing and
using virtual and real memory, including dynamic allocation of virtual
memory.  If you do not know in advance how much memory your program
needs, you can allocate it dynamically instead, and manipulate it via
pointers.

<li><a href="#Character%20Handling">Character Handling</a>, contains information about character
classification functions (such as <code>isspace</code>) and functions for
performing case conversion.

<li><a href="#String%20and%20Array%20Utilities">String and Array Utilities</a>, has descriptions of functions for
manipulating strings (null-terminated character arrays) and general
byte arrays, including operations such as copying and comparison.

<li><a href="#I%2fO%20Overview">I/O Overview</a>, gives an overall look at the input and output
facilities in the library, and contains information about basic concepts
such as file names.

<li><a href="#I%2fO%20on%20Streams">I/O on Streams</a>, describes I/O operations involving streams (or
<code>FILE&nbsp;*</code> objects).  These are the normal C library functions
from <code>stdio.h</code>.

<li><a href="#Low-Level%20I%2fO">Low-Level I/O</a>, contains information about I/O operations
on file descriptors.  File descriptors are a lower-level mechanism
specific to the Unix family of operating systems.

<li><a href="#File%20System%20Interface">File System Interface</a>, has descriptions of operations on entire
files, such as functions for deleting and renaming them and for creating
new directories.  This chapter also contains information about how you
can access the attributes of a file, such as its owner and file protection
modes.

<li><a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>, contains information about simple interprocess
communication mechanisms.  Pipes allow communication between two related
processes (such as between a parent and child), while FIFOs allow
communication between processes sharing a common file system on the same
machine.

<li><a href="#Sockets">Sockets</a>, describes a more complicated interprocess communication
mechanism that allows processes running on different machines to
communicate over a network.  This chapter also contains information about
Internet host addressing and how to use the system network databases.

<li><a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>, describes how you can change the
attributes of a terminal device.  If you want to disable echo of
characters typed by the user, for example, read this chapter.

<li><a href="#Mathematics">Mathematics</a>, contains information about the math library
functions.  These include things like random-number generators and
remainder functions on integers as well as the usual trigonometric and
exponential functions on floating-point numbers.

<li><a href="#Arithmetic">Low-Level Arithmetic Functions</a>, describes functions
for simple arithmetic, analysis of floating-point values, and reading
numbers from strings.

<li><a href="#Searching%20and%20Sorting">Searching and Sorting</a>, contains information about functions
for searching and sorting arrays.  You can use these functions on any
kind of array by providing an appropriate comparison function.

<li><a href="#Pattern%20Matching">Pattern Matching</a>, presents functions for matching regular expressions
and shell file name patterns, and for expanding words as the shell does.

<li><a href="#Date%20and%20Time">Date and Time</a>, describes functions for measuring both calendar time
and CPU time, as well as functions for setting alarms and timers.

<li><a href="#Character%20Set%20Handling">Character Set Handling</a>, contains information about manipulating
characters and strings using character sets larger than will fit in
the usual <code>char</code> data type.

<li><a href="#Locales">Locales</a>, describes how selecting a particular country
or language affects the behavior of the library.  For example, the locale
affects collation sequences for strings and how monetary values are
formatted.

<li><a href="#Non-Local%20Exits">Non-Local Exits</a>, contains descriptions of the <code>setjmp</code> and
<code>longjmp</code> functions.  These functions provide a facility for
<code>goto</code>-like jumps which can jump from one function to another.

<li><a href="#Signal%20Handling">Signal Handling</a>, tells you all about signals--what they are,
how to establish a handler that is called when a particular kind of
signal is delivered, and how to prevent signals from arriving during
critical sections of your program.

<li><a href="#Program%20Basics">Program Basics</a>, tells how your programs can access their
command-line arguments and environment variables.

<li><a href="#Processes">Processes</a>, contains information about how to start new processes
and run programs.

<li><a href="#Job%20Control">Job Control</a>, describes functions for manipulating process groups
and the controlling terminal.  This material is probably only of
interest if you are writing a shell or other program which handles job
control specially.

<li><a href="#Name%20Service%20Switch">Name Service Switch</a>, describes the services which are available
for looking up names in the system databases, how to determine which
service is used for which database, and how these services are
implemented so that contributors can design their own services.

<li><a href="#User%20Database">User Database</a>, and <a href="#Group%20Database">Group Database</a>, tell you how to access
the system user and group databases.

<li><a href="#System%20Management">System Management</a>, describes functions for controlling and getting
information about the hardware and software configuration your program
is executing under.

<li><a href="#System%20Configuration">System Configuration</a>, tells you how you can get information about
various operating system limits.  Most of these parameters are provided for
compatibility with POSIX.

<li><a href="#Library%20Summary">Library Summary</a>, gives a summary of all the functions, variables, and
macros in the library, with complete data types and function prototypes,
and says what standard or system each is derived from.

<li><a href="#Maintenance">Maintenance</a>, explains how to build and install the GNU C library on
your system, how to report any bugs you might find, and how to add new
functions or port the library to a new system. 
</ul>

<p>If you already know the name of the facility you are interested in, you
can look it up in <a href="#Library%20Summary">Library Summary</a>.  This gives you a summary of
its syntax and a pointer to where you can find a more detailed
description.  This appendix is particularly useful if you just want to
verify the order and type of arguments to a function, for example.  It
also tells you what standard or system each function, variable, or macro
is derived from.

<p><hr>
Node:<a name="Error%20Reporting">Error Reporting</a>,
Next:<a rel=next accesskey=n href="#Memory">Memory</a>,
Previous:<a rel=previous accesskey=p href="#Introduction">Introduction</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Error Reporting</h2>

<p>Many functions in the GNU C library detect and report error conditions,
and sometimes your programs need to check for these error conditions. 
For example, when you open an input file, you should verify that the
file was actually opened correctly, and print an error message or take
other appropriate action if the call to the library function failed.

<p>This chapter describes how the error reporting facility works.  Your
program should include the header file <code>errno.h</code> to use this
facility.

<ul>
<li><a accesskey=1 href="#Checking%20for%20Errors">Checking for Errors</a>:          How errors are reported by library functions. 
<li><a accesskey=2 href="#Error%20Codes">Error Codes</a>:                  Error code macros; all of these expand
                                 into integer constant values. 
<li><a accesskey=3 href="#Error%20Messages">Error Messages</a>:               Mapping error codes onto error messages. 
</ul>

<p><hr>
Node:<a name="Checking%20for%20Errors">Checking for Errors</a>,
Next:<a rel=next accesskey=n href="#Error%20Codes">Error Codes</a>,
Up:<a rel=up accesskey=u href="#Error%20Reporting">Error Reporting</a>
<br>

<h3>Checking for Errors</h3>

<p>Most library functions return a special value to indicate that they have
failed.  The special value is typically <code>-1</code>, a null pointer, or a
constant such as <code>EOF</code> that is defined for that purpose.  But this
return value tells you only that an error has occurred.  To find out
what kind of error it was, you need to look at the error code stored in the
variable <code>errno</code>.  This variable is declared in the header file
<code>errno.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">volatile int <b>errno</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The variable <code>errno</code> contains the system error number.  You can
change the value of <code>errno</code>.

<p>Since <code>errno</code> is declared <code>volatile</code>, it might be changed
asynchronously by a signal handler; see <a href="#Defining%20Handlers">Defining Handlers</a>. 
However, a properly written signal handler saves and restores the value
of <code>errno</code>, so you generally do not need to worry about this
possibility except when writing signal handlers.

<p>The initial value of <code>errno</code> at program startup is zero.  Many
library functions are guaranteed to set it to certain nonzero values
when they encounter certain kinds of errors.  These error conditions are
listed for each function.  These functions do not change <code>errno</code>
when they succeed; thus, the value of <code>errno</code> after a successful
call is not necessarily zero, and you should not use <code>errno</code> to
determine <em>whether</em> a call failed.  The proper way to do that is
documented for each function.  <em>If</em> the call failed, you can
examine <code>errno</code>.

<p>Many library functions can set <code>errno</code> to a nonzero value as a
result of calling other library functions which might fail.  You should
assume that any library function might alter <code>errno</code> when the
function returns an error.

<p><strong>Portability Note:</strong> ISO&nbsp;C specifies <code>errno</code> as a
"modifiable lvalue" rather than as a variable, permitting it to be
implemented as a macro.  For example, its expansion might involve a
function call, like <code>*_errno&nbsp;()</code>.  In fact, that is what it is
on the GNU system itself.  The GNU library, on non-GNU systems, does
whatever is right for the particular system.

<p>There are a few library functions, like <code>sqrt</code> and <code>atan</code>,
that return a perfectly legitimate value in case of an error, but also
set <code>errno</code>.  For these functions, if you want to check to see
whether an error occurred, the recommended method is to set <code>errno</code>
to zero before calling the function, and then check its value afterward. 
</td></tr>
</table>

<p>All the error codes have symbolic names; they are macros defined in
<code>errno.h</code>.  The names start with <code>E</code> and an upper-case
letter or digit; you should consider names of this form to be
reserved names.  See <a href="#Reserved%20Names">Reserved Names</a>.

<p>The error code values are all positive integers and are all distinct,
with one exception: <code>EWOULDBLOCK</code> and <code>EAGAIN</code> are the same. 
Since the values are distinct, you can use them as labels in a
<code>switch</code> statement; just don't use both <code>EWOULDBLOCK</code> and
<code>EAGAIN</code>.  Your program should not make any other assumptions about
the specific values of these symbolic constants.

<p>The value of <code>errno</code> doesn't necessarily have to correspond to any
of these macros, since some library functions might return other error
codes of their own for other situations.  The only values that are
guaranteed to be meaningful for a particular library function are the
ones that this manual lists for that function.

<p>On non-GNU systems, almost any system call can return <code>EFAULT</code> if
it is given an invalid pointer as an argument.  Since this could only
happen as a result of a bug in your program, and since it will not
happen on the GNU system, we have saved space by not mentioning
<code>EFAULT</code> in the descriptions of individual functions.

<p>In some Unix systems, many system calls can also return <code>EFAULT</code> if
given as an argument a pointer into the stack, and the kernel for some
obscure reason fails in its attempt to extend the stack.  If this ever
happens, you should probably try using statically or dynamically
allocated memory instead of stack memory on that system.

<p><hr>
Node:<a name="Error%20Codes">Error Codes</a>,
Next:<a rel=next accesskey=n href="#Error%20Messages">Error Messages</a>,
Previous:<a rel=previous accesskey=p href="#Checking%20for%20Errors">Checking for Errors</a>,
Up:<a rel=up accesskey=u href="#Error%20Reporting">Error Reporting</a>
<br>

<h3>Error Codes</h3>

<p>The error code macros are defined in the header file <code>errno.h</code>. 
All of them expand into integer constant values.  Some of these error
codes can't occur on the GNU system, but they can occur using the GNU
library on other systems.

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPERM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Operation not permitted; only the owner of the file (or other resource)
or processes with special privileges can perform the operation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOENT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No such file or directory.  This is a "file doesn't exist" error
for ordinary files that are referenced in contexts where they are
expected to already exist. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESRCH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No process matches the specified process ID. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EINTR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Interrupted function call; an asynchronous signal occurred and prevented
completion of the call.  When this happens, you should try the call
again.

<p>You can choose to have functions resume after a signal that is handled,
rather than failing with <code>EINTR</code>; see <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EIO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Input/output error; usually used for physical read or write errors. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENXIO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No such device or address.  The system tried to use the device
represented by a file you specified, and it couldn't find the device. 
This can mean that the device file was installed incorrectly, or that
the physical device is missing or not correctly attached to the
computer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>E2BIG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Argument list too long; used when the arguments passed to a new program
being executed with one of the <code>exec</code> functions (see <a href="#Executing%20a%20File">Executing a File</a>) occupy too much memory space.  This condition never arises in the
GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOEXEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Invalid executable file format.  This condition is detected by the
<code>exec</code> functions; see <a href="#Executing%20a%20File">Executing a File</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Bad file descriptor; for example, I/O on a descriptor that has been
closed or reading from a descriptor open only for writing (or vice
versa). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECHILD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
There are no child processes.  This error happens on operations that are
supposed to manipulate child processes, when there aren't any processes
to manipulate. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDEADLK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Deadlock avoided; allocating a system resource would have resulted in a
deadlock situation.  The system does not guarantee that it will notice
all such situations.  This error means you got lucky and the system
noticed; it might just hang.  See <a href="#File%20Locks">File Locks</a>, for an example. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOMEM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No memory available.  The system cannot allocate more virtual memory
because its capacity is full. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EACCES</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Permission denied; the file permissions do not allow the attempted operation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EFAULT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Bad address; an invalid pointer was detected. 
In the GNU system, this error never happens; you get a signal instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTBLK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A file that isn't a block special file was given in a situation that
requires one.  For example, trying to mount an ordinary file as a file
system in Unix gives this error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBUSY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Resource busy; a system resource that can't be shared is already in use. 
For example, if you try to delete a file that is the root of a currently
mounted filesystem, you get this error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EEXIST</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
File exists; an existing file was specified in a context where it only
makes sense to specify a new file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EXDEV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An attempt to make an improper link across file systems was detected. 
This happens not only when you use <code>link</code> (see <a href="#Hard%20Links">Hard Links</a>) but
also when you rename a file with <code>rename</code> (see <a href="#Renaming%20Files">Renaming Files</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENODEV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The wrong type of device was given to a function that expects a
particular sort of device. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTDIR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A file that isn't a directory was specified when a directory is required. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EISDIR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
File is a directory; you cannot open a directory for writing,
or create or remove hard links to it. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EINVAL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Invalid argument.  This is used to indicate various kinds of problems
with passing the wrong argument to a library function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EMFILE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The current process has too many files open and can't open any more. 
Duplicate descriptors do count toward this limit.

<p>In BSD and GNU, the number of open files is controlled by a resource
limit that can usually be increased.  If you get this error, you might
want to increase the <code>RLIMIT_NOFILE</code> limit or make it unlimited;
see <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENFILE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
There are too many distinct file openings in the entire system.  Note
that any number of linked channels count as just one file opening; see
<a href="#Linked%20Channels">Linked Channels</a>.  This error never occurs in the GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTTY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Inappropriate I/O control operation, such as trying to set terminal
modes on an ordinary file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ETXTBSY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An attempt to execute a file that is currently open for writing, or
write to a file that is currently being executed.  Often using a
debugger to run a program is considered having it open for writing and
will cause this error.  (The name stands for "text file busy".)  This
is not an error in the GNU system; the text is copied as necessary. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EFBIG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
File too big; the size of a file would be larger than allowed by the system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOSPC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No space left on device; write operation on a file failed because the
disk is full. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESPIPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Invalid seek operation (such as on a pipe). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EROFS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An attempt was made to modify something on a read-only file system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EMLINK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Too many links; the link count of a single file would become too large. 
<code>rename</code> can cause this error if the file being renamed already has
as many links as it can take (see <a href="#Renaming%20Files">Renaming Files</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPIPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Broken pipe; there is no process reading from the other end of a pipe. 
Every library function that returns this error code also generates a
<code>SIGPIPE</code> signal; this signal terminates the program if not handled
or blocked.  Thus, your program will never actually see <code>EPIPE</code>
unless it has handled or blocked <code>SIGPIPE</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDOM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Domain error; used by mathematical functions when an argument value does
not fall into the domain over which the function is defined. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ERANGE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Range error; used by mathematical functions when the result value is
not representable because of overflow or underflow. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EAGAIN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Resource temporarily unavailable; the call might work if you try again
later.  The macro <code>EWOULDBLOCK</code> is another name for <code>EAGAIN</code>;
they are always the same in the GNU C library.

<p>This error can happen in a few different situations:

<ul>
<li>An operation that would block was attempted on an object that has
non-blocking mode selected.  Trying the same operation again will block
until some external condition makes it possible to read, write, or
connect (whatever the operation).  You can use <code>select</code> to find out
when the operation will be possible; see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<p><strong>Portability Note:</strong> In many older Unix systems, this condition
was indicated by <code>EWOULDBLOCK</code>, which was a distinct error code
different from <code>EAGAIN</code>.  To make your program portable, you should
check for both codes and treat them the same.

<li>A temporary resource shortage made an operation impossible.  <code>fork</code>
can return this error.  It indicates that the shortage is expected to
pass, so your program can try the call again later and it may succeed. 
It is probably a good idea to delay for a few seconds before trying it
again, to allow time for other processes to release scarce resources. 
Such shortages are usually fairly serious and affect the whole system,
so usually an interactive program should report the error to the user
and return to its command loop. 
</ul>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EWOULDBLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
In the GNU C library, this is another name for <code>EAGAIN</code> (above). 
The values are always the same, on every operating system.

<p>C libraries in many older Unix systems have <code>EWOULDBLOCK</code> as a
separate error code. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EINPROGRESS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An operation that cannot complete immediately was initiated on an object
that has non-blocking mode selected.  Some functions that must always
block (such as <code>connect</code>; see <a href="#Connecting">Connecting</a>) never return
<code>EAGAIN</code>.  Instead, they return <code>EINPROGRESS</code> to indicate that
the operation has begun and will take some time.  Attempts to manipulate
the object before the call completes return <code>EALREADY</code>.  You can
use the <code>select</code> function to find out when the pending operation
has completed; see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EALREADY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An operation is already in progress on an object that has non-blocking
mode selected. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTSOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A file that isn't a socket was specified when a socket is required. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EMSGSIZE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The size of a message sent on a socket was larger than the supported
maximum size. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROTOTYPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket type does not support the requested communications protocol. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOPROTOOPT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You specified a socket option that doesn't make sense for the
particular protocol being used by the socket.  See <a href="#Socket%20Options">Socket Options</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROTONOSUPPORT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket domain does not support the requested communications protocol
(perhaps because the requested protocol is completely invalid). 
See <a href="#Creating%20a%20Socket">Creating a Socket</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESOCKTNOSUPPORT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket type is not supported. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EOPNOTSUPP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The operation you requested is not supported.  Some socket functions
don't make sense for all types of sockets, and others may not be
implemented for all communications protocols.  In the GNU system, this
error can happen for many calls when the object does not support the
particular operation; it is a generic indication that the server knows
nothing to do for that call. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPFNOSUPPORT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket communications protocol family you requested is not supported. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EAFNOSUPPORT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The address family specified for a socket is not supported; it is
inconsistent with the protocol being used on the socket.  See <a href="#Sockets">Sockets</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EADDRINUSE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The requested socket address is already in use.  See <a href="#Socket%20Addresses">Socket Addresses</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EADDRNOTAVAIL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The requested socket address is not available; for example, you tried
to give a socket a name that doesn't match the local host name. 
See <a href="#Socket%20Addresses">Socket Addresses</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENETDOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A socket operation failed because the network was down. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENETUNREACH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A socket operation failed because the subnet containing the remote host
was unreachable. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENETRESET</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A network connection was reset because the remote host crashed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECONNABORTED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A network connection was aborted locally. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECONNRESET</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A network connection was closed for reasons outside the control of the
local host, such as by the remote machine rebooting or an unrecoverable
protocol violation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOBUFS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The kernel's buffers for I/O operations are all in use.  In GNU, this
error is always synonymous with <code>ENOMEM</code>; you may get one or the
other from network operations. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EISCONN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You tried to connect a socket that is already connected. 
See <a href="#Connecting">Connecting</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTCONN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket is not connected to anything.  You get this error when you
try to transmit data over a socket, without first specifying a
destination for the data.  For a connectionless socket (for datagram
protocols, such as UDP), you get <code>EDESTADDRREQ</code> instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDESTADDRREQ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No default destination address was set for the socket.  You get this
error when you try to transmit data over a connectionless socket,
without first specifying a destination for the data with <code>connect</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESHUTDOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The socket has already been shut down. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ETOOMANYREFS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ETIMEDOUT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A socket operation with a specified timeout received no response during
the timeout period. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECONNREFUSED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A remote host refused to allow the network connection (typically because
it is not running the requested service). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELOOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Too many levels of symbolic links were encountered in looking up a file name. 
This often indicates a cycle of symbolic links. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENAMETOOLONG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Filename too long (longer than <code>PATH_MAX</code>; see <a href="#Limits%20for%20Files">Limits for Files</a>) or host name too long (in <code>gethostname</code> or
<code>sethostname</code>; see <a href="#Host%20Identification">Host Identification</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EHOSTDOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The remote host for a requested network connection is down. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EHOSTUNREACH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The remote host for a requested network connection is not reachable. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTEMPTY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Directory not empty, where an empty directory was expected.  Typically,
this error occurs when you are trying to delete a directory. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROCLIM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This means that the per-user limit on new process would be exceeded by
an attempted <code>fork</code>.  See <a href="#Limits%20on%20Resources">Limits on Resources</a>, for details on
the <code>RLIMIT_NPROC</code> limit. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EUSERS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The file quota system is confused because there are too many users. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDQUOT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The user's disk quota was exceeded. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESTALE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Stale NFS file handle.  This indicates an internal confusion in the NFS
system which is due to file system rearrangements on the server host. 
Repairing this condition usually requires unmounting and remounting
the NFS file system on the local host. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EREMOTE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An attempt was made to NFS-mount a remote file system with a file name that
already specifies an NFS-mounted file. 
(This is an error on some operating systems, but we expect it to work
properly on the GNU system, making this error code impossible.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADRPC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ERPCMISMATCH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROGUNAVAIL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROGMISMATCH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROCUNAVAIL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOLCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
No locks available.  This is used by the file locking facilities; see
<a href="#File%20Locks">File Locks</a>.  This error is never generated by the GNU system, but
it can result from an operation to an NFS server running another
operating system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EFTYPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Inappropriate file type or format.  The file was the wrong type for the
operation, or a data file had the wrong format.

<p>On some systems <code>chmod</code> returns this error if you try to set the
sticky bit on a non-directory file; see <a href="#Setting%20Permissions">Setting Permissions</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EAUTH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENEEDAUTH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
??? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOSYS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Function not implemented.  This indicates that the function called is
not implemented at all, either in the C library itself or in the
operating system.  When you get this error, you can be sure that this
particular function will always fail with <code>ENOSYS</code> unless you
install a new version of the C library or the operating system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTSUP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Not supported.  A function returns this error when certain parameter
values are valid, but the functionality they request is not available. 
This can mean that the function does not implement a particular command
or option value or flag bit at all.  For functions that operate on some
object given in a parameter, such as a file descriptor or a port, it
might instead mean that only <em>that specific object</em> (file
descriptor, port, etc.) is unable to support the other parameters given;
different file descriptors might support different ranges of parameter
values.

<p>If the entire function is not available at all in the implementation,
it returns <code>ENOSYS</code> instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EILSEQ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
While decoding a multibyte character the function came along an invalid
or an incomplete sequence of bytes or the given wide character is invalid. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBACKGROUND</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
In the GNU system, servers supporting the <code>term</code> protocol return
this error for certain operations when the caller is not in the
foreground process group of the terminal.  Users do not usually see this
error because functions such as <code>read</code> and <code>write</code> translate
it into a <code>SIGTTIN</code> or <code>SIGTTOU</code> signal.  See <a href="#Job%20Control">Job Control</a>,
for information on process groups and these signals. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDIED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
In the GNU system, opening a file returns this error when the file is
translated by a program and the translator program dies while starting
up, before it has connected to the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The experienced user will know what is wrong. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EGREGIOUS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You did <strong>what</strong>? 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EIEIO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Go home and have a glass of warm, dairy-fresh milk. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EGRATUITOUS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This error code has no purpose. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADMSG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EIDRM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EMULTIHOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENODATA</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOLINK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOMSG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOSR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOSTR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EOVERFLOW</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EPROTO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ETIME</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p><em>The following error codes are defined by the Linux/i386 kernel. 
They are not yet documented.</em>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ERESTART</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECHRNG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EL2NSYNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EL3HLT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EL3RST</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELNRNG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EUNATCH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOCSI</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EL2HLT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EXFULL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOANO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADRQC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADSLT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDEADLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBFONT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENONET</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOPKG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EADV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESRMNT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ECOMM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EDOTDOT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTUNIQ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EBADFD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EREMCHG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELIBACC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELIBBAD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELIBSCN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELIBMAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ELIBEXEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ESTRPIPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EUCLEAN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOTNAM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENAVAIL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EISNAM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EREMOTEIO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ENOMEDIUM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EMEDIUMTYPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
</td></tr>
</table>

<p><hr>
Node:<a name="Error%20Messages">Error Messages</a>,
Previous:<a rel=previous accesskey=p href="#Error%20Codes">Error Codes</a>,
Up:<a rel=up accesskey=u href="#Error%20Reporting">Error Reporting</a>
<br>

<h3>Error Messages</h3>

<p>The library has functions and variables designed to make it easy for
your program to report informative error messages in the customary
format about the failure of a library call.  The functions
<code>strerror</code> and <code>perror</code> give you the standard error message
for a given error code; the variable
<code>program_invocation_short_name</code> gives you convenient access to the
name of the program that encountered the error.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strerror</b><i> (int <var>errnum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strerror</code> function maps the error code (see <a href="#Checking%20for%20Errors">Checking for Errors</a>) specified by the <var>errnum</var> argument to a descriptive error
message string.  The return value is a pointer to this string.

<p>The value <var>errnum</var> normally comes from the variable <code>errno</code>.

<p>You should not modify the string returned by <code>strerror</code>.  Also, if
you make subsequent calls to <code>strerror</code>, the string might be
overwritten.  (But it's guaranteed that no library function ever calls
<code>strerror</code> behind your back.)

<p>The function <code>strerror</code> is declared in <code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strerror_r</b><i> (int <var>errnum</var>, char *<var>buf</var>, size_t <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strerror_r</code> function works like <code>strerror</code> but instead of
returning the error message in a statically allocated buffer shared by
all threads in the process, it returns a private copy for the
thread. This might be either some permanent global data or a message
string in the user supplied buffer starting at <var>buf</var> with the
length of <var>n</var> bytes.

<p>At most <var>n</var> characters are written (including the NUL byte) so it is
up to the user to select the buffer large enough.

<p>This function should always be used in multi-threaded programs since
there is no way to guarantee the string returned by <code>strerror</code>
really belongs to the last call of the current thread.

<p>This function <code>strerror_r</code> is a GNU extension and it is declared in
<code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>perror</b><i> (const char *<var>message</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function prints an error message to the stream <code>stderr</code>;
see <a href="#Standard%20Streams">Standard Streams</a>.  The orientation of <code>stderr</code> is not
changed.

<p>If you call <code>perror</code> with a <var>message</var> that is either a null
pointer or an empty string, <code>perror</code> just prints the error message
corresponding to <code>errno</code>, adding a trailing newline.

<p>If you supply a non-null <var>message</var> argument, then <code>perror</code>
prefixes its output with this string.  It adds a colon and a space
character to separate the <var>message</var> from the error string corresponding
to <code>errno</code>.

<p>The function <code>perror</code> is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p><code>strerror</code> and <code>perror</code> produce the exact same message for any
given error code; the precise text varies from system to system.  On the
GNU system, the messages are fairly short; there are no multi-line
messages or embedded newlines.  Each error message begins with a capital
letter and does not include any terminating punctuation.

<p><strong>Compatibility Note:</strong> The <code>strerror</code> function was introduced
in ISO&nbsp;C89.  Many older C systems do not support this function yet.

<p>Many programs that don't read input from the terminal are designed to
exit if any system call fails.  By convention, the error message from
such a program should start with the program's name, sans directories. 
You can find that name in the variable
<code>program_invocation_short_name</code>; the full file name is stored the
variable <code>program_invocation_name</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>program_invocation_name</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable's value is the name that was used to invoke the program
running in the current process.  It is the same as <code>argv[0]</code>.  Note
that this is not necessarily a useful file name; often it contains no
directory names.  See <a href="#Program%20Arguments">Program Arguments</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>program_invocation_short_name</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable's value is the name that was used to invoke the program
running in the current process, with directory names removed.  (That is
to say, it is the same as <code>program_invocation_name</code> minus
everything up to the last slash, if any.) 
</td></tr>
</table>

<p>The library initialization code sets up both of these variables before
calling <code>main</code>.

<p><strong>Portability Note:</strong> These two variables are GNU extensions.  If
you want your program to work with non-GNU libraries, you must save the
value of <code>argv[0]</code> in <code>main</code>, and then strip off the directory
names yourself.  We added these extensions to make it possible to write
self-contained error-reporting subroutines that require no explicit
cooperation from <code>main</code>.

<p>Here is an example showing how to handle failure to open a file
correctly.  The function <code>open_sesame</code> tries to open the named file
for reading and returns a stream if successful.  The <code>fopen</code>
library function returns a null pointer if it couldn't open the file for
some reason.  In that situation, <code>open_sesame</code> constructs an
appropriate error message using the <code>strerror</code> function, and
terminates the program.  If we were going to make some other library
calls before passing the error code to <code>strerror</code>, we'd have to
save it in a local variable instead, because those other library
functions might overwrite <code>errno</code> in the meantime.

<br><pre>#include &lt;errno.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

FILE *
open_sesame (char *name)
{
  FILE *stream;

  errno = 0;
  stream = fopen (name, "r");
  if (stream == NULL)
    {
      fprintf (stderr, "%s: Couldn't open file %s; %s\n",
               program_invocation_short_name, name, strerror (errno));
      exit (EXIT_FAILURE);
    }
  else
    return stream;
}
</pre>

<p>Using <code>perror</code> has the advantage that the function is portable and
available on all systems implementing ISO&nbsp;C.  But often the text
<code>perror</code> generates is not what is wanted and there is no way to
extend or change what <code>perror</code> does.  The GNU coding standard, for
instance, requires error messages to be preceded by the program name and
programs which read some input files should should provide information
about the input file name and the line number in case an error is
encountered while reading the file.  For these occasions there are two
functions available which are widely used throughout the GNU project. 
These functions are declared in <code>error.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>error</b><i> (int <var>status</var>, int <var>errnum</var>, const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>error</code> function can be used to report general problems during
program execution.  The <var>format</var> argument is a format string just
like those given to the <code>printf</code> family of functions.  The
arguments required for the format can follow the <var>format</var> parameter. 
Just like <code>perror</code>, <code>error</code> also can report an error code in
textual form.  But unlike <code>perror</code> the error value is explicitly
passed to the function in the <var>errnum</var> parameter.  This elimintates
the problem mentioned above that the error reporting function must be
called immediately after the function causing the error since otherwise
<code>errno</code> might have a different value.

<p>The <code>error</code> prints first the program name.  If the application
defined a global variable <code>error_print_progname</code> and points it to a
function this function will be called to print the program name. 
Otherwise the string from the global variable <code>program_name</code> is
used.  The program name is followed by a colon and a space which in turn
is followed by the output produced by the format string.  If the
<var>errnum</var> parameter is non-zero the format string output is followed
by a colon and a space, followed by the error message for the error code
<var>errnum</var>.  In any case is the output terminated with a newline.

<p>The output is directed to the <code>stderr</code> stream.  If the
<code>stderr</code> wasn't oriented before the call it will be narrow-oriented
afterwards.

<p>The function will return unless the <var>status</var> parameter has a
non-zero value.  In this case the function will call <code>exit</code> with
the <var>status</var> value for its parameter and therefore never return.  If
<code>error</code> returns the global variable <code>error_message_count</code> is
incremented by one to keep track of the number of errors reported. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>error_at_line</b><i> (int <var>status</var>, int <var>errnum</var>, const char *<var>fname</var>, unsigned int <var>lineno</var>, const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>error_at_line</code> function is very similar to the <code>error</code>
function.  The only difference are the additional parameters <var>fname</var>
and <var>lineno</var>.  The handling of the other parameters is identical to
that of <code>error</code> except that between the program name and the string
generated by the format string additional text is inserted.

<p>Directly following the program name a colon, followed by the file name
pointer to by <var>fname</var>, another colon, and a value of <var>lineno</var> is
printed.

<p>This additional output of course is meant to be used to locate an error
in an input file (like a programming language source code file etc).

<p>If the global variable <code>error_one_per_line</code> is set to a non-zero
value <code>error_at_line</code> will avoid printing consecutive messages for
the same file anem line.  Repetition which are not directly following
each other are not caught.

<p>Just like <code>error</code> this function only returned if <var>status</var> is
zero.  Otherwise <code>exit</code> is called with the non-zero value.  If
<code>error</code> returns the global variable <code>error_message_count</code> is
incremented by one to keep track of the number of errors reported. 
</td></tr>
</table>

<p>As mentioned above the <code>error</code> and <code>error_at_line</code> functions
can be customized by defining a variable named
<code>error_print_progname</code>.

<p>
<table width="100%">
<tr>
<td align="left">void (* <b>error_print_progname</b><i> ) (void)
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the <code>error_print_progname</code> variable is defined to a non-zero
value the function pointed to is called by <code>error</code> or
<code>error_at_line</code>.  It is expected to print the program name or do
something similarly useful.

<p>The function is expected to be print to the <code>stderr</code> stream and
must be able to handle whatever orientation the stream has.

<p>The variable is global and shared by all threads. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned int <b>error_message_count</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>error_message_count</code> variable is incremented whenever one of
the functions <code>error</code> or <code>error_at_line</code> returns.  The
variable is global and shared by all threads. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>error_one_per_line</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>error_one_per_line</code> variable influences only
<code>error_at_line</code>.  Normally the <code>error_at_line</code> function
creates output for every invocation.  If <code>error_one_per_line</code> is
set to a non-zero value <code>error_at_line</code> keeps track of the last
file name and line number for which an error was reported and avoid
directly following messages for the same file and line.  This variable
is global and shared by all threads. 
</td></tr>
</table>

<p>A program which read some input file and reports errors in it could look
like this:

<br><pre>{
  char *line = NULL;
  size_t len = 0;
  unsigned int lineno = 0;

  error_message_count = 0;
  while (! feof_unlocked (fp))
    {
      ssize_t n = getline (&amp;line, &amp;len, fp);
      if (n &lt;= 0)
        /* End of file or error.  */
        break;
      ++lineno;

      /* Process the line.  */
      <small>...</small>

      if (Detect error in line)
        error_at_line (0, errval, filename, lineno,
                       "some error text %s", some_variable);
    }

  if (error_message_count != 0)
    error (EXIT_FAILURE, 0, "%u errors found", error_message_count);
}
</pre>

<p><code>error</code> and <code>error_at_line</code> are clearly the functions of
choice and enable the programmer to write applications which follow the
GNU coding standard.  The GNU libc additionally contains functions which
are used in BSD for the same purpose.  These functions are declared in
<code>err.h</code>.  It is generally advised to not use these functions.  They
are included only for compatibility.

<p>
<table width="100%">
<tr>
<td align="left">void <b>warn</b><i> (const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>warn</code> function is roughly equivalent to a call like
<br><pre>  error (0, errno, format, the parameters)
</pre>

<p>except that the global variables <code>error</code> respects and modifies
are not used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>vwarn</b><i> (const char *<var>format</var>, va_list)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>vwarn</code> function is just like <code>warn</code> except that the
parameters for the handling of the format string <var>format</var> are passed
in as an value of type <code>va_list</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>warnx</b><i> (const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>warnx</code> function is roughly equivalent to a call like
<br><pre>  error (0, 0, format, the parameters)
</pre>

<p>except that the global variables <code>error</code> respects and modifies
are not used.  The difference to <code>warn</code> is that no error number
string is printed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>vwarnx</b><i> (const char *<var>format</var>, va_list)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>vwarnx</code> function is just like <code>warnx</code> except that the
parameters for the handling of the format string <var>format</var> are passed
in as an value of type <code>va_list</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>err</b><i> (int <var>status</var>, const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>err</code> function is roughly equivalent to a call like
<br><pre>  error (status, errno, format, the parameters)
</pre>

<p>except that the global variables <code>error</code> respects and modifies
are not used and that the program is exited even if <var>status</var> is zero. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>verr</b><i> (int <var>status</var>, const char *<var>format</var>, va_list)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>verr</code> function is just like <code>err</code> except that the
parameters for the handling of the format string <var>format</var> are passed
in as an value of type <code>va_list</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>errx</b><i> (int <var>status</var>, const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>errx</code> function is roughly equivalent to a call like
<br><pre>  error (status, 0, format, the parameters)
</pre>

<p>except that the global variables <code>error</code> respects and modifies
are not used and that the program is exited even if <var>status</var>
is zero.  The difference to <code>err</code> is that no error number
string is printed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>verrx</b><i> (int <var>status</var>, const char *<var>format</var>, va_list)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>verrx</code> function is just like <code>errx</code> except that the
parameters for the handling of the format string <var>format</var> are passed
in as an value of type <code>va_list</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Memory">Memory</a>,
Next:<a rel=next accesskey=n href="#Character%20Handling">Character Handling</a>,
Previous:<a rel=previous accesskey=p href="#Error%20Reporting">Error Reporting</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Virtual Memory Allocation And Paging</h2>

<p>This chapter describes how processes manage and use memory in a system
that uses the GNU C library.

<p>The GNU C Library has several functions for dynamically allocating
virtual memory in various ways.  They vary in generality and in
efficiency.  The library also provides functions for controlling paging
and allocation of real memory.

<ul>
<li><a accesskey=1 href="#Memory%20Concepts">Memory Concepts</a>:              An introduction to concepts and terminology. 
<li><a accesskey=2 href="#Memory%20Allocation">Memory Allocation</a>:            Allocating storage for your program data
<li><a accesskey=3 href="#Locking%20Pages">Locking Pages</a>:                Preventing page faults
<li><a accesskey=4 href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>:    <code>brk</code>, <code>sbrk</code>
</ul>

<p>Memory mapped I/O is not discussed in this chapter.  See <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<p><hr>
Node:<a name="Memory%20Concepts">Memory Concepts</a>,
Next:<a rel=next accesskey=n href="#Memory%20Allocation">Memory Allocation</a>,
Up:<a rel=up accesskey=u href="#Memory">Memory</a>
<br>

<h3>Process Memory Concepts</h3>

<p>One of the most basic resources a process has available to it is memory. 
There are a lot of different ways systems organize memory, but in a
typical one, each process has one linear virtual address space, with
addresses running from zero to some huge maximum.  It need not be
contiguous; i.e.  not all of these addresses actually can be used to
store data.

<p>The virtual memory is divided into pages (4 kilobytes is typical). 
Backing each page of virtual memory is a page of real memory (called a
<dfn>frame</dfn>) or some secondary storage, usually disk space.  The disk
space might be swap space or just some ordinary disk file.  Actually, a
page of all zeroes sometimes has nothing at all backing it - there's
just a flag saying it is all zeroes.

<p>The same frame of real memory or backing store can back multiple virtual
pages belonging to multiple processes.  This is normally the case, for
example, with virtual memory occupied by GNU C library code.  The same
real memory frame containing the <code>printf</code> function backs a virtual
memory page in each of the existing processes that has a <code>printf</code>
call in its program.

<p>In order for a program to access any part of a virtual page, the page
must at that moment be backed by ("connected to") a real frame.  But
because there is usually a lot more virtual memory than real memory, the
pages must move back and forth between real memory and backing store
regularly, coming into real memory when a process needs to access them
and then retreating to backing store when not needed anymore.  This
movement is called <dfn>paging</dfn>.

<p>When a program attempts to access a page which is not at that moment
backed by real memory, this is known as a <dfn>page fault</dfn>.  When a page
fault occurs, the kernel suspends the process, places the page into a
real page frame (this is called "paging in" or "faulting in"), then
resumes the process so that from the process' point of view, the page
was in real memory all along.  In fact, to the process, all pages always
seem to be in real memory.  Except for one thing: the elapsed execution
time of an instruction that would normally be a few nanoseconds is
suddenly much, much, longer (because the kernel normally has to do I/O
to complete the page-in).  For programs sensitive to that, the functions
described in <a href="#Locking%20Pages">Locking Pages</a> can control it.

<p>Within each virtual address space, a process has to keep track of what
is at which addresses, and that process is called memory allocation. 
Allocation usually brings to mind meting out scarce resources, but in
the case of virtual memory, that's not a major goal, because there is
generally much more of it than anyone needs.  Memory allocation within a
process is mainly just a matter of making sure that the same byte of
memory isn't used to store two different things.

<p>Processes allocate memory in two major ways: by exec and
programmatically.  Actually, forking is a third way, but it's not very
interesting.  See <a href="#Creating%20a%20Process">Creating a Process</a>.

<p>Exec is the operation of creating a virtual address space for a process,
loading its basic program into it, and executing the program.  It is
done by the "exec" family of functions (e.g. <code>execl</code>).  The
operation takes a program file (an executable), it allocates space to
load all the data in the executable, loads it, and transfers control to
it.  That data is most notably the instructions of the program (the
<dfn>text</dfn>), but also literals and constants in the program and even
some variables: C variables with the static storage class (see <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>).

<p>Once that program begins to execute, it uses programmatic allocation to
gain additional memory.  In a C program with the GNU C library, there
are two kinds of programmatic allocation: automatic and dynamic. 
See <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>.

<p>Memory-mapped I/O is another form of dynamic virtual memory allocation. 
Mapping memory to a file means declaring that the contents of certain
range of a process' addresses shall be identical to the contents of a
specified regular file.  The system makes the virtual memory initially
contain the contents of the file, and if you modify the memory, the
system writes the same modification to the file.  Note that due to the
magic of virtual memory and page faults, there is no reason for the
system to do I/O to read the file, or allocate real memory for its
contents, until the program accesses the virtual memory. 
See <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<p>Just as it programmatically allocates memory, the program can
programmatically deallocate (<dfn>free</dfn>) it.  You can't free the memory
that was allocated by exec.  When the program exits or execs, you might
say that all its memory gets freed, but since in both cases the address
space ceases to exist, the point is really moot.  See <a href="#Program%20Termination">Program Termination</a>.

<p>A process' virtual address space is divided into segments.  A segment is
a contiguous range of virtual addresses.  Three important segments are:

<ul>

<li>
The <dfn>text segment</dfn> contains a program's instructions and literals and
static constants.  It is allocated by exec and stays the same size for
the life of the virtual address space.

<li>The <dfn>data segment</dfn> is working storage for the program.  It can be
preallocated and preloaded by exec and the process can extend or shrink
it by calling functions as described in See <a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>.  Its lower end is fixed.

<li>The <dfn>stack segment</dfn> contains a program stack.  It grows as the stack
grows, but doesn't shrink when the stack shrinks.

</ul>

<p><hr>
Node:<a name="Memory%20Allocation">Memory Allocation</a>,
Next:<a rel=next accesskey=n href="#Locking%20Pages">Locking Pages</a>,
Previous:<a rel=previous accesskey=p href="#Memory%20Concepts">Memory Concepts</a>,
Up:<a rel=up accesskey=u href="#Memory">Memory</a>
<br>

<h3>Allocating Storage For Program Data</h3>

<p>This section covers how ordinary programs manage storage for their data,
including the famous <code>malloc</code> function and some fancier facilities
special the GNU C library and GNU Compiler.

<ul>
<li><a accesskey=1 href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>:      How to get different kinds of allocation in C. 
<li><a accesskey=2 href="#Unconstrained%20Allocation">Unconstrained Allocation</a>:     The <code>malloc</code> facility allows fully general
		 		 dynamic allocation. 
<li><a accesskey=3 href="#Allocation%20Debugging">Allocation Debugging</a>:         Finding memory leaks and not freed memory. 
<li><a accesskey=4 href="#Obstacks">Obstacks</a>:                     Obstacks are less general than malloc
				 but more efficient and convenient. 
<li><a accesskey=5 href="#Variable%20Size%20Automatic">Variable Size Automatic</a>:      Allocation of variable-sized blocks
				 of automatic storage that are freed when the
				 calling function returns. 
</ul>

<p><hr>
Node:<a name="Memory%20Allocation%20and%20C">Memory Allocation and C</a>,
Next:<a rel=next accesskey=n href="#Unconstrained%20Allocation">Unconstrained Allocation</a>,
Up:<a rel=up accesskey=u href="#Memory%20Allocation">Memory Allocation</a>
<br>

<h4>Memory Allocation in C Programs</h4>

<p>The C language supports two kinds of memory allocation through the
variables in C programs:

<ul>
<li><dfn>Static allocation</dfn> is what happens when you declare a static or
global variable.  Each static or global variable defines one block of
space, of a fixed size.  The space is allocated once, when your program
is started (part of the exec operation), and is never freed.

<li><dfn>Automatic allocation</dfn> happens when you declare an automatic
variable, such as a function argument or a local variable.  The space
for an automatic variable is allocated when the compound statement
containing the declaration is entered, and is freed when that
compound statement is exited.

<p>In GNU C, the size of the automatic storage can be an expression
that varies.  In other C implementations, it must be a constant. 
</ul>

<p>A third important kind of memory allocation, <dfn>dynamic allocation</dfn>,
is not supported by C variables but is available via GNU C library
functions.

<h5>Dynamic Memory Allocation</h5>

<p><dfn>Dynamic memory allocation</dfn> is a technique in which programs
determine as they are running where to store some information.  You need
dynamic allocation when the amount of memory you need, or how long you
continue to need it, depends on factors that are not known before the
program runs.

<p>For example, you may need a block to store a line read from an input
file; since there is no limit to how long a line can be, you must
allocate the memory dynamically and make it dynamically larger as you
read more of the line.

<p>Or, you may need a block for each record or each definition in the input
data; since you can't know in advance how many there will be, you must
allocate a new block for each record or definition as you read it.

<p>When you use dynamic allocation, the allocation of a block of memory is
an action that the program requests explicitly.  You call a function or
macro when you want to allocate space, and specify the size with an
argument.  If you want to free the space, you do so by calling another
function or macro.  You can do these things whenever you want, as often
as you want.

<p>Dynamic allocation is not supported by C variables; there is no storage
class "dynamic", and there can never be a C variable whose value is
stored in dynamically allocated space.  The only way to get dynamically
allocated memory is via a system call (which is generally via a GNU C
library function call), and the only way to refer to dynamically
allocated space is through a pointer.  Because it is less convenient,
and because the actual process of dynamic allocation requires more
computation time, programmers generally use dynamic allocation only when
neither static nor automatic allocation will serve.

<p>For example, if you want to allocate dynamically some space to hold a
<code>struct foobar</code>, you cannot declare a variable of type <code>struct
foobar</code> whose contents are the dynamically allocated space.  But you can
declare a variable of pointer type <code>struct foobar *</code> and assign it the
address of the space.  Then you can use the operators <code>*</code> and
<code>-&gt;</code> on this pointer variable to refer to the contents of the space:

<br><pre>{
  struct foobar *ptr
     = (struct foobar *) malloc (sizeof (struct foobar));
  ptr-&gt;name = x;
  ptr-&gt;next = current_foobar;
  current_foobar = ptr;
}
</pre>

<p><hr>
Node:<a name="Unconstrained%20Allocation">Unconstrained Allocation</a>,
Next:<a rel=next accesskey=n href="#Allocation%20Debugging">Allocation Debugging</a>,
Previous:<a rel=previous accesskey=p href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>,
Up:<a rel=up accesskey=u href="#Memory%20Allocation">Memory Allocation</a>
<br>

<h4>Unconstrained Allocation</h4>

<p>The most general dynamic allocation facility is <code>malloc</code>.  It
allows you to allocate blocks of memory of any size at any time, make
them bigger or smaller at any time, and free the blocks individually at
any time (or never).

<ul>
<li><a accesskey=1 href="#Basic%20Allocation">Basic Allocation</a>:             Simple use of <code>malloc</code>. 
<li><a accesskey=2 href="#Malloc%20Examples">Malloc Examples</a>:              Examples of <code>malloc</code>.  <code>xmalloc</code>. 
<li><a accesskey=3 href="#Freeing%20after%20Malloc">Freeing after Malloc</a>:         Use <code>free</code> to free a block you
				 got with <code>malloc</code>. 
<li><a accesskey=4 href="#Changing%20Block%20Size">Changing Block Size</a>:          Use <code>realloc</code> to make a block
				 bigger or smaller. 
<li><a accesskey=5 href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>:     Use <code>calloc</code> to allocate a
				 block and clear it. 
<li><a accesskey=6 href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>:        Efficiency considerations in use of
				 these functions. 
<li><a accesskey=7 href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>:        Allocating specially aligned memory. 
<li><a accesskey=8 href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>:    Use <code>mallopt</code> to adjust allocation
                                 parameters. 
<li><a accesskey=9 href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>:    Automatic checking for errors. 
<li><a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>:             You can use these hooks for debugging
				 programs that use <code>malloc</code>. 
<li><a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>:         Getting information about how much
				 memory your program is using. 
<li><a href="#Summary%20of%20Malloc">Summary of Malloc</a>:            Summary of <code>malloc</code> and related functions. 
</ul>

<p><hr>
Node:<a name="Basic%20Allocation">Basic Allocation</a>,
Next:<a rel=next accesskey=n href="#Malloc%20Examples">Malloc Examples</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Basic Memory Allocation</h5>

<p>To allocate a block of memory, call <code>malloc</code>.  The prototype for
this function is in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>malloc</b><i> (size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a newly allocated block <var>size</var>
bytes long, or a null pointer if the block could not be allocated. 
</td></tr>
</table>

<p>The contents of the block are undefined; you must initialize it yourself
(or use <code>calloc</code> instead; see <a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>). 
Normally you would cast the value as a pointer to the kind of object
that you want to store in the block.  Here we show an example of doing
so, and of initializing the space with zeros using the library function
<code>memset</code> (see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>):

<br><pre>struct foo *ptr;
<small>...</small>
ptr = (struct foo *) malloc (sizeof (struct foo));
if (ptr == 0) abort ();
memset (ptr, 0, sizeof (struct foo));
</pre>

<p>You can store the result of <code>malloc</code> into any pointer variable
without a cast, because ISO&nbsp;C automatically converts the type
<code>void *</code> to another type of pointer when necessary.  But the cast
is necessary in contexts other than assignment operators or if you might
want your code to run in traditional C.

<p>Remember that when allocating space for a string, the argument to
<code>malloc</code> must be one plus the length of the string.  This is
because a string is terminated with a null character that doesn't count
in the "length" of the string but does need space.  For example:

<br><pre>char *ptr;
<small>...</small>
ptr = (char *) malloc (length + 1);
</pre>

<p>See <a href="#Representation%20of%20Strings">Representation of Strings</a>, for more information about this.

<p><hr>
Node:<a name="Malloc%20Examples">Malloc Examples</a>,
Next:<a rel=next accesskey=n href="#Freeing%20after%20Malloc">Freeing after Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Basic%20Allocation">Basic Allocation</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Examples of <code>malloc</code></h5>

<p>If no more space is available, <code>malloc</code> returns a null pointer. 
You should check the value of <em>every</em> call to <code>malloc</code>.  It is
useful to write a subroutine that calls <code>malloc</code> and reports an
error if the value is a null pointer, returning only if the value is
nonzero.  This function is conventionally called <code>xmalloc</code>.  Here
it is:

<br><pre>void *
xmalloc (size_t size)
{
  register void *value = malloc (size);
  if (value == 0)
    fatal ("virtual memory exhausted");
  return value;
}
</pre>

<p>Here is a real example of using <code>malloc</code> (by way of <code>xmalloc</code>). 
The function <code>savestring</code> will copy a sequence of characters into
a newly allocated null-terminated string:

<br><pre>char *
savestring (const char *ptr, size_t len)
{
  register char *value = (char *) xmalloc (len + 1);
  value[len] = '\0';
  return (char *) memcpy (value, ptr, len);
}
</pre>

<p>The block that <code>malloc</code> gives you is guaranteed to be aligned so
that it can hold any type of data.  In the GNU system, the address is
always a multiple of eight on most systems, and a multiple of 16 on
64-bit systems.  Only rarely is any higher boundary (such as a page
boundary) necessary; for those cases, use <code>memalign</code>,
<code>posix_memalign</code> or <code>valloc</code> (see <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>).

<p>Note that the memory located after the end of the block is likely to be
in use for something else; perhaps a block already allocated by another
call to <code>malloc</code>.  If you attempt to treat the block as longer than
you asked for it to be, you are liable to destroy the data that
<code>malloc</code> uses to keep track of its blocks, or you may destroy the
contents of another block.  If you have already allocated a block and
discover you want it to be bigger, use <code>realloc</code> (see <a href="#Changing%20Block%20Size">Changing Block Size</a>).

<p><hr>
Node:<a name="Freeing%20after%20Malloc">Freeing after Malloc</a>,
Next:<a rel=next accesskey=n href="#Changing%20Block%20Size">Changing Block Size</a>,
Previous:<a rel=previous accesskey=p href="#Malloc%20Examples">Malloc Examples</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Freeing Memory Allocated with <code>malloc</code></h5>

<p>When you no longer need a block that you got with <code>malloc</code>, use the
function <code>free</code> to make the block available to be allocated again. 
The prototype for this function is in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>free</b><i> (void *<var>ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>free</code> function deallocates the block of memory pointed at
by <var>ptr</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>cfree</b><i> (void *<var>ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function does the same thing as <code>free</code>.  It's provided for
backward compatibility with SunOS; you should use <code>free</code> instead. 
</td></tr>
</table>

<p>Freeing a block alters the contents of the block.  <strong>Do not expect to
find any data (such as a pointer to the next block in a chain of blocks) in
the block after freeing it.</strong>  Copy whatever you need out of the block before
freeing it!  Here is an example of the proper way to free all the blocks in
a chain, and the strings that they point to:

<br><pre>struct chain
  {
    struct chain *next;
    char *name;
  }

void
free_chain (struct chain *chain)
{
  while (chain != 0)
    {
      struct chain *next = chain-&gt;next;
      free (chain-&gt;name);
      free (chain);
      chain = next;
    }
}
</pre>

<p>Occasionally, <code>free</code> can actually return memory to the operating
system and make the process smaller.  Usually, all it can do is allow a
later call to <code>malloc</code> to reuse the space.  In the meantime, the
space remains in your program as part of a free-list used internally by
<code>malloc</code>.

<p>There is no point in freeing blocks at the end of a program, because all
of the program's space is given back to the system when the process
terminates.

<p><hr>
Node:<a name="Changing%20Block%20Size">Changing Block Size</a>,
Next:<a rel=next accesskey=n href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>,
Previous:<a rel=previous accesskey=p href="#Freeing%20after%20Malloc">Freeing after Malloc</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Changing the Size of a Block</h5>

<p>Often you do not know for certain how big a block you will ultimately need
at the time you must begin to use the block.  For example, the block might
be a buffer that you use to hold a line being read from a file; no matter
how long you make the buffer initially, you may encounter a line that is
longer.

<p>You can make the block longer by calling <code>realloc</code>.  This function
is declared in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>realloc</b><i> (void *<var>ptr</var>, size_t <var>newsize</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>realloc</code> function changes the size of the block whose address is
<var>ptr</var> to be <var>newsize</var>.

<p>Since the space after the end of the block may be in use, <code>realloc</code>
may find it necessary to copy the block to a new address where more free
space is available.  The value of <code>realloc</code> is the new address of the
block.  If the block needs to be moved, <code>realloc</code> copies the old
contents.

<p>If you pass a null pointer for <var>ptr</var>, <code>realloc</code> behaves just
like <code>malloc (<var>newsize</var>)</code>.  This can be convenient, but beware
that older implementations (before ISO&nbsp;C) may not support this
behavior, and will probably crash when <code>realloc</code> is passed a null
pointer. 
</td></tr>
</table>

<p>Like <code>malloc</code>, <code>realloc</code> may return a null pointer if no
memory space is available to make the block bigger.  When this happens,
the original block is untouched; it has not been modified or relocated.

<p>In most cases it makes no difference what happens to the original block
when <code>realloc</code> fails, because the application program cannot continue
when it is out of memory, and the only thing to do is to give a fatal error
message.  Often it is convenient to write and use a subroutine,
conventionally called <code>xrealloc</code>, that takes care of the error message
as <code>xmalloc</code> does for <code>malloc</code>:

<br><pre>void *
xrealloc (void *ptr, size_t size)
{
  register void *value = realloc (ptr, size);
  if (value == 0)
    fatal ("Virtual memory exhausted");
  return value;
}
</pre>

<p>You can also use <code>realloc</code> to make a block smaller.  The reason you
would do this is to avoid tying up a lot of memory space when only a little
is needed. 
In several allocation implementations, making a block smaller sometimes
necessitates copying it, so it can fail if no other space is available.

<p>If the new size you specify is the same as the old size, <code>realloc</code>
is guaranteed to change nothing and return the same address that you gave.

<p><hr>
Node:<a name="Allocating%20Cleared%20Space">Allocating Cleared Space</a>,
Next:<a rel=next accesskey=n href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Changing%20Block%20Size">Changing Block Size</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Allocating Cleared Space</h5>

<p>The function <code>calloc</code> allocates memory and clears it to zero.  It
is declared in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>calloc</b><i> (size_t <var>count</var>, size_t <var>eltsize</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function allocates a block long enough to contain a vector of
<var>count</var> elements, each of size <var>eltsize</var>.  Its contents are
cleared to zero before <code>calloc</code> returns. 
</td></tr>
</table>

<p>You could define <code>calloc</code> as follows:

<br><pre>void *
calloc (size_t count, size_t eltsize)
{
  size_t size = count * eltsize;
  void *value = malloc (size);
  if (value != 0)
    memset (value, 0, size);
  return value;
}
</pre>

<p>But in general, it is not guaranteed that <code>calloc</code> calls
<code>malloc</code> internally.  Therefore, if an application provides its own
<code>malloc</code>/<code>realloc</code>/<code>free</code> outside the C library, it
should always define <code>calloc</code>, too.

<p><hr>
Node:<a name="Efficiency%20and%20Malloc">Efficiency and Malloc</a>,
Next:<a rel=next accesskey=n href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>,
Previous:<a rel=previous accesskey=p href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Efficiency Considerations for <code>malloc</code></h5>

<p>As opposed to other versions, the <code>malloc</code> in the GNU C Library
does not round up block sizes to powers of two, neither for large nor
for small sizes.  Neighboring chunks can be coalesced on a <code>free</code>
no matter what their size is.  This makes the implementation suitable
for all kinds of allocation patterns without generally incurring high
memory waste through fragmentation.

<p>Very large blocks (much larger than a page) are allocated with
<code>mmap</code> (anonymous or via <code>/dev/zero</code>) by this implementation. 
This has the great advantage that these chunks are returned to the
system immediately when they are freed.  Therefore, it cannot happen
that a large chunk becomes "locked" in between smaller ones and even
after calling <code>free</code> wastes memory.  The size threshold for
<code>mmap</code> to be used can be adjusted with <code>mallopt</code>.  The use of
<code>mmap</code> can also be disabled completely.

<p><hr>
Node:<a name="Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>,
Next:<a rel=next accesskey=n href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Allocating Aligned Memory Blocks</h5>

<p>The address of a block returned by <code>malloc</code> or <code>realloc</code> in
the GNU system is always a multiple of eight (or sixteen on 64-bit
systems).  If you need a block whose address is a multiple of a higher
power of two than that, use <code>memalign</code>, <code>posix_memalign</code>, or
<code>valloc</code>.  These functions are declared in <code>stdlib.h</code>.

<p>With the GNU library, you can use <code>free</code> to free the blocks that
<code>memalign</code>, <code>posix_memalign</code>, and <code>valloc</code> return.  That
does not work in BSD, however--BSD does not provide any way to free
such blocks.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memalign</b><i> (size_t <var>boundary</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>memalign</code> function allocates a block of <var>size</var> bytes whose
address is a multiple of <var>boundary</var>.  The <var>boundary</var> must be a
power of two!  The function <code>memalign</code> works by allocating a
somewhat larger block, and then returning an address within the block
that is on the specified boundary. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>posix_memalign</b><i> (void **<var>memptr</var>, size_t <var>alignment</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>posix_memalign</code> function is similar to the <code>memalign</code>
function in that it returns a buffer of <var>size</var> bytes aligned to a
multiple of <var>alignment</var>.  But it adds one requirement to the
parameter <var>alignment</var>: the value must be a power of two multiple of
<code>sizeof (void *)</code>.

<p>If the function succeeds in allocation memory a pointer to the allocated
memory is returned in <code>*<var>memptr</var></code> and the return value is zero. 
Otherwise the function returns an error value indicating the problem.

<p>This function was introduced in POSIX 1003.1d. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>valloc</b><i> (size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Using <code>valloc</code> is like using <code>memalign</code> and passing the page size
as the value of the second argument.  It is implemented like this:

<br><pre>void *
valloc (size_t size)
{
  return memalign (getpagesize (), size);
}
</pre>

<a href="#Query%20Memory%20Parameters">Query Memory Parameters</a> for more information about the memory
subsystem. 
</td></tr>
</table>

<p><hr>
Node:<a name="Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>,
Next:<a rel=next accesskey=n href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>,
Previous:<a rel=previous accesskey=p href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Malloc Tunable Parameters</h5>

<p>You can adjust some parameters for dynamic memory allocation with the
<code>mallopt</code> function.  This function is the general SVID/XPG
interface, defined in <code>malloc.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mallopt</b><i> (int <var>param</var>, int <var>value</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When calling <code>mallopt</code>, the <var>param</var> argument specifies the
parameter to be set, and <var>value</var> the new value to be set.  Possible
choices for <var>param</var>, as defined in <code>malloc.h</code>, are:

<dl>
<dt><code>M_TRIM_THRESHOLD</code>
<dd>This is the minimum size (in bytes) of the top-most, releasable chunk
that will cause <code>sbrk</code> to be called with a negative argument in
order to return memory to the system. 
<br><dt><code>M_TOP_PAD</code>
<dd>This parameter determines the amount of extra memory to obtain from the
system when a call to <code>sbrk</code> is required.  It also specifies the
number of bytes to retain when shrinking the heap by calling <code>sbrk</code>
with a negative argument.  This provides the necessary hysteresis in
heap size such that excessive amounts of system calls can be avoided. 
<br><dt><code>M_MMAP_THRESHOLD</code>
<dd>All chunks larger than this value are allocated outside the normal
heap, using the <code>mmap</code> system call.  This way it is guaranteed
that the memory for these chunks can be returned to the system on
<code>free</code>. 
<br><dt><code>M_MMAP_MAX</code>
<dd>The maximum number of chunks to allocate with <code>mmap</code>.  Setting this
to zero disables all use of <code>mmap</code>. 
</dl>

</td></tr>
</table>

<p><hr>
Node:<a name="Heap%20Consistency%20Checking">Heap Consistency Checking</a>,
Next:<a rel=next accesskey=n href="#Hooks%20for%20Malloc">Hooks for Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Heap Consistency Checking</h5>

<p>You can ask <code>malloc</code> to check the consistency of dynamic memory by
using the <code>mcheck</code> function.  This function is a GNU extension,
declared in <code>mcheck.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mcheck</b><i> (void (*<var>abortfn</var>) (enum mcheck_status <var>status</var>))
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Calling <code>mcheck</code> tells <code>malloc</code> to perform occasional
consistency checks.  These will catch things such as writing
past the end of a block that was allocated with <code>malloc</code>.

<p>The <var>abortfn</var> argument is the function to call when an inconsistency
is found.  If you supply a null pointer, then <code>mcheck</code> uses a
default function which prints a message and calls <code>abort</code>
(see <a href="#Aborting%20a%20Program">Aborting a Program</a>).  The function you supply is called with
one argument, which says what sort of inconsistency was detected; its
type is described below.

<p>It is too late to begin allocation checking once you have allocated
anything with <code>malloc</code>.  So <code>mcheck</code> does nothing in that
case.  The function returns <code>-1</code> if you call it too late, and
<code>0</code> otherwise (when it is successful).

<p>The easiest way to arrange to call <code>mcheck</code> early enough is to use
the option <code>-lmcheck</code> when you link your program; then you don't
need to modify your program source at all.  Alternatively you might use
a debugger to insert a call to <code>mcheck</code> whenever the program is
started, for example these gdb commands will automatically call <code>mcheck</code>
whenever the program starts:

<br><pre>(gdb) break main
Breakpoint 1, main (argc=2, argv=0xbffff964) at whatever.c:10
(gdb) command 1
Type commands for when breakpoint 1 is hit, one per line.
End with a line saying just "end".
&gt;call mcheck(0)
&gt;continue
&gt;end
(gdb) ...
</pre>

<p>This will however only work if no initialization function of any object
involved calls any of the <code>malloc</code> functions since <code>mcheck</code>
must be called before the first such function.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">enum mcheck_status <b>mprobe</b><i> (void *<var>pointer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mprobe</code> function lets you explicitly check for inconsistencies
in a particular allocated block.  You must have already called
<code>mcheck</code> at the beginning of the program, to do its occasional
checks; calling <code>mprobe</code> requests an additional consistency check
to be done at the time of the call.

<p>The argument <var>pointer</var> must be a pointer returned by <code>malloc</code>
or <code>realloc</code>.  <code>mprobe</code> returns a value that says what
inconsistency, if any, was found.  The values are described below. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>enum mcheck_status</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This enumerated type describes what kind of inconsistency was detected
in an allocated block, if any.  Here are the possible values:

<dl>
<dt><code>MCHECK_DISABLED</code>
<dd><code>mcheck</code> was not called before the first allocation. 
No consistency checking can be done. 
<br><dt><code>MCHECK_OK</code>
<dd>No inconsistency detected. 
<br><dt><code>MCHECK_HEAD</code>
<dd>The data immediately before the block was modified. 
This commonly happens when an array index or pointer
is decremented too far. 
<br><dt><code>MCHECK_TAIL</code>
<dd>The data immediately after the block was modified. 
This commonly happens when an array index or pointer
is incremented too far. 
<br><dt><code>MCHECK_FREE</code>
<dd>The block was already freed. 
</dl>
</td></tr>
</table>

<p>Another possibility to check for and guard against bugs in the use of
<code>malloc</code>, <code>realloc</code> and <code>free</code> is to set the environment
variable <code>MALLOC_CHECK_</code>.  When <code>MALLOC_CHECK_</code> is set, a
special (less efficient) implementation is used which is designed to be
tolerant against simple errors, such as double calls of <code>free</code> with
the same argument, or overruns of a single byte (off-by-one bugs).  Not
all such errors can be protected against, however, and memory leaks can
result.  If <code>MALLOC_CHECK_</code> is set to <code>0</code>, any detected heap
corruption is silently ignored; if set to <code>1</code>, a diagnostic is
printed on <code>stderr</code>; if set to <code>2</code>, <code>abort</code> is called
immediately.  This can be useful because otherwise a crash may happen
much later, and the true cause for the problem is then very hard to
track down.

<p>There is one problem with <code>MALLOC_CHECK_</code>: in SUID or SGID binaries
it could possibly be exploited since diverging from the normal programs
behavior it now writes something to the standard error descriptor. 
Therefore the use of <code>MALLOC_CHECK_</code> is disabled by default for
SUID and SGID binaries.  It can be enabled again by the system
administrator by adding a file <code>/etc/suid-debug</code> (the content is
not important it could be empty).

<p>So, what's the difference between using <code>MALLOC_CHECK_</code> and linking
with <code>-lmcheck</code>?  <code>MALLOC_CHECK_</code> is orthogonal with respect to
<code>-lmcheck</code>.  <code>-lmcheck</code> has been added for backward
compatibility.  Both <code>MALLOC_CHECK_</code> and <code>-lmcheck</code> should
uncover the same bugs - but using <code>MALLOC_CHECK_</code> you don't need to
recompile your application.

<p><hr>
Node:<a name="Hooks%20for%20Malloc">Hooks for Malloc</a>,
Next:<a rel=next accesskey=n href="#Statistics%20of%20Malloc">Statistics of Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Memory Allocation Hooks</h5>

<p>The GNU C library lets you modify the behavior of <code>malloc</code>,
<code>realloc</code>, and <code>free</code> by specifying appropriate hook
functions.  You can use these hooks to help you debug programs that use
dynamic memory allocation, for example.

<p>The hook variables are declared in <code>malloc.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>__malloc_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to the function that
<code>malloc</code> uses whenever it is called.  You should define this
function to look like <code>malloc</code>; that is, like:

<br><pre>void *<var>function</var> (size_t <var>size</var>, const void *<var>caller</var>)
</pre>

<p>The value of <var>caller</var> is the return address found on the stack when
the <code>malloc</code> function was called.  This value allows you to trace
the memory consumption of the program. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>__realloc_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to function that <code>realloc</code>
uses whenever it is called.  You should define this function to look
like <code>realloc</code>; that is, like:

<br><pre>void *<var>function</var> (void *<var>ptr</var>, size_t <var>size</var>, const void *<var>caller</var>)
</pre>

<p>The value of <var>caller</var> is the return address found on the stack when
the <code>realloc</code> function was called.  This value allows you to trace the
memory consumption of the program. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>__free_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to function that <code>free</code>
uses whenever it is called.  You should define this function to look
like <code>free</code>; that is, like:

<br><pre>void <var>function</var> (void *<var>ptr</var>, const void *<var>caller</var>)
</pre>

<p>The value of <var>caller</var> is the return address found on the stack when
the <code>free</code> function was called.  This value allows you to trace the
memory consumption of the program. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>__memalign_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to function that <code>memalign</code>
uses whenever it is called.  You should define this function to look
like <code>memalign</code>; that is, like:

<br><pre>void *<var>function</var> (size_t <var>size</var>, size_t <var>alignment</var>, const void *<var>caller</var>)
</pre>

<p>The value of <var>caller</var> is the return address found on the stack when
the <code>memalign</code> function was called.  This value allows you to trace the
memory consumption of the program. 
</td></tr>
</table>

<p>You must make sure that the function you install as a hook for one of
these functions does not call that function recursively without restoring
the old value of the hook first!  Otherwise, your program will get stuck
in an infinite recursion.  Before calling the function recursively, one
should make sure to restore all the hooks to their previous value.  When
coming back from the recursive call, all the hooks should be resaved
since a hook might modify itself.

<p>
<table width="100%">
<tr>
<td align="left"><b>__malloc_initialize_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to a function that is called
once when the malloc implementation is initialized.  This is a weak
variable, so it can be overridden in the application with a definition
like the following:

<br><pre>void (*<var>__malloc_initialize_hook</var>) (void) = my_init_hook;
</pre>
</td></tr>
</table>

<p>An issue to look out for is the time at which the malloc hook functions
can be safely installed.  If the hook functions call the malloc-related
functions recursively, it is necessary that malloc has already properly
initialized itself at the time when <code>__malloc_hook</code> etc. is
assigned to.  On the other hand, if the hook functions provide a
complete malloc implementation of their own, it is vital that the hooks
are assigned to <em>before</em> the very first <code>malloc</code> call has
completed, because otherwise a chunk obtained from the ordinary,
un-hooked malloc may later be handed to <code>__free_hook</code>, for example.

<p>In both cases, the problem can be solved by setting up the hooks from
within a user-defined function pointed to by
<code>__malloc_initialize_hook</code>--then the hooks will be set up safely
at the right time.

<p>Here is an example showing how to use <code>__malloc_hook</code> and
<code>__free_hook</code> properly.  It installs a function that prints out
information every time <code>malloc</code> or <code>free</code> is called.  We just
assume here that <code>realloc</code> and <code>memalign</code> are not used in our
program.

<br><pre>/* Prototypes for __malloc_hook, __free_hook */
#include &lt;malloc.h&gt;

/* Prototypes for our hooks.  */
static void *my_init_hook (void);
static void *my_malloc_hook (size_t, const void *);
static void my_free_hook (void*, const void *);

/* Override initializing hook from the C library. */
void (*__malloc_initialize_hook) (void) = my_init_hook;

static void
my_init_hook (void)
{
  old_malloc_hook = __malloc_hook;
  old_free_hook = __free_hook;
  __malloc_hook = my_malloc_hook;
  __free_hook = my_free_hook;
}

static void *
my_malloc_hook (size_t size, const void *caller)
{
  void *result;
  /* Restore all old hooks */
  __malloc_hook = old_malloc_hook;
  __free_hook = old_free_hook;
  /* Call recursively */
  result = malloc (size);
  /* Save underlying hooks */
  old_malloc_hook = __malloc_hook;
  old_free_hook = __free_hook;
  /* <code>printf</code> might call <code>malloc</code>, so protect it too. */
  printf ("malloc (%u) returns %p\n", (unsigned int) size, result);
  /* Restore our own hooks */
  __malloc_hook = my_malloc_hook;
  __free_hook = my_free_hook;
  return result;
}

static void *
my_free_hook (void *ptr, const void *caller)
{
  /* Restore all old hooks */
  __malloc_hook = old_malloc_hook;
  __free_hook = old_free_hook;
  /* Call recursively */
  free (ptr);
  /* Save underlying hooks */
  old_malloc_hook = __malloc_hook;
  old_free_hook = __free_hook;
  /* <code>printf</code> might call <code>free</code>, so protect it too. */
  printf ("freed pointer %p\n", ptr);
  /* Restore our own hooks */
  __malloc_hook = my_malloc_hook;
  __free_hook = my_free_hook;
}

main ()
{
  ...
}
</pre>

<p>The <code>mcheck</code> function (see <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>) works by
installing such hooks.

<p><hr>
Node:<a name="Statistics%20of%20Malloc">Statistics of Malloc</a>,
Next:<a rel=next accesskey=n href="#Summary%20of%20Malloc">Summary of Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Hooks%20for%20Malloc">Hooks for Malloc</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Statistics for Memory Allocation with <code>malloc</code></h5>

<p>You can get information about dynamic memory allocation by calling the
<code>mallinfo</code> function.  This function and its associated data type
are declared in <code>malloc.h</code>; they are an extension of the standard
SVID/XPG version.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct mallinfo</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure type is used to return information about the dynamic
memory allocator.  It contains the following members:

<dl>
<dt><code>int arena</code>
<dd>This is the total size of memory allocated with <code>sbrk</code> by
<code>malloc</code>, in bytes.

<br><dt><code>int ordblks</code>
<dd>This is the number of chunks not in use.  (The memory allocator
internally gets chunks of memory from the operating system, and then
carves them up to satisfy individual <code>malloc</code> requests; see
<a href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>.)

<br><dt><code>int smblks</code>
<dd>This field is unused.

<br><dt><code>int hblks</code>
<dd>This is the total number of chunks allocated with <code>mmap</code>.

<br><dt><code>int hblkhd</code>
<dd>This is the total size of memory allocated with <code>mmap</code>, in bytes.

<br><dt><code>int usmblks</code>
<dd>This field is unused.

<br><dt><code>int fsmblks</code>
<dd>This field is unused.

<br><dt><code>int uordblks</code>
<dd>This is the total size of memory occupied by chunks handed out by
<code>malloc</code>.

<br><dt><code>int fordblks</code>
<dd>This is the total size of memory occupied by free (not in use) chunks.

<br><dt><code>int keepcost</code>
<dd>This is the size of the top-most releasable chunk that normally
borders the end of the heap (i.e. the high end of the virtual address
space's data segment).

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct mallinfo <b>mallinfo</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns information about the current dynamic memory usage
in a structure of type <code>struct mallinfo</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Summary%20of%20Malloc">Summary of Malloc</a>,
Previous:<a rel=previous accesskey=p href="#Statistics%20of%20Malloc">Statistics of Malloc</a>,
Up:<a rel=up accesskey=u href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<br>

<h5>Summary of <code>malloc</code>-Related Functions</h5>

<p>Here is a summary of the functions that work with <code>malloc</code>:

<dl>
<dt><code>void *malloc (size_t <var>size</var>)</code>
<dd>Allocate a block of <var>size</var> bytes.  See <a href="#Basic%20Allocation">Basic Allocation</a>.

<br><dt><code>void free (void *<var>addr</var>)</code>
<dd>Free a block previously allocated by <code>malloc</code>.  See <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>.

<br><dt><code>void *realloc (void *<var>addr</var>, size_t <var>size</var>)</code>
<dd>Make a block previously allocated by <code>malloc</code> larger or smaller,
possibly by copying it to a new location.  See <a href="#Changing%20Block%20Size">Changing Block Size</a>.

<br><dt><code>void *calloc (size_t <var>count</var>, size_t <var>eltsize</var>)</code>
<dd>Allocate a block of <var>count</var> * <var>eltsize</var> bytes using
<code>malloc</code>, and set its contents to zero.  See <a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>.

<br><dt><code>void *valloc (size_t <var>size</var>)</code>
<dd>Allocate a block of <var>size</var> bytes, starting on a page boundary. 
See <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>.

<br><dt><code>void *memalign (size_t <var>size</var>, size_t <var>boundary</var>)</code>
<dd>Allocate a block of <var>size</var> bytes, starting on an address that is a
multiple of <var>boundary</var>.  See <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>.

<br><dt><code>int mallopt (int <var>param</var>, int <var>value</var>)</code>
<dd>Adjust a tunable parameter.  See <a href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>.

<br><dt><code>int mcheck (void (*<var>abortfn</var>) (void))</code>
<dd>Tell <code>malloc</code> to perform occasional consistency checks on
dynamically allocated memory, and to call <var>abortfn</var> when an
inconsistency is found.  See <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>.

<br><dt><code>void *(*__malloc_hook) (size_t <var>size</var>, const void *<var>caller</var>)</code>
<dd>A pointer to a function that <code>malloc</code> uses whenever it is called.

<br><dt><code>void *(*__realloc_hook) (void *<var>ptr</var>, size_t <var>size</var>, const void *<var>caller</var>)</code>
<dd>A pointer to a function that <code>realloc</code> uses whenever it is called.

<br><dt><code>void (*__free_hook) (void *<var>ptr</var>, const void *<var>caller</var>)</code>
<dd>A pointer to a function that <code>free</code> uses whenever it is called.

<br><dt><code>void (*__memalign_hook) (size_t <var>size</var>, size_t <var>alignment</var>, const void *<var>caller</var>)</code>
<dd>A pointer to a function that <code>memalign</code> uses whenever it is called.

<br><dt><code>struct mallinfo mallinfo (void)</code>
<dd>Return information about the current dynamic memory usage. 
See <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>. 
</dl>

<p><hr>
Node:<a name="Allocation%20Debugging">Allocation Debugging</a>,
Next:<a rel=next accesskey=n href="#Obstacks">Obstacks</a>,
Previous:<a rel=previous accesskey=p href="#Unconstrained%20Allocation">Unconstrained Allocation</a>,
Up:<a rel=up accesskey=u href="#Memory%20Allocation">Memory Allocation</a>
<br>

<h4>Allocation Debugging</h4>

<p>A complicated task when programming with languages which do not use
garbage collected dynamic memory allocation is to find memory leaks. 
Long running programs must assure that dynamically allocated objects are
freed at the end of their lifetime.  If this does not happen the system
runs out of memory, sooner or later.

<p>The <code>malloc</code> implementation in the GNU C library provides some
simple means to detect such leaks and obtain some information to find
the location.  To do this the application must be started in a special
mode which is enabled by an environment variable.  There are no speed
penalties for the program if the debugging mode is not enabled.

<ul>
<li><a accesskey=1 href="#Tracing%20malloc">Tracing malloc</a>:                How to install the tracing functionality. 
<li><a accesskey=2 href="#Using%20the%20Memory%20Debugger">Using the Memory Debugger</a>:     Example programs excerpts. 
<li><a accesskey=3 href="#Tips%20for%20the%20Memory%20Debugger">Tips for the Memory Debugger</a>:  Some more or less clever ideas. 
<li><a accesskey=4 href="#Interpreting%20the%20traces">Interpreting the traces</a>:       What do all these lines mean? 
</ul>

<p><hr>
Node:<a name="Tracing%20malloc">Tracing malloc</a>,
Next:<a rel=next accesskey=n href="#Using%20the%20Memory%20Debugger">Using the Memory Debugger</a>,
Up:<a rel=up accesskey=u href="#Allocation%20Debugging">Allocation Debugging</a>
<br>

<h5>How to install the tracing functionality</h5>

<p>
<table width="100%">
<tr>
<td align="left">void <b>mtrace</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When the <code>mtrace</code> function is called it looks for an environment
variable named <code>MALLOC_TRACE</code>.  This variable is supposed to
contain a valid file name.  The user must have write access.  If the
file already exists it is truncated.  If the environment variable is not
set or it does not name a valid file which can be opened for writing
nothing is done.  The behavior of <code>malloc</code> etc. is not changed. 
For obvious reasons this also happens if the application is installed
with the SUID or SGID bit set.

<p>If the named file is successfully opened, <code>mtrace</code> installs special
handlers for the functions <code>malloc</code>, <code>realloc</code>, and
<code>free</code> (see <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>).  From then on, all uses of these
functions are traced and protocolled into the file.  There is now of
course a speed penalty for all calls to the traced functions so tracing
should not be enabled during normal use.

<p>This function is a GNU extension and generally not available on other
systems.  The prototype can be found in <code>mcheck.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>muntrace</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>muntrace</code> function can be called after <code>mtrace</code> was used
to enable tracing the <code>malloc</code> calls.  If no (successful) call of
<code>mtrace</code> was made <code>muntrace</code> does nothing.

<p>Otherwise it deinstalls the handlers for <code>malloc</code>, <code>realloc</code>,
and <code>free</code> and then closes the protocol file.  No calls are
protocolled anymore and the program runs again at full speed.

<p>This function is a GNU extension and generally not available on other
systems.  The prototype can be found in <code>mcheck.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Using%20the%20Memory%20Debugger">Using the Memory Debugger</a>,
Next:<a rel=next accesskey=n href="#Tips%20for%20the%20Memory%20Debugger">Tips for the Memory Debugger</a>,
Previous:<a rel=previous accesskey=p href="#Tracing%20malloc">Tracing malloc</a>,
Up:<a rel=up accesskey=u href="#Allocation%20Debugging">Allocation Debugging</a>
<br>

<h5>Example program excerpts</h5>

<p>Even though the tracing functionality does not influence the runtime
behavior of the program it is not a good idea to call <code>mtrace</code> in
all programs.  Just imagine that you debug a program using <code>mtrace</code>
and all other programs used in the debugging session also trace their
<code>malloc</code> calls.  The output file would be the same for all programs
and thus is unusable.  Therefore one should call <code>mtrace</code> only if
compiled for debugging.  A program could therefore start like this:

<br><pre>#include &lt;mcheck.h&gt;

int
main (int argc, char *argv[])
{
#ifdef DEBUGGING
  mtrace ();
#endif
  <small>...</small>
}
</pre>

<p>This is all what is needed if you want to trace the calls during the
whole runtime of the program.  Alternatively you can stop the tracing at
any time with a call to <code>muntrace</code>.  It is even possible to restart
the tracing again with a new call to <code>mtrace</code>.  But this can cause
unreliable results since there may be calls of the functions which are
not called.  Please note that not only the application uses the traced
functions, also libraries (including the C library itself) use these
functions.

<p>This last point is also why it is no good idea to call <code>muntrace</code>
before the program terminated.  The libraries are informed about the
termination of the program only after the program returns from
<code>main</code> or calls <code>exit</code> and so cannot free the memory they use
before this time.

<p>So the best thing one can do is to call <code>mtrace</code> as the very first
function in the program and never call <code>muntrace</code>.  So the program
traces almost all uses of the <code>malloc</code> functions (except those
calls which are executed by constructors of the program or used
libraries).

<p><hr>
Node:<a name="Tips%20for%20the%20Memory%20Debugger">Tips for the Memory Debugger</a>,
Next:<a rel=next accesskey=n href="#Interpreting%20the%20traces">Interpreting the traces</a>,
Previous:<a rel=previous accesskey=p href="#Using%20the%20Memory%20Debugger">Using the Memory Debugger</a>,
Up:<a rel=up accesskey=u href="#Allocation%20Debugging">Allocation Debugging</a>
<br>

<h5>Some more or less clever ideas</h5>

<p>You know the situation.  The program is prepared for debugging and in
all debugging sessions it runs well.  But once it is started without
debugging the error shows up.  A typical example is a memory leak that
becomes visible only when we turn off the debugging.  If you foresee
such situations you can still win.  Simply use something equivalent to
the following little program:

<br><pre>#include &lt;mcheck.h&gt;
#include &lt;signal.h&gt;

static void
enable (int sig)
{
  mtrace ();
  signal (SIGUSR1, enable);
}

static void
disable (int sig)
{
  muntrace ();
  signal (SIGUSR2, disable);
}

int
main (int argc, char *argv[])
{
  <small>...</small>

  signal (SIGUSR1, enable);
  signal (SIGUSR2, disable);

  <small>...</small>
}
</pre>

<p>I.e., the user can start the memory debugger any time s/he wants if the
program was started with <code>MALLOC_TRACE</code> set in the environment. 
The output will of course not show the allocations which happened before
the first signal but if there is a memory leak this will show up
nevertheless.

<p><hr>
Node:<a name="Interpreting%20the%20traces">Interpreting the traces</a>,
Previous:<a rel=previous accesskey=p href="#Tips%20for%20the%20Memory%20Debugger">Tips for the Memory Debugger</a>,
Up:<a rel=up accesskey=u href="#Allocation%20Debugging">Allocation Debugging</a>
<br>

<h5>Interpreting the traces</h5>

<p>If you take a look at the output it will look similar to this:

<br><pre>= Start
 [0x8048209] - 0x8064cc8
 [0x8048209] - 0x8064ce0
 [0x8048209] - 0x8064cf8
 [0x80481eb] + 0x8064c48 0x14
 [0x80481eb] + 0x8064c60 0x14
 [0x80481eb] + 0x8064c78 0x14
 [0x80481eb] + 0x8064c90 0x14
= End
</pre>

<p>What this all means is not really important since the trace file is not
meant to be read by a human.  Therefore no attention is given to
readability.  Instead there is a program which comes with the GNU C
library which interprets the traces and outputs a summary in an
user-friendly way.  The program is called <code>mtrace</code> (it is in fact a
Perl script) and it takes one or two arguments.  In any case the name of
the file with the trace output must be specified.  If an optional
argument precedes the name of the trace file this must be the name of
the program which generated the trace.

<br><pre>drepper$ mtrace tst-mtrace log
No memory leaks.
</pre>

<p>In this case the program <code>tst-mtrace</code> was run and it produced a
trace file <code>log</code>.  The message printed by <code>mtrace</code> shows there
are no problems with the code, all allocated memory was freed
afterwards.

<p>If we call <code>mtrace</code> on the example trace given above we would get a
different outout:

<br><pre>drepper$ mtrace errlog
- 0x08064cc8 Free 2 was never alloc'd 0x8048209
- 0x08064ce0 Free 3 was never alloc'd 0x8048209
- 0x08064cf8 Free 4 was never alloc'd 0x8048209

Memory not freed:
-----------------
   Address     Size     Caller
0x08064c48     0x14  at 0x80481eb
0x08064c60     0x14  at 0x80481eb
0x08064c78     0x14  at 0x80481eb
0x08064c90     0x14  at 0x80481eb
</pre>

<p>We have called <code>mtrace</code> with only one argument and so the script
has no chance to find out what is meant with the addresses given in the
trace.  We can do better:

<br><pre>drepper$ mtrace tst errlog
- 0x08064cc8 Free 2 was never alloc'd /home/drepper/tst.c:39
- 0x08064ce0 Free 3 was never alloc'd /home/drepper/tst.c:39
- 0x08064cf8 Free 4 was never alloc'd /home/drepper/tst.c:39

Memory not freed:
-----------------
   Address     Size     Caller
0x08064c48     0x14  at /home/drepper/tst.c:33
0x08064c60     0x14  at /home/drepper/tst.c:33
0x08064c78     0x14  at /home/drepper/tst.c:33
0x08064c90     0x14  at /home/drepper/tst.c:33
</pre>

<p>Suddenly the output makes much more sense and the user can see
immediately where the function calls causing the trouble can be found.

<p>Interpreting this output is not complicated.  There are at most two
different situations being detected.  First, <code>free</code> was called for
pointers which were never returned by one of the allocation functions. 
This is usually a very bad problem and what this looks like is shown in
the first three lines of the output.  Situations like this are quite
rare and if they appear they show up very drastically: the program
normally crashes.

<p>The other situation which is much harder to detect are memory leaks.  As
you can see in the output the <code>mtrace</code> function collects all this
information and so can say that the program calls an allocation function
from line 33 in the source file <code>/home/drepper/tst-mtrace.c</code> four
times without freeing this memory before the program terminates. 
Whether this is a real problem remains to be investigated.

<p><hr>
Node:<a name="Obstacks">Obstacks</a>,
Next:<a rel=next accesskey=n href="#Variable%20Size%20Automatic">Variable Size Automatic</a>,
Previous:<a rel=previous accesskey=p href="#Allocation%20Debugging">Allocation Debugging</a>,
Up:<a rel=up accesskey=u href="#Memory%20Allocation">Memory Allocation</a>
<br>

<h4>Obstacks</h4>

<p>An <dfn>obstack</dfn> is a pool of memory containing a stack of objects.  You
can create any number of separate obstacks, and then allocate objects in
specified obstacks.  Within each obstack, the last object allocated must
always be the first one freed, but distinct obstacks are independent of
each other.

<p>Aside from this one constraint of order of freeing, obstacks are totally
general: an obstack can contain any number of objects of any size.  They
are implemented with macros, so allocation is usually very fast as long as
the objects are usually small.  And the only space overhead per object is
the padding needed to start each object on a suitable boundary.

<ul>
<li><a accesskey=1 href="#Creating%20Obstacks">Creating Obstacks</a>: 		How to declare an obstack in your program. 
<li><a accesskey=2 href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>: 	Preparations needed before you can
				 use obstacks. 
<li><a accesskey=3 href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>:     Allocating objects in an obstack. 
<li><a accesskey=4 href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>:      Freeing objects in an obstack. 
<li><a accesskey=5 href="#Obstack%20Functions">Obstack Functions</a>: 		The obstack functions are both
				 functions and macros. 
<li><a accesskey=6 href="#Growing%20Objects">Growing Objects</a>:              Making an object bigger by stages. 
<li><a accesskey=7 href="#Extra%20Fast%20Growing">Extra Fast Growing</a>: 		Extra-high-efficiency (though more
				 complicated) growing objects. 
<li><a accesskey=8 href="#Status%20of%20an%20Obstack">Status of an Obstack</a>:         Inquiries about the status of an obstack. 
<li><a accesskey=9 href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>:      Controlling alignment of objects in obstacks. 
<li><a href="#Obstack%20Chunks">Obstack Chunks</a>:               How obstacks obtain and release chunks;
				 efficiency considerations. 
<li><a href="#Summary%20of%20Obstacks">Summary of Obstacks</a>: 
</ul>

<p><hr>
Node:<a name="Creating%20Obstacks">Creating Obstacks</a>,
Next:<a rel=next accesskey=n href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Creating Obstacks</h5>

<p>The utilities for manipulating obstacks are declared in the header
file <code>obstack.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct obstack</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An obstack is represented by a data structure of type <code>struct
obstack</code>.  This structure has a small fixed size; it records the status
of the obstack and how to find the space in which objects are allocated. 
It does not contain any of the objects themselves.  You should not try
to access the contents of the structure directly; use only the functions
described in this chapter. 
</td></tr>
</table>

<p>You can declare variables of type <code>struct obstack</code> and use them as
obstacks, or you can allocate obstacks dynamically like any other kind
of object.  Dynamic allocation of obstacks allows your program to have a
variable number of different stacks.  (You can even allocate an
obstack structure in another obstack, but this is rarely useful.)

<p>All the functions that work with obstacks require you to specify which
obstack to use.  You do this with a pointer of type <code>struct obstack
*</code>.  In the following, we often say "an obstack" when strictly
speaking the object at hand is such a pointer.

<p>The objects in the obstack are packed into large blocks called
<dfn>chunks</dfn>.  The <code>struct obstack</code> structure points to a chain of
the chunks currently in use.

<p>The obstack library obtains a new chunk whenever you allocate an object
that won't fit in the previous chunk.  Since the obstack library manages
chunks automatically, you don't need to pay much attention to them, but
you do need to supply a function which the obstack library should use to
get a chunk.  Usually you supply a function which uses <code>malloc</code>
directly or indirectly.  You must also supply a function to free a chunk. 
These matters are described in the following section.

<p><hr>
Node:<a name="Preparing%20for%20Obstacks">Preparing for Obstacks</a>,
Next:<a rel=next accesskey=n href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>,
Previous:<a rel=previous accesskey=p href="#Creating%20Obstacks">Creating Obstacks</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Preparing for Using Obstacks</h5>

<p>Each source file in which you plan to use the obstack functions
must include the header file <code>obstack.h</code>, like this:

<br><pre>#include &lt;obstack.h&gt;
</pre>

<p>Also, if the source file uses the macro <code>obstack_init</code>, it must
declare or define two functions or macros that will be called by the
obstack library.  One, <code>obstack_chunk_alloc</code>, is used to allocate
the chunks of memory into which objects are packed.  The other,
<code>obstack_chunk_free</code>, is used to return chunks when the objects in
them are freed.  These macros should appear before any use of obstacks
in the source file.

<p>Usually these are defined to use <code>malloc</code> via the intermediary
<code>xmalloc</code> (see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>).  This is done with
the following pair of macro definitions:

<br><pre>#define obstack_chunk_alloc xmalloc
#define obstack_chunk_free free
</pre>

<p>Though the memory you get using obstacks really comes from <code>malloc</code>,
using obstacks is faster because <code>malloc</code> is called less often, for
larger blocks of memory.  See <a href="#Obstack%20Chunks">Obstack Chunks</a>, for full details.

<p>At run time, before the program can use a <code>struct obstack</code> object
as an obstack, it must initialize the obstack by calling
<code>obstack_init</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_init</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Initialize obstack <var>obstack-ptr</var> for allocation of objects.  This
function calls the obstack's <code>obstack_chunk_alloc</code> function.  If
allocation of memory fails, the function pointed to by
<code>obstack_alloc_failed_handler</code> is called.  The <code>obstack_init</code>
function always returns 1 (Compatibility notice: Former versions of
obstack returned 0 if allocation failed). 
</td></tr>
</table>

<p>Here are two examples of how to allocate the space for an obstack and
initialize it.  First, an obstack that is a static variable:

<br><pre>static struct obstack myobstack;
<small>...</small>
obstack_init (&amp;myobstack);
</pre>

<p>Second, an obstack that is itself dynamically allocated:

<br><pre>struct obstack *myobstack_ptr
  = (struct obstack *) xmalloc (sizeof (struct obstack));

obstack_init (myobstack_ptr);
</pre>

<p>
<table width="100%">
<tr>
<td align="left"><b>obstack_alloc_failed_handler</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this variable is a pointer to a function that
<code>obstack</code> uses when <code>obstack_chunk_alloc</code> fails to allocate
memory.  The default action is to print a message and abort. 
You should supply a function that either calls <code>exit</code>
(see <a href="#Program%20Termination">Program Termination</a>) or <code>longjmp</code> (see <a href="#Non-Local%20Exits">Non-Local Exits</a>) and doesn't return.

<br><pre>void my_obstack_alloc_failed (void)
<small>...</small>
obstack_alloc_failed_handler = &amp;my_obstack_alloc_failed;
</pre>

</td></tr>
</table>

<p><hr>
Node:<a name="Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>,
Next:<a rel=next accesskey=n href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>,
Previous:<a rel=previous accesskey=p href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Allocation in an Obstack</h5>

<p>The most direct way to allocate an object in an obstack is with
<code>obstack_alloc</code>, which is invoked almost like <code>malloc</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_alloc</b><i> (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This allocates an uninitialized block of <var>size</var> bytes in an obstack
and returns its address.  Here <var>obstack-ptr</var> specifies which obstack
to allocate the block in; it is the address of the <code>struct obstack</code>
object which represents the obstack.  Each obstack function or macro
requires you to specify an <var>obstack-ptr</var> as the first argument.

<p>This function calls the obstack's <code>obstack_chunk_alloc</code> function if
it needs to allocate a new chunk of memory; it calls
<code>obstack_alloc_failed_handler</code> if allocation of memory by
<code>obstack_chunk_alloc</code> failed. 
</td></tr>
</table>

<p>For example, here is a function that allocates a copy of a string <var>str</var>
in a specific obstack, which is in the variable <code>string_obstack</code>:

<br><pre>struct obstack string_obstack;

char *
copystring (char *string)
{
  size_t len = strlen (string) + 1;
  char *s = (char *) obstack_alloc (&amp;string_obstack, len);
  memcpy (s, string, len);
  return s;
}
</pre>

<p>To allocate a block with specified contents, use the function
<code>obstack_copy</code>, declared like this:

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_copy</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This allocates a block and initializes it by copying <var>size</var>
bytes of data starting at <var>address</var>.  It calls
<code>obstack_alloc_failed_handler</code> if allocation of memory by
<code>obstack_chunk_alloc</code> failed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_copy0</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Like <code>obstack_copy</code>, but appends an extra byte containing a null
character.  This extra byte is not counted in the argument <var>size</var>. 
</td></tr>
</table>

<p>The <code>obstack_copy0</code> function is convenient for copying a sequence
of characters into an obstack as a null-terminated string.  Here is an
example of its use:

<br><pre>char *
obstack_savestring (char *addr, int size)
{
  return obstack_copy0 (&amp;myobstack, addr, size);
}
</pre>

<p>Contrast this with the previous example of <code>savestring</code> using
<code>malloc</code> (see <a href="#Basic%20Allocation">Basic Allocation</a>).

<p><hr>
Node:<a name="Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>,
Next:<a rel=next accesskey=n href="#Obstack%20Functions">Obstack Functions</a>,
Previous:<a rel=previous accesskey=p href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Freeing Objects in an Obstack</h5>

<p>To free an object allocated in an obstack, use the function
<code>obstack_free</code>.  Since the obstack is a stack of objects, freeing
one object automatically frees all other objects allocated more recently
in the same obstack.

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_free</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>object</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>object</var> is a null pointer, everything allocated in the obstack
is freed.  Otherwise, <var>object</var> must be the address of an object
allocated in the obstack.  Then <var>object</var> is freed, along with
everything allocated in <var>obstack</var> since <var>object</var>. 
</td></tr>
</table>

<p>Note that if <var>object</var> is a null pointer, the result is an
uninitialized obstack.  To free all memory in an obstack but leave it
valid for further allocation, call <code>obstack_free</code> with the address
of the first object allocated on the obstack:

<br><pre>obstack_free (obstack_ptr, first_object_allocated_ptr);
</pre>

<p>Recall that the objects in an obstack are grouped into chunks.  When all
the objects in a chunk become free, the obstack library automatically
frees the chunk (see <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>).  Then other
obstacks, or non-obstack allocation, can reuse the space of the chunk.

<p><hr>
Node:<a name="Obstack%20Functions">Obstack Functions</a>,
Next:<a rel=next accesskey=n href="#Growing%20Objects">Growing Objects</a>,
Previous:<a rel=previous accesskey=p href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Obstack Functions and Macros</h5>

<p>The interfaces for using obstacks may be defined either as functions or
as macros, depending on the compiler.  The obstack facility works with
all C compilers, including both ISO&nbsp;C and traditional C, but there are
precautions you must take if you plan to use compilers other than GNU C.

<p>If you are using an old-fashioned non-ISO&nbsp;C compiler, all the obstack
"functions" are actually defined only as macros.  You can call these
macros like functions, but you cannot use them in any other way (for
example, you cannot take their address).

<p>Calling the macros requires a special precaution: namely, the first
operand (the obstack pointer) may not contain any side effects, because
it may be computed more than once.  For example, if you write this:

<br><pre>obstack_alloc (get_obstack (), 4);
</pre>

<p>you will find that <code>get_obstack</code> may be called several times. 
If you use <code>*obstack_list_ptr++</code> as the obstack pointer argument,
you will get very strange results since the incrementation may occur
several times.

<p>In ISO&nbsp;C, each function has both a macro definition and a function
definition.  The function definition is used if you take the address of the
function without calling it.  An ordinary call uses the macro definition by
default, but you can request the function definition instead by writing the
function name in parentheses, as shown here:

<br><pre>char *x;
void *(*funcp) ();
/* Use the macro.  */
x = (char *) obstack_alloc (obptr, size);
/* Call the function.  */
x = (char *) (obstack_alloc) (obptr, size);
/* Take the address of the function.  */
funcp = obstack_alloc;
</pre>

<p>This is the same situation that exists in ISO&nbsp;C for the standard library
functions.  See <a href="#Macro%20Definitions">Macro Definitions</a>.

<p><strong>Warning:</strong> When you do use the macros, you must observe the
precaution of avoiding side effects in the first operand, even in ISO&nbsp;C.

<p>If you use the GNU C compiler, this precaution is not necessary, because
various language extensions in GNU C permit defining the macros so as to
compute each argument only once.

<p><hr>
Node:<a name="Growing%20Objects">Growing Objects</a>,
Next:<a rel=next accesskey=n href="#Extra%20Fast%20Growing">Extra Fast Growing</a>,
Previous:<a rel=previous accesskey=p href="#Obstack%20Functions">Obstack Functions</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Growing Objects</h5>

<p>Because memory in obstack chunks is used sequentially, it is possible to
build up an object step by step, adding one or more bytes at a time to the
end of the object.  With this technique, you do not need to know how much
data you will put in the object until you come to the end of it.  We call
this the technique of <dfn>growing objects</dfn>.  The special functions
for adding data to the growing object are described in this section.

<p>You don't need to do anything special when you start to grow an object. 
Using one of the functions to add data to the object automatically
starts it.  However, it is necessary to say explicitly when the object is
finished.  This is done with the function <code>obstack_finish</code>.

<p>The actual address of the object thus built up is not known until the
object is finished.  Until then, it always remains possible that you will
add so much data that the object must be copied into a new chunk.

<p>While the obstack is in use for a growing object, you cannot use it for
ordinary allocation of another object.  If you try to do so, the space
already added to the growing object will become part of the other object.

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_blank</b><i> (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The most basic function for adding to a growing object is
<code>obstack_blank</code>, which adds space without initializing it. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_grow</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
To add a block of initialized space, use <code>obstack_grow</code>, which is
the growing-object analogue of <code>obstack_copy</code>.  It adds <var>size</var>
bytes of data to the growing object, copying the contents from
<var>data</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_grow0</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the growing-object analogue of <code>obstack_copy0</code>.  It adds
<var>size</var> bytes copied from <var>data</var>, followed by an additional null
character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_1grow</b><i> (struct obstack *<var>obstack-ptr</var>, char <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
To add one character at a time, use the function <code>obstack_1grow</code>. 
It adds a single byte containing <var>c</var> to the growing object. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_ptr_grow</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Adding the value of a pointer one can use the function
<code>obstack_ptr_grow</code>.  It adds <code>sizeof (void *)</code> bytes
containing the value of <var>data</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_int_grow</b><i> (struct obstack *<var>obstack-ptr</var>, int <var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A single value of type <code>int</code> can be added by using the
<code>obstack_int_grow</code> function.  It adds <code>sizeof (int)</code> bytes to
the growing object and initializes them with the value of <var>data</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_finish</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When you are finished growing the object, use the function
<code>obstack_finish</code> to close it off and return its final address.

<p>Once you have finished the object, the obstack is available for ordinary
allocation or for growing another object.

<p>This function can return a null pointer under the same conditions as
<code>obstack_alloc</code> (see <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>). 
</td></tr>
</table>

<p>When you build an object by growing it, you will probably need to know
afterward how long it became.  You need not keep track of this as you grow
the object, because you can find out the length from the obstack just
before finishing the object with the function <code>obstack_object_size</code>,
declared as follows:

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_object_size</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the current size of the growing object, in bytes. 
Remember to call this function <em>before</em> finishing the object. 
After it is finished, <code>obstack_object_size</code> will return zero. 
</td></tr>
</table>

<p>If you have started growing an object and wish to cancel it, you should
finish it and then free it, like this:

<br><pre>obstack_free (obstack_ptr, obstack_finish (obstack_ptr));
</pre>

<p>This has no effect if no object was growing.

<p>You can use <code>obstack_blank</code> with a negative size argument to make
the current object smaller.  Just don't try to shrink it beyond zero
length--there's no telling what will happen if you do that.

<p><hr>
Node:<a name="Extra%20Fast%20Growing">Extra Fast Growing</a>,
Next:<a rel=next accesskey=n href="#Status%20of%20an%20Obstack">Status of an Obstack</a>,
Previous:<a rel=previous accesskey=p href="#Growing%20Objects">Growing Objects</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Extra Fast Growing Objects</h5>

<p>The usual functions for growing objects incur overhead for checking
whether there is room for the new growth in the current chunk.  If you
are frequently constructing objects in small steps of growth, this
overhead can be significant.

<p>You can reduce the overhead by using special "fast growth"
functions that grow the object without checking.  In order to have a
robust program, you must do the checking yourself.  If you do this checking
in the simplest way each time you are about to add data to the object, you
have not saved anything, because that is what the ordinary growth
functions do.  But if you can arrange to check less often, or check
more efficiently, then you make the program faster.

<p>The function <code>obstack_room</code> returns the amount of room available
in the current chunk.  It is declared as follows:

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_room</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the number of bytes that can be added safely to the current
growing object (or to an object about to be started) in obstack
<var>obstack</var> using the fast growth functions. 
</td></tr>
</table>

<p>While you know there is room, you can use these fast growth functions
for adding data to a growing object:

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_1grow_fast</b><i> (struct obstack *<var>obstack-ptr</var>, char <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>obstack_1grow_fast</code> adds one byte containing the
character <var>c</var> to the growing object in obstack <var>obstack-ptr</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_ptr_grow_fast</b><i> (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>obstack_ptr_grow_fast</code> adds <code>sizeof (void *)</code>
bytes containing the value of <var>data</var> to the growing object in
obstack <var>obstack-ptr</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_int_grow_fast</b><i> (struct obstack *<var>obstack-ptr</var>, int <var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>obstack_int_grow_fast</code> adds <code>sizeof (int)</code> bytes
containing the value of <var>data</var> to the growing object in obstack
<var>obstack-ptr</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>obstack_blank_fast</b><i> (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>obstack_blank_fast</code> adds <var>size</var> bytes to the
growing object in obstack <var>obstack-ptr</var> without initializing them. 
</td></tr>
</table>

<p>When you check for space using <code>obstack_room</code> and there is not
enough room for what you want to add, the fast growth functions
are not safe.  In this case, simply use the corresponding ordinary
growth function instead.  Very soon this will copy the object to a
new chunk; then there will be lots of room available again.

<p>So, each time you use an ordinary growth function, check afterward for
sufficient space using <code>obstack_room</code>.  Once the object is copied
to a new chunk, there will be plenty of space again, so the program will
start using the fast growth functions again.

<p>Here is an example:

<br><pre>void
add_string (struct obstack *obstack, const char *ptr, int len)
{
  while (len &gt; 0)
    {
      int room = obstack_room (obstack);
      if (room == 0)
        {
          /* Not enough room. Add one character slowly,
             which may copy to a new chunk and make room.  */
          obstack_1grow (obstack, *ptr++);
          len--;
        }
      else
        {
          if (room &gt; len)
            room = len;
          /* Add fast as much as we have room for. */
          len -= room;
          while (room-- &gt; 0)
            obstack_1grow_fast (obstack, *ptr++);
        }
    }
}
</pre>

<p><hr>
Node:<a name="Status%20of%20an%20Obstack">Status of an Obstack</a>,
Next:<a rel=next accesskey=n href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>,
Previous:<a rel=previous accesskey=p href="#Extra%20Fast%20Growing">Extra Fast Growing</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Status of an Obstack</h5>

<p>Here are functions that provide information on the current status of
allocation in an obstack.  You can use them to learn about an object while
still growing it.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_base</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the tentative address of the beginning of the
currently growing object in <var>obstack-ptr</var>.  If you finish the object
immediately, it will have that address.  If you make it larger first, it
may outgrow the current chunk--then its address will change!

<p>If no object is growing, this value says where the next object you
allocate will start (once again assuming it fits in the current
chunk). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>obstack_next_free</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the address of the first free byte in the current
chunk of obstack <var>obstack-ptr</var>.  This is the end of the currently
growing object.  If no object is growing, <code>obstack_next_free</code>
returns the same value as <code>obstack_base</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_object_size</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the size in bytes of the currently growing object. 
This is equivalent to

<br><pre>obstack_next_free (<var>obstack-ptr</var>) - obstack_base (<var>obstack-ptr</var>)
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>,
Next:<a rel=next accesskey=n href="#Obstack%20Chunks">Obstack Chunks</a>,
Previous:<a rel=previous accesskey=p href="#Status%20of%20an%20Obstack">Status of an Obstack</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Alignment of Data in Obstacks</h5>

<p>Each obstack has an <dfn>alignment boundary</dfn>; each object allocated in
the obstack automatically starts on an address that is a multiple of the
specified boundary.  By default, this boundary is 4 bytes.

<p>To access an obstack's alignment boundary, use the macro
<code>obstack_alignment_mask</code>, whose function prototype looks like
this:

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_alignment_mask</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value is a bit mask; a bit that is 1 indicates that the corresponding
bit in the address of an object should be 0.  The mask value should be one
less than a power of 2; the effect is that all object addresses are
multiples of that power of 2.  The default value of the mask is 3, so that
addresses are multiples of 4.  A mask value of 0 means an object can start
on any multiple of 1 (that is, no alignment is required).

<p>The expansion of the macro <code>obstack_alignment_mask</code> is an lvalue,
so you can alter the mask by assignment.  For example, this statement:

<br><pre>obstack_alignment_mask (obstack_ptr) = 0;
</pre>

<p>has the effect of turning off alignment processing in the specified obstack. 
</td></tr>
</table>

<p>Note that a change in alignment mask does not take effect until
<em>after</em> the next time an object is allocated or finished in the
obstack.  If you are not growing an object, you can make the new
alignment mask take effect immediately by calling <code>obstack_finish</code>. 
This will finish a zero-length object and then do proper alignment for
the next object.

<p><hr>
Node:<a name="Obstack%20Chunks">Obstack Chunks</a>,
Next:<a rel=next accesskey=n href="#Summary%20of%20Obstacks">Summary of Obstacks</a>,
Previous:<a rel=previous accesskey=p href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Obstack Chunks</h5>

<p>Obstacks work by allocating space for themselves in large chunks, and
then parceling out space in the chunks to satisfy your requests.  Chunks
are normally 4096 bytes long unless you specify a different chunk size. 
The chunk size includes 8 bytes of overhead that are not actually used
for storing objects.  Regardless of the specified size, longer chunks
will be allocated when necessary for long objects.

<p>The obstack library allocates chunks by calling the function
<code>obstack_chunk_alloc</code>, which you must define.  When a chunk is no
longer needed because you have freed all the objects in it, the obstack
library frees the chunk by calling <code>obstack_chunk_free</code>, which you
must also define.

<p>These two must be defined (as macros) or declared (as functions) in each
source file that uses <code>obstack_init</code> (see <a href="#Creating%20Obstacks">Creating Obstacks</a>). 
Most often they are defined as macros like this:

<br><pre>#define obstack_chunk_alloc malloc
#define obstack_chunk_free free
</pre>

<p>Note that these are simple macros (no arguments).  Macro definitions with
arguments will not work!  It is necessary that <code>obstack_chunk_alloc</code>
or <code>obstack_chunk_free</code>, alone, expand into a function name if it is
not itself a function name.

<p>If you allocate chunks with <code>malloc</code>, the chunk size should be a
power of 2.  The default chunk size, 4096, was chosen because it is long
enough to satisfy many typical requests on the obstack yet short enough
not to waste too much memory in the portion of the last chunk not yet used.

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_chunk_size</b><i> (struct obstack *<var>obstack-ptr</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the chunk size of the given obstack. 
</td></tr>
</table>

<p>Since this macro expands to an lvalue, you can specify a new chunk size by
assigning it a new value.  Doing so does not affect the chunks already
allocated, but will change the size of chunks allocated for that particular
obstack in the future.  It is unlikely to be useful to make the chunk size
smaller, but making it larger might improve efficiency if you are
allocating many objects whose size is comparable to the chunk size.  Here
is how to do so cleanly:

<br><pre>if (obstack_chunk_size (obstack_ptr) &lt; <var>new-chunk-size</var>)
  obstack_chunk_size (obstack_ptr) = <var>new-chunk-size</var>;
</pre>

<p><hr>
Node:<a name="Summary%20of%20Obstacks">Summary of Obstacks</a>,
Previous:<a rel=previous accesskey=p href="#Obstack%20Chunks">Obstack Chunks</a>,
Up:<a rel=up accesskey=u href="#Obstacks">Obstacks</a>
<br>

<h5>Summary of Obstack Functions</h5>

<p>Here is a summary of all the functions associated with obstacks.  Each
takes the address of an obstack (<code>struct obstack *</code>) as its first
argument.

<dl>
<dt><code>void obstack_init (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Initialize use of an obstack.  See <a href="#Creating%20Obstacks">Creating Obstacks</a>.

<br><dt><code>void *obstack_alloc (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>Allocate an object of <var>size</var> uninitialized bytes. 
See <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>void *obstack_copy (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>Allocate an object of <var>size</var> bytes, with contents copied from
<var>address</var>.  See <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>void *obstack_copy0 (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>Allocate an object of <var>size</var>+1 bytes, with <var>size</var> of them copied
from <var>address</var>, followed by a null character at the end. 
See <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>void obstack_free (struct obstack *<var>obstack-ptr</var>, void *<var>object</var>)</code>
<dd>Free <var>object</var> (and everything allocated in the specified obstack
more recently than <var>object</var>).  See <a href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>.

<br><dt><code>void obstack_blank (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>Add <var>size</var> uninitialized bytes to a growing object. 
See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_grow (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>Add <var>size</var> bytes, copied from <var>address</var>, to a growing object. 
See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_grow0 (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>Add <var>size</var> bytes, copied from <var>address</var>, to a growing object,
and then add another byte containing a null character.  See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_1grow (struct obstack *<var>obstack-ptr</var>, char <var>data-char</var>)</code>
<dd>Add one byte containing <var>data-char</var> to a growing object. 
See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void *obstack_finish (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Finalize the object that is growing and return its permanent address. 
See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>int obstack_object_size (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Get the current size of the currently growing object.  See <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_blank_fast (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>Add <var>size</var> uninitialized bytes to a growing object without checking
that there is enough room.  See <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>void obstack_1grow_fast (struct obstack *<var>obstack-ptr</var>, char <var>data-char</var>)</code>
<dd>Add one byte containing <var>data-char</var> to a growing object without
checking that there is enough room.  See <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_room (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Get the amount of room now available for growing the current object. 
See <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_alignment_mask (struct obstack *<var>obstack-ptr</var>)</code>
<dd>The mask used for aligning the beginning of an object.  This is an
lvalue.  See <a href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>.

<br><dt><code>int obstack_chunk_size (struct obstack *<var>obstack-ptr</var>)</code>
<dd>The size for allocating chunks.  This is an lvalue.  See <a href="#Obstack%20Chunks">Obstack Chunks</a>.

<br><dt><code>void *obstack_base (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Tentative starting address of the currently growing object. 
See <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>.

<br><dt><code>void *obstack_next_free (struct obstack *<var>obstack-ptr</var>)</code>
<dd>Address just after the end of the currently growing object. 
See <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>. 
</dl>

<p><hr>
Node:<a name="Variable%20Size%20Automatic">Variable Size Automatic</a>,
Previous:<a rel=previous accesskey=p href="#Obstacks">Obstacks</a>,
Up:<a rel=up accesskey=u href="#Memory%20Allocation">Memory Allocation</a>
<br>

<h4>Automatic Storage with Variable Size</h4>

<p>The function <code>alloca</code> supports a kind of half-dynamic allocation in
which blocks are allocated dynamically but freed automatically.

<p>Allocating a block with <code>alloca</code> is an explicit action; you can
allocate as many blocks as you wish, and compute the size at run time.  But
all the blocks are freed when you exit the function that <code>alloca</code> was
called from, just as if they were automatic variables declared in that
function.  There is no way to free the space explicitly.

<p>The prototype for <code>alloca</code> is in <code>stdlib.h</code>.  This function is
a BSD extension.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>alloca</b><i> (size_t <var>size</var>);
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The return value of <code>alloca</code> is the address of a block of <var>size</var>
bytes of memory, allocated in the stack frame of the calling function. 
</td></tr>
</table>

<p>Do not use <code>alloca</code> inside the arguments of a function call--you
will get unpredictable results, because the stack space for the
<code>alloca</code> would appear on the stack in the middle of the space for
the function arguments.  An example of what to avoid is <code>foo (x,
alloca (4), y)</code>.

<ul>
<li><a accesskey=1 href="#Alloca%20Example">Alloca Example</a>:               Example of using <code>alloca</code>. 
<li><a accesskey=2 href="#Advantages%20of%20Alloca">Advantages of Alloca</a>:         Reasons to use <code>alloca</code>. 
<li><a accesskey=3 href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>:      Reasons to avoid <code>alloca</code>. 
<li><a accesskey=4 href="#GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>:   Only in GNU C, here is an alternative
				 method of allocating dynamically and
				 freeing automatically. 
</ul>

<p><hr>
Node:<a name="Alloca%20Example">Alloca Example</a>,
Next:<a rel=next accesskey=n href="#Advantages%20of%20Alloca">Advantages of Alloca</a>,
Up:<a rel=up accesskey=u href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<br>

<h5><code>alloca</code> Example</h5>

<p>As an example of the use of <code>alloca</code>, here is a function that opens
a file name made from concatenating two argument strings, and returns a
file descriptor or minus one signifying failure:

<br><pre>int
open2 (char *str1, char *str2, int flags, int mode)
{
  char *name = (char *) alloca (strlen (str1) + strlen (str2) + 1);
  stpcpy (stpcpy (name, str1), str2);
  return open (name, flags, mode);
}
</pre>

<p>Here is how you would get the same results with <code>malloc</code> and
<code>free</code>:

<br><pre>int
open2 (char *str1, char *str2, int flags, int mode)
{
  char *name = (char *) malloc (strlen (str1) + strlen (str2) + 1);
  int desc;
  if (name == 0)
    fatal ("virtual memory exceeded");
  stpcpy (stpcpy (name, str1), str2);
  desc = open (name, flags, mode);
  free (name);
  return desc;
}
</pre>

<p>As you can see, it is simpler with <code>alloca</code>.  But <code>alloca</code> has
other, more important advantages, and some disadvantages.

<p><hr>
Node:<a name="Advantages%20of%20Alloca">Advantages of Alloca</a>,
Next:<a rel=next accesskey=n href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>,
Previous:<a rel=previous accesskey=p href="#Alloca%20Example">Alloca Example</a>,
Up:<a rel=up accesskey=u href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<br>

<h5>Advantages of <code>alloca</code></h5>

<p>Here are the reasons why <code>alloca</code> may be preferable to <code>malloc</code>:

<ul>
<li>Using <code>alloca</code> wastes very little space and is very fast.  (It is
open-coded by the GNU C compiler.)

<li>Since <code>alloca</code> does not have separate pools for different sizes of
block, space used for any size block can be reused for any other size. 
<code>alloca</code> does not cause memory fragmentation.

<li>Nonlocal exits done with <code>longjmp</code> (see <a href="#Non-Local%20Exits">Non-Local Exits</a>)
automatically free the space allocated with <code>alloca</code> when they exit
through the function that called <code>alloca</code>.  This is the most
important reason to use <code>alloca</code>.

<p>To illustrate this, suppose you have a function
<code>open_or_report_error</code> which returns a descriptor, like
<code>open</code>, if it succeeds, but does not return to its caller if it
fails.  If the file cannot be opened, it prints an error message and
jumps out to the command level of your program using <code>longjmp</code>. 
Let's change <code>open2</code> (see <a href="#Alloca%20Example">Alloca Example</a>) to use this
subroutine:

<br><pre>int
open2 (char *str1, char *str2, int flags, int mode)
{
  char *name = (char *) alloca (strlen (str1) + strlen (str2) + 1);
  stpcpy (stpcpy (name, str1), str2);
  return open_or_report_error (name, flags, mode);
}
</pre>

<p>Because of the way <code>alloca</code> works, the memory it allocates is
freed even when an error occurs, with no special effort required.

<p>By contrast, the previous definition of <code>open2</code> (which uses
<code>malloc</code> and <code>free</code>) would develop a memory leak if it were
changed in this way.  Even if you are willing to make more changes to
fix it, there is no easy way to do so. 
</ul>

<p><hr>
Node:<a name="Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>,
Next:<a rel=next accesskey=n href="#GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>,
Previous:<a rel=previous accesskey=p href="#Advantages%20of%20Alloca">Advantages of Alloca</a>,
Up:<a rel=up accesskey=u href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<br>

<h5>Disadvantages of <code>alloca</code></h5>

<p>These are the disadvantages of <code>alloca</code> in comparison with
<code>malloc</code>:

<ul>
<li>If you try to allocate more memory than the machine can provide, you
don't get a clean error message.  Instead you get a fatal signal like
the one you would get from an infinite recursion; probably a
segmentation violation (see <a href="#Program%20Error%20Signals">Program Error Signals</a>).

<li>Some non-GNU systems fail to support <code>alloca</code>, so it is less
portable.  However, a slower emulation of <code>alloca</code> written in C
is available for use on systems with this deficiency. 
</ul>

<p><hr>
Node:<a name="GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>,
Previous:<a rel=previous accesskey=p href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>,
Up:<a rel=up accesskey=u href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<br>

<h5>GNU C Variable-Size Arrays</h5>

<p>In GNU C, you can replace most uses of <code>alloca</code> with an array of
variable size.  Here is how <code>open2</code> would look then:

<br><pre>int open2 (char *str1, char *str2, int flags, int mode)
{
  char name[strlen (str1) + strlen (str2) + 1];
  stpcpy (stpcpy (name, str1), str2);
  return open (name, flags, mode);
}
</pre>

<p>But <code>alloca</code> is not always equivalent to a variable-sized array, for
several reasons:

<ul>
<li>A variable size array's space is freed at the end of the scope of the
name of the array.  The space allocated with <code>alloca</code>
remains until the end of the function.

<li>It is possible to use <code>alloca</code> within a loop, allocating an
additional block on each iteration.  This is impossible with
variable-sized arrays. 
</ul>

<p><strong>Note:</strong> If you mix use of <code>alloca</code> and variable-sized arrays
within one function, exiting a scope in which a variable-sized array was
declared frees all blocks allocated with <code>alloca</code> during the
execution of that scope.

<p><hr>
Node:<a name="Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>,
Previous:<a rel=previous accesskey=p href="#Locking%20Pages">Locking Pages</a>,
Up:<a rel=up accesskey=u href="#Memory">Memory</a>
<br>

<h3>Resizing the Data Segment</h3>

<p>The symbols in this section are declared in <code>unistd.h</code>.

<p>You will not normally use the functions in this section, because the
functions described in <a href="#Memory%20Allocation">Memory Allocation</a> are easier to use.  Those
are interfaces to a GNU C Library memory allocator that uses the
functions below itself.  The functions below are simple interfaces to
system calls.

<p>
<table width="100%">
<tr>
<td align="left">int <b>brk</b><i> (void *<var>addr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>brk</code> sets the high end of the calling process' data segment to
<var>addr</var>.

<p>The address of the end of a segment is defined to be the address of the
last byte in the segment plus 1.

<p>The function has no effect if <var>addr</var> is lower than the low end of
the data segment.  (This is considered success, by the way).

<p>The function fails if it would cause the data segment to overlap another
segment or exceed the process' data storage limit (see <a href="#Limits%20on%20Resources">Limits on Resources</a>).

<p>The function is named for a common historical case where data storage
and the stack are in the same segment.  Data storage allocation grows
upward from the bottom of the segment while the stack grows downward
toward it from the top of the segment and the curtain between them is
called the <dfn>break</dfn>.

<p>The return value is zero on success.  On failure, the return value is
<code>-1</code> and <code>errno</code> is set accordingly.  The following <code>errno</code>
values are specific to this function:

<dl>
<dt><code>ENOMEM</code>
<dd>The request would cause the data segment to overlap another segment or
exceed the process' data storage limit. 
</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sbrk</b><i> (ptrdiff_t <var>delta</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the same as <code>brk</code> except that you specify the new
end of the data segment as an offset <var>delta</var> from the current end
and on success the return value is the address of the resulting end of
the data segment instead of zero.

<p>This means you can use <code>sbrk(0)</code> to find out what the current end
of the data segment is.

</td></tr>
</table>

<p><hr>
Node:<a name="Locking%20Pages">Locking Pages</a>,
Next:<a rel=next accesskey=n href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>,
Previous:<a rel=previous accesskey=p href="#Memory%20Allocation">Memory Allocation</a>,
Up:<a rel=up accesskey=u href="#Memory">Memory</a>
<br>

<h3>Locking Pages</h3>

<p>You can tell the system to associate a particular virtual memory page
with a real page frame and keep it that way -- i.e. cause the page to
be paged in if it isn't already and mark it so it will never be paged
out and consequently will never cause a page fault.  This is called
<dfn>locking</dfn> a page.

<p>The functions in this chapter lock and unlock the calling process'
pages.

<ul>
<li><a accesskey=1 href="#Why%20Lock%20Pages">Why Lock Pages</a>:                 Reasons to read this section. 
<li><a accesskey=2 href="#Locked%20Memory%20Details">Locked Memory Details</a>:          Everything you need to know locked
                                    memory
<li><a accesskey=3 href="#Page%20Lock%20Functions">Page Lock Functions</a>:            Here's how to do it. 
</ul>

<p><hr>
Node:<a name="Why%20Lock%20Pages">Why Lock Pages</a>,
Next:<a rel=next accesskey=n href="#Locked%20Memory%20Details">Locked Memory Details</a>,
Up:<a rel=up accesskey=u href="#Locking%20Pages">Locking Pages</a>
<br>

<h4>Why Lock Pages</h4>

<p>Because page faults cause paged out pages to be paged in transparently,
a process rarely needs to be concerned about locking pages.  However,
there are two reasons people sometimes are:

<ul>

<li>Speed.  A page fault is transparent only insofar as the process is not
sensitive to how long it takes to do a simple memory access.  Time-critical
processes, especially realtime processes, may not be able to wait or
may not be able to tolerate variance in execution speed.

<p>A process that needs to lock pages for this reason probably also needs
priority among other processes for use of the CPU.  See <a href="#Priority">Priority</a>.

<p>In some cases, the programmer knows better than the system's demand
paging allocator which pages should remain in real memory to optimize
system performance.  In this case, locking pages can help.

</p><li>Privacy.  If you keep secrets in virtual memory and that virtual memory
gets paged out, that increases the chance that the secrets will get out. 
If a password gets written out to disk swap space, for example, it might
still be there long after virtual and real memory have been wiped clean.

</ul>

<p>Be aware that when you lock a page, that's one fewer page frame that can
be used to back other virtual memory (by the same or other processes),
which can mean more page faults, which means the system runs more
slowly.  In fact, if you lock enough memory, some programs may not be
able to run at all for lack of real memory.

<p><hr>
Node:<a name="Locked%20Memory%20Details">Locked Memory Details</a>,
Next:<a rel=next accesskey=n href="#Page%20Lock%20Functions">Page Lock Functions</a>,
Previous:<a rel=previous accesskey=p href="#Why%20Lock%20Pages">Why Lock Pages</a>,
Up:<a rel=up accesskey=u href="#Locking%20Pages">Locking Pages</a>
<br>

<h4>Locked Memory Details</h4>

<p>A memory lock is associated with a virtual page, not a real frame.  The
paging rule is: If a frame backs at least one locked page, don't page it
out.

<p>Memory locks do not stack.  I.e. you can't lock a particular page twice
so that it has to be unlocked twice before it is truly unlocked.  It is
either locked or it isn't.

<p>A memory lock persists until the process that owns the memory explicitly
unlocks it.  (But process termination and exec cause the virtual memory
to cease to exist, which you might say means it isn't locked any more).

<p>Memory locks are not inherited by child processes.  (But note that on a
modern Unix system, immediately after a fork, the parent's and the
child's virtual address space are backed by the same real page frames,
so the child enjoys the parent's locks).  See <a href="#Creating%20a%20Process">Creating a Process</a>.

<p>Because of its ability to impact other processes, only the superuser can
lock a page.  Any process can unlock its own page.

<p>The system sets limits on the amount of memory a process can have locked
and the amount of real memory it can have dedicated to it.  See <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<p>In Linux, locked pages aren't as locked as you might think. 
Two virtual pages that are not shared memory can nonetheless be backed
by the same real frame.  The kernel does this in the name of efficiency
when it knows both virtual pages contain identical data, and does it
even if one or both of the virtual pages are locked.

<p>But when a process modifies one of those pages, the kernel must get it a
separate frame and fill it with the page's data.  This is known as a
<dfn>copy-on-write page fault</dfn>.  It takes a small amount of time and in
a pathological case, getting that frame may require I/O.

<p>To make sure this doesn't happen to your program, don't just lock the
pages.  Write to them as well, unless you know you won't write to them
ever.  And to make sure you have pre-allocated frames for your stack,
enter a scope that declares a C automatic variable larger than the
maximum stack size you will need, set it to something, then return from
its scope.

<p><hr>
Node:<a name="Page%20Lock%20Functions">Page Lock Functions</a>,
Previous:<a rel=previous accesskey=p href="#Locked%20Memory%20Details">Locked Memory Details</a>,
Up:<a rel=up accesskey=u href="#Locking%20Pages">Locking Pages</a>
<br>

<h4>Functions To Lock And Unlock Pages</h4>

<p>The symbols in this section are declared in <code>sys/mman.h</code>.  These
functions are defined by POSIX.1b, but their availability depends on
your kernel.  If your kernel doesn't allow these functions, they exist
but always fail.  They <em>are</em> available with a Linux kernel.

<p><strong>Portability Note:</strong> POSIX.1b requires that when the <code>mlock</code>
and <code>munlock</code> functions are available, the file <code>unistd.h</code>
define the macro <code>_POSIX_MEMLOCK_RANGE</code> and the file
<code>limits.h</code> define the macro <code>PAGESIZE</code> to be the size of a
memory page in bytes.  It requires that when the <code>mlockall</code> and
<code>munlockall</code> functions are available, the <code>unistd.h</code> file
define the macro <code>_POSIX_MEMLOCK</code>.  The GNU C library conforms to
this requirement.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mlock</b><i> (const void *<var>addr</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>mlock</code> locks a range of the calling process' virtual pages.

<p>The range of memory starts at address <var>addr</var> and is <var>len</var> bytes
long.  Actually, since you must lock whole pages, it is the range of
pages that include any part of the specified range.

<p>When the function returns successfully, each of those pages is backed by
(connected to) a real frame (is resident) and is marked to stay that
way.  This means the function may cause page-ins and have to wait for
them.

<p>When the function fails, it does not affect the lock status of any
pages.

<p>The return value is zero if the function succeeds.  Otherwise, it is
<code>-1</code> and <code>errno</code> is set accordingly.  <code>errno</code> values
specific to this function are:

<dl>
<dt><code>ENOMEM</code>
<dd>
<ul>
<li>At least some of the specified address range does not exist in the
calling process' virtual address space. 
<li>The locking would cause the process to exceed its locked page limit. 
</ul>

<br><dt><code>EPERM</code>
<dd>The calling process is not superuser.

<br><dt><code>EINVAL</code>
<dd><var>len</var> is not positive.

<br><dt><code>ENOSYS</code>
<dd>The kernel does not provide <code>mlock</code> capability.

</dl>

<p>You can lock <em>all</em> a process' memory with <code>mlockall</code>.  You
unlock memory with <code>munlock</code> or <code>munlockall</code>.

<p>To avoid all page faults in a C program, you have to use
<code>mlockall</code>, because some of the memory a program uses is hidden
from the C code, e.g. the stack and automatic variables, and you
wouldn't know what address to tell <code>mlock</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>munlock</b><i> (const void *<var>addr</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>mlock</code> unlocks a range of the calling process' virtual pages.

<p><code>munlock</code> is the inverse of <code>mlock</code> and functions completely
analogously to <code>mlock</code>, except that there is no <code>EPERM</code>
failure.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>mlockall</b><i> (int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>mlockall</code> locks all the pages in a process' virtual memory address
space, and/or any that are added to it in the future.  This includes the
pages of the code, data and stack segment, as well as shared libraries,
user space kernel data, shared memory, and memory mapped files.

<p><var>flags</var> is a string of single bit flags represented by the following
macros.  They tell <code>mlockall</code> which of its functions you want.  All
other bits must be zero.

<dl>

<br><dt><code>MCL_CURRENT</code>
<dd>Lock all pages which currently exist in the calling process' virtual
address space.

<br><dt><code>MCL_FUTURE</code>
<dd>Set a mode such that any pages added to the process' virtual address
space in the future will be locked from birth.  This mode does not
affect future address spaces owned by the same process so exec, which
replaces a process' address space, wipes out <code>MCL_FUTURE</code>. 
See <a href="#Executing%20a%20File">Executing a File</a>.

</dl>

<p>When the function returns successfully, and you specified
<code>MCL_CURRENT</code>, all of the process' pages are backed by (connected
to) real frames (they are resident) and are marked to stay that way. 
This means the function may cause page-ins and have to wait for them.

<p>When the process is in <code>MCL_FUTURE</code> mode because it successfully
executed this function and specified <code>MCL_CURRENT</code>, any system call
by the process that requires space be added to its virtual address space
fails with <code>errno</code> = <code>ENOMEM</code> if locking the additional space
would cause the process to exceed its locked page limit.  In the case
that the address space addition that can't be accommodated is stack
expansion, the stack expansion fails and the kernel sends a
<code>SIGSEGV</code> signal to the process.

<p>When the function fails, it does not affect the lock status of any pages
or the future locking mode.

<p>The return value is zero if the function succeeds.  Otherwise, it is
<code>-1</code> and <code>errno</code> is set accordingly.  <code>errno</code> values
specific to this function are:

<dl>
<dt><code>ENOMEM</code>
<dd>
<ul>
<li>At least some of the specified address range does not exist in the
calling process' virtual address space. 
<li>The locking would cause the process to exceed its locked page limit. 
</ul>

<br><dt><code>EPERM</code>
<dd>The calling process is not superuser.

<br><dt><code>EINVAL</code>
<dd>Undefined bits in <var>flags</var> are not zero.

<br><dt><code>ENOSYS</code>
<dd>The kernel does not provide <code>mlockall</code> capability.

</dl>

<p>You can lock just specific pages with <code>mlock</code>.  You unlock pages
with <code>munlockall</code> and <code>munlock</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>munlockall</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>munlockall</code> unlocks every page in the calling process' virtual
address space and turn off <code>MCL_FUTURE</code> future locking mode.

<p>The return value is zero if the function succeeds.  Otherwise, it is
<code>-1</code> and <code>errno</code> is set accordingly.  The only way this
function can fail is for generic reasons that all functions and system
calls can fail, so there are no specific <code>errno</code> values.

</td></tr>
</table>

<p><hr>
Node:<a name="Character%20Handling">Character Handling</a>,
Next:<a rel=next accesskey=n href="#String%20and%20Array%20Utilities">String and Array Utilities</a>,
Previous:<a rel=previous accesskey=p href="#Memory">Memory</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Character Handling</h2>

<p>Programs that work with characters and strings often need to classify a
character--is it alphabetic, is it a digit, is it whitespace, and so
on--and perform case conversion operations on characters.  The
functions in the header file <code>ctype.h</code> are provided for this
purpose.

<p>Since the choice of locale and character set can alter the
classifications of particular character codes, all of these functions
are affected by the current locale.  (More precisely, they are affected
by the locale currently selected for character classification--the
<code>LC_CTYPE</code> category; see <a href="#Locale%20Categories">Locale Categories</a>.)

<p>The ISO&nbsp;C standard specifies two different sets of functions.  The
one set works on <code>char</code> type characters, the other one on
<code>wchar_t</code> wide characters (see <a href="#Extended%20Char%20Intro">Extended Char Intro</a>).

<ul>
<li><a accesskey=1 href="#Classification%20of%20Characters">Classification of Characters</a>:        Testing whether characters are
			                letters, digits, punctuation, etc.

<p>
</p><li><a accesskey=2 href="#Case%20Conversion">Case Conversion</a>:                     Case mapping, and the like. 
<li><a accesskey=3 href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>:   Character class determination for
                                        wide characters. 
<li><a accesskey=4 href="#Using%20Wide%20Char%20Classes">Using Wide Char Classes</a>:             Notes on using the wide character
                                        classes. 
<li><a accesskey=5 href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>:      Mapping of wide characters. 
</ul>

<p><hr>
Node:<a name="Classification%20of%20Characters">Classification of Characters</a>,
Next:<a rel=next accesskey=n href="#Case%20Conversion">Case Conversion</a>,
Up:<a rel=up accesskey=u href="#Character%20Handling">Character Handling</a>
<br>

<h3>Classification of Characters</h3>

<p>This section explains the library functions for classifying characters. 
For example, <code>isalpha</code> is the function to test for an alphabetic
character.  It takes one argument, the character to test, and returns a
nonzero integer if the character is alphabetic, and zero otherwise.  You
would use it like this:

<br><pre>if (isalpha (c))
  printf ("The character `%c' is alphabetic.\n", c);
</pre>

<p>Each of the functions in this section tests for membership in a
particular class of characters; each has a name starting with <code>is</code>. 
Each of them takes one argument, which is a character to test, and
returns an <code>int</code> which is treated as a boolean value.  The
character argument is passed as an <code>int</code>, and it may be the
constant value <code>EOF</code> instead of a real character.

<p>The attributes of any given character can vary between locales. 
See <a href="#Locales">Locales</a>, for more information on locales.

<p>These functions are declared in the header file <code>ctype.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>islower</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a lower-case letter.  The letter need not be
from the Latin alphabet, any alphabet representable is valid. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isupper</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is an upper-case letter.  The letter need not be
from the Latin alphabet, any alphabet representable is valid. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isalpha</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is an alphabetic character (a letter).  If
<code>islower</code> or <code>isupper</code> is true of a character, then
<code>isalpha</code> is also true.

<p>In some locales, there may be additional characters for which
<code>isalpha</code> is true--letters which are neither upper case nor lower
case.  But in the standard <code>"C"</code> locale, there are no such
additional characters. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isdigit</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a decimal digit (<code>0</code> through <code>9</code>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isalnum</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is an alphanumeric character (a letter or
number); in other words, if either <code>isalpha</code> or <code>isdigit</code> is
true of a character, then <code>isalnum</code> is also true. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isxdigit</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a hexadecimal digit. 
Hexadecimal digits include the normal decimal digits <code>0</code> through
<code>9</code> and the letters <code>A</code> through <code>F</code> and
<code>a</code> through <code>f</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ispunct</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a punctuation character. 
This means any printing character that is not alphanumeric or a space
character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isspace</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a <dfn>whitespace</dfn> character.  In the standard
<code>"C"</code> locale, <code>isspace</code> returns true for only the standard
whitespace characters:

<dl>
<dt><code>' '</code>
<dd>space

<br><dt><code>'\f'</code>
<dd>formfeed

<br><dt><code>'\n'</code>
<dd>newline

<br><dt><code>'\r'</code>
<dd>carriage return

<br><dt><code>'\t'</code>
<dd>horizontal tab

<br><dt><code>'\v'</code>
<dd>vertical tab
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isblank</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a blank character; that is, a space or a tab. 
This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isgraph</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a graphic character; that is, a character
that has a glyph associated with it.  The whitespace characters are not
considered graphic. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isprint</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a printing character.  Printing characters
include all the graphic characters, plus the space (<code> </code>) character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iscntrl</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a control character (that is, a character that
is not a printing character). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isascii</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>c</var> is a 7-bit <code>unsigned char</code> value that fits
into the US/UK ASCII character set.  This function is a BSD extension
and is also an SVID extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Case%20Conversion">Case Conversion</a>,
Next:<a rel=next accesskey=n href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>,
Previous:<a rel=previous accesskey=p href="#Classification%20of%20Characters">Classification of Characters</a>,
Up:<a rel=up accesskey=u href="#Character%20Handling">Character Handling</a>
<br>

<h3>Case Conversion</h3>

<p>This section explains the library functions for performing conversions
such as case mappings on characters.  For example, <code>toupper</code>
converts any character to upper case if possible.  If the character
can't be converted, <code>toupper</code> returns it unchanged.

<p>These functions take one argument of type <code>int</code>, which is the
character to convert, and return the converted character as an
<code>int</code>.  If the conversion is not applicable to the argument given,
the argument is returned unchanged.

<p><strong>Compatibility Note:</strong> In pre-ISO&nbsp;C dialects, instead of
returning the argument unchanged, these functions may fail when the
argument is not suitable for the conversion.  Thus for portability, you
may need to write <code>islower(c) ? toupper(c) : c</code> rather than just
<code>toupper(c)</code>.

<p>These functions are declared in the header file <code>ctype.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>tolower</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>c</var> is an upper-case letter, <code>tolower</code> returns the corresponding
lower-case letter.  If <var>c</var> is not an upper-case letter,
<var>c</var> is returned unchanged. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>toupper</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>c</var> is a lower-case letter, <code>toupper</code> returns the corresponding
upper-case letter.  Otherwise <var>c</var> is returned unchanged. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>toascii</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts <var>c</var> to a 7-bit <code>unsigned char</code> value
that fits into the US/UK ASCII character set, by clearing the high-order
bits.  This function is a BSD extension and is also an SVID extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_tolower</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is identical to <code>tolower</code>, and is provided for compatibility
with the SVID.  See <a href="#SVID">SVID</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_toupper</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is identical to <code>toupper</code>, and is provided for compatibility
with the SVID. 
</td></tr>
</table>

<p><hr>
Node:<a name="Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>,
Next:<a rel=next accesskey=n href="#Using%20Wide%20Char%20Classes">Using Wide Char Classes</a>,
Previous:<a rel=previous accesskey=p href="#Case%20Conversion">Case Conversion</a>,
Up:<a rel=up accesskey=u href="#Character%20Handling">Character Handling</a>
<br>

<h3>Character class determination for wide characters</h3>

<p>Amendment&nbsp;1 to ISO&nbsp;C90 defines functions to classify wide
characters.  Although the original ISO&nbsp;C90 standard already defined
the type <code>wchar_t</code>, no functions operating on them were defined.

<p>The general design of the classification functions for wide characters
is more general.  It allows extensions to the set of available
classifications, beyond those which are always available.  The POSIX
standard specifies how extensions can be made, and this is already
implemented in the GNU C library implementation of the <code>localedef</code>
program.

<p>The character class functions are normally implemented with bitsets,
with a bitset per character.  For a given character, the appropriate
bitset is read from a table and a test is performed as to whether a
certain bit is set.  Which bit is tested for is determined by the
class.

<p>For the wide character classification functions this is made visible. 
There is a type classification type defined, a function to retrieve this
value for a given class, and a function to test whether a given
character is in this class, using the classification value.  On top of
this the normal character classification functions as used for
<code>char</code> objects can be defined.

<p>
<table width="100%">
<tr>
<td align="left"><b>wctype_t</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wctype_t</code> can hold a value which represents a character class. 
The only defined way to generate such a value is by using the
<code>wctype</code> function.

<p>This type is defined in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wctype_t <b>wctype</b><i> (const char *<var>property</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wctype</code> returns a value representing a class of wide
characters which is identified by the string <var>property</var>.  Beside
some standard properties each locale can define its own ones.  In case
no property with the given name is known for the current locale
selected for the <code>LC_CTYPE</code> category, the function returns zero.

<p>The properties known in every locale are:

<p><table><tr align="left"><td valign="top"><code>"alnum"</code> </td><td valign="top"><code>"alpha"</code> </td><td valign="top"><code>"cntrl"</code> </td><td valign="top"><code>"digit"</code>
<br></td></tr><tr align="left"><td valign="top"><code>"graph"</code> </td><td valign="top"><code>"lower"</code> </td><td valign="top"><code>"print"</code> </td><td valign="top"><code>"punct"</code>
<br></td></tr><tr align="left"><td valign="top"><code>"space"</code> </td><td valign="top"><code>"upper"</code> </td><td valign="top"><code>"xdigit"</code>
<br></td></tr></table>

<p>This function is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>To test the membership of a character to one of the non-standard classes
the ISO&nbsp;C standard defines a completely new function.

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswctype</b><i> (wint_t <var>wc</var>, wctype_t <var>desc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a nonzero value if <var>wc</var> is in the character
class specified by <var>desc</var>.  <var>desc</var> must previously be returned
by a successful call to <code>wctype</code>.

<p>This function is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>To make it easier to use the commonly-used classification functions,
they are defined in the C library.  There is no need to use
<code>wctype</code> if the property string is one of the known character
classes.  In some situations it is desirable to construct the property
strings, and then it is important that <code>wctype</code> can also handle the
standard classes.

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswalnum</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a nonzero value if <var>wc</var> is an alphanumeric
character (a letter or number); in other words, if either <code>iswalpha</code>
or <code>iswdigit</code> is true of a character, then <code>iswalnum</code> is also
true.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("alnum"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswalpha</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is an alphabetic character (a letter).  If
<code>iswlower</code> or <code>iswupper</code> is true of a character, then
<code>iswalpha</code> is also true.

<p>In some locales, there may be additional characters for which
<code>iswalpha</code> is true--letters which are neither upper case nor lower
case.  But in the standard <code>"C"</code> locale, there are no such
additional characters.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("alpha"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswcntrl</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a control character (that is, a character that
is not a printing character).

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("cntrl"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswdigit</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a digit (e.g., <code>0</code> through <code>9</code>). 
Please note that this function does not only return a nonzero value for
<em>decimal</em> digits, but for all kinds of digits.  A consequence is
that code like the following will <strong>not</strong> work unconditionally for
wide characters:

<br><pre>n = 0;
while (iswdigit (*wc))
  {
    n *= 10;
    n += *wc++ - L'0';
  }
</pre>

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("digit"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswgraph</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a graphic character; that is, a character
that has a glyph associated with it.  The whitespace characters are not
considered graphic.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("graph"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswlower</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a lower-case letter.  The letter need not be
from the Latin alphabet, any alphabet representable is valid.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("lower"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswprint</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a printing character.  Printing characters
include all the graphic characters, plus the space (<code> </code>) character.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("print"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswpunct</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a punctuation character. 
This means any printing character that is not alphanumeric or a space
character.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("punct"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswspace</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a <dfn>whitespace</dfn> character.  In the standard
<code>"C"</code> locale, <code>iswspace</code> returns true for only the standard
whitespace characters:

<dl>
<dt><code>L' '</code>
<dd>space

<br><dt><code>L'\f'</code>
<dd>formfeed

<br><dt><code>L'\n'</code>
<dd>newline

<br><dt><code>L'\r'</code>
<dd>carriage return

<br><dt><code>L'\t'</code>
<dd>horizontal tab

<br><dt><code>L'\v'</code>
<dd>vertical tab
</dl>

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("space"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswupper</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is an upper-case letter.  The letter need not be
from the Latin alphabet, any alphabet representable is valid.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("upper"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswxdigit</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a hexadecimal digit. 
Hexadecimal digits include the normal decimal digits <code>0</code> through
<code>9</code> and the letters <code>A</code> through <code>F</code> and
<code>a</code> through <code>f</code>.

<p>This function can be implemented using

<br><pre>iswctype (wc, wctype ("xdigit"))
</pre>

<p>It is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>The GNU C library also provides a function which is not defined in the
ISO&nbsp;C standard but which is available as a version for single byte
characters as well.

<p>
<table width="100%">
<tr>
<td align="left">int <b>iswblank</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns true if <var>wc</var> is a blank character; that is, a space or a tab. 
This function is a GNU extension.  It is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Using%20Wide%20Char%20Classes">Using Wide Char Classes</a>,
Next:<a rel=next accesskey=n href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>,
Up:<a rel=up accesskey=u href="#Character%20Handling">Character Handling</a>
<br>

<h3>Notes on using the wide character classes</h3>

<p>The first note is probably not astonishing but still occasionally a
cause of problems.  The <code>isw<var>XXX</var></code> functions can be implemented
using macros and in fact, the GNU C library does this.  They are still
available as real functions but when the <code>wctype.h</code> header is
included the macros will be used.  This is the same as the
<code>char</code> type versions of these functions.

<p>The second note covers something new.  It can be best illustrated by a
(real-world) example.  The first piece of code is an excerpt from the
original code.  It is truncated a bit but the intention should be clear.

<br><pre>int
is_in_class (int c, const char *class)
{
  if (strcmp (class, "alnum") == 0)
    return isalnum (c);
  if (strcmp (class, "alpha") == 0)
    return isalpha (c);
  if (strcmp (class, "cntrl") == 0)
    return iscntrl (c);
  ...
  return 0;
}
</pre>

<p>Now, with the <code>wctype</code> and <code>iswctype</code> you can avoid the
<code>if</code> cascades, but rewriting the code as follows is wrong:

<br><pre>int
is_in_class (int c, const char *class)
{
  wctype_t desc = wctype (class);
  return desc ? iswctype ((wint_t) c, desc) : 0;
}
</pre>

<p>The problem is that it is not guaranteed that the wide character
representation of a single-byte character can be found using casting. 
In fact, usually this fails miserably.  The correct solution to this
problem is to write the code as follows:

<br><pre>int
is_in_class (int c, const char *class)
{
  wctype_t desc = wctype (class);
  return desc ? iswctype (btowc (c), desc) : 0;
}
</pre>

<p>See <a href="#Converting%20a%20Character">Converting a Character</a>, for more information on <code>btowc</code>. 
Note that this change probably does not improve the performance
of the program a lot since the <code>wctype</code> function still has to make
the string comparisons.  It gets really interesting if the
<code>is_in_class</code> function is called more than once for the
same class name.  In this case the variable <var>desc</var> could be computed
once and reused for all the calls.  Therefore the above form of the
function is probably not the final one.

<p><hr>
Node:<a name="Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Using%20Wide%20Char%20Classes">Using Wide Char Classes</a>,
Up:<a rel=up accesskey=u href="#Character%20Handling">Character Handling</a>
<br>

<h3>Mapping of wide characters.</h3>

<p>The classification functions are also generalized by the ISO&nbsp;C
standard.  Instead of just allowing the two standard mappings, a
locale can contain others.  Again, the <code>localedef</code> program
already supports generating such locale data files.

<p>
<table width="100%">
<tr>
<td align="left"><b>wctrans_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is defined as a scalar type which can hold a value
representing the locale-dependent character mapping.  There is no way to
construct such a value apart from using the return value of the
<code>wctrans</code> function.

<p>This type is defined in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wctrans_t <b>wctrans</b><i> (const char *<var>property</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wctrans</code> function has to be used to find out whether a named
mapping is defined in the current locale selected for the
<code>LC_CTYPE</code> category.  If the returned value is non-zero, you can use
it afterwards in calls to <code>towctrans</code>.  If the return value is
zero no such mapping is known in the current locale.

<p>Beside locale-specific mappings there are two mappings which are
guaranteed to be available in every locale:

<p><table><tr align="left"><td valign="top"><code>"tolower"</code> </td><td valign="top"><code>"toupper"</code>
<br></td></tr></table>

<p>These functions are declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>towctrans</b><i> (wint_t <var>wc</var>, wctrans_t <var>desc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>towctrans</code> maps the input character <var>wc</var>
according to the rules of the mapping for which <var>desc</var> is a
descriptor, and returns the value it finds.  <var>desc</var> must be
obtained by a successful call to <code>wctrans</code>.

<p>This function is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>For the generally available mappings, the ISO&nbsp;C standard defines
convenient shortcuts so that it is not necessary to call <code>wctrans</code>
for them.

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>towlower</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>wc</var> is an upper-case letter, <code>towlower</code> returns the corresponding
lower-case letter.  If <var>wc</var> is not an upper-case letter,
<var>wc</var> is returned unchanged.

<p><code>towlower</code> can be implemented using

<br><pre>towctrans (wc, wctrans ("tolower"))
</pre>

<p>This function is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>towupper</b><i> (wint_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>wc</var> is a lower-case letter, <code>towupper</code> returns the corresponding
upper-case letter.  Otherwise <var>wc</var> is returned unchanged.

<p><code>towupper</code> can be implemented using

<br><pre>towctrans (wc, wctrans ("toupper"))
</pre>

<p>This function is declared in <code>wctype.h</code>. 
</td></tr>
</table>

<p>The same warnings given in the last section for the use of the wide
character classification functions apply here.  It is not possible to
simply cast a <code>char</code> type value to a <code>wint_t</code> and use it as an
argument to <code>towctrans</code> calls.

<p><hr>
Node:<a name="String%20and%20Array%20Utilities">String and Array Utilities</a>,
Next:<a rel=next accesskey=n href="#Character%20Set%20Handling">Character Set Handling</a>,
Previous:<a rel=previous accesskey=p href="#Character%20Handling">Character Handling</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>String and Array Utilities</h2>

<p>Operations on strings (or arrays of characters) are an important part of
many programs.  The GNU C library provides an extensive set of string
utility functions, including functions for copying, concatenating,
comparing, and searching strings.  Many of these functions can also
operate on arbitrary regions of storage; for example, the <code>memcpy</code>
function can be used to copy the contents of any kind of array.

<p>It's fairly common for beginning C programmers to "reinvent the wheel"
by duplicating this functionality in their own code, but it pays to
become familiar with the library functions and to make use of them,
since this offers benefits in maintenance, efficiency, and portability.

<p>For instance, you could easily compare one string to another in two
lines of C code, but if you use the built-in <code>strcmp</code> function,
you're less likely to make a mistake.  And, since these library
functions are typically highly optimized, your program may run faster
too.

<ul>
<li><a accesskey=1 href="#Representation%20of%20Strings">Representation of Strings</a>:    Introduction to basic concepts. 
<li><a accesskey=2 href="#String%2fArray%20Conventions">String/Array Conventions</a>:     Whether to use a string function or an
				 arbitrary array function. 
<li><a accesskey=3 href="#String%20Length">String Length</a>:                Determining the length of a string. 
<li><a accesskey=4 href="#Copying%20and%20Concatenation">Copying and Concatenation</a>:    Functions to copy the contents of strings
				 and arrays. 
<li><a accesskey=5 href="#String%2fArray%20Comparison">String/Array Comparison</a>:      Functions for byte-wise and character-wise
				 comparison. 
<li><a accesskey=6 href="#Collation%20Functions">Collation Functions</a>:          Functions for collating strings. 
<li><a accesskey=7 href="#Search%20Functions">Search Functions</a>:             Searching for a specific element or substring. 
<li><a accesskey=8 href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>:   Splitting a string into tokens by looking
				 for delimiters. 
<li><a accesskey=9 href="#strfry">strfry</a>:                       Function for flash-cooking a string. 
<li><a href="#Trivial%20Encryption">Trivial Encryption</a>:           Obscuring data. 
<li><a href="#Encode%20Binary%20Data">Encode Binary Data</a>:           Encoding and Decoding of Binary Data. 
<li><a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>:        Null-separated string vectors. 
</ul>

<p><hr>
Node:<a name="Representation%20of%20Strings">Representation of Strings</a>,
Next:<a rel=next accesskey=n href="#String%2fArray%20Conventions">String/Array Conventions</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Representation of Strings</h3>

<p>This section is a quick summary of string concepts for beginning C
programmers.  It describes how character strings are represented in C
and some common pitfalls.  If you are already familiar with this
material, you can skip this section.

<p>A <dfn>string</dfn> is an array of <code>char</code> objects.  But string-valued
variables are usually declared to be pointers of type <code>char *</code>. 
Such variables do not include space for the text of a string; that has
to be stored somewhere else--in an array variable, a string constant,
or dynamically allocated memory (see <a href="#Memory%20Allocation">Memory Allocation</a>).  It's up to
you to store the address of the chosen memory space into the pointer
variable.  Alternatively you can store a <dfn>null pointer</dfn> in the
pointer variable.  The null pointer does not point anywhere, so
attempting to reference the string it points to gets an error.

<p>"string" normally refers to multibyte character strings as opposed to
wide character strings.  Wide character strings are arrays of type
<code>wchar_t</code> and as for multibyte character strings usually pointers
of type <code>wchar_t *</code> are used.

<p>By convention, a <dfn>null character</dfn>, <code>'\0'</code>, marks the end of a
multibyte character string and the <dfn>null wide character</dfn>,
<code>L'\0'</code>, marks the end of a wide character string.  For example, in
testing to see whether the <code>char *</code> variable <var>p</var> points to a
null character marking the end of a string, you can write
<code>!*<var>p</var></code> or <code>*<var>p</var> == '\0'</code>.

<p>A null character is quite different conceptually from a null pointer,
although both are represented by the integer <code>0</code>.

<p><dfn>String literals</dfn> appear in C program source as strings of
characters between double-quote characters (<code>"</code>) where the initial
double-quote character is immediately preceded by a capital <code>L</code>
(ell) character (as in <code>L"foo"</code>).  In ISO&nbsp;C, string literals
can also be formed by <dfn>string concatenation</dfn>: <code>"a" "b"</code> is the
same as <code>"ab"</code>.  For wide character strings one can either use
<code>L"a" L"b"</code> or <code>L"a" "b"</code>.  Modification of string literals is
not allowed by the GNU C compiler, because literals are placed in
read-only storage.

<p>Character arrays that are declared <code>const</code> cannot be modified
either.  It's generally good style to declare non-modifiable string
pointers to be of type <code>const char *</code>, since this often allows the
C compiler to detect accidental modifications as well as providing some
amount of documentation about what your program intends to do with the
string.

<p>The amount of memory allocated for the character array may extend past
the null character that normally marks the end of the string.  In this
document, the term <dfn>allocated size</dfn> is always used to refer to the
total amount of memory allocated for the string, while the term
<dfn>length</dfn> refers to the number of characters up to (but not
including) the terminating null character.

<p>A notorious source of program bugs is trying to put more characters in a
string than fit in its allocated size.  When writing code that extends
strings or moves characters into a pre-allocated array, you should be
very careful to keep track of the length of the text and make explicit
checks for overflowing the array.  Many of the library functions
<em>do not</em> do this for you!  Remember also that you need to allocate
an extra byte to hold the null character that marks the end of the
string.

<p>Originally strings were sequences of bytes where each byte represents a
single character.  This is still true today if the strings are encoded
using a single-byte character encoding.  Things are different if the
strings are encoded using a multibyte encoding (for more information on
encodings see <a href="#Extended%20Char%20Intro">Extended Char Intro</a>).  There is no difference in
the programming interface for these two kind of strings; the programmer
has to be aware of this and interpret the byte sequences accordingly.

<p>But since there is no separate interface taking care of these
differences the byte-based string functions are sometimes hard to use. 
Since the count parameters of these functions specify bytes a call to
<code>strncpy</code> could cut a multibyte character in the middle and put an
incomplete (and therefore unusable) byte sequence in the target buffer.

<p>To avoid these problems later versions of the ISO&nbsp;C standard
introduce a second set of functions which are operating on <dfn>wide
characters</dfn> (see <a href="#Extended%20Char%20Intro">Extended Char Intro</a>).  These functions don't have
the problems the single-byte versions have since every wide character is
a legal, interpretable value.  This does not mean that cutting wide
character strings at arbitrary points is without problems.  It normally
is for alphabet-based languages (except for non-normalized text) but
languages based on syllables still have the problem that more than one
wide character is necessary to complete a logical unit.  This is a
higher level problem which the C&nbsp;library functions are not designed
to solve.  But it is at least good that no invalid byte sequences can be
created.  Also, the higher level functions can also much easier operate
on wide character than on multibyte characters so that a general advise
is to use wide characters internally whenever text is more than simply
copied.

<p>The remaining of this chapter will discuss the functions for handling
wide character strings in parallel with the discussion of the multibyte
character strings since there is almost always an exact equivalent
available.

<p><hr>
Node:<a name="String%2fArray%20Conventions">String/Array Conventions</a>,
Next:<a rel=next accesskey=n href="#String%20Length">String Length</a>,
Previous:<a rel=previous accesskey=p href="#Representation%20of%20Strings">Representation of Strings</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>String and Array Conventions</h3>

<p>This chapter describes both functions that work on arbitrary arrays or
blocks of memory, and functions that are specific to null-terminated
arrays of characters and wide characters.

<p>Functions that operate on arbitrary blocks of memory have names
beginning with <code>mem</code> and <code>wmem</code> (such as <code>memcpy</code> and
<code>wmemcpy</code>) and invariably take an argument which specifies the size
(in bytes and wide characters respectively) of the block of memory to
operate on.  The array arguments and return values for these functions
have type <code>void *</code> or <code>wchar_t</code>.  As a matter of style, the
elements of the arrays used with the <code>mem</code> functions are referred
to as "bytes".  You can pass any kind of pointer to these functions,
and the <code>sizeof</code> operator is useful in computing the value for the
size argument.  Parameters to the <code>wmem</code> functions must be of type
<code>wchar_t *</code>.  These functions are not really usable with anything
but arrays of this type.

<p>In contrast, functions that operate specifically on strings and wide
character strings have names beginning with <code>str</code> and <code>wcs</code>
respectively (such as <code>strcpy</code> and <code>wcscpy</code>) and look for a
null character to terminate the string instead of requiring an explicit
size argument to be passed.  (Some of these functions accept a specified
maximum length, but they also check for premature termination with a
null character.)  The array arguments and return values for these
functions have type <code>char *</code> and <code>wchar_t *</code> respectively, and
the array elements are referred to as "characters" and "wide
characters".

<p>In many cases, there are both <code>mem</code> and <code>str</code>/<code>wcs</code>
versions of a function.  The one that is more appropriate to use depends
on the exact situation.  When your program is manipulating arbitrary
arrays or blocks of storage, then you should always use the <code>mem</code>
functions.  On the other hand, when you are manipulating null-terminated
strings it is usually more convenient to use the <code>str</code>/<code>wcs</code>
functions, unless you already know the length of the string in advance. 
The <code>wmem</code> functions should be used for wide character arrays with
known size.

<p>Some of the memory and string functions take single characters as
arguments.  Since a value of type <code>char</code> is automatically promoted
into an value of type <code>int</code> when used as a parameter, the functions
are declared with <code>int</code> as the type of the parameter in question. 
In case of the wide character function the situation is similarly: the
parameter type for a single wide character is <code>wint_t</code> and not
<code>wchar_t</code>.  This would for many implementations not be necessary
since the <code>wchar_t</code> is large enough to not be automatically
promoted, but since the ISO&nbsp;C standard does not require such a
choice of types the <code>wint_t</code> type is used.

<p><hr>
Node:<a name="String%20Length">String Length</a>,
Next:<a rel=next accesskey=n href="#Copying%20and%20Concatenation">Copying and Concatenation</a>,
Previous:<a rel=previous accesskey=p href="#String%2fArray%20Conventions">String/Array Conventions</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>String Length</h3>

<p>You can get the length of a string using the <code>strlen</code> function. 
This function is declared in the header file <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strlen</b><i> (const char *<var>s</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strlen</code> function returns the length of the null-terminated
string <var>s</var> in bytes.  (In other words, it returns the offset of the
terminating null character within the array.)

<p>For example,
<br><pre>strlen ("hello, world")
    =&gt; 12
</pre>

<p>When applied to a character array, the <code>strlen</code> function returns
the length of the string stored there, not its allocated size.  You can
get the allocated size of the character array that holds a string using
the <code>sizeof</code> operator:

<br><pre>char string[32] = "hello, world";
sizeof (string)
    =&gt; 32
strlen (string)
    =&gt; 12
</pre>

<p>But beware, this will not work unless <var>string</var> is the character
array itself, not a pointer to it.  For example:

<br><pre>char string[32] = "hello, world";
char *ptr = string;
sizeof (string)
    =&gt; 32
sizeof (ptr)
    =&gt; 4  /* (on a machine with 4 byte pointers) */
</pre>

<p>This is an easy mistake to make when you are working with functions that
take string arguments; those arguments are always pointers, not arrays.

<p>It must also be noted that for multibyte encoded strings the return
value does not have to correspond to the number of characters in the
string.  To get this value the string can be converted to wide
characters and <code>wcslen</code> can be used or something like the following
code can be used:

<br><pre>/* The input is in <code>string</code>.
   The length is expected in <code>n</code>.  */
{
  mbstate_t t;
  char *scopy = string;
  /* In initial state.  */
  memset (&amp;t, '\0', sizeof (t));
  /* Determine number of characters.  */
  n = mbsrtowcs (NULL, &amp;scopy, strlen (scopy), &amp;t);
}
</pre>

<p>This is cumbersome to do so if the number of characters (as opposed to
bytes) is needed often it is better to work with wide characters. 
</td></tr>
</table>

<p>The wide character equivalent is declared in <code>wchar.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcslen</b><i> (const wchar_t *<var>ws</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcslen</code> function is the wide character equivalent to
<code>strlen</code>.  The return value is the number of wide characters in the
wide character string pointed to by <var>ws</var> (this is also the offset of
the terminating null wide character of <var>ws</var>).

<p>Since there are no multi wide character sequences making up one
character the return value is not only the offset in the array, it is
also the number of wide characters.

<p>This function was introduced in Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strnlen</b><i> (const char *<var>s</var>, size_t <var>maxlen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strnlen</code> function returns the length of the string <var>s</var> in
bytes if this length is smaller than <var>maxlen</var> bytes.  Otherwise it
returns <var>maxlen</var>.  Therefore this function is equivalent to
<code>(strlen (<var>s</var>) &lt; n ? strlen (<var>s</var>) : <var>maxlen</var>)</code> but it
is more efficient and works even if the string <var>s</var> is not
null-terminated.

<br><pre>char string[32] = "hello, world";
strnlen (string, 32)
    =&gt; 12
strnlen (string, 5)
    =&gt; 5
</pre>

<p>This function is a GNU extension and is declared in <code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsnlen</b><i> (const wchar_t *<var>ws</var>, size_t <var>maxlen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>wcsnlen</code> is the wide character equivalent to <code>strnlen</code>.  The
<var>maxlen</var> parameter specifies the maximum number of wide characters.

<p>This function is a GNU extension and is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Copying%20and%20Concatenation">Copying and Concatenation</a>,
Next:<a rel=next accesskey=n href="#String%2fArray%20Comparison">String/Array Comparison</a>,
Previous:<a rel=previous accesskey=p href="#String%20Length">String Length</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Copying and Concatenation</h3>

<p>You can use the functions described in this section to copy the contents
of strings and arrays, or to append the contents of one string to
another.  The <code>str</code> and <code>mem</code> functions are declared in the
header file <code>string.h</code> while the <code>wstr</code> and <code>wmem</code>
functions are declared in the file <code>wchar.h</code>.

<p>A helpful way to remember the ordering of the arguments to the functions
in this section is that it corresponds to an assignment expression, with
the destination array specified to the left of the source array.  All
of these functions return the address of the destination array.

<p>Most of these functions do not work properly if the source and
destination arrays overlap.  For example, if the beginning of the
destination array overlaps the end of the source array, the original
contents of that part of the source array may get overwritten before it
is copied.  Even worse, in the case of the string functions, the null
character marking the end of the string may be lost, and the copy
function might get stuck in a loop trashing all the memory allocated to
your program.

<p>All functions that have problems copying between overlapping arrays are
explicitly identified in this manual.  In addition to functions in this
section, there are a few others like <code>sprintf</code> (see <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>) and <code>scanf</code> (see <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>).

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memcpy</b><i> (void *restrict <var>to</var>, const void *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>memcpy</code> function copies <var>size</var> bytes from the object
beginning at <var>from</var> into the object beginning at <var>to</var>.  The
behavior of this function is undefined if the two arrays <var>to</var> and
<var>from</var> overlap; use <code>memmove</code> instead if overlapping is possible.

<p>The value returned by <code>memcpy</code> is the value of <var>to</var>.

<p>Here is an example of how you might use <code>memcpy</code> to copy the
contents of an array:

<br><pre>struct foo *oldarray, *newarray;
int arraysize;
<small>...</small>
memcpy (new, old, arraysize * sizeof (struct foo));
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wmemcpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restruct <var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wmemcpy</code> function copies <var>size</var> wide characters from the object
beginning at <var>wfrom</var> into the object beginning at <var>wto</var>.  The
behavior of this function is undefined if the two arrays <var>wto</var> and
<var>wfrom</var> overlap; use <code>wmemmove</code> instead if overlapping is possible.

<p>The following is a possible implementation of <code>wmemcpy</code> but there
are more optimizations possible.

<br><pre>wchar_t *
wmemcpy (wchar_t *restrict wto, const wchar_t *restrict wfrom,
         size_t size)
{
  return (wchar_t *) memcpy (wto, wfrom, size * sizeof (wchar_t));
}
</pre>

<p>The value returned by <code>wmemcpy</code> is the value of <var>wto</var>.

<p>This function was introduced in Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>mempcpy</b><i> (void *restrict <var>to</var>, const void *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mempcpy</code> function is nearly identical to the <code>memcpy</code>
function.  It copies <var>size</var> bytes from the object beginning at
<code>from</code> into the object pointed to by <var>to</var>.  But instead of
returning the value of <var>to</var> it returns a pointer to the byte
following the last written byte in the object beginning at <var>to</var>. 
I.e., the value is <code>((void *) ((char *) <var>to</var> + <var>size</var>))</code>.

<p>This function is useful in situations where a number of objects shall be
copied to consecutive memory positions.

<br><pre>void *
combine (void *o1, size_t s1, void *o2, size_t s2)
{
  void *result = malloc (s1 + s2);
  if (result != NULL)
    mempcpy (mempcpy (result, o1, s1), o2, s2);
  return result;
}
</pre>

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wmempcpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wmempcpy</code> function is nearly identical to the <code>wmemcpy</code>
function.  It copies <var>size</var> wide characters from the object
beginning at <code>wfrom</code> into the object pointed to by <var>wto</var>.  But
instead of returning the value of <var>wto</var> it returns a pointer to the
wide character following the last written wide character in the object
beginning at <var>wto</var>.  I.e., the value is <code><var>wto</var> + <var>size</var></code>.

<p>This function is useful in situations where a number of objects shall be
copied to consecutive memory positions.

<p>The following is a possible implementation of <code>wmemcpy</code> but there
are more optimizations possible.

<br><pre>wchar_t *
wmempcpy (wchar_t *restrict wto, const wchar_t *restrict wfrom,
          size_t size)
{
  return (wchar_t *) mempcpy (wto, wfrom, size * sizeof (wchar_t));
}
</pre>

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memmove</b><i> (void *<var>to</var>, const void *<var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>memmove</code> copies the <var>size</var> bytes at <var>from</var> into the
<var>size</var> bytes at <var>to</var>, even if those two blocks of space
overlap.  In the case of overlap, <code>memmove</code> is careful to copy the
original values of the bytes in the block at <var>from</var>, including those
bytes which also belong to the block at <var>to</var>.

<p>The value returned by <code>memmove</code> is the value of <var>to</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wmemmove</b><i> (wchar *<var>wto</var>, const wchar_t *<var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>wmemmove</code> copies the <var>size</var> wide characters at <var>wfrom</var>
into the <var>size</var> wide characters at <var>wto</var>, even if those two
blocks of space overlap.  In the case of overlap, <code>memmove</code> is
careful to copy the original values of the wide characters in the block
at <var>wfrom</var>, including those wide characters which also belong to the
block at <var>wto</var>.

<p>The following is a possible implementation of <code>wmemcpy</code> but there
are more optimizations possible.

<br><pre>wchar_t *
wmempcpy (wchar_t *restrict wto, const wchar_t *restrict wfrom,
          size_t size)
{
  return (wchar_t *) mempcpy (wto, wfrom, size * sizeof (wchar_t));
}
</pre>

<p>The value returned by <code>wmemmove</code> is the value of <var>wto</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memccpy</b><i> (void *restrict <var>to</var>, const void *restrict <var>from</var>, int <var>c</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies no more than <var>size</var> bytes from <var>from</var> to
<var>to</var>, stopping if a byte matching <var>c</var> is found.  The return
value is a pointer into <var>to</var> one byte past where <var>c</var> was copied,
or a null pointer if no byte matching <var>c</var> appeared in the first
<var>size</var> bytes of <var>from</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memset</b><i> (void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies the value of <var>c</var> (converted to an
<code>unsigned char</code>) into each of the first <var>size</var> bytes of the
object beginning at <var>block</var>.  It returns the value of <var>block</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wmemset</b><i> (wchar_t *<var>block</var>, wchar_t <var>wc</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies the value of <var>wc</var> into each of the first
<var>size</var> wide characters of the object beginning at <var>block</var>.  It
returns the value of <var>block</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strcpy</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This copies characters from the string <var>from</var> (up to and including
the terminating null character) into the string <var>to</var>.  Like
<code>memcpy</code>, this function has undefined results if the strings
overlap.  The return value is the value of <var>to</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcscpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This copies wide characters from the string <var>wfrom</var> (up to and
including the terminating null wide character) into the string
<var>wto</var>.  Like <code>wmemcpy</code>, this function has undefined results if
the strings overlap.  The return value is the value of <var>wto</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strncpy</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>strcpy</code> but always copies exactly
<var>size</var> characters into <var>to</var>.

<p>If the length of <var>from</var> is more than <var>size</var>, then <code>strncpy</code>
copies just the first <var>size</var> characters.  Note that in this case
there is no null terminator written into <var>to</var>.

<p>If the length of <var>from</var> is less than <var>size</var>, then <code>strncpy</code>
copies all of <var>from</var>, followed by enough null characters to add up
to <var>size</var> characters in all.  This behavior is rarely useful, but it
is specified by the ISO&nbsp;C standard.

<p>The behavior of <code>strncpy</code> is undefined if the strings overlap.

<p>Using <code>strncpy</code> as opposed to <code>strcpy</code> is a way to avoid bugs
relating to writing past the end of the allocated space for <var>to</var>. 
However, it can also make your program much slower in one common case:
copying a string which is probably small into a potentially large buffer. 
In this case, <var>size</var> may be large, and when it is, <code>strncpy</code> will
waste a considerable amount of time copying null characters. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcsncpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>wcscpy</code> but always copies exactly
<var>size</var> wide characters into <var>wto</var>.

<p>If the length of <var>wfrom</var> is more than <var>size</var>, then
<code>wcsncpy</code> copies just the first <var>size</var> wide characters.  Note
that in this case there is no null terminator written into <var>wto</var>.

<p>If the length of <var>wfrom</var> is less than <var>size</var>, then
<code>wcsncpy</code> copies all of <var>wfrom</var>, followed by enough null wide
characters to add up to <var>size</var> wide characters in all.  This
behavior is rarely useful, but it is specified by the ISO&nbsp;C
standard.

<p>The behavior of <code>wcsncpy</code> is undefined if the strings overlap.

<p>Using <code>wcsncpy</code> as opposed to <code>wcscpy</code> is a way to avoid bugs
relating to writing past the end of the allocated space for <var>wto</var>. 
However, it can also make your program much slower in one common case:
copying a string which is probably small into a potentially large buffer. 
In this case, <var>size</var> may be large, and when it is, <code>wcsncpy</code> will
waste a considerable amount of time copying null wide characters. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strdup</b><i> (const char *<var>s</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies the null-terminated string <var>s</var> into a newly
allocated string.  The string is allocated using <code>malloc</code>; see
<a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>.  If <code>malloc</code> cannot allocate space
for the new string, <code>strdup</code> returns a null pointer.  Otherwise it
returns a pointer to the new string. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcsdup</b><i> (const wchar_t *<var>ws</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies the null-terminated wide character string <var>ws</var>
into a newly allocated string.  The string is allocated using
<code>malloc</code>; see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>.  If <code>malloc</code>
cannot allocate space for the new string, <code>wcsdup</code> returns a null
pointer.  Otherwise it returns a pointer to the new wide character
string.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strndup</b><i> (const char *<var>s</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>strdup</code> but always copies at most
<var>size</var> characters into the newly allocated string.

<p>If the length of <var>s</var> is more than <var>size</var>, then <code>strndup</code>
copies just the first <var>size</var> characters and adds a closing null
terminator.  Otherwise all characters are copied and the string is
terminated.

<p>This function is different to <code>strncpy</code> in that it always
terminates the destination string.

<p><code>strndup</code> is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>stpcpy</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>strcpy</code>, except that it returns a pointer to
the end of the string <var>to</var> (that is, the address of the terminating
null character <code>to + strlen (from)</code>) rather than the beginning.

<p>For example, this program uses <code>stpcpy</code> to concatenate <code>foo</code>
and <code>bar</code> to produce <code>foobar</code>, which it then prints.

<br><pre>

#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int
main (void)
{
  char buffer[10];
  char *to = buffer;
  to = stpcpy (to, "foo");
  to = stpcpy (to, "bar");
  puts (buffer);
  return 0;
}
</pre>

<p>This function is not part of the ISO or POSIX standards, and is not
customary on Unix systems, but we did not invent it either.  Perhaps it
comes from MS-DOG.

<p>Its behavior is undefined if the strings overlap.  The function is
declared in <code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcpcpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>wcscpy</code>, except that it returns a pointer to
the end of the string <var>wto</var> (that is, the address of the terminating
null character <code>wto + strlen (wfrom)</code>) rather than the beginning.

<p>This function is not part of ISO or POSIX but was found useful while
developing the GNU C Library itself.

<p>The behavior of <code>wcpcpy</code> is undefined if the strings overlap.

<p><code>wcpcpy</code> is a GNU extension and is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>stpncpy</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>stpcpy</code> but copies always exactly
<var>size</var> characters into <var>to</var>.

<p>If the length of <var>from</var> is more then <var>size</var>, then <code>stpncpy</code>
copies just the first <var>size</var> characters and returns a pointer to the
character directly following the one which was copied last.  Note that in
this case there is no null terminator written into <var>to</var>.

<p>If the length of <var>from</var> is less than <var>size</var>, then <code>stpncpy</code>
copies all of <var>from</var>, followed by enough null characters to add up
to <var>size</var> characters in all.  This behavior is rarely useful, but it
is implemented to be useful in contexts where this behavior of the
<code>strncpy</code> is used.  <code>stpncpy</code> returns a pointer to the
<em>first</em> written null character.

<p>This function is not part of ISO or POSIX but was found useful while
developing the GNU C Library itself.

<p>Its behavior is undefined if the strings overlap.  The function is
declared in <code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcpncpy</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>wcpcpy</code> but copies always exactly
<var>wsize</var> characters into <var>wto</var>.

<p>If the length of <var>wfrom</var> is more then <var>size</var>, then
<code>wcpncpy</code> copies just the first <var>size</var> wide characters and
returns a pointer to the wide character directly following the one which
was copied last.  Note that in this case there is no null terminator
written into <var>wto</var>.

<p>If the length of <var>wfrom</var> is less than <var>size</var>, then <code>wcpncpy</code>
copies all of <var>wfrom</var>, followed by enough null characters to add up
to <var>size</var> characters in all.  This behavior is rarely useful, but it
is implemented to be useful in contexts where this behavior of the
<code>wcsncpy</code> is used.  <code>wcpncpy</code> returns a pointer to the
<em>first</em> written null character.

<p>This function is not part of ISO or POSIX but was found useful while
developing the GNU C Library itself.

<p>Its behavior is undefined if the strings overlap.

<p><code>wcpncpy</code> is a GNU extension and is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strdupa</b><i> (const char *<var>s</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is similar to <code>strdup</code> but allocates the new string
using <code>alloca</code> instead of <code>malloc</code> (see <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>).  This means of course the returned string has the same
limitations as any block of memory allocated using <code>alloca</code>.

<p>For obvious reasons <code>strdupa</code> is implemented only as a macro;
you cannot get the address of this function.  Despite this limitation
it is a useful function.  The following code shows a situation where
using <code>malloc</code> would be a lot more expensive.

<br><pre>

#include &lt;paths.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

const char path[] = _PATH_STDPATH;

int
main (void)
{
  char *wr_path = strdupa (path);
  char *cp = strtok (wr_path, ":");

  while (cp != NULL)
    {
      puts (cp);
      cp = strtok (NULL, ":");
    }
  return 0;
}
</pre>

<p>Please note that calling <code>strtok</code> using <var>path</var> directly is
invalid.  It is also not allowed to call <code>strdupa</code> in the argument
list of <code>strtok</code> since <code>strdupa</code> uses <code>alloca</code>
(see <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>) can interfere with the parameter
passing.

<p>This function is only available if GNU CC is used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strndupa</b><i> (const char *<var>s</var>, size_t <var>size</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>strndup</code> but like <code>strdupa</code> it
allocates the new string using <code>alloca</code>
see <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>.  The same advantages and limitations
of <code>strdupa</code> are valid for <code>strndupa</code>, too.

<p>This function is implemented only as a macro, just like <code>strdupa</code>. 
Just as <code>strdupa</code> this macro also must not be used inside the
parameter list in a function call.

<p><code>strndupa</code> is only available if GNU CC is used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strcat</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strcat</code> function is similar to <code>strcpy</code>, except that the
characters from <var>from</var> are concatenated or appended to the end of
<var>to</var>, instead of overwriting it.  That is, the first character from
<var>from</var> overwrites the null character marking the end of <var>to</var>.

<p>An equivalent definition for <code>strcat</code> would be:

<br><pre>char *
strcat (char *restrict to, const char *restrict from)
{
  strcpy (to + strlen (to), from);
  return to;
}
</pre>

<p>This function has undefined results if the strings overlap. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcscat</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcscat</code> function is similar to <code>wcscpy</code>, except that the
characters from <var>wfrom</var> are concatenated or appended to the end of
<var>wto</var>, instead of overwriting it.  That is, the first character from
<var>wfrom</var> overwrites the null character marking the end of <var>wto</var>.

<p>An equivalent definition for <code>wcscat</code> would be:

<br><pre>wchar_t *
wcscat (wchar_t *wto, const wchar_t *wfrom)
{
  wcscpy (wto + wcslen (wto), wfrom);
  return wto;
}
</pre>

<p>This function has undefined results if the strings overlap. 
</td></tr>
</table>

<p>Programmers using the <code>strcat</code> or <code>wcscat</code> function (or the
following <code>strncat</code> or <code>wcsncar</code> functions for that matter)
can easily be recognized as lazy and reckless.  In almost all situations
the lengths of the participating strings are known (it better should be
since how can one otherwise ensure the allocated size of the buffer is
sufficient?)  Or at least, one could know them if one keeps track of the
results of the various function calls.  But then it is very inefficient
to use <code>strcat</code>/<code>wcscat</code>.  A lot of time is wasted finding the
end of the destination string so that the actual copying can start. 
This is a common example:

<br><pre>/* This function concatenates arbitrarily many strings.  The last
   parameter must be <code>NULL</code>.  */
char *
concat (const char *str, <small>...</small>)
{
  va_list ap, ap2;
  size_t total = 1;
  const char *s;
  char *result;

  va_start (ap, str);
  /* Actually <code>va_copy</code>, but this is the name more gcc versions
     understand.  */
  __va_copy (ap2, ap);

  /* Determine how much space we need.  */
  for (s = str; s != NULL; s = va_arg (ap, const char *))
    total += strlen (s);

  va_end (ap);

  result = (char *) malloc (total);
  if (result != NULL)
    {
      result[0] = '\0';

      /* Copy the strings.  */
      for (s = str; s != NULL; s = va_arg (ap2, const char *))
        strcat (result, s);
    }

  va_end (ap2);

  return result;
}
</pre>

<p>This looks quite simple, especially the second loop where the strings
are actually copied.  But these innocent lines hide a major performance
penalty.  Just imagine that ten strings of 100 bytes each have to be
concatenated.  For the second string we search the already stored 100
bytes for the end of the string so that we can append the next string. 
For all strings in total the comparisons necessary to find the end of
the intermediate results sums up to 5500!  If we combine the copying
with the search for the allocation we can write this function more
efficient:

<br><pre>char *
concat (const char *str, <small>...</small>)
{
  va_list ap;
  size_t allocated = 100;
  char *result = (char *) malloc (allocated);
  char *wp;

  if (allocated != NULL)
    {
      char *newp;

      va_start (ap, atr);

      wp = result;
      for (s = str; s != NULL; s = va_arg (ap, const char *))
        {
          size_t len = strlen (s);

          /* Resize the allocated memory if necessary.  */
          if (wp + len + 1 &gt; result + allocated)
            {
              allocated = (allocated + len) * 2;
              newp = (char *) realloc (result, allocated);
              if (newp == NULL)
                {
                  free (result);
                  return NULL;
                }
              wp = newp + (wp - result);
              result = newp;
            }

          wp = mempcpy (wp, s, len);
        }

      /* Terminate the result string.  */
      *wp++ = '\0';

      /* Resize memory to the optimal size.  */
      newp = realloc (result, wp - result);
      if (newp != NULL)
        result = newp;

      va_end (ap);
    }

  return result;
}
</pre>

<p>With a bit more knowledge about the input strings one could fine-tune
the memory allocation.  The difference we are pointing to here is that
we don't use <code>strcat</code> anymore.  We always keep track of the length
of the current intermediate result so we can safe us the search for the
end of the string and use <code>mempcpy</code>.  Please note that we also
don't use <code>stpcpy</code> which might seem more natural since we handle
with strings.  But this is not necessary since we already know the
length of the string and therefore can use the faster memory copying
function.  The example would work for wide characters the same way.

<p>Whenever a programmer feels the need to use <code>strcat</code> she or he
should think twice and look through the program whether the code cannot
be rewritten to take advantage of already calculated results.  Again: it
is almost always unnecessary to use <code>strcat</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strncat</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>strcat</code> except that not more than <var>size</var>
characters from <var>from</var> are appended to the end of <var>to</var>.  A
single null character is also always appended to <var>to</var>, so the total
allocated size of <var>to</var> must be at least <code><var>size</var> + 1</code> bytes
longer than its initial length.

<p>The <code>strncat</code> function could be implemented like this:

<br><pre>char *
strncat (char *to, const char *from, size_t size)
{
  to[strlen (to) + size] = '\0';
  strncpy (to + strlen (to), from, size);
  return to;
}
</pre>

<p>The behavior of <code>strncat</code> is undefined if the strings overlap. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcsncat</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>wcscat</code> except that not more than <var>size</var>
characters from <var>from</var> are appended to the end of <var>to</var>.  A
single null character is also always appended to <var>to</var>, so the total
allocated size of <var>to</var> must be at least <code><var>size</var> + 1</code> bytes
longer than its initial length.

<p>The <code>wcsncat</code> function could be implemented like this:

<br><pre>wchar_t *
wcsncat (wchar_t *restrict wto, const wchar_t *restrict wfrom,
         size_t size)
{
  wto[wcslen (to) + size] = L'\0';
  wcsncpy (wto + wcslen (wto), wfrom, size);
  return wto;
}
</pre>

<p>The behavior of <code>wcsncat</code> is undefined if the strings overlap. 
</td></tr>
</table>

<p>Here is an example showing the use of <code>strncpy</code> and <code>strncat</code>
(the wide character version is equivalent).  Notice how, in the call to
<code>strncat</code>, the <var>size</var> parameter is computed to avoid
overflowing the character array <code>buffer</code>.

<br><pre>

#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

#define SIZE 10

static char buffer[SIZE];

main ()
{
  strncpy (buffer, "hello", SIZE);
  puts (buffer);
  strncat (buffer, ", world", SIZE - strlen (buffer) - 1);
  puts (buffer);
}
</pre>

<p>The output produced by this program looks like:

<br><pre>hello
hello, wo
</pre>

<p>
<table width="100%">
<tr>
<td align="left">void <b>bcopy</b><i> (const void *<var>from</var>, void *<var>to</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a partially obsolete alternative for <code>memmove</code>, derived from
BSD.  Note that it is not quite equivalent to <code>memmove</code>, because the
arguments are not in the same order and there is no return value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>bzero</b><i> (void *<var>block</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a partially obsolete alternative for <code>memset</code>, derived from
BSD.  Note that it is not as general as <code>memset</code>, because the only
value it can store is zero. 
</td></tr>
</table>

<p><hr>
Node:<a name="String%2fArray%20Comparison">String/Array Comparison</a>,
Next:<a rel=next accesskey=n href="#Collation%20Functions">Collation Functions</a>,
Previous:<a rel=previous accesskey=p href="#Copying%20and%20Concatenation">Copying and Concatenation</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>String/Array Comparison</h3>

<p>You can use the functions in this section to perform comparisons on the
contents of strings and arrays.  As well as checking for equality, these
functions can also be used as the ordering functions for sorting
operations.  See <a href="#Searching%20and%20Sorting">Searching and Sorting</a>, for an example of this.

<p>Unlike most comparison operations in C, the string comparison functions
return a nonzero value if the strings are <em>not</em> equivalent rather
than if they are.  The sign of the value indicates the relative ordering
of the first characters in the strings that are not equivalent:  a
negative value indicates that the first string is "less" than the
second, while a positive value indicates that the first string is
"greater".

<p>The most common use of these functions is to check only for equality. 
This is canonically done with an expression like <code>!&nbsp;strcmp&nbsp;(s1,&nbsp;s2)</code>.

<p>All of these functions are declared in the header file <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>memcmp</b><i> (const void *<var>a1</var>, const void *<var>a2</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>memcmp</code> compares the <var>size</var> bytes of memory
beginning at <var>a1</var> against the <var>size</var> bytes of memory beginning
at <var>a2</var>.  The value returned has the same sign as the difference
between the first differing pair of bytes (interpreted as <code>unsigned
char</code> objects, then promoted to <code>int</code>).

<p>If the contents of the two blocks are equal, <code>memcmp</code> returns
<code>0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wmemcmp</b><i> (const wchar_t *<var>a1</var>, const wchar_t *<var>a2</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>wmemcmp</code> compares the <var>size</var> wide characters
beginning at <var>a1</var> against the <var>size</var> wide characters beginning
at <var>a2</var>.  The value returned is smaller than or larger than zero
depending on whether the first differing wide character is <var>a1</var> is
smaller or larger than the corresponding character in <var>a2</var>.

<p>If the contents of the two blocks are equal, <code>wmemcmp</code> returns
<code>0</code>. 
</td></tr>
</table>

<p>On arbitrary arrays, the <code>memcmp</code> function is mostly useful for
testing equality.  It usually isn't meaningful to do byte-wise ordering
comparisons on arrays of things other than bytes.  For example, a
byte-wise comparison on the bytes that make up floating-point numbers
isn't likely to tell you anything about the relationship between the
values of the floating-point numbers.

<p><code>wmemcmp</code> is really only useful to compare arrays of type
<code>wchar_t</code> since the function looks at <code>sizeof (wchar_t)</code> bytes
at a time and this number of bytes is system dependent.

<p>You should also be careful about using <code>memcmp</code> to compare objects
that can contain "holes", such as the padding inserted into structure
objects to enforce alignment requirements, extra space at the end of
unions, and extra characters at the ends of strings whose length is less
than their allocated size.  The contents of these "holes" are
indeterminate and may cause strange behavior when performing byte-wise
comparisons.  For more predictable results, perform an explicit
component-wise comparison.

<p>For example, given a structure type definition like:

<br><pre>struct foo
  {
    unsigned char tag;
    union
      {
        double f;
        long i;
        char *p;
      } value;
  };
</pre>

<p>you are better off writing a specialized comparison function to compare
<code>struct foo</code> objects instead of comparing them with <code>memcmp</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>strcmp</b><i> (const char *<var>s1</var>, const char *<var>s2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strcmp</code> function compares the string <var>s1</var> against
<var>s2</var>, returning a value that has the same sign as the difference
between the first differing pair of characters (interpreted as
<code>unsigned char</code> objects, then promoted to <code>int</code>).

<p>If the two strings are equal, <code>strcmp</code> returns <code>0</code>.

<p>A consequence of the ordering used by <code>strcmp</code> is that if <var>s1</var>
is an initial substring of <var>s2</var>, then <var>s1</var> is considered to be
"less than" <var>s2</var>.

<p><code>strcmp</code> does not take sorting conventions of the language the
strings are written in into account.  To get that one has to use
<code>strcoll</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wcscmp</b><i> (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>wcscmp</code> function compares the wide character string <var>ws1</var>
against <var>ws2</var>.  The value returned is smaller than or larger than zero
depending on whether the first differing wide character is <var>ws1</var> is
smaller or larger than the corresponding character in <var>ws2</var>.

<p>If the two strings are equal, <code>wcscmp</code> returns <code>0</code>.

<p>A consequence of the ordering used by <code>wcscmp</code> is that if <var>ws1</var>
is an initial substring of <var>ws2</var>, then <var>ws1</var> is considered to be
"less than" <var>ws2</var>.

<p><code>wcscmp</code> does not take sorting conventions of the language the
strings are written in into account.  To get that one has to use
<code>wcscoll</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>strcasecmp</b><i> (const char *<var>s1</var>, const char *<var>s2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>strcmp</code>, except that differences in case are
ignored.  How uppercase and lowercase characters are related is
determined by the currently selected locale.  In the standard <code>"C"</code>
locale the characters &Auml; and &auml; do not match but in a locale which
regards these characters as parts of the alphabet they do match.

<p><code>strcasecmp</code> is derived from BSD. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wcscasecmp</b><i> (const wchar_t *<var>ws1</var>, const wchar_T *<var>ws2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>wcscmp</code>, except that differences in case are
ignored.  How uppercase and lowercase characters are related is
determined by the currently selected locale.  In the standard <code>"C"</code>
locale the characters &Auml; and &auml; do not match but in a locale which
regards these characters as parts of the alphabet they do match.

<p><code>wcscasecmp</code> is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>strncmp</b><i> (const char *<var>s1</var>, const char *<var>s2</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the similar to <code>strcmp</code>, except that no more than
<var>size</var> wide characters are compared.  In other words, if the two
strings are the same in their first <var>size</var> wide characters, the
return value is zero. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wcsncmp</b><i> (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the similar to <code>wcscmp</code>, except that no more than
<var>size</var> wide characters are compared.  In other words, if the two
strings are the same in their first <var>size</var> wide characters, the
return value is zero. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>strncasecmp</b><i> (const char *<var>s1</var>, const char *<var>s2</var>, size_t <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>strncmp</code>, except that differences in case
are ignored.  Like <code>strcasecmp</code>, it is locale dependent how
uppercase and lowercase characters are related.

<p><code>strncasecmp</code> is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wcsncasecmp</b><i> (const wchar_t *<var>ws1</var>, const wchar_t *<var>s2</var>, size_t <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>wcsncmp</code>, except that differences in case
are ignored.  Like <code>wcscasecmp</code>, it is locale dependent how
uppercase and lowercase characters are related.

<p><code>wcsncasecmp</code> is a GNU extension. 
</td></tr>
</table>

<p>Here are some examples showing the use of <code>strcmp</code> and
<code>strncmp</code> (equivalent examples can be constructed for the wide
character functions).  These examples assume the use of the ASCII
character set.  (If some other character set--say, EBCDIC--is used
instead, then the glyphs are associated with different numeric codes,
and the return values and ordering may differ.)

<br><pre>strcmp ("hello", "hello")
    =&gt; 0    /* These two strings are the same. */
strcmp ("hello", "Hello")
    =&gt; 32   /* Comparisons are case-sensitive. */
strcmp ("hello", "world")
    =&gt; -15  /* The character <code>'h'</code> comes before <code>'w'</code>. */
strcmp ("hello", "hello, world")
    =&gt; -44  /* Comparing a null character against a comma. */
strncmp ("hello", "hello, world", 5)
    =&gt; 0    /* The initial 5 characters are the same. */
strncmp ("hello, world", "hello, stupid world!!!", 5)
    =&gt; 0    /* The initial 5 characters are the same. */
</pre>

<p>
<table width="100%">
<tr>
<td align="left">int <b>strverscmp</b><i> (const char *<var>s1</var>, const char *<var>s2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strverscmp</code> function compares the string <var>s1</var> against
<var>s2</var>, considering them as holding indices/version numbers.  Return
value follows the same conventions as found in the <code>strverscmp</code>
function.  In fact, if <var>s1</var> and <var>s2</var> contain no digits,
<code>strverscmp</code> behaves like <code>strcmp</code>.

<p>Basically, we compare strings normally (character by character), until
we find a digit in each string - then we enter a special comparison
mode, where each sequence of digits is taken as a whole.  If we reach the
end of these two parts without noticing a difference, we return to the
standard comparison mode.  There are two types of numeric parts:
"integral" and "fractional" (those  begin with a '0'). The types
of the numeric parts affect the way we sort them:

<ul>
<li>integral/integral: we compare values as you would expect.

<li>fractional/integral: the fractional part is less than the integral one. 
Again, no surprise.

<li>fractional/fractional: the things become a bit more complex. 
If the common prefix contains only leading zeroes, the longest part is less
than the other one; else the comparison behaves normally. 
</ul>

<br><pre>strverscmp ("no digit", "no digit")
    =&gt; 0    /* same behavior as strcmp. */
strverscmp ("item#99", "item#100")
    =&gt; &lt;0   /* same prefix, but 99 &lt; 100. */
strverscmp ("alpha1", "alpha001")
    =&gt; &gt;0   /* fractional part inferior to integral one. */
strverscmp ("part1_f012", "part1_f01")
    =&gt; &gt;0   /* two fractional parts. */
strverscmp ("foo.009", "foo.0")
    =&gt; &lt;0   /* idem, but with leading zeroes only. */
</pre>

<p>This function is especially useful when dealing with filename sorting,
because filenames frequently hold indices/version numbers.

<p><code>strverscmp</code> is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>bcmp</b><i> (const void *<var>a1</var>, const void *<var>a2</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an obsolete alias for <code>memcmp</code>, derived from BSD. 
</td></tr>
</table>

<p><hr>
Node:<a name="Collation%20Functions">Collation Functions</a>,
Next:<a rel=next accesskey=n href="#Search%20Functions">Search Functions</a>,
Previous:<a rel=previous accesskey=p href="#String%2fArray%20Comparison">String/Array Comparison</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Collation Functions</h3>

<p>In some locales, the conventions for lexicographic ordering differ from
the strict numeric ordering of character codes.  For example, in Spanish
most glyphs with diacritical marks such as accents are not considered
distinct letters for the purposes of collation.  On the other hand, the
two-character sequence <code>ll</code> is treated as a single letter that is
collated immediately after <code>l</code>.

<p>You can use the functions <code>strcoll</code> and <code>strxfrm</code> (declared in
the headers file <code>string.h</code>) and <code>wcscoll</code> and <code>wcsxfrm</code>
(declared in the headers file <code>wchar</code>) to compare strings using a
collation ordering appropriate for the current locale.  The locale used
by these functions in particular can be specified by setting the locale
for the <code>LC_COLLATE</code> category; see <a href="#Locales">Locales</a>.

<p>In the standard C locale, the collation sequence for <code>strcoll</code> is
the same as that for <code>strcmp</code>.  Similarly, <code>wcscoll</code> and
<code>wcscmp</code> are the same in this situation.

<p>Effectively, the way these functions work is by applying a mapping to
transform the characters in a string to a byte sequence that represents
the string's position in the collating sequence of the current locale. 
Comparing two such byte sequences in a simple fashion is equivalent to
comparing the strings with the locale's collating sequence.

<p>The functions <code>strcoll</code> and <code>wcscoll</code> perform this translation
implicitly, in order to do one comparison.  By contrast, <code>strxfrm</code>
and <code>wcsxfrm</code> perform the mapping explicitly.  If you are making
multiple comparisons using the same string or set of strings, it is
likely to be more efficient to use <code>strxfrm</code> or <code>wcsxfrm</code> to
transform all the strings just once, and subsequently compare the
transformed strings with <code>strcmp</code> or <code>wcscmp</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>strcoll</b><i> (const char *<var>s1</var>, const char *<var>s2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strcoll</code> function is similar to <code>strcmp</code> but uses the
collating sequence of the current locale for collation (the
<code>LC_COLLATE</code> locale). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wcscoll</b><i> (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcscoll</code> function is similar to <code>wcscmp</code> but uses the
collating sequence of the current locale for collation (the
<code>LC_COLLATE</code> locale). 
</td></tr>
</table>

<p>Here is an example of sorting an array of strings, using <code>strcoll</code>
to compare them.  The actual sort algorithm is not written here; it
comes from <code>qsort</code> (see <a href="#Array%20Sort%20Function">Array Sort Function</a>).  The job of the
code shown here is to say how to compare the strings while sorting them. 
(Later on in this section, we will show a way to do this more
efficiently using <code>strxfrm</code>.)

<br><pre>/* This is the comparison function used with <code>qsort</code>. */

int
compare_elements (char **p1, char **p2)
{
  return strcoll (*p1, *p2);
}

/* This is the entry point--the function to sort
   strings using the locale's collating sequence. */

void
sort_strings (char **array, int nstrings)
{
  /* Sort <code>temp_array</code> by comparing the strings. */
  qsort (array, nstrings,
         sizeof (char *), compare_elements);
}
</pre>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strxfrm</b><i> (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>strxfrm</code> transforms the string <var>from</var> using the
collation transformation determined by the locale currently selected for
collation, and stores the transformed string in the array <var>to</var>.  Up
to <var>size</var> characters (including a terminating null character) are
stored.

<p>The behavior is undefined if the strings <var>to</var> and <var>from</var>
overlap; see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<p>The return value is the length of the entire transformed string.  This
value is not affected by the value of <var>size</var>, but if it is greater
or equal than <var>size</var>, it means that the transformed string did not
entirely fit in the array <var>to</var>.  In this case, only as much of the
string as actually fits was stored.  To get the whole transformed
string, call <code>strxfrm</code> again with a bigger output array.

<p>The transformed string may be longer than the original string, and it
may also be shorter.

<p>If <var>size</var> is zero, no characters are stored in <var>to</var>.  In this
case, <code>strxfrm</code> simply returns the number of characters that would
be the length of the transformed string.  This is useful for determining
what size the allocated array should be.  It does not matter what
<var>to</var> is if <var>size</var> is zero; <var>to</var> may even be a null pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsxfrm</b><i> (wchar_t *restrict <var>wto</var>, const wchar_t *<var>wfrom</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>wcsxfrm</code> transforms wide character string <var>wfrom</var>
using the collation transformation determined by the locale currently
selected for collation, and stores the transformed string in the array
<var>wto</var>.  Up to <var>size</var> wide characters (including a terminating null
character) are stored.

<p>The behavior is undefined if the strings <var>wto</var> and <var>wfrom</var>
overlap; see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<p>The return value is the length of the entire transformed wide character
string.  This value is not affected by the value of <var>size</var>, but if
it is greater or equal than <var>size</var>, it means that the transformed
wide character string did not entirely fit in the array <var>wto</var>.  In
this case, only as much of the wide character string as actually fits
was stored.  To get the whole transformed wide character string, call
<code>wcsxfrm</code> again with a bigger output array.

<p>The transformed wide character string may be longer than the original
wide character string, and it may also be shorter.

<p>If <var>size</var> is zero, no characters are stored in <var>to</var>.  In this
case, <code>wcsxfrm</code> simply returns the number of wide characters that
would be the length of the transformed wide character string.  This is
useful for determining what size the allocated array should be (remember
to multiply with <code>sizeof (wchar_t)</code>).  It does not matter what
<var>wto</var> is if <var>size</var> is zero; <var>wto</var> may even be a null pointer. 
</td></tr>
</table>

<p>Here is an example of how you can use <code>strxfrm</code> when
you plan to do many comparisons.  It does the same thing as the previous
example, but much faster, because it has to transform each string only
once, no matter how many times it is compared with other strings.  Even
the time needed to allocate and free storage is much less than the time
we save, when there are many strings.

<br><pre>struct sorter { char *input; char *transformed; };

/* This is the comparison function used with <code>qsort</code>
   to sort an array of <code>struct sorter</code>. */

int
compare_elements (struct sorter *p1, struct sorter *p2)
{
  return strcmp (p1-&gt;transformed, p2-&gt;transformed);
}

/* This is the entry point--the function to sort
   strings using the locale's collating sequence. */

void
sort_strings_fast (char **array, int nstrings)
{
  struct sorter temp_array[nstrings];
  int i;

  /* Set up <code>temp_array</code>.  Each element contains
     one input string and its transformed string. */
  for (i = 0; i &lt; nstrings; i++)
    {
      size_t length = strlen (array[i]) * 2;
      char *transformed;
      size_t transformed_length;

      temp_array[i].input = array[i];

      /* First try a buffer perhaps big enough.  */
      transformed = (char *) xmalloc (length);

      /* Transform <code>array[i]</code>.  */
      transformed_length = strxfrm (transformed, array[i], length);

      /* If the buffer was not large enough, resize it
         and try again.  */
      if (transformed_length &gt;= length)
        {
          /* Allocate the needed space. +1 for terminating
             <code>NUL</code> character.  */
          transformed = (char *) xrealloc (transformed,
                                           transformed_length + 1);

          /* The return value is not interesting because we know
             how long the transformed string is.  */
          (void) strxfrm (transformed, array[i],
                          transformed_length + 1);
        }

      temp_array[i].transformed = transformed;
    }

  /* Sort <code>temp_array</code> by comparing transformed strings. */
  qsort (temp_array, sizeof (struct sorter),
         nstrings, compare_elements);

  /* Put the elements back in the permanent array
     in their sorted order. */
  for (i = 0; i &lt; nstrings; i++)
    array[i] = temp_array[i].input;

  /* Free the strings we allocated. */
  for (i = 0; i &lt; nstrings; i++)
    free (temp_array[i].transformed);
}
</pre>

<p>The interesting part of this code for the wide character version would
look like this:

<br><pre>void
sort_strings_fast (wchar_t **array, int nstrings)
{
  <small>...</small>
      /* Transform <code>array[i]</code>.  */
      transformed_length = wcsxfrm (transformed, array[i], length);

      /* If the buffer was not large enough, resize it
         and try again.  */
      if (transformed_length &gt;= length)
        {
          /* Allocate the needed space. +1 for terminating
             <code>NUL</code> character.  */
          transformed = (wchar_t *) xrealloc (transformed,
                                              (transformed_length + 1)
                                              * sizeof (wchar_t));

          /* The return value is not interesting because we know
             how long the transformed string is.  */
          (void) wcsxfrm (transformed, array[i],
                          transformed_length + 1);
        }
  <small>...</small>
</pre>

<p>Note the additional multiplication with <code>sizeof (wchar_t)</code> in the
<code>realloc</code> call.

<p><strong>Compatibility Note:</strong> The string collation functions are a new
feature of ISO&nbsp;C90.  Older C dialects have no equivalent feature. 
The wide character versions were introduced in Amendment&nbsp;1 to ISO&nbsp;C90.

<p><hr>
Node:<a name="Search%20Functions">Search Functions</a>,
Next:<a rel=next accesskey=n href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>,
Previous:<a rel=previous accesskey=p href="#Collation%20Functions">Collation Functions</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Search Functions</h3>

<p>This section describes library functions which perform various kinds
of searching operations on strings and arrays.  These functions are
declared in the header file <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memchr</b><i> (const void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function finds the first occurrence of the byte <var>c</var> (converted
to an <code>unsigned char</code>) in the initial <var>size</var> bytes of the
object beginning at <var>block</var>.  The return value is a pointer to the
located byte, or a null pointer if no match was found. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wmemchr</b><i> (const wchar_t *<var>block</var>, wchar_t <var>wc</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function finds the first occurrence of the wide character <var>wc</var>
in the initial <var>size</var> wide characters of the object beginning at
<var>block</var>.  The return value is a pointer to the located wide
character, or a null pointer if no match was found. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>rawmemchr</b><i> (const void *<var>block</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Often the <code>memchr</code> function is used with the knowledge that the
byte <var>c</var> is available in the memory block specified by the
parameters.  But this means that the <var>size</var> parameter is not really
needed and that the tests performed with it at runtime (to check whether
the end of the block is reached) are not needed.

<p>The <code>rawmemchr</code> function exists for just this situation which is
surprisingly frequent.  The interface is similar to <code>memchr</code> except
that the <var>size</var> parameter is missing.  The function will look beyond
the end of the block pointed to by <var>block</var> in case the programmer
made an error in assuming that the byte <var>c</var> is present in the block. 
In this case the result is unspecified.  Otherwise the return value is a
pointer to the located byte.

<p>This function is of special interest when looking for the end of a
string.  Since all strings are terminated by a null byte a call like

<br><pre>   rawmemchr (str, '\0')
</pre>

<p>will never go beyond the end of the string.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memrchr</b><i> (const void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>memrchr</code> is like <code>memchr</code>, except that it searches
backwards from the end of the block defined by <var>block</var> and <var>size</var>
(instead of forwards from the front). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strchr</b><i> (const char *<var>string</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strchr</code> function finds the first occurrence of the character
<var>c</var> (converted to a <code>char</code>) in the null-terminated string
beginning at <var>string</var>.  The return value is a pointer to the located
character, or a null pointer if no match was found.

<p>For example,
<br><pre>strchr ("hello, world", 'l')
    =&gt; "llo, world"
strchr ("hello, world", '?')
    =&gt; NULL
</pre>

<p>The terminating null character is considered to be part of the string,
so you can use this function get a pointer to the end of a string by
specifying a null character as the value of the <var>c</var> argument.  It
would be better (but less portable) to use <code>strchrnul</code> in this
case, though. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcschr</b><i> (const wchar_t *<var>wstring</var>, int <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcschr</code> function finds the first occurrence of the wide
character <var>wc</var> in the null-terminated wide character string
beginning at <var>wstring</var>.  The return value is a pointer to the
located wide character, or a null pointer if no match was found.

<p>The terminating null character is considered to be part of the wide
character string, so you can use this function get a pointer to the end
of a wide character string by specifying a null wude character as the
value of the <var>wc</var> argument.  It would be better (but less portable)
to use <code>wcschrnul</code> in this case, though. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strchrnul</b><i> (const char *<var>string</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>strchrnul</code> is the same as <code>strchr</code> except that if it does
not find the character, it returns a pointer to string's terminating
null character rather than a null pointer.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcschrnul</b><i> (const wchar_t *<var>wstring</var>, wchar_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>wcschrnul</code> is the same as <code>wcschr</code> except that if it does not
find the wide character, it returns a pointer to wide character string's
terminating null wide character rather than a null pointer.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>One useful, but unusual, use of the <code>strchr</code>
function is when one wants to have a pointer pointing to the NUL byte
terminating a string.  This is often written in this way:

<br><pre>  s += strlen (s);
</pre>

<p>This is almost optimal but the addition operation duplicated a bit of
the work already done in the <code>strlen</code> function.  A better solution
is this:

<br><pre>  s = strchr (s, '\0');
</pre>

<p>There is no restriction on the second parameter of <code>strchr</code> so it
could very well also be the NUL character.  Those readers thinking very
hard about this might now point out that the <code>strchr</code> function is
more expensive than the <code>strlen</code> function since we have two abort
criteria.  This is right.  But in the GNU C library the implementation of
<code>strchr</code> is optimized in a special way so that <code>strchr</code>
actually is faster.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strrchr</b><i> (const char *<var>string</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>strrchr</code> is like <code>strchr</code>, except that it searches
backwards from the end of the string <var>string</var> (instead of forwards
from the front).

<p>For example,
<br><pre>strrchr ("hello, world", 'l')
    =&gt; "ld"
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcsrchr</b><i> (const wchar_t *<var>wstring</var>, wchar_t <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>wcsrchr</code> is like <code>wcschr</code>, except that it searches
backwards from the end of the string <var>wstring</var> (instead of forwards
from the front). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strstr</b><i> (const char *<var>haystack</var>, const char *<var>needle</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>strchr</code>, except that it searches <var>haystack</var> for a
substring <var>needle</var> rather than just a single character.  It
returns a pointer into the string <var>haystack</var> that is the first
character of the substring, or a null pointer if no match was found.  If
<var>needle</var> is an empty string, the function returns <var>haystack</var>.

<p>For example,
<br><pre>strstr ("hello, world", "l")
    =&gt; "llo, world"
strstr ("hello, world", "wo")
    =&gt; "world"
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcsstr</b><i> (const wchar_t *<var>haystack</var>, const wchar_t *<var>needle</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>wcschr</code>, except that it searches <var>haystack</var> for a
substring <var>needle</var> rather than just a single wide character.  It
returns a pointer into the string <var>haystack</var> that is the first wide
character of the substring, or a null pointer if no match was found.  If
<var>needle</var> is an empty string, the function returns <var>haystack</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcswcs</b><i> (const wchar_t *<var>haystack</var>, const wchar_t *<var>needle</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>wcsstr</code> is an depricated alias for <code>wcsstr</code>.  This is the
name originally used in the X/Open Portability Guide before the
Amendment&nbsp;1 to ISO&nbsp;C90 was published. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strcasestr</b><i> (const char *<var>haystack</var>, const char *<var>needle</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>strstr</code>, except that it ignores case in searching for
the substring.   Like <code>strcasecmp</code>, it is locale dependent how
uppercase and lowercase characters are related.

<p>For example,
<br><pre>strstr ("hello, world", "L")
    =&gt; "llo, world"
strstr ("hello, World", "wo")
    =&gt; "World"
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memmem</b><i> (const void *<var>haystack</var>, size_t <var>haystack-len</var>,<br>const void *<var>needle</var>, size_t <var>needle-len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>strstr</code>, but <var>needle</var> and <var>haystack</var> are byte
arrays rather than null-terminated strings.  <var>needle-len</var> is the
length of <var>needle</var> and <var>haystack-len</var> is the length of
<var>haystack</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strspn</b><i> (const char *<var>string</var>, const char *<var>skipset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strspn</code> ("string span") function returns the length of the
initial substring of <var>string</var> that consists entirely of characters that
are members of the set specified by the string <var>skipset</var>.  The order
of the characters in <var>skipset</var> is not important.

<p>For example,
<br><pre>strspn ("hello, world", "abcdefghijklmnopqrstuvwxyz")
    =&gt; 5
</pre>

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsspn</b><i> (const wchar_t *<var>wstring</var>, const wchar_t *<var>skipset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcsspn</code> ("wide character string span") function returns the
length of the initial substring of <var>wstring</var> that consists entirely
of wide characters that are members of the set specified by the string
<var>skipset</var>.  The order of the wide characters in <var>skipset</var> is not
important. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strcspn</b><i> (const char *<var>string</var>, const char *<var>stopset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strcspn</code> ("string complement span") function returns the length
of the initial substring of <var>string</var> that consists entirely of characters
that are <em>not</em> members of the set specified by the string <var>stopset</var>. 
(In other words, it returns the offset of the first character in <var>string</var>
that is a member of the set <var>stopset</var>.)

<p>For example,
<br><pre>strcspn ("hello, world", " \t\n,.;!?")
    =&gt; 5
</pre>

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcscspn</b><i> (const wchar_t *<var>wstring</var>, const wchar_t *<var>stopset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcscspn</code> ("wide character string complement span") function
returns the length of the initial substring of <var>wstring</var> that
consists entirely of wide characters that are <em>not</em> members of the
set specified by the string <var>stopset</var>.  (In other words, it returns
the offset of the first character in <var>string</var> that is a member of
the set <var>stopset</var>.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strpbrk</b><i> (const char *<var>string</var>, const char *<var>stopset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strpbrk</code> ("string pointer break") function is related to
<code>strcspn</code>, except that it returns a pointer to the first character
in <var>string</var> that is a member of the set <var>stopset</var> instead of the
length of the initial substring.  It returns a null pointer if no such
character from <var>stopset</var> is found.

<p>For example,

<br><pre>strpbrk ("hello, world", " \t\n,.;!?")
    =&gt; ", world"
</pre>

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcspbrk</b><i> (const wchar_t *<var>wstring</var>, const wchar_t *<var>stopset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcspbrk</code> ("wide character string pointer break") function is
related to <code>wcscspn</code>, except that it returns a pointer to the first
wide character in <var>wstring</var> that is a member of the set
<var>stopset</var> instead of the length of the initial substring.  It
returns a null pointer if no such character from <var>stopset</var> is found. 
</td></tr>
</table>

<h4>Compatibility String Search Functions</h4>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>index</b><i> (const char *<var>string</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>index</code> is another name for <code>strchr</code>; they are exactly the same. 
New code should always use <code>strchr</code> since this name is defined in
ISO&nbsp;C while <code>index</code> is a BSD invention which never was available
on System&nbsp;V derived systems. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>rindex</b><i> (const char *<var>string</var>, int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>rindex</code> is another name for <code>strrchr</code>; they are exactly the same. 
New code should always use <code>strrchr</code> since this name is defined in
ISO&nbsp;C while <code>rindex</code> is a BSD invention which never was available
on System&nbsp;V derived systems. 
</td></tr>
</table>

<p><hr>
Node:<a name="Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>,
Next:<a rel=next accesskey=n href="#strfry">strfry</a>,
Previous:<a rel=previous accesskey=p href="#Search%20Functions">Search Functions</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Finding Tokens in a String</h3>

<p>It's fairly common for programs to have a need to do some simple kinds
of lexical analysis and parsing, such as splitting a command string up
into tokens.  You can do this with the <code>strtok</code> function, declared
in the header file <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strtok</b><i> (char *restrict <var>newstring</var>, const char *restrict <var>delimiters</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A string can be split into tokens by making a series of calls to the
function <code>strtok</code>.

<p>The string to be split up is passed as the <var>newstring</var> argument on
the first call only.  The <code>strtok</code> function uses this to set up
some internal state information.  Subsequent calls to get additional
tokens from the same string are indicated by passing a null pointer as
the <var>newstring</var> argument.  Calling <code>strtok</code> with another
non-null <var>newstring</var> argument reinitializes the state information. 
It is guaranteed that no other library function ever calls <code>strtok</code>
behind your back (which would mess up this internal state information).

<p>The <var>delimiters</var> argument is a string that specifies a set of delimiters
that may surround the token being extracted.  All the initial characters
that are members of this set are discarded.  The first character that is
<em>not</em> a member of this set of delimiters marks the beginning of the
next token.  The end of the token is found by looking for the next
character that is a member of the delimiter set.  This character in the
original string <var>newstring</var> is overwritten by a null character, and the
pointer to the beginning of the token in <var>newstring</var> is returned.

<p>On the next call to <code>strtok</code>, the searching begins at the next
character beyond the one that marked the end of the previous token. 
Note that the set of delimiters <var>delimiters</var> do not have to be the
same on every call in a series of calls to <code>strtok</code>.

<p>If the end of the string <var>newstring</var> is reached, or if the remainder of
string consists only of delimiter characters, <code>strtok</code> returns
a null pointer.

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent.

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>wcstok</b><i> (wchar_t *<var>newstring</var>, const char *<var>delimiters</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A string can be split into tokens by making a series of calls to the
function <code>wcstok</code>.

<p>The string to be split up is passed as the <var>newstring</var> argument on
the first call only.  The <code>wcstok</code> function uses this to set up
some internal state information.  Subsequent calls to get additional
tokens from the same wide character string are indicated by passing a
null pointer as the <var>newstring</var> argument.  Calling <code>wcstok</code>
with another non-null <var>newstring</var> argument reinitializes the state
information.  It is guaranteed that no other library function ever calls
<code>wcstok</code> behind your back (which would mess up this internal state
information).

<p>The <var>delimiters</var> argument is a wide character string that specifies
a set of delimiters that may surround the token being extracted.  All
the initial wide characters that are members of this set are discarded. 
The first wide character that is <em>not</em> a member of this set of
delimiters marks the beginning of the next token.  The end of the token
is found by looking for the next wide character that is a member of the
delimiter set.  This wide character in the original wide character
string <var>newstring</var> is overwritten by a null wide character, and the
pointer to the beginning of the token in <var>newstring</var> is returned.

<p>On the next call to <code>wcstok</code>, the searching begins at the next
wide character beyond the one that marked the end of the previous token. 
Note that the set of delimiters <var>delimiters</var> do not have to be the
same on every call in a series of calls to <code>wcstok</code>.

<p>If the end of the wide character string <var>newstring</var> is reached, or
if the remainder of string consists only of delimiter wide characters,
<code>wcstok</code> returns a null pointer.

<p>Note that "character" is here used in the sense of byte.  In a string
using a multibyte character encoding (abstract) character consisting of
more than one byte are not treated as an entity.  Each byte is treated
separately.  The function is not locale-dependent. 
</td></tr>
</table>

<p><strong>Warning:</strong> Since <code>strtok</code> and <code>wcstok</code> alter the string
they is parsing, you should always copy the string to a temporary buffer
before parsing it with <code>strtok</code>/<code>wcstok</code> (see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>).  If you allow <code>strtok</code> or <code>wcstok</code> to modify
a string that came from another part of your program, you are asking for
trouble; that string might be used for other purposes after
<code>strtok</code> or <code>wcstok</code> has modified it, and it would not have
the expected value.

<p>The string that you are operating on might even be a constant.  Then
when <code>strtok</code> or <code>wcstok</code> tries to modify it, your program
will get a fatal signal for writing in read-only memory.  See <a href="#Program%20Error%20Signals">Program Error Signals</a>.  Even if the operation of <code>strtok</code> or <code>wcstok</code>
would not require a modification of the string (e.g., if there is
exactly one token) the string can (and in the GNU libc case will) be
modified.

<p>This is a special case of a general principle: if a part of a program
does not have as its purpose the modification of a certain data
structure, then it is error-prone to modify the data structure
temporarily.

<p>The functions <code>strtok</code> and <code>wcstok</code> are not reentrant. 
See <a href="#Nonreentrancy">Nonreentrancy</a>, for a discussion of where and why reentrancy is
important.

<p>Here is a simple example showing the use of <code>strtok</code>.

<br><pre>#include &lt;string.h&gt;
#include &lt;stddef.h&gt;

<small>...</small>

const char string[] = "words separated by spaces -- and, punctuation!";
const char delimiters[] = " .,;:!-";
char *token, *cp;

<small>...</small>

cp = strdupa (string);                /* Make writable copy.  */
token = strtok (cp, delimiters);      /* token =&gt; "words" */
token = strtok (NULL, delimiters);    /* token =&gt; "separated" */
token = strtok (NULL, delimiters);    /* token =&gt; "by" */
token = strtok (NULL, delimiters);    /* token =&gt; "spaces" */
token = strtok (NULL, delimiters);    /* token =&gt; "and" */
token = strtok (NULL, delimiters);    /* token =&gt; "punctuation" */
token = strtok (NULL, delimiters);    /* token =&gt; NULL */
</pre>

<p>The GNU C library contains two more functions for tokenizing a string
which overcome the limitation of non-reentrancy.  They are only
available for multibyte character strings.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strtok_r</b><i> (char *<var>newstring</var>, const char *<var>delimiters</var>, char **<var>save_ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Just like <code>strtok</code>, this function splits the string into several
tokens which can be accessed by successive calls to <code>strtok_r</code>. 
The difference is that the information about the next token is stored in
the space pointed to by the third argument, <var>save_ptr</var>, which is a
pointer to a string pointer.  Calling <code>strtok_r</code> with a null
pointer for <var>newstring</var> and leaving <var>save_ptr</var> between the calls
unchanged does the job without hindering reentrancy.

<p>This function is defined in POSIX.1 and can be found on many systems
which support multi-threading. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strsep</b><i> (char **<var>string_ptr</var>, const char *<var>delimiter</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function has a similar functionality as <code>strtok_r</code> with the
<var>newstring</var> argument replaced by the <var>save_ptr</var> argument.  The
initialization of the moving pointer has to be done by the user. 
Successive calls to <code>strsep</code> move the pointer along the tokens
separated by <var>delimiter</var>, returning the address of the next token
and updating <var>string_ptr</var> to point to the beginning of the next
token.

<p>One difference between <code>strsep</code> and <code>strtok_r</code> is that if the
input string contains more than one character from <var>delimiter</var> in a
row <code>strsep</code> returns an empty string for each pair of characters
from <var>delimiter</var>.  This means that a program normally should test
for <code>strsep</code> returning an empty string before processing it.

<p>This function was introduced in 4.3BSD and therefore is widely available. 
</td></tr>
</table>

<p>Here is how the above example looks like when <code>strsep</code> is used.

<br><pre>#include &lt;string.h&gt;
#include &lt;stddef.h&gt;

<small>...</small>

const char string[] = "words separated by spaces -- and, punctuation!";
const char delimiters[] = " .,;:!-";
char *running;
char *token;

<small>...</small>

running = strdupa (string);
token = strsep (&amp;running, delimiters);    /* token =&gt; "words" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "separated" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "by" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "spaces" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "and" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "punctuation" */
token = strsep (&amp;running, delimiters);    /* token =&gt; "" */
token = strsep (&amp;running, delimiters);    /* token =&gt; NULL */
</pre>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>basename</b><i> (const char *<var>filename</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The GNU version of the <code>basename</code> function returns the last
component of the path in <var>filename</var>.  This function is the preferred
usage, since it does not modify the argument, <var>filename</var>, and
respects trailing slashes.  The prototype for <code>basename</code> can be
found in <code>string.h</code>.  Note, this function is overriden by the XPG
version, if <code>libgen.h</code> is included.

<p>Example of using GNU <code>basename</code>:

<br><pre>#include &lt;string.h&gt;

int
main (int argc, char *argv[])
{
  char *prog = basename (argv[0]);

  if (argc &lt; 2)
    {
      fprintf (stderr, "Usage %s &lt;arg&gt;\n", prog);
      exit (1);
    }

  <small>...</small>
}
</pre>

<p><strong>Portability Note:</strong> This function may produce different results
on different systems.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>basename</b><i> (char *<var>path</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the standard XPG defined <code>basename</code>. It is similar in
spirit to the GNU version, but may modify the <var>path</var> by removing
trailing '/' characters.  If the <var>path</var> is made up entirely of '/'
characters, then "/" will be returned.  Also, if <var>path</var> is
<code>NULL</code> or an empty string, then "." is returned.  The prototype for
the XPG version can be found in <code>libgen.h</code>.

<p>Example of using XPG <code>basename</code>:

<br><pre>#include &lt;libgen.h&gt;

int
main (int argc, char *argv[])
{
  char *prog;
  char *path = strdupa (argv[0]);

  prog = basename (path);

  if (argc &lt; 2)
    {
      fprintf (stderr, "Usage %s &lt;arg&gt;\n", prog);
      exit (1);
    }

  <small>...</small>

}
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>dirname</b><i> (char *<var>path</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>dirname</code> function is the compliment to the XPG version of
<code>basename</code>.  It returns the parent directory of the file specified
by <var>path</var>.  If <var>path</var> is <code>NULL</code>, an empty string, or
contains no '/' characters, then "." is returned.  The prototype for this
function can be found in <code>libgen.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="strfry">strfry</a>,
Next:<a rel=next accesskey=n href="#Trivial%20Encryption">Trivial Encryption</a>,
Previous:<a rel=previous accesskey=p href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>strfry</h3>

<p>The function below addresses the perennial programming quandary: "How do
I take good data in string form and painlessly turn it into garbage?" 
This is actually a fairly simple task for C programmers who do not use
the GNU C library string functions, but for programs based on the GNU C
library, the <code>strfry</code> function is the preferred method for
destroying string data.

<p>The prototype for this function is in <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strfry</b><i> (char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>strfry</code> creates a pseudorandom anagram of a string, replacing the
input with the anagram in place.  For each position in the string,
<code>strfry</code> swaps it with a position in the string selected at random
(from a uniform distribution).  The two positions may be the same.

<p>The return value of <code>strfry</code> is always <var>string</var>.

<p><strong>Portability Note:</strong>  This function is unique to the GNU C library.

</td></tr>
</table>

<p><hr>
Node:<a name="Trivial%20Encryption">Trivial Encryption</a>,
Next:<a rel=next accesskey=n href="#Encode%20Binary%20Data">Encode Binary Data</a>,
Previous:<a rel=previous accesskey=p href="#strfry">strfry</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Trivial Encryption</h3>

<p>The <code>memfrob</code> function converts an array of data to something
unrecognizable and back again.  It is not encryption in its usual sense
since it is easy for someone to convert the encrypted data back to clear
text.  The transformation is analogous to Usenet's "Rot13" encryption
method for obscuring offensive jokes from sensitive eyes and such. 
Unlike Rot13, <code>memfrob</code> works on arbitrary binary data, not just
text.

<p>For true encryption, See <a href="#Cryptographic%20Functions">Cryptographic Functions</a>.

<p>This function is declared in <code>string.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>memfrob</b><i> (void *<var>mem</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>memfrob</code> transforms (frobnicates) each byte of the data structure
at <var>mem</var>, which is <var>length</var> bytes long, by bitwise exclusive
oring it with binary 00101010.  It does the transformation in place and
its return value is always <var>mem</var>.

<p>Note that <code>memfrob</code> a second time on the same data structure
returns it to its original state.

<p>This is a good function for hiding information from someone who doesn't
want to see it or doesn't want to see it very much.  To really prevent
people from retrieving the information, use stronger encryption such as
that described in See <a href="#Cryptographic%20Functions">Cryptographic Functions</a>.

<p><strong>Portability Note:</strong>  This function is unique to the GNU C library.

</td></tr>
</table>

<p><hr>
Node:<a name="Encode%20Binary%20Data">Encode Binary Data</a>,
Next:<a rel=next accesskey=n href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>,
Previous:<a rel=previous accesskey=p href="#Trivial%20Encryption">Trivial Encryption</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Encode Binary Data</h3>

<p>To store or transfer binary data in environments which only support text
one has to encode the binary data by mapping the input bytes to
characters in the range allowed for storing or transfering.  SVID
systems (and nowadays XPG compliant systems) provide minimal support for
this task.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>l64a</b><i> (long int <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function encodes a 32-bit input value using characters from the
basic character set.  It returns a pointer to a 6 character buffer which
contains an encoded version of <var>n</var>.  To encode a series of bytes the
user must copy the returned string to a destination buffer.  It returns
the empty string if <var>n</var> is zero, which is somewhat bizarre but
mandated by the standard.<br>
<strong>Warning:</strong> Since a static buffer is used this function should not
be used in multi-threaded programs.  There is no thread-safe alternative
to this function in the C library.<br>
<strong>Compatibility Note:</strong> The XPG standard states that the return
value of <code>l64a</code> is undefined if <var>n</var> is negative.  In the GNU
implementation, <code>l64a</code> treats its argument as unsigned, so it will
return a sensible encoding for any nonzero <var>n</var>; however, portable
programs should not rely on this.

<p>To encode a large buffer <code>l64a</code> must be called in a loop, once for
each 32-bit word of the buffer.  For example, one could do something
like this:

<br><pre>char *
encode (const void *buf, size_t len)
{
  /* We know in advance how long the buffer has to be. */
  unsigned char *in = (unsigned char *) buf;
  char *out = malloc (6 + ((len + 3) / 4) * 6 + 1);
  char *cp = out;

  /* Encode the length. */
  /* Using `htonl' is necessary so that the data can be
     decoded even on machines with different byte order. */

  cp = mempcpy (cp, l64a (htonl (len)), 6);

  while (len &gt; 3)
    {
      unsigned long int n = *in++;
      n = (n &lt;&lt; 8) | *in++;
      n = (n &lt;&lt; 8) | *in++;
      n = (n &lt;&lt; 8) | *in++;
      len -= 4;
      if (n)
        cp = mempcpy (cp, l64a (htonl (n)), 6);
      else
            /* `l64a' returns the empty string for n==0, so we 
               must generate its encoding ("......") by hand. */
        cp = stpcpy (cp, "......");
    }
  if (len &gt; 0)
    {
      unsigned long int n = *in++;
      if (--len &gt; 0)
        {
          n = (n &lt;&lt; 8) | *in++;
          if (--len &gt; 0)
            n = (n &lt;&lt; 8) | *in;
        }
      memcpy (cp, l64a (htonl (n)), 6);
      cp += 6;
    }
  *cp = '\0';
  return out;
}
</pre>

<p>It is strange that the library does not provide the complete
functionality needed but so be it.

</td></tr>
</table>

<p>To decode data produced with <code>l64a</code> the following function should be
used.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>a64l</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The parameter <var>string</var> should contain a string which was produced by
a call to <code>l64a</code>.  The function processes at least 6 characters of
this string, and decodes the characters it finds according to the table
below.  It stops decoding when it finds a character not in the table,
rather like <code>atoi</code>; if you have a buffer which has been broken into
lines, you must be careful to skip over the end-of-line characters.

<p>The decoded number is returned as a <code>long int</code> value. 
</td></tr>
</table>

<p>The <code>l64a</code> and <code>a64l</code> functions use a base 64 encoding, in
which each character of an encoded string represents six bits of an
input word.  These symbols are used for the base 64 digits:

<p><table><tr align="left"><td valign="top"></td><td valign="top">0 </td><td valign="top">1 </td><td valign="top">2 </td><td valign="top">3 </td><td valign="top">4 </td><td valign="top">5 </td><td valign="top">6 </td><td valign="top">7
<br></td></tr><tr align="left"><td valign="top">0      </td><td valign="top"><code>.</code> </td><td valign="top"><code>/</code> </td><td valign="top"><code>0</code> </td><td valign="top"><code>1</code>
                   </td><td valign="top"><code>2</code> </td><td valign="top"><code>3</code> </td><td valign="top"><code>4</code> </td><td valign="top"><code>5</code>
<br></td></tr><tr align="left"><td valign="top">8      </td><td valign="top"><code>6</code> </td><td valign="top"><code>7</code> </td><td valign="top"><code>8</code> </td><td valign="top"><code>9</code>
                   </td><td valign="top"><code>A</code> </td><td valign="top"><code>B</code> </td><td valign="top"><code>C</code> </td><td valign="top"><code>D</code>
<br></td></tr><tr align="left"><td valign="top">16     </td><td valign="top"><code>E</code> </td><td valign="top"><code>F</code> </td><td valign="top"><code>G</code> </td><td valign="top"><code>H</code>
                   </td><td valign="top"><code>I</code> </td><td valign="top"><code>J</code> </td><td valign="top"><code>K</code> </td><td valign="top"><code>L</code>
<br></td></tr><tr align="left"><td valign="top">24     </td><td valign="top"><code>M</code> </td><td valign="top"><code>N</code> </td><td valign="top"><code>O</code> </td><td valign="top"><code>P</code>
                   </td><td valign="top"><code>Q</code> </td><td valign="top"><code>R</code> </td><td valign="top"><code>S</code> </td><td valign="top"><code>T</code>
<br></td></tr><tr align="left"><td valign="top">32     </td><td valign="top"><code>U</code> </td><td valign="top"><code>V</code> </td><td valign="top"><code>W</code> </td><td valign="top"><code>X</code>
                   </td><td valign="top"><code>Y</code> </td><td valign="top"><code>Z</code> </td><td valign="top"><code>a</code> </td><td valign="top"><code>b</code>
<br></td></tr><tr align="left"><td valign="top">40     </td><td valign="top"><code>c</code> </td><td valign="top"><code>d</code> </td><td valign="top"><code>e</code> </td><td valign="top"><code>f</code>
                   </td><td valign="top"><code>g</code> </td><td valign="top"><code>h</code> </td><td valign="top"><code>i</code> </td><td valign="top"><code>j</code>
<br></td></tr><tr align="left"><td valign="top">48     </td><td valign="top"><code>k</code> </td><td valign="top"><code>l</code> </td><td valign="top"><code>m</code> </td><td valign="top"><code>n</code>
                   </td><td valign="top"><code>o</code> </td><td valign="top"><code>p</code> </td><td valign="top"><code>q</code> </td><td valign="top"><code>r</code>
<br></td></tr><tr align="left"><td valign="top">56     </td><td valign="top"><code>s</code> </td><td valign="top"><code>t</code> </td><td valign="top"><code>u</code> </td><td valign="top"><code>v</code>
                   </td><td valign="top"><code>w</code> </td><td valign="top"><code>x</code> </td><td valign="top"><code>y</code> </td><td valign="top"><code>z</code>
<br></td></tr></table>

<p>This encoding scheme is not standard.  There are some other encoding
methods which are much more widely used (UU encoding, MIME encoding). 
Generally, it is better to use one of these encodings.

<p><hr>
Node:<a name="Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>,
Previous:<a rel=previous accesskey=p href="#Encode%20Binary%20Data">Encode Binary Data</a>,
Up:<a rel=up accesskey=u href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<br>

<h3>Argz and Envz Vectors</h3>

<p><dfn>argz vectors</dfn> are vectors of strings in a contiguous block of
memory, each element separated from its neighbors by null-characters
(<code>'\0'</code>).

<p><dfn>Envz vectors</dfn> are an extension of argz vectors where each element is a
name-value pair, separated by a <code>'='</code> character (as in a Unix
environment).

<ul>
<li><a accesskey=1 href="#Argz%20Functions">Argz Functions</a>:               Operations on argz vectors. 
<li><a accesskey=2 href="#Envz%20Functions">Envz Functions</a>:               Additional operations on environment vectors. 
</ul>

<p><hr>
Node:<a name="Argz%20Functions">Argz Functions</a>,
Next:<a rel=next accesskey=n href="#Envz%20Functions">Envz Functions</a>,
Up:<a rel=up accesskey=u href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<br>

<h4>Argz Functions</h4>

<p>Each argz vector is represented by a pointer to the first element, of
type <code>char *</code>, and a size, of type <code>size_t</code>, both of which can
be initialized to <code>0</code> to represent an empty argz vector.  All argz
functions accept either a pointer and a size argument, or pointers to
them, if they will be modified.

<p>The argz functions use <code>malloc</code>/<code>realloc</code> to allocate/grow
argz vectors, and so any argz vector creating using these functions may
be freed by using <code>free</code>; conversely, any argz function that may
grow a string expects that string to have been allocated using
<code>malloc</code> (those argz functions that only examine their arguments or
modify them in place will work on any sort of memory). 
See <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>.

<p>All argz functions that do memory allocation have a return type of
<code>error_t</code>, and return <code>0</code> for success, and <code>ENOMEM</code> if an
allocation error occurs.

<p>These functions are declared in the standard include file <code>argz.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_create</b><i> (char *const <var>argv</var>[], char **<var>argz</var>, size_t *<var>argz_len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_create</code> function converts the Unix-style argument vector
<var>argv</var> (a vector of pointers to normal C strings, terminated by
<code>(char *)0</code>; see <a href="#Program%20Arguments">Program Arguments</a>) into an argz vector with
the same elements, which is returned in <var>argz</var> and <var>argz_len</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_create_sep</b><i> (const char *<var>string</var>, int <var>sep</var>, char **<var>argz</var>, size_t *<var>argz_len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_create_sep</code> function converts the null-terminated string
<var>string</var> into an argz vector (returned in <var>argz</var> and
<var>argz_len</var>) by splitting it into elements at every occurrence of the
character <var>sep</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>argz_count</b><i> (const char *<var>argz</var>, size_t <var>arg_len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns the number of elements in the argz vector <var>argz</var> and
<var>argz_len</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>argz_extract</b><i> (char *<var>argz</var>, size_t <var>argz_len</var>, char **<var>argv</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_extract</code> function converts the argz vector <var>argz</var> and
<var>argz_len</var> into a Unix-style argument vector stored in <var>argv</var>,
by putting pointers to every element in <var>argz</var> into successive
positions in <var>argv</var>, followed by a terminator of <code>0</code>. 
<var>Argv</var> must be pre-allocated with enough space to hold all the
elements in <var>argz</var> plus the terminating <code>(char *)0</code>
(<code>(argz_count (<var>argz</var>, <var>argz_len</var>) + 1) * sizeof (char *)</code>
bytes should be enough).  Note that the string pointers stored into
<var>argv</var> point into <var>argz</var>--they are not copies--and so
<var>argz</var> must be copied if it will be changed while <var>argv</var> is
still active.  This function is useful for passing the elements in
<var>argz</var> to an exec function (see <a href="#Executing%20a%20File">Executing a File</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>argz_stringify</b><i> (char *<var>argz</var>, size_t <var>len</var>, int <var>sep</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_stringify</code> converts <var>argz</var> into a normal string with
the elements separated by the character <var>sep</var>, by replacing each
<code>'\0'</code> inside <var>argz</var> (except the last one, which terminates the
string) with <var>sep</var>.  This is handy for printing <var>argz</var> in a
readable manner. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_add</b><i> (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>str</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_add</code> function adds the string <var>str</var> to the end of the
argz vector <code>*<var>argz</var></code>, and updates <code>*<var>argz</var></code> and
<code>*<var>argz_len</var></code> accordingly. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_add_sep</b><i> (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>str</var>, int <var>delim</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_add_sep</code> function is similar to <code>argz_add</code>, but
<var>str</var> is split into separate elements in the result at occurrences of
the character <var>delim</var>.  This is useful, for instance, for
adding the components of a Unix search path to an argz vector, by using
a value of <code>':'</code> for <var>delim</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_append</b><i> (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>buf</var>, size_t <var>buf_len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_append</code> function appends <var>buf_len</var> bytes starting at
<var>buf</var> to the argz vector <code>*<var>argz</var></code>, reallocating
<code>*<var>argz</var></code> to accommodate it, and adding <var>buf_len</var> to
<code>*<var>argz_len</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_delete</b><i> (char **<var>argz</var>, size_t *<var>argz_len</var>, char *<var>entry</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>entry</var> points to the beginning of one of the elements in the
argz vector <code>*<var>argz</var></code>, the <code>argz_delete</code> function will
remove this entry and reallocate <code>*<var>argz</var></code>, modifying
<code>*<var>argz</var></code> and <code>*<var>argz_len</var></code> accordingly.  Note that as
destructive argz functions usually reallocate their argz argument,
pointers into argz vectors such as <var>entry</var> will then become invalid. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_insert</b><i> (char **<var>argz</var>, size_t *<var>argz_len</var>, char *<var>before</var>, const char *<var>entry</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_insert</code> function inserts the string <var>entry</var> into the
argz vector <code>*<var>argz</var></code> at a point just before the existing
element pointed to by <var>before</var>, reallocating <code>*<var>argz</var></code> and
updating <code>*<var>argz</var></code> and <code>*<var>argz_len</var></code>.  If <var>before</var>
is <code>0</code>, <var>entry</var> is added to the end instead (as if by
<code>argz_add</code>).  Since the first element is in fact the same as
<code>*<var>argz</var></code>, passing in <code>*<var>argz</var></code> as the value of
<var>before</var> will result in <var>entry</var> being inserted at the beginning. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>argz_next</b><i> (char *<var>argz</var>, size_t <var>argz_len</var>, const char *<var>entry</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argz_next</code> function provides a convenient way of iterating
over the elements in the argz vector <var>argz</var>.  It returns a pointer
to the next element in <var>argz</var> after the element <var>entry</var>, or
<code>0</code> if there are no elements following <var>entry</var>.  If <var>entry</var>
is <code>0</code>, the first element of <var>argz</var> is returned.

<p>This behavior suggests two styles of iteration:

<br><pre>    char *entry = 0;
    while ((entry = argz_next (<var>argz</var>, <var>argz_len</var>, entry)))
      <var>action</var>;
</pre>

<p>(the double parentheses are necessary to make some C compilers shut up
about what they consider a questionable <code>while</code>-test) and:

<br><pre>    char *entry;
    for (entry = <var>argz</var>;
         entry;
         entry = argz_next (<var>argz</var>, <var>argz_len</var>, entry))
      <var>action</var>;
</pre>

<p>Note that the latter depends on <var>argz</var> having a value of <code>0</code> if
it is empty (rather than a pointer to an empty block of memory); this
invariant is maintained for argz vectors created by the functions here. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argz_replace</b><i> (char&nbsp;**<var>argz</var>,&nbsp;size_t&nbsp;*<var>argz_len</var>, const&nbsp;char&nbsp;*<var>str</var>,&nbsp;const&nbsp;char&nbsp;*<var>with</var>, unsigned&nbsp;*<var>replace_count</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Replace any occurrences of the string <var>str</var> in <var>argz</var> with
<var>with</var>, reallocating <var>argz</var> as necessary.  If
<var>replace_count</var> is non-zero, <code>*<var>replace_count</var></code> will be
incremented by number of replacements performed. 
</td></tr>
</table>

<p><hr>
Node:<a name="Envz%20Functions">Envz Functions</a>,
Previous:<a rel=previous accesskey=p href="#Argz%20Functions">Argz Functions</a>,
Up:<a rel=up accesskey=u href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<br>

<h4>Envz Functions</h4>

<p>Envz vectors are just argz vectors with additional constraints on the form
of each element; as such, argz functions can also be used on them, where it
makes sense.

<p>Each element in an envz vector is a name-value pair, separated by a <code>'='</code>
character; if multiple <code>'='</code> characters are present in an element, those
after the first are considered part of the value, and treated like all other
non-<code>'\0'</code> characters.

<p>If <em>no</em> <code>'='</code> characters are present in an element, that element is
considered the name of a "null" entry, as distinct from an entry with an
empty value: <code>envz_get</code> will return <code>0</code> if given the name of null
entry, whereas an entry with an empty value would result in a value of
<code>""</code>; <code>envz_entry</code> will still find such entries, however.  Null
entries can be removed with <code>envz_strip</code> function.

<p>As with argz functions, envz functions that may allocate memory (and thus
fail) have a return type of <code>error_t</code>, and return either <code>0</code> or
<code>ENOMEM</code>.

<p>These functions are declared in the standard include file <code>envz.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>envz_entry</b><i> (const char *<var>envz</var>, size_t <var>envz_len</var>, const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>envz_entry</code> function finds the entry in <var>envz</var> with the name
<var>name</var>, and returns a pointer to the whole entry--that is, the argz
element which begins with <var>name</var> followed by a <code>'='</code> character.  If
there is no entry with that name, <code>0</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>envz_get</b><i> (const char *<var>envz</var>, size_t <var>envz_len</var>, const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>envz_get</code> function finds the entry in <var>envz</var> with the name
<var>name</var> (like <code>envz_entry</code>), and returns a pointer to the value
portion of that entry (following the <code>'='</code>).  If there is no entry with
that name (or only a null entry), <code>0</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>envz_add</b><i> (char **<var>envz</var>, size_t *<var>envz_len</var>, const char *<var>name</var>, const char *<var>value</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>envz_add</code> function adds an entry to <code>*<var>envz</var></code>
(updating <code>*<var>envz</var></code> and <code>*<var>envz_len</var></code>) with the name
<var>name</var>, and value <var>value</var>.  If an entry with the same name
already exists in <var>envz</var>, it is removed first.  If <var>value</var> is
<code>0</code>, then the new entry will the special null type of entry
(mentioned above). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>envz_merge</b><i> (char **<var>envz</var>, size_t *<var>envz_len</var>, const char *<var>envz2</var>, size_t <var>envz2_len</var>, int <var>override</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>envz_merge</code> function adds each entry in <var>envz2</var> to <var>envz</var>,
as if with <code>envz_add</code>, updating <code>*<var>envz</var></code> and
<code>*<var>envz_len</var></code>.  If <var>override</var> is true, then values in <var>envz2</var>
will supersede those with the same name in <var>envz</var>, otherwise not.

<p>Null entries are treated just like other entries in this respect, so a null
entry in <var>envz</var> can prevent an entry of the same name in <var>envz2</var> from
being added to <var>envz</var>, if <var>override</var> is false. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>envz_strip</b><i> (char **<var>envz</var>, size_t *<var>envz_len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>envz_strip</code> function removes any null entries from <var>envz</var>,
updating <code>*<var>envz</var></code> and <code>*<var>envz_len</var></code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Character%20Set%20Handling">Character Set Handling</a>,
Next:<a rel=next accesskey=n href="#Locales">Locales</a>,
Previous:<a rel=previous accesskey=p href="#String%20and%20Array%20Utilities">String and Array Utilities</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Character Set Handling</h2>

<p>Character sets used in the early days of computing had only six, seven,
or eight bits for each character: there was never a case where more than
eight bits (one byte) were used to represent a single character.  The
limitations of this approach became more apparent as more people
grappled with non-Roman character sets, where not all the characters
that make up a language's character set can be represented by 2^8
choices.  This chapter shows the functionality that was added to the C
library to support multiple character sets.

<ul>
<li><a accesskey=1 href="#Extended%20Char%20Intro">Extended Char Intro</a>:               Introduction to Extended Characters. 
<li><a accesskey=2 href="#Charset%20Function%20Overview">Charset Function Overview</a>:         Overview about Character Handling
                                      Functions. 
<li><a accesskey=3 href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>:  Restartable multibyte conversion
                                      Functions. 
<li><a accesskey=4 href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>:          Non-reentrant Conversion Function. 
<li><a accesskey=5 href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>:        Generic Charset Conversion. 
</ul>

<p><hr>
Node:<a name="Extended%20Char%20Intro">Extended Char Intro</a>,
Next:<a rel=next accesskey=n href="#Charset%20Function%20Overview">Charset Function Overview</a>,
Up:<a rel=up accesskey=u href="#Character%20Set%20Handling">Character Set Handling</a>
<br>

<h3>Introduction to Extended Characters</h3>

<p>A variety of solutions is available to overcome the differences between
character sets with a 1:1 relation between bytes and characters and
character sets with ratios of 2:1 or 4:1.  The remainder of this
section gives a few examples to help understand the design decisions
made while developing the functionality of the C&nbsp;library.

<p>A distinction we have to make right away is between internal and
external representation.  <dfn>Internal representation</dfn> means the
representation used by a program while keeping the text in memory. 
External representations are used when text is stored or transmitted
through some communication channel.  Examples of external
representations include files waiting in a directory to be
read and parsed.

<p>Traditionally there has been no difference between the two representations. 
It was equally comfortable and useful to use the same single-byte
representation internally and externally.  This comfort level decreases
with more and larger character sets.

<p>One of the problems to overcome with the internal representation is
handling text that is externally encoded using different character
sets.  Assume a program that reads two texts and compares them using
some metric.  The comparison can be usefully done only if the texts are
internally kept in a common format.

<p>For such a common format (= character set) eight bits are certainly
no longer enough.  So the smallest entity will have to grow: <dfn>wide
characters</dfn> will now be used.  Instead of one byte per character, two or
four will be used instead.  (Three are not good to address in memory and
more than four bytes seem not to be necessary).

<p>As shown in some other part of this manual,
a completely new family has been created of functions that can handle wide
character texts in memory.  The most commonly used character sets for such
internal wide character representations are Unicode and ISO&nbsp;10646
(also known as UCS for Universal Character Set).  Unicode was originally
planned as a 16-bit character set; whereas, ISO&nbsp;10646 was designed to
be a 31-bit large code space.  The two standards are practically identical. 
They have the same character repertoire and code table, but Unicode specifies
added semantics.  At the moment, only characters in the first <code>0x10000</code>
code positions (the so-called Basic Multilingual Plane, BMP) have been
assigned, but the assignment of more specialized characters outside this
16-bit space is already in progress.  A number of encodings have been
defined for Unicode and ISO&nbsp;10646 characters:
UCS-2 is a 16-bit word that can only represent characters
from the BMP, UCS-4 is a 32-bit word than can represent any Unicode
and ISO&nbsp;10646 character, UTF-8 is an ASCII compatible encoding where
ASCII characters are represented by ASCII bytes and non-ASCII characters
by sequences of 2-6 non-ASCII bytes, and finally UTF-16 is an extension
of UCS-2 in which pairs of certain UCS-2 words can be used to encode
non-BMP characters up to <code>0x10ffff</code>.

<p>To represent wide characters the <code>char</code> type is not suitable.  For
this reason the ISO&nbsp;C standard introduces a new type that is
designed to keep one character of a wide character string.  To maintain
the similarity there is also a type corresponding to <code>int</code> for
those functions that take a single wide character.

<p>
<table width="100%">
<tr>
<td align="left"><b>wchar_t</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used as the base type for wide character strings. 
In other words, arrays of objects of this type are the equivalent of
<code>char[]</code> for multibyte character strings.  The type is defined in
<code>stddef.h</code>.

<p>The ISO&nbsp;C90 standard, where <code>wchar_t</code> was introduced, does not
say anything specific about the representation.  It only requires that
this type is capable of storing all elements of the basic character set. 
Therefore it would be legitimate to define <code>wchar_t</code> as <code>char</code>,
which might make sense for embedded systems.

<p>But for GNU systems <code>wchar_t</code> is always 32 bits wide and, therefore,
capable of representing all UCS-4 values and, therefore, covering all of
ISO&nbsp;10646.  Some Unix systems define <code>wchar_t</code> as a 16-bit type
and thereby follow Unicode very strictly.  This definition is perfectly
fine with the standard, but it also means that to represent all
characters from Unicode and ISO&nbsp;10646 one has to use UTF-16 surrogate
characters, which is in fact a multi-wide-character encoding.  But
resorting to multi-wide-character encoding contradicts the purpose of the
<code>wchar_t</code> type. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>wint_t</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>wint_t</code> is a data type used for parameters and variables that
contain a single wide character.  As the name suggests this type is the
equivalent of <code>int</code> when using the normal <code>char</code> strings.  The
types <code>wchar_t</code> and <code>wint_t</code> often have the same
representation if their size is 32 bits wide but if <code>wchar_t</code> is
defined as <code>char</code> the type <code>wint_t</code> must be defined as
<code>int</code> due to the parameter promotion.

<p>This type is defined in <code>wchar.h</code> and was introduced in
Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>As there are for the <code>char</code> data type macros are available for
specifying the minimum and maximum value representable in an object of
type <code>wchar_t</code>.

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>WCHAR_MIN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The macro <code>WCHAR_MIN</code> evaluates to the minimum value representable
by an object of type <code>wint_t</code>.

<p>This macro was introduced in Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>WCHAR_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The macro <code>WCHAR_MAX</code> evaluates to the maximum value representable
by an object of type <code>wint_t</code>.

<p>This macro was introduced in Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>Another special wide character value is the equivalent to <code>EOF</code>.

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>WEOF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The macro <code>WEOF</code> evaluates to a constant expression of type
<code>wint_t</code> whose value is different from any member of the extended
character set.

<p><code>WEOF</code> need not be the same value as <code>EOF</code> and unlike
<code>EOF</code> it also need <em>not</em> be negative.  In other words, sloppy
code like

<br><pre>{
  int c;
  ...
  while ((c = getc (fp)) &lt; 0)
    ...
}
</pre>

<p>has to be rewritten to use <code>WEOF</code> explicitly when wide characters
are used:

<br><pre>{
  wint_t c;
  ...
  while ((c = wgetc (fp)) != WEOF)
    ...
}
</pre>

<p>This macro was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and is
defined in <code>wchar.h</code>. 
</td></tr>
</table>

<p>These internal representations present problems when it comes to storing
and transmittal.  Because each single wide character consists of more
than one byte, they are effected by byte-ordering.  Thus, machines with
different endianesses would see different values when accessing the same
data.  This byte ordering concern also applies for communication protocols
that are all byte-based and, thereforet require that the sender has to
decide about splitting the wide character in bytes.  A last (but not least
important) point is that wide characters often require more storage space
than a customized byte-oriented character set.

<p>For all the above reasons, an external encoding that is different from
the internal encoding is often used if the latter is UCS-2 or UCS-4. 
The external encoding is byte-based and can be chosen appropriately for
the environment and for the texts to be handled.  A variety of different
character sets can be used for this external encoding (information that
will not be exhaustively presented here-instead, a description of the
major groups will suffice).  All of the ASCII-based character sets
fulfill one requirement: they are "filesystem safe."  This means that
the character <code>'/'</code> is used in the encoding <em>only</em> to
represent itself.  Things are a bit different for character sets like
EBCDIC (Extended Binary Coded Decimal Interchange Code, a character set
family used by IBM), but if the operation system does not understand
EBCDIC directly the parameters-to-system calls have to be converted
first anyhow.

<ul>
<li>The simplest character sets are single-byte character sets.  There can
be only up to 256 characters (for 8&nbsp;bit character sets), which is
not sufficient to cover all languages but might be sufficient to handle
a specific text.  Handling of a 8&nbsp;bit character sets is simple.  This
is not true for other kinds presented later, and therefore, the
application one uses might require the use of 8&nbsp;bit character sets.

<li>The ISO&nbsp;2022 standard defines a mechanism for extended character
sets where one character <em>can</em> be represented by more than one
byte.  This is achieved by associating a state with the text. 
Characters that can be used to change the state can be embedded in the
text.  Each byte in the text might have a different interpretation in each
state.  The state might even influence whether a given byte stands for a
character on its own or whether it has to be combined with some more
bytes.

<p>In most uses of ISO&nbsp;2022 the defined character sets do not allow
state changes that cover more than the next character.  This has the
big advantage that whenever one can identify the beginning of the byte
sequence of a character one can interpret a text correctly.  Examples of
character sets using this policy are the various EUC character sets
(used by Sun's operations systems, EUC-JP, EUC-KR, EUC-TW, and EUC-CN)
or Shift_JIS (SJIS, a Japanese encoding).

<p>But there are also character sets using a state that is valid for more
than one character and has to be changed by another byte sequence. 
Examples for this are ISO-2022-JP, ISO-2022-KR, and ISO-2022-CN.

</p><li>Early attempts to fix 8 bit character sets for other languages using the
Roman alphabet lead to character sets like ISO&nbsp;6937.  Here bytes
representing characters like the acute accent do not produce output
themselves: one has to combine them with other characters to get the
desired result.  For example, the byte sequence <code>0xc2 0x61</code>
(non-spacing acute accent, followed by lower-case `a') to get the "small
a with  acute" character.  To get the acute accent character on its own,
one has to write <code>0xc2 0x20</code> (the non-spacing acute followed by a
space).

<p>Character sets like ISO&nbsp;6937 are used in some embedded systems such
as teletex.

</p><li>Instead of converting the Unicode or ISO&nbsp;10646 text used internally,
it is often also sufficient to simply use an encoding different than
UCS-2/UCS-4.  The Unicode and ISO&nbsp;10646 standards even specify such an
encoding: UTF-8.  This encoding is able to represent all of ISO&nbsp;10646 31 bits in a byte string of length one to six.

<p>There were a few other attempts to encode ISO&nbsp;10646 such as UTF-7,
but UTF-8 is today the only encoding that should be used.  In fact, with
any luck UTF-8 will soon be the only external encoding that has to be
supported.  It proves to be universally usable and its only disadvantage
is that it favors Roman languages by making the byte string
representation of other scripts (Cyrillic, Greek, Asian scripts) longer
than necessary if using a specific character set for these scripts. 
Methods like the Unicode compression scheme can alleviate these
problems. 
</ul>

<p>The question remaining is: how to select the character set or encoding
to use.  The answer: you cannot decide about it yourself, it is decided
by the developers of the system or the majority of the users.  Since the
goal is interoperability one has to use whatever the other people one
works with use.  If there are no constraints, the selection is based on
the requirements the expected circle of users will have.  In other words,
if a project is expected to be used in only, say, Russia it is fine to use
KOI8-R or a similar character set.  But if at the same time people from,
say, Greece are participating one should use a character set that allows
all people to collaborate.

<p>The most widely useful solution seems to be: go with the most general
character set, namely ISO&nbsp;10646.  Use UTF-8 as the external encoding
and problems about users not being able to use their own language
adequately are a thing of the past.

<p>One final comment about the choice of the wide character representation
is necessary at this point.  We have said above that the natural choice
is using Unicode or ISO&nbsp;10646.  This is not required, but at least
encouraged, by the ISO&nbsp;C standard.  The standard defines at least a
macro <code>__STDC_ISO_10646__</code> that is only defined on systems where
the <code>wchar_t</code> type encodes ISO&nbsp;10646 characters.  If this
symbol is not defined one should avoid making assumptions about the wide
character representation.  If the programmer uses only the functions
provided by the C library to handle wide character strings there should
be no compatibility problems with other systems.

<p><hr>
Node:<a name="Charset%20Function%20Overview">Charset Function Overview</a>,
Next:<a rel=next accesskey=n href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>,
Previous:<a rel=previous accesskey=p href="#Extended%20Char%20Intro">Extended Char Intro</a>,
Up:<a rel=up accesskey=u href="#Character%20Set%20Handling">Character Set Handling</a>
<br>

<h3>Overview about Character Handling Functions</h3>

<p>A Unix C&nbsp;library contains three different sets of functions in two
families to handle character set conversion.  One of the function families
(the most commonly used) is specified in the ISO&nbsp;C90 standard and,
therefore, is portable even beyond the Unix world.  Unfortunately this
family is the least useful one.  These functions should be avoided
whenever possible, especially when developing libraries (as opposed to
applications).

<p>The second family of functions got introduced in the early Unix standards
(XPG2) and is still part of the latest and greatest Unix standard:
Unix&nbsp;98.  It is also the most powerful and useful set of functions. 
But we will start with the functions defined in Amendment&nbsp;1 to
ISO&nbsp;C90.

<p><hr>
Node:<a name="Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>,
Next:<a rel=next accesskey=n href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Charset%20Function%20Overview">Charset Function Overview</a>,
Up:<a rel=up accesskey=u href="#Character%20Set%20Handling">Character Set Handling</a>
<br>

<h3>Restartable Multibyte Conversion Functions</h3>

<p>The ISO&nbsp;C standard defines functions to convert strings from a
multibyte representation to wide character strings.  There are a number
of peculiarities:

<ul>
<li>The character set assumed for the multibyte encoding is not specified
as an argument to the functions.  Instead the character set specified by
the <code>LC_CTYPE</code> category of the current locale is used; see
<a href="#Locale%20Categories">Locale Categories</a>.

<li>The functions handling more than one character at a time require NUL
terminated strings as the argument (i.e., converting blocks of text
does not work unless one can add a NUL byte at an appropriate place). 
The GNU C library contains some extensions to the standard that allow
specifying a size, but basically they also expect terminated strings. 
</ul>

<p>Despite these limitations the ISO&nbsp;C functions can be used in many
contexts.  In graphical user interfaces, for instance, it is not
uncommon to have functions that require text to be displayed in a wide
character string if the text is not simple ASCII.  The text itself might
come from a file with translations and the user should decide about the
current locale, which determines the translation and therefore also the
external encoding used.  In such a situation (and many others) the
functions described here are perfect.  If more freedom while performing
the conversion is necessary take a look at the <code>iconv</code> functions
(see <a href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>).

<ul>
<li><a accesskey=1 href="#Selecting%20the%20Conversion">Selecting the Conversion</a>:      Selecting the conversion and its properties. 
<li><a accesskey=2 href="#Keeping%20the%20state">Keeping the state</a>:             Representing the state of the conversion. 
<li><a accesskey=3 href="#Converting%20a%20Character">Converting a Character</a>:        Converting Single Characters. 
<li><a accesskey=4 href="#Converting%20Strings">Converting Strings</a>:            Converting Multibyte and Wide Character
                                  Strings. 
<li><a accesskey=5 href="#Multibyte%20Conversion%20Example">Multibyte Conversion Example</a>:  A Complete Multibyte Conversion Example. 
</ul>

<p><hr>
Node:<a name="Selecting%20the%20Conversion">Selecting the Conversion</a>,
Next:<a rel=next accesskey=n href="#Keeping%20the%20state">Keeping the state</a>,
Up:<a rel=up accesskey=u href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>
<br>

<h4>Selecting the conversion and its properties</h4>

<p>We already said above that the currently selected locale for the
<code>LC_CTYPE</code> category decides about the conversion that is performed
by the functions we are about to describe.  Each locale uses its own
character set (given as an argument to <code>localedef</code>) and this is the
one assumed as the external multibyte encoding.  The wide character
character set always is UCS-4, at least on GNU systems.

<p>A characteristic of each multibyte character set is the maximum number
of bytes that can be necessary to represent one character.  This
information is quite important when writing code that uses the
conversion functions (as shown in the examples below). 
The ISO&nbsp;C standard defines two macros that provide this information.

<p>
<table width="100%">
<tr>
<td align="left">int <b>MB_LEN_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>MB_LEN_MAX</code> specifies the maximum number of bytes in the multibyte
sequence for a single character in any of the supported locales.  It is
a compile-time constant and is defined in <code>limits.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>MB_CUR_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>MB_CUR_MAX</code> expands into a positive integer expression that is the
maximum number of bytes in a multibyte character in the current locale. 
The value is never greater than <code>MB_LEN_MAX</code>.  Unlike
<code>MB_LEN_MAX</code> this macro need not be a compile-time constant, and in
the GNU C library it is not.

<p><code>MB_CUR_MAX</code> is defined in <code>stdlib.h</code>. 
</td></tr>
</table>

<p>Two different macros are necessary since strictly ISO&nbsp;C90 compilers
do not allow variable length array definitions, but still it is desirable
to avoid dynamic allocation.  This incomplete piece of code shows the
problem:

<br><pre>{
  char buf[MB_LEN_MAX];
  ssize_t len = 0;

  while (! feof (fp))
    {
      fread (&amp;buf[len], 1, MB_CUR_MAX - len, fp);
      /* ... process buf */
      len -= used;
    }
}
</pre>

<p>The code in the inner loop is expected to have always enough bytes in
the array <var>buf</var> to convert one multibyte character.  The array
<var>buf</var> has to be sized statically since many compilers do not allow a
variable size.  The <code>fread</code> call makes sure that <code>MB_CUR_MAX</code>
bytes are always available in <var>buf</var>.  Note that it isn't
a problem if <code>MB_CUR_MAX</code> is not a compile-time constant.

<p><hr>
Node:<a name="Keeping%20the%20state">Keeping the state</a>,
Next:<a rel=next accesskey=n href="#Converting%20a%20Character">Converting a Character</a>,
Previous:<a rel=previous accesskey=p href="#Selecting%20the%20Conversion">Selecting the Conversion</a>,
Up:<a rel=up accesskey=u href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>
<br>

<h4>Representing the state of the conversion</h4>

<p>In the introduction of this chapter it was said that certain character
sets use a <dfn>stateful</dfn> encoding.  That is, the encoded values depend
in some way on the previous bytes in the text.

<p>Since the conversion functions allow converting a text in more than one
step we must have a way to pass this information from one call of the
functions to another.

<p>
<table width="100%">
<tr>
<td align="left"><b>mbstate_t</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A variable of type <code>mbstate_t</code> can contain all the information
about the <dfn>shift state</dfn> needed from one call to a conversion
function to another.

<p><code>mbstate_t</code> is defined in <code>wchar.h</code>.  It was introduced in
Amendment&nbsp;1 to ISO&nbsp;C90. 
</td></tr>
</table>

<p>To use objects of type <code>mbstate_t</code> the programmer has to define such
objects (normally as local variables on the stack) and pass a pointer to
the object to the conversion functions.  This way the conversion function
can update the object if the current multibyte character set is stateful.

<p>There is no specific function or initializer to put the state object in
any specific state.  The rules are that the object should always
represent the initial state before the first use, and this is achieved by
clearing the whole variable with code such as follows:

<br><pre>{
  mbstate_t state;
  memset (&amp;state, '\0', sizeof (state));
  /* from now on <var>state</var> can be used.  */
  ...
}
</pre>

<p>When using the conversion functions to generate output it is often
necessary to test whether the current state corresponds to the initial
state.  This is necessary, for example, to decide whether to emit
escape sequences to set the state to the initial state at certain
sequence points.  Communication protocols often require this.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mbsinit</b><i> (const mbstate_t *<var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbsinit</code> function determines whether the state object pointed
to by <var>ps</var> is in the initial state.  If <var>ps</var> is a null pointer or
the object is in the initial state the return value is nonzero.  Otherwise
it is zero.

<p><code>mbsinit</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and is
declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>Code using <code>mbsinit</code> often looks similar to this:

<br><pre>{
  mbstate_t state;
  memset (&amp;state, '\0', sizeof (state));
  /* Use <var>state</var>.  */
  ...
  if (! mbsinit (&amp;state))
    {
      /* Emit code to return to initial state.  */
      const wchar_t empty[] = L"";
      const wchar_t *srcp = empty;
      wcsrtombs (outbuf, &amp;srcp, outbuflen, &amp;state);
    }
  ...
}
</pre>

<p>The code to emit the escape sequence to get back to the initial state is
interesting.  The <code>wcsrtombs</code> function can be used to determine the
necessary output code (see <a href="#Converting%20Strings">Converting Strings</a>).  Please note that on
GNU systems it is not necessary to perform this extra action for the
conversion from multibyte text to wide character text since the wide
character encoding is not stateful.  But there is nothing mentioned in
any standard that prohibits making <code>wchar_t</code> using a stateful
encoding.

<p><hr>
Node:<a name="Converting%20a%20Character">Converting a Character</a>,
Next:<a rel=next accesskey=n href="#Converting%20Strings">Converting Strings</a>,
Previous:<a rel=previous accesskey=p href="#Keeping%20the%20state">Keeping the state</a>,
Up:<a rel=up accesskey=u href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>
<br>

<h4>Converting Single Characters</h4>

<p>The most fundamental of the conversion functions are those dealing with
single characters.  Please note that this does not always mean single
bytes.  But since there is very often a subset of the multibyte
character set that consists of single byte sequences, there are
functions to help with converting bytes.  Frequently, ASCII is a subpart
of the multibyte character set.  In such a scenario, each ASCII character
stands for itself, and all other characters have at least a first byte
that is beyond the range 0 to 127.

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>btowc</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>btowc</code> function ("byte to wide character") converts a valid
single byte character <var>c</var> in the initial shift state into the wide
character equivalent using the conversion rules from the currently
selected locale of the <code>LC_CTYPE</code> category.

<p>If <code>(unsigned char) <var>c</var></code> is no valid single byte multibyte
character or if <var>c</var> is <code>EOF</code>, the function returns <code>WEOF</code>.

<p>Please note the restriction of <var>c</var> being tested for validity only in
the initial shift state.  No <code>mbstate_t</code> object is used from
which the state information is taken, and the function also does not use
any static state.

<p>The <code>btowc</code> function was introduced in Amendment&nbsp;1 to ISO&nbsp;C90
and is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>Despite the limitation that the single byte value always is interpreted
in the initial state this function is actually useful most of the time. 
Most characters are either entirely single-byte character sets or they
are extension to ASCII.  But then it is possible to write code like this
(not that this specific example is very useful):

<br><pre>wchar_t *
itow (unsigned long int val)
{
  static wchar_t buf[30];
  wchar_t *wcp = &amp;buf[29];
  *wcp = L'\0';
  while (val != 0)
    {
      *--wcp = btowc ('0' + val % 10);
      val /= 10;
    }
  if (wcp == &amp;buf[29])
    *--wcp = L'0';
  return wcp;
}
</pre>

<p>Why is it necessary to use such a complicated implementation and not
simply cast <code>'0' + val % 10</code> to a wide character?  The answer is
that there is no guarantee that one can perform this kind of arithmetic
on the character of the character set used for <code>wchar_t</code>
representation.  In other situations the bytes are not constant at
compile time and so the compiler cannot do the work.  In situations like
this it is necessary <code>btowc</code>.

<p>There also is a function for the conversion in the other direction.

<p>
<table width="100%">
<tr>
<td align="left">int <b>wctob</b><i> (wint_t <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wctob</code> function ("wide character to byte") takes as the
parameter a valid wide character.  If the multibyte representation for
this character in the initial state is exactly one byte long, the return
value of this function is this character.  Otherwise the return value is
<code>EOF</code>.

<p><code>wctob</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and
is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>There are more general functions to convert single character from
multibyte representation to wide characters and vice versa.  These
functions pose no limit on the length of the multibyte representation
and they also do not require it to be in the initial state.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>mbrtowc</b><i> (wchar_t *restrict <var>pwc</var>, const char *restrict <var>s</var>, size_t <var>n</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbrtowc</code> function ("multibyte restartable to wide
character") converts the next multibyte character in the string pointed
to by <var>s</var> into a wide character and stores it in the wide character
string pointed to by <var>pwc</var>.  The conversion is performed according
to the locale currently selected for the <code>LC_CTYPE</code> category.  If
the conversion for the character set used in the locale requires a state,
the multibyte string is interpreted in the state represented by the
object pointed to by <var>ps</var>.  If <var>ps</var> is a null pointer, a static,
internal state variable used only by the <code>mbrtowc</code> function is
used.

<p>If the next multibyte character corresponds to the NUL wide character,
the return value of the function is 0 and the state object is
afterwards in the initial state.  If the next <var>n</var> or fewer bytes
form a correct multibyte character, the return value is the number of
bytes starting from <var>s</var> that form the multibyte character.  The
conversion state is updated according to the bytes consumed in the
conversion.  In both cases the wide character (either the <code>L'\0'</code>
or the one found in the conversion) is stored in the string pointed to
by <var>pwc</var> if <var>pwc</var> is not null.

<p>If the first <var>n</var> bytes of the multibyte string possibly form a valid
multibyte character but there are more than <var>n</var> bytes needed to
complete it, the return value of the function is <code>(size_t) -2</code> and
no value is stored.  Please note that this can happen even if <var>n</var>
has a value greater than or equal to <code>MB_CUR_MAX</code> since the input
might contain redundant shift sequences.

<p>If the first <code>n</code> bytes of the multibyte string cannot possibly form
a valid multibyte character, no value is stored, the global variable
<code>errno</code> is set to the value <code>EILSEQ</code>, and the function returns
<code>(size_t) -1</code>.  The conversion state is afterwards undefined.

<p><code>mbrtowc</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and
is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>Use of <code>mbrtowc</code> is straightforward.  A function that copies a
multibyte string into a wide character string while at the same time
converting all lowercase characters into uppercase could look like this
(this is not the final version, just an example; it has no error
checking, and sometimes leaks memory):

<br><pre>wchar_t *
mbstouwcs (const char *s)
{
  size_t len = strlen (s);
  wchar_t *result = malloc ((len + 1) * sizeof (wchar_t));
  wchar_t *wcp = result;
  wchar_t tmp[1];
  mbstate_t state;
  size_t nbytes;

  memset (&amp;state, '\0', sizeof (state));
  while ((nbytes = mbrtowc (tmp, s, len, &amp;state)) &gt; 0)
    {
      if (nbytes &gt;= (size_t) -2)
        /* Invalid input string.  */
        return NULL;
      *result++ = towupper (tmp[0]);
      len -= nbytes;
      s += nbytes;
    }
  return result;
}
</pre>

<p>The use of <code>mbrtowc</code> should be clear.  A single wide character is
stored in <code><var>tmp</var>[0]</code>, and the number of consumed bytes is stored
in the variable <var>nbytes</var>.  If the conversion is successful, the
uppercase variant of the wide character is stored in the <var>result</var>
array and the pointer to the input string and the number of available
bytes is adjusted.

<p>The only non-obvious thing about <code>mbrtowc</code> might be the way memory
is allocated for the result.  The above code uses the fact that there
can never be more wide characters in the converted results than there are
bytes in the multibyte input string.  This method yields a pessimistic
guess about the size of the result, and if many wide character strings
have to be constructed this way or if the strings are long, the extra
memory required to be allocated because the input string contains
multibyte characters might be significant.  The allocated memory block can
be resized to the correct size before returning it, but a better solution
might be to allocate just the right amount of space for the result right
away.  Unfortunately there is no function to compute the length of the wide
character string directly from the multibyte string.  There is, however, a
function that does part of the work.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>mbrlen</b><i> (const char *restrict <var>s</var>, size_t <var>n</var>, mbstate_t *<var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbrlen</code> function ("multibyte restartable length") computes
the number of at most <var>n</var> bytes starting at <var>s</var>, which form the
next valid and complete multibyte character.

<p>If the next multibyte character corresponds to the NUL wide character,
the return value is 0.  If the next <var>n</var> bytes form a valid
multibyte character, the number of bytes belonging to this multibyte
character byte sequence is returned.

<p>If the the first <var>n</var> bytes possibly form a valid multibyte
character but the character is incomplete, the return value is
<code>(size_t) -2</code>.  Otherwise the multibyte character sequence is invalid
and the return value is <code>(size_t) -1</code>.

<p>The multibyte sequence is interpreted in the state represented by the
object pointed to by <var>ps</var>.  If <var>ps</var> is a null pointer, a state
object local to <code>mbrlen</code> is used.

<p><code>mbrlen</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and
is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>The attentive reader now will note that <code>mbrlen</code> can be implemented
as

<br><pre>mbrtowc (NULL, s, n, ps != NULL ? ps : &amp;internal)
</pre>

<p>This is true and in fact is mentioned in the official specification. 
How can this function be used to determine the length of the wide
character string created from a multibyte character string?  It is not
directly usable, but we can define a function <code>mbslen</code> using it:

<br><pre>size_t
mbslen (const char *s)
{
  mbstate_t state;
  size_t result = 0;
  size_t nbytes;
  memset (&amp;state, '\0', sizeof (state));
  while ((nbytes = mbrlen (s, MB_LEN_MAX, &amp;state)) &gt; 0)
    {
      if (nbytes &gt;= (size_t) -2)
        /* Something is wrong.  */
        return (size_t) -1;
      s += nbytes;
      ++result;
    }
  return result;
}
</pre>

<p>This function simply calls <code>mbrlen</code> for each multibyte character
in the string and counts the number of function calls.  Please note that
we here use <code>MB_LEN_MAX</code> as the size argument in the <code>mbrlen</code>
call.  This is acceptable since a) this value is larger then the length of
the longest multibyte character sequence and b) we know that the string
<var>s</var> ends with a NUL byte, which cannot be part of any other multibyte
character sequence but the one representing the NUL wide character. 
Therefore, the <code>mbrlen</code> function will never read invalid memory.

<p>Now that this function is available (just to make this clear, this
function is <em>not</em> part of the GNU C library) we can compute the
number of wide character required to store the converted multibyte
character string <var>s</var> using

<br><pre>wcs_bytes = (mbslen (s) + 1) * sizeof (wchar_t);
</pre>

<p>Please note that the <code>mbslen</code> function is quite inefficient.  The
implementation of <code>mbstouwcs</code> with <code>mbslen</code> would have to
perform the conversion of the multibyte character input string twice, and
this conversion might be quite expensive.  So it is necessary to think
about the consequences of using the easier but imprecise method before
doing the work twice.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcrtomb</b><i> (char *restrict <var>s</var>, wchar_t <var>wc</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcrtomb</code> function ("wide character restartable to
multibyte") converts a single wide character into a multibyte string
corresponding to that wide character.

<p>If <var>s</var> is a null pointer, the function resets the state stored in
the objects pointed to by <var>ps</var> (or the internal <code>mbstate_t</code>
object) to the initial state.  This can also be achieved by a call like
this:

<br><pre>wcrtombs (temp_buf, L'\0', ps)
</pre>

<p>since, if <var>s</var> is a null pointer, <code>wcrtomb</code> performs as if it
writes into an internal buffer, which is guaranteed to be large enough.

<p>If <var>wc</var> is the NUL wide character, <code>wcrtomb</code> emits, if
necessary, a shift sequence to get the state <var>ps</var> into the initial
state followed by a single NUL byte, which is stored in the string
<var>s</var>.

<p>Otherwise a byte sequence (possibly including shift sequences) is written
into the string <var>s</var>.  This only happens if <var>wc</var> is a valid wide
character (i.e., it has a multibyte representation in the character set
selected by locale of the <code>LC_CTYPE</code> category).  If <var>wc</var> is no
valid wide character, nothing is stored in the strings <var>s</var>,
<code>errno</code> is set to <code>EILSEQ</code>, the conversion state in <var>ps</var>
is undefined and the return value is <code>(size_t) -1</code>.

<p>If no error occurred the function returns the number of bytes stored in
the string <var>s</var>.  This includes all bytes representing shift
sequences.

<p>One word about the interface of the function: there is no parameter
specifying the length of the array <var>s</var>.  Instead the function
assumes that there are at least <code>MB_CUR_MAX</code> bytes available since
this is the maximum length of any byte sequence representing a single
character.  So the caller has to make sure that there is enough space
available, otherwise buffer overruns can occur.

<p><code>wcrtomb</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and is
declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>Using <code>wcrtomb</code> is as easy as using <code>mbrtowc</code>.  The following
example appends a wide character string to a multibyte character string. 
Again, the code is not really useful (or correct), it is simply here to
demonstrate the use and some problems.

<br><pre>char *
mbscatwcs (char *s, size_t len, const wchar_t *ws)
{
  mbstate_t state;
  /* Find the end of the existing string.  */
  char *wp = strchr (s, '\0');
  len -= wp - s;
  memset (&amp;state, '\0', sizeof (state));
  do
    {
      size_t nbytes;
      if (len &lt; MB_CUR_LEN)
        {
          /* We cannot guarantee that the next
             character fits into the buffer, so
             return an error.  */
          errno = E2BIG;
          return NULL;
        }
      nbytes = wcrtomb (wp, *ws, &amp;state);
      if (nbytes == (size_t) -1)
        /* Error in the conversion.  */
        return NULL;
      len -= nbytes;
      wp += nbytes;
    }
  while (*ws++ != L'\0');
  return s;
}
</pre>

<p>First the function has to find the end of the string currently in the
array <var>s</var>.  The <code>strchr</code> call does this very efficiently since a
requirement for multibyte character representations is that the NUL byte
is never used except to represent itself (and in this context, the end
of the string).

<p>After initializing the state object the loop is entered where the first
task is to make sure there is enough room in the array <var>s</var>.  We
abort if there are not at least <code>MB_CUR_LEN</code> bytes available.  This
is not always optimal but we have no other choice.  We might have less
than <code>MB_CUR_LEN</code> bytes available but the next multibyte character
might also be only one byte long.  At the time the <code>wcrtomb</code> call
returns it is too late to decide whether the buffer was large enough.  If
this solution is unsuitable, there is a very slow but more accurate
solution.

<br><pre>  ...
  if (len &lt; MB_CUR_LEN)
    {
      mbstate_t temp_state;
      memcpy (&amp;temp_state, &amp;state, sizeof (state));
      if (wcrtomb (NULL, *ws, &amp;temp_state) &gt; len)
        {
          /* We cannot guarantee that the next
             character fits into the buffer, so
             return an error.  */
          errno = E2BIG;
          return NULL;
        }
    }
  ...
</pre>

<p>Here we perform the conversion that might overflow the buffer so that
we are afterwards in the position to make an exact decision about the
buffer size.  Please note the <code>NULL</code> argument for the destination
buffer in the new <code>wcrtomb</code> call; since we are not interested in the
converted text at this point, this is a nice way to express this.  The
most unusual thing about this piece of code certainly is the duplication
of the conversion state object, but if a change of the state is necessary
to emit the next multibyte character, we want to have the same shift state
change performed in the real conversion.  Therefore, we have to preserve
the initial shift state information.

<p>There are certainly many more and even better solutions to this problem. 
This example is only provided for educational purposes.

<p><hr>
Node:<a name="Converting%20Strings">Converting Strings</a>,
Next:<a rel=next accesskey=n href="#Multibyte%20Conversion%20Example">Multibyte Conversion Example</a>,
Previous:<a rel=previous accesskey=p href="#Converting%20a%20Character">Converting a Character</a>,
Up:<a rel=up accesskey=u href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>
<br>

<h4>Converting Multibyte and Wide Character Strings</h4>

<p>The functions described in the previous section only convert a single
character at a time.  Most operations to be performed in real-world
programs include strings and therefore the ISO&nbsp;C standard also
defines conversions on entire strings.  However, the defined set of
functions is quite limited; therefore, the GNU C library contains a few
extensions that can help in some important situations.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>mbsrtowcs</b><i> (wchar_t *restrict <var>dst</var>, const char **restrict <var>src</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbsrtowcs</code> function ("multibyte string restartable to wide
character string") converts an NUL-terminated multibyte character
string at <code>*<var>src</var></code> into an equivalent wide character string,
including the NUL wide character at the end.  The conversion is started
using the state information from the object pointed to by <var>ps</var> or
from an internal object of <code>mbsrtowcs</code> if <var>ps</var> is a null
pointer.  Before returning, the state object is updated to match the state
after the last converted character.  The state is the initial state if the
terminating NUL byte is reached and converted.

<p>If <var>dst</var> is not a null pointer, the result is stored in the array
pointed to by <var>dst</var>; otherwise, the conversion result is not
available since it is stored in an internal buffer.

<p>If <var>len</var> wide characters are stored in the array <var>dst</var> before
reaching the end of the input string, the conversion stops and <var>len</var>
is returned.  If <var>dst</var> is a null pointer, <var>len</var> is never checked.

<p>Another reason for a premature return from the function call is if the
input string contains an invalid multibyte sequence.  In this case the
global variable <code>errno</code> is set to <code>EILSEQ</code> and the function
returns <code>(size_t) -1</code>.

<p>In all other cases the function returns the number of wide characters
converted during this call.  If <var>dst</var> is not null, <code>mbsrtowcs</code>
stores in the pointer pointed to by <var>src</var> either a null pointer (if
the NUL byte in the input string was reached) or the address of the byte
following the last converted multibyte character.

<p><code>mbsrtowcs</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and is
declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>The definition of the <code>mbsrtowcs</code> function has one important
limitation.  The requirement that <var>dst</var> has to be a NUL-terminated
string provides problems if one wants to convert buffers with text.  A
buffer is normally no collection of NUL-terminated strings but instead a
continuous collection of lines, separated by newline characters.  Now
assume that a function to convert one line from a buffer is needed.  Since
the line is not NUL-terminated, the source pointer cannot directly point
into the unmodified text buffer.  This means, either one inserts the NUL
byte at the appropriate place for the time of the <code>mbsrtowcs</code>
function call (which is not doable for a read-only buffer or in a
multi-threaded application) or one copies the line in an extra buffer
where it can be terminated by a NUL byte.  Note that it is not in general
possible to limit the number of characters to convert by setting the
parameter <var>len</var> to any specific value.  Since it is not known how
many bytes each multibyte character sequence is in length, one can only
guess.

<p>There is still a problem with the method of NUL-terminating a line right
after the newline character, which could lead to very strange results. 
As said in the description of the <code>mbsrtowcs</code> function above the
conversion state is guaranteed to be in the initial shift state after
processing the NUL byte at the end of the input string.  But this NUL
byte is not really part of the text (i.e., the conversion state after
the newline in the original text could be something different than the
initial shift state and therefore the first character of the next line
is encoded using this state).  But the state in question is never
accessible to the user since the conversion stops after the NUL byte
(which resets the state).  Most stateful character sets in use today
require that the shift state after a newline be the initial state-but
this is not a strict guarantee.  Therefore, simply NUL-terminating a
piece of a running text is not always an adequate solution and,
therefore, should never be used in generally used code.

<p>The generic conversion interface (see <a href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>)
does not have this limitation (it simply works on buffers, not
strings), and the GNU C library contains a set of functions that take
additional parameters specifying the maximal number of bytes that are
consumed from the input string.  This way the problem of
<code>mbsrtowcs</code>'s example above could be solved by determining the line
length and passing this length to the function.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsrtombs</b><i> (char *restrict <var>dst</var>, const wchar_t **restrict <var>src</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcsrtombs</code> function ("wide character string restartable to
multibyte string") converts the NUL-terminated wide character string at
<code>*<var>src</var></code> into an equivalent multibyte character string and
stores the result in the array pointed to by <var>dst</var>.  The NUL wide
character is also converted.  The conversion starts in the state
described in the object pointed to by <var>ps</var> or by a state object
locally to <code>wcsrtombs</code> in case <var>ps</var> is a null pointer.  If
<var>dst</var> is a null pointer, the conversion is performed as usual but the
result is not available.  If all characters of the input string were
successfully converted and if <var>dst</var> is not a null pointer, the
pointer pointed to by <var>src</var> gets assigned a null pointer.

<p>If one of the wide characters in the input string has no valid multibyte
character equivalent, the conversion stops early, sets the global
variable <code>errno</code> to <code>EILSEQ</code>, and returns <code>(size_t) -1</code>.

<p>Another reason for a premature stop is if <var>dst</var> is not a null
pointer and the next converted character would require more than
<var>len</var> bytes in total to the array <var>dst</var>.  In this case (and if
<var>dest</var> is not a null pointer) the pointer pointed to by <var>src</var> is
assigned a value pointing to the wide character right after the last one
successfully converted.

<p>Except in the case of an encoding error the return value of the
<code>wcsrtombs</code> function is the number of bytes in all the multibyte
character sequences stored in <var>dst</var>.  Before returning the state in
the object pointed to by <var>ps</var> (or the internal object in case
<var>ps</var> is a null pointer) is updated to reflect the state after the
last conversion.  The state is the initial shift state in case the
terminating NUL wide character was converted.

<p>The <code>wcsrtombs</code> function was introduced in Amendment&nbsp;1 to
ISO&nbsp;C90 and is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>The restriction mentioned above for the <code>mbsrtowcs</code> function applies
here also.  There is no possibility of directly controlling the number of
input characters.  One has to place the NUL wide character at the correct
place or control the consumed input indirectly via the available output
array size (the <var>len</var> parameter).

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>mbsnrtowcs</b><i> (wchar_t *restrict <var>dst</var>, const char **restrict <var>src</var>, size_t <var>nmc</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbsnrtowcs</code> function is very similar to the <code>mbsrtowcs</code>
function.  All the parameters are the same except for <var>nmc</var>, which is
new.  The return value is the same as for <code>mbsrtowcs</code>.

<p>This new parameter specifies how many bytes at most can be used from the
multibyte character string.  In other words, the multibyte character
string <code>*<var>src</var></code> need not be NUL-terminated.  But if a NUL byte
is found within the <var>nmc</var> first bytes of the string, the conversion
stops here.

<p>This function is a GNU extension.  It is meant to work around the
problems mentioned above.  Now it is possible to convert a buffer with
multibyte character text piece for piece without having to care about
inserting NUL bytes and the effect of NUL bytes on the conversion state. 
</td></tr>
</table>

<p>A function to convert a multibyte string into a wide character string
and display it could be written like this (this is not a really useful
example):

<br><pre>void
showmbs (const char *src, FILE *fp)
{
  mbstate_t state;
  int cnt = 0;
  memset (&amp;state, '\0', sizeof (state));
  while (1)
    {
      wchar_t linebuf[100];
      const char *endp = strchr (src, '\n');
      size_t n;

      /* Exit if there is no more line.  */
      if (endp == NULL)
        break;

      n = mbsnrtowcs (linebuf, &amp;src, endp - src, 99, &amp;state);
      linebuf[n] = L'\0';
      fprintf (fp, "line %d: \"%S\"\n", linebuf);
    }
}
</pre>

<p>There is no problem with the state after a call to <code>mbsnrtowcs</code>. 
Since we don't insert characters in the strings that were not in there
right from the beginning and we use <var>state</var> only for the conversion
of the given buffer, there is no problem with altering the state.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsnrtombs</b><i> (char *restrict <var>dst</var>, const wchar_t **restrict <var>src</var>, size_t <var>nwc</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcsnrtombs</code> function implements the conversion from wide
character strings to multibyte character strings.  It is similar to
<code>wcsrtombs</code> but, just like <code>mbsnrtowcs</code>, it takes an extra
parameter, which specifies the length of the input string.

<p>No more than <var>nwc</var> wide characters from the input string
<code>*<var>src</var></code> are converted.  If the input string contains a NUL
wide character in the first <var>nwc</var> characters, the conversion stops at
this place.

<p>The <code>wcsnrtombs</code> function is a GNU extension and just like
<code>mbsnrtowcs</code> helps in situations where no NUL-terminated input
strings are available. 
</td></tr>
</table>

<p><hr>
Node:<a name="Multibyte%20Conversion%20Example">Multibyte Conversion Example</a>,
Previous:<a rel=previous accesskey=p href="#Converting%20Strings">Converting Strings</a>,
Up:<a rel=up accesskey=u href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>
<br>

<h4>A Complete Multibyte Conversion Example</h4>

<p>The example programs given in the last sections are only brief and do
not contain all the error checking, etc.  Presented here is a complete
and documented example.  It features the <code>mbrtowc</code> function but it
should be easy to derive versions using the other functions.

<br><pre>int
file_mbsrtowcs (int input, int output)
{
  /* Note the use of <code>MB_LEN_MAX</code>.
     <code>MB_CUR_MAX</code> cannot portably be used here.  */
  char buffer[BUFSIZ + MB_LEN_MAX];
  mbstate_t state;
  int filled = 0;
  int eof = 0;

  /* Initialize the state.  */
  memset (&amp;state, '\0', sizeof (state));

  while (!eof)
    {
      ssize_t nread;
      ssize_t nwrite;
      char *inp = buffer;
      wchar_t outbuf[BUFSIZ];
      wchar_t *outp = outbuf;

      /* Fill up the buffer from the input file.  */
      nread = read (input, buffer + filled, BUFSIZ);
      if (nread &lt; 0)
        {
          perror ("read");
          return 0;
        }
      /* If we reach end of file, make a note to read no more. */
      if (nread == 0)
        eof = 1;

      /* <code>filled</code> is now the number of bytes in <code>buffer</code>. */
      filled += nread;

      /* Convert those bytes to wide characters-as many as we can. */
      while (1)
        {
          size_t thislen = mbrtowc (outp, inp, filled, &amp;state);
          /* Stop converting at invalid character;
             this can mean we have read just the first part
             of a valid character.  */
          if (thislen == (size_t) -1)
            break;
          /* We want to handle embedded NUL bytes
             but the return value is 0.  Correct this.  */
          if (thislen == 0)
            thislen = 1;
          /* Advance past this character. */
          inp += thislen;
          filled -= thislen;
          ++outp;
        }

      /* Write the wide characters we just made.  */
      nwrite = write (output, outbuf,
                      (outp - outbuf) * sizeof (wchar_t));
      if (nwrite &lt; 0)
        {
          perror ("write");
          return 0;
        }

      /* See if we have a <em>real</em> invalid character. */
      if ((eof &amp;&amp; filled &gt; 0) || filled &gt;= MB_CUR_MAX)
        {
          error (0, 0, "invalid multibyte character");
          return 0;
        }

      /* If any characters must be carried forward,
         put them at the beginning of <code>buffer</code>. */
      if (filled &gt; 0)
        memmove (inp, buffer, filled);
    }

  return 1;
}
</pre>

<p><hr>
Node:<a name="Non-reentrant%20Conversion">Non-reentrant Conversion</a>,
Next:<a rel=next accesskey=n href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Restartable%20multibyte%20conversion">Restartable multibyte conversion</a>,
Up:<a rel=up accesskey=u href="#Character%20Set%20Handling">Character Set Handling</a>
<br>

<h3>Non-reentrant Conversion Function</h3>

<p>The functions described in the previous chapter are defined in
Amendment&nbsp;1 to ISO&nbsp;C90, but the original ISO&nbsp;C90 standard
also contained functions for character set conversion.  The reason that
these original functions are not described first is that they are almost
entirely useless.

<p>The problem is that all the conversion functions described in the
original ISO&nbsp;C90 use a local state.  Using a local state implies that
multiple conversions at the same time (not only when using threads)
cannot be done, and that you cannot first convert single characters and
then strings since you cannot tell the conversion functions which state
to use.

<p>These original functions are therefore usable only in a very limited set
of situations.  One must complete converting the entire string before
starting a new one, and each string/text must be converted with the same
function (there is no problem with the library itself; it is guaranteed
that no library function changes the state of any of these functions). 
<strong>For the above reasons it is highly requested that the functions
described in the previous section be used in place of non-reentrant
conversion functions.</strong>

<ul>
<li><a accesskey=1 href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>:   Non-reentrant Conversion of Single
                                         Characters. 
<li><a accesskey=2 href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>:      Non-reentrant Conversion of Strings. 
<li><a accesskey=3 href="#Shift%20State">Shift State</a>:                          States in Non-reentrant Functions. 
</ul>

<p><hr>
Node:<a name="Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>,
Next:<a rel=next accesskey=n href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>,
Up:<a rel=up accesskey=u href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>
<br>

<h4>Non-reentrant Conversion of Single Characters</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>mbtowc</b><i> (wchar_t *restrict <var>result</var>, const char *restrict <var>string</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbtowc</code> ("multibyte to wide character") function when called
with non-null <var>string</var> converts the first multibyte character
beginning at <var>string</var> to its corresponding wide character code.  It
stores the result in <code>*<var>result</var></code>.

<p><code>mbtowc</code> never examines more than <var>size</var> bytes.  (The idea is
to supply for <var>size</var> the number of bytes of data you have in hand.)

<p><code>mbtowc</code> with non-null <var>string</var> distinguishes three
possibilities: the first <var>size</var> bytes at <var>string</var> start with
valid multibyte characters, they start with an invalid byte sequence or
just part of a character, or <var>string</var> points to an empty string (a
null character).

<p>For a valid multibyte character, <code>mbtowc</code> converts it to a wide
character and stores that in <code>*<var>result</var></code>, and returns the
number of bytes in that character (always at least 1 and never
more than <var>size</var>).

<p>For an invalid byte sequence, <code>mbtowc</code> returns -1.  For an
empty string, it returns 0, also storing <code>'\0'</code> in
<code>*<var>result</var></code>.

<p>If the multibyte character code uses shift characters, then
<code>mbtowc</code> maintains and updates a shift state as it scans.  If you
call <code>mbtowc</code> with a null pointer for <var>string</var>, that
initializes the shift state to its standard initial value.  It also
returns nonzero if the multibyte character code in use actually has a
shift state.  See <a href="#Shift%20State">Shift State</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wctomb</b><i> (char *<var>string</var>, wchar_t <var>wchar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wctomb</code> ("wide character to multibyte") function converts
the wide character code <var>wchar</var> to its corresponding multibyte
character sequence, and stores the result in bytes starting at
<var>string</var>.  At most <code>MB_CUR_MAX</code> characters are stored.

<p><code>wctomb</code> with non-null <var>string</var> distinguishes three
possibilities for <var>wchar</var>: a valid wide character code (one that can
be translated to a multibyte character), an invalid code, and
<code>L'\0'</code>.

<p>Given a valid code, <code>wctomb</code> converts it to a multibyte character,
storing the bytes starting at <var>string</var>.  Then it returns the number
of bytes in that character (always at least 1 and never more
than <code>MB_CUR_MAX</code>).

<p>If <var>wchar</var> is an invalid wide character code, <code>wctomb</code> returns
-1.  If <var>wchar</var> is <code>L'\0'</code>, it returns <code>0</code>, also
storing <code>'\0'</code> in <code>*<var>string</var></code>.

<p>If the multibyte character code uses shift characters, then
<code>wctomb</code> maintains and updates a shift state as it scans.  If you
call <code>wctomb</code> with a null pointer for <var>string</var>, that
initializes the shift state to its standard initial value.  It also
returns nonzero if the multibyte character code in use actually has a
shift state.  See <a href="#Shift%20State">Shift State</a>.

<p>Calling this function with a <var>wchar</var> argument of zero when
<var>string</var> is not null has the side-effect of reinitializing the
stored shift state <em>as well as</em> storing the multibyte character
<code>'\0'</code> and returning 0. 
</td></tr>
</table>

<p>Similar to <code>mbrlen</code> there is also a non-reentrant function that
computes the length of a multibyte character.  It can be defined in
terms of <code>mbtowc</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mblen</b><i> (const char *<var>string</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mblen</code> function with a non-null <var>string</var> argument returns
the number of bytes that make up the multibyte character beginning at
<var>string</var>, never examining more than <var>size</var> bytes.  (The idea is
to supply for <var>size</var> the number of bytes of data you have in hand.)

<p>The return value of <code>mblen</code> distinguishes three possibilities: the
first <var>size</var> bytes at <var>string</var> start with valid multibyte
characters, they start with an invalid byte sequence or just part of a
character, or <var>string</var> points to an empty string (a null character).

<p>For a valid multibyte character, <code>mblen</code> returns the number of
bytes in that character (always at least <code>1</code> and never more than
<var>size</var>).  For an invalid byte sequence, <code>mblen</code> returns
-1.  For an empty string, it returns 0.

<p>If the multibyte character code uses shift characters, then <code>mblen</code>
maintains and updates a shift state as it scans.  If you call
<code>mblen</code> with a null pointer for <var>string</var>, that initializes the
shift state to its standard initial value.  It also returns a nonzero
value if the multibyte character code in use actually has a shift state. 
See <a href="#Shift%20State">Shift State</a>.

<p>The function <code>mblen</code> is declared in <code>stdlib.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>,
Next:<a rel=next accesskey=n href="#Shift%20State">Shift State</a>,
Previous:<a rel=previous accesskey=p href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>,
Up:<a rel=up accesskey=u href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>
<br>

<h4>Non-reentrant Conversion of Strings</h4>

<p>For convenience the ISO&nbsp;C90 standard also defines functions to
convert entire strings instead of single characters.  These functions
suffer from the same problems as their reentrant counterparts from
Amendment&nbsp;1 to ISO&nbsp;C90; see <a href="#Converting%20Strings">Converting Strings</a>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>mbstowcs</b><i> (wchar_t *<var>wstring</var>, const char *<var>string</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mbstowcs</code> ("multibyte string to wide character string")
function converts the null-terminated string of multibyte characters
<var>string</var> to an array of wide character codes, storing not more than
<var>size</var> wide characters into the array beginning at <var>wstring</var>. 
The terminating null character counts towards the size, so if <var>size</var>
is less than the actual number of wide characters resulting from
<var>string</var>, no terminating null character is stored.

<p>The conversion of characters from <var>string</var> begins in the initial
shift state.

<p>If an invalid multibyte character sequence is found, the <code>mbstowcs</code>
function returns a value of -1.  Otherwise, it returns the number
of wide characters stored in the array <var>wstring</var>.  This number does
not include the terminating null character, which is present if the
number is less than <var>size</var>.

<p>Here is an example showing how to convert a string of multibyte
characters, allocating enough space for the result.

<br><pre>wchar_t *
mbstowcs_alloc (const char *string)
{
  size_t size = strlen (string) + 1;
  wchar_t *buf = xmalloc (size * sizeof (wchar_t));

  size = mbstowcs (buf, string, size);
  if (size == (size_t) -1)
    return NULL;
  buf = xrealloc (buf, (size + 1) * sizeof (wchar_t));
  return buf;
}
</pre>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcstombs</b><i> (char *<var>string</var>, const wchar_t *<var>wstring</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstombs</code> ("wide character string to multibyte string")
function converts the null-terminated wide character array <var>wstring</var>
into a string containing multibyte characters, storing not more than
<var>size</var> bytes starting at <var>string</var>, followed by a terminating
null character if there is room.  The conversion of characters begins in
the initial shift state.

<p>The terminating null character counts towards the size, so if <var>size</var>
is less than or equal to the number of bytes needed in <var>wstring</var>, no
terminating null character is stored.

<p>If a code that does not correspond to a valid multibyte character is
found, the <code>wcstombs</code> function returns a value of -1. 
Otherwise, the return value is the number of bytes stored in the array
<var>string</var>.  This number does not include the terminating null character,
which is present if the number is less than <var>size</var>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Shift%20State">Shift State</a>,
Previous:<a rel=previous accesskey=p href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>,
Up:<a rel=up accesskey=u href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>
<br>

<h4>States in Non-reentrant Functions</h4>

<p>In some multibyte character codes, the <em>meaning</em> of any particular
byte sequence is not fixed; it depends on what other sequences have come
earlier in the same string.  Typically there are just a few sequences that
can change the meaning of other sequences; these few are called
<dfn>shift sequences</dfn> and we say that they set the <dfn>shift state</dfn> for
other sequences that follow.

<p>To illustrate shift state and shift sequences, suppose we decide that
the sequence <code>0200</code> (just one byte) enters Japanese mode, in which
pairs of bytes in the range from <code>0240</code> to <code>0377</code> are single
characters, while <code>0201</code> enters Latin-1 mode, in which single bytes
in the range from <code>0240</code> to <code>0377</code> are characters, and
interpreted according to the ISO Latin-1 character set.  This is a
multibyte code that has two alternative shift states ("Japanese mode"
and "Latin-1 mode"), and two shift sequences that specify particular
shift states.

<p>When the multibyte character code in use has shift states, then
<code>mblen</code>, <code>mbtowc</code>, and <code>wctomb</code> must maintain and update
the current shift state as they scan the string.  To make this work
properly, you must follow these rules:

<ul>
<li>Before starting to scan a string, call the function with a null pointer
for the multibyte character address--for example, <code>mblen (NULL,
0)</code>.  This initializes the shift state to its standard initial value.

<li>Scan the string one character at a time, in order.  Do not "back up"
and rescan characters already scanned, and do not intersperse the
processing of different strings. 
</ul>

<p>Here is an example of using <code>mblen</code> following these rules:

<br><pre>void
scan_string (char *s)
{
  int length = strlen (s);

  /* Initialize shift state.  */
  mblen (NULL, 0);

  while (1)
    {
      int thischar = mblen (s, length);
      /* Deal with end of string and invalid characters.  */
      if (thischar == 0)
        break;
      if (thischar == -1)
        {
          error ("invalid multibyte character");
          break;
        }
      /* Advance past this character.  */
      s += thischar;
      length -= thischar;
    }
}
</pre>

<p>The functions <code>mblen</code>, <code>mbtowc</code> and <code>wctomb</code> are not
reentrant when using a multibyte code that uses a shift state.  However,
no other library functions call these functions, so you don't have to
worry that the shift state will be changed mysteriously.

<p><hr>
Node:<a name="Generic%20Charset%20Conversion">Generic Charset Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Non-reentrant%20Conversion">Non-reentrant Conversion</a>,
Up:<a rel=up accesskey=u href="#Character%20Set%20Handling">Character Set Handling</a>
<br>

<h3>Generic Charset Conversion</h3>

<p>The conversion functions mentioned so far in this chapter all had in
common that they operate on character sets that are not directly
specified by the functions.  The multibyte encoding used is specified by
the currently selected locale for the <code>LC_CTYPE</code> category.  The
wide character set is fixed by the implementation (in the case of GNU C
library it is always UCS-4 encoded ISO&nbsp;10646.

<p>This has of course several problems when it comes to general character
conversion:

<ul>
<li>For every conversion where neither the source nor the destination
character set is the character set of the locale for the <code>LC_CTYPE</code>
category, one has to change the <code>LC_CTYPE</code> locale using
<code>setlocale</code>.

<p>Changing the <code>LC_TYPE</code> locale introduces major problems for the rest
of the programs since several more functions (e.g., the character
classification functions, see <a href="#Classification%20of%20Characters">Classification of Characters</a>) use the
<code>LC_CTYPE</code> category.

</p><li>Parallel conversions to and from different character sets are not
possible since the <code>LC_CTYPE</code> selection is global and shared by all
threads.

<li>If neither the source nor the destination character set is the character
set used for <code>wchar_t</code> representation, there is at least a two-step
process necessary to convert a text using the functions above.  One would
have to select the source character set as the multibyte encoding,
convert the text into a <code>wchar_t</code> text, select the destination
character set as the multibyte encoding, and convert the wide character
text to the multibyte (= destination) character set.

<p>Even if this is possible (which is not guaranteed) it is a very tiring
work.  Plus it suffers from the other two raised points even more due to
the steady changing of the locale. 
</ul>

<p>The XPG2 standard defines a completely new set of functions, which has
none of these limitations.  They are not at all coupled to the selected
locales, and they have no constraints on the character sets selected for
source and destination.  Only the set of available conversions limits
them.  The standard does not specify that any conversion at all must be
available.  Such availability is a measure of the quality of the
implementation.

<p>In the following text first the interface to <code>iconv</code> and then the
conversion function, will be described.  Comparisons with other
implementations will show what obstacles stand in the way of portable
applications.  Finally, the implementation is described in so far as might
interest the advanced user who wants to extend conversion capabilities.

<ul>
<li><a accesskey=1 href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>:     Generic Character Set Conversion Interface. 
<li><a accesskey=2 href="#iconv%20Examples">iconv Examples</a>:                   A complete <code>iconv</code> example. 
<li><a accesskey=3 href="#Other%20iconv%20Implementations">Other iconv Implementations</a>:      Some Details about other <code>iconv</code>
                                     Implementations. 
<li><a accesskey=4 href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>:       The <code>iconv</code> Implementation in the GNU C
                                     library. 
</ul>

<p><hr>
Node:<a name="Generic%20Conversion%20Interface">Generic Conversion Interface</a>,
Next:<a rel=next accesskey=n href="#iconv%20Examples">iconv Examples</a>,
Up:<a rel=up accesskey=u href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>
<br>

<h4>Generic Character Set Conversion Interface</h4>

<p>This set of functions follows the traditional cycle of using a resource:
open-use-close.  The interface consists of three functions, each of
which implements one step.

<p>Before the interfaces are described it is necessary to introduce a
data type.  Just like other open-use-close interfaces the functions
introduced here work using handles and the <code>iconv.h</code> header
defines a special type for the handles used.

<p>
<table width="100%">
<tr>
<td align="left"><b>iconv_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is an abstract type defined in <code>iconv.h</code>.  The user
must not assume anything about the definition of this type; it must be
completely opaque.

<p>Objects of this type can get assigned handles for the conversions using
the <code>iconv</code> functions.  The objects themselves need not be freed, but
the conversions for which the handles stand for have to. 
</td></tr>
</table>

<p>The first step is the function to create a handle.

<p>
<table width="100%">
<tr>
<td align="left">iconv_t <b>iconv_open</b><i> (const char *<var>tocode</var>, const char *<var>fromcode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>iconv_open</code> function has to be used before starting a
conversion.  The two parameters this function takes determine the
source and destination character set for the conversion, and if the
implementation has the possibility to perform such a conversion, the
function returns a handle.

<p>If the wanted conversion is not available, the <code>iconv_open</code> function
returns <code>(iconv_t) -1</code>. In this case the global variable
<code>errno</code> can have the following values:

<dl>
<dt><code>EMFILE</code>
<dd>The process already has <code>OPEN_MAX</code> file descriptors open. 
<br><dt><code>ENFILE</code>
<dd>The system limit of open file is reached. 
<br><dt><code>ENOMEM</code>
<dd>Not enough memory to carry out the operation. 
<br><dt><code>EINVAL</code>
<dd>The conversion from <var>fromcode</var> to <var>tocode</var> is not supported. 
</dl>

<p>It is not possible to use the same descriptor in different threads to
perform independent conversions.  The data structures associated
with the descriptor include information about the conversion state. 
This must not be messed up by using it in different conversions.

<p>An <code>iconv</code> descriptor is like a file descriptor as for every use a
new descriptor must be created.  The descriptor does not stand for all
of the conversions from <var>fromset</var> to <var>toset</var>.

<p>The GNU C library implementation of <code>iconv_open</code> has one
significant extension to other implementations.  To ease the extension
of the set of available conversions, the implementation allows storing
the necessary files with data and code in an arbitrary number of
directories.  How this extension must be written will be explained below
(see <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>).  Here it is only important to say
that all directories mentioned in the <code>GCONV_PATH</code> environment
variable are considered only if they contain a file <code>gconv-modules</code>. 
These directories need not necessarily be created by the system
administrator.  In fact, this extension is introduced to help users
writing and using their own, new conversions.  Of course, this does not
work for security reasons in SUID binaries; in this case only the system
directory is considered and this normally is
<code><var>prefix</var>/lib/gconv</code>.  The <code>GCONV_PATH</code> environment
variable is examined exactly once at the first call of the
<code>iconv_open</code> function.  Later modifications of the variable have no
effect.

<p>The <code>iconv_open</code> function was introduced early in the X/Open
Portability Guide, version&nbsp;2.  It is supported by all commercial
Unices as it is required for the Unix branding.  However, the quality and
completeness of the implementation varies widely.  The <code>iconv_open</code>
function is declared in <code>iconv.h</code>. 
</td></tr>
</table>

<p>The <code>iconv</code> implementation can associate large data structure with
the handle returned by <code>iconv_open</code>.  Therefore, it is crucial to
free all the resources once all conversions are carried out and the
conversion is not needed anymore.

<p>
<table width="100%">
<tr>
<td align="left">int <b>iconv_close</b><i> (iconv_t <var>cd</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>iconv_close</code> function frees all resources associated with the
handle <var>cd</var>, which must have been returned by a successful call to
the <code>iconv_open</code> function.

<p>If the function call was successful the return value is 0. 
Otherwise it is -1 and <code>errno</code> is set appropriately. 
Defined error are:

<dl>
<dt><code>EBADF</code>
<dd>The conversion descriptor is invalid. 
</dl>

<p>The <code>iconv_close</code> function was introduced together with the rest
of the <code>iconv</code> functions in XPG2 and is declared in <code>iconv.h</code>. 
</td></tr>
</table>

<p>The standard defines only one actual conversion function.  This has,
therefore, the most general interface: it allows conversion from one
buffer to another.  Conversion from a file to a buffer, vice versa, or
even file to file can be implemented on top of it.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>iconv</b><i> (iconv_t <var>cd</var>, char **<var>inbuf</var>, size_t *<var>inbytesleft</var>, char **<var>outbuf</var>, size_t *<var>outbytesleft</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>iconv</code> function converts the text in the input buffer
according to the rules associated with the descriptor <var>cd</var> and
stores the result in the output buffer.  It is possible to call the
function for the same text several times in a row since for stateful
character sets the necessary state information is kept in the data
structures associated with the descriptor.

<p>The input buffer is specified by <code>*<var>inbuf</var></code> and it contains
<code>*<var>inbytesleft</var></code> bytes.  The extra indirection is necessary for
communicating the used input back to the caller (see below).  It is
important to note that the buffer pointer is of type <code>char</code> and the
length is measured in bytes even if the input text is encoded in wide
characters.

<p>The output buffer is specified in a similar way.  <code>*<var>outbuf</var></code>
points to the beginning of the buffer with at least
<code>*<var>outbytesleft</var></code> bytes room for the result.  The buffer
pointer again is of type <code>char</code> and the length is measured in
bytes.  If <var>outbuf</var> or <code>*<var>outbuf</var></code> is a null pointer, the
conversion is performed but no output is available.

<p>If <var>inbuf</var> is a null pointer, the <code>iconv</code> function performs the
necessary action to put the state of the conversion into the initial
state.  This is obviously a no-op for non-stateful encodings, but if the
encoding has a state, such a function call might put some byte sequences
in the output buffer, which perform the necessary state changes.  The
next call with <var>inbuf</var> not being a null pointer then simply goes on
from the initial state.  It is important that the programmer never makes
any assumption as to whether the conversion has to deal with states. 
Even if the input and output character sets are not stateful, the
implementation might still have to keep states.  This is due to the
implementation chosen for the GNU C library as it is described below. 
Therefore an <code>iconv</code> call to reset the state should always be
performed if some protocol requires this for the output text.

<p>The conversion stops for one of three reasons. The first is that all
characters from the input buffer are converted.  This actually can mean
two things: either all bytes from the input buffer are consumed or
there are some bytes at the end of the buffer that possibly can form a
complete character but the input is incomplete.  The second reason for a
stop is that the output buffer is full.  And the third reason is that
the input contains invalid characters.

<p>In all of these cases the buffer pointers after the last successful
conversion, for input and output buffer, are stored in <var>inbuf</var> and
<var>outbuf</var>, and the available room in each buffer is stored in
<var>inbytesleft</var> and <var>outbytesleft</var>.

<p>Since the character sets selected in the <code>iconv_open</code> call can be
almost arbitrary, there can be situations where the input buffer contains
valid characters, which have no identical representation in the output
character set.  The behavior in this situation is undefined.  The
<em>current</em> behavior of the GNU C library in this situation is to
return with an error immediately.  This certainly is not the most
desirable solution; therefore, future versions will provide better ones,
but they are not yet finished.

<p>If all input from the input buffer is successfully converted and stored
in the output buffer, the function returns the number of non-reversible
conversions performed.  In all other cases the return value is
<code>(size_t) -1</code> and <code>errno</code> is set appropriately.  In such cases
the value pointed to by <var>inbytesleft</var> is nonzero.

<dl>
<dt><code>EILSEQ</code>
<dd>The conversion stopped because of an invalid byte sequence in the input. 
After the call, <code>*<var>inbuf</var></code> points at the first byte of the
invalid byte sequence.

<br><dt><code>E2BIG</code>
<dd>The conversion stopped because it ran out of space in the output buffer.

<br><dt><code>EINVAL</code>
<dd>The conversion stopped because of an incomplete byte sequence at the end
of the input buffer.

<br><dt><code>EBADF</code>
<dd>The <var>cd</var> argument is invalid. 
</dl>

<p>The <code>iconv</code> function was introduced in the XPG2 standard and is
declared in the <code>iconv.h</code> header. 
</td></tr>
</table>

<p>The definition of the <code>iconv</code> function is quite good overall.  It
provides quite flexible functionality.  The only problems lie in the
boundary cases, which are incomplete byte sequences at the end of the
input buffer and invalid input.  A third problem, which is not really
a design problem, is the way conversions are selected.  The standard
does not say anything about the legitimate names, a minimal set of
available conversions.  We will see how this negatively impacts other
implementations, as demonstrated below.

<p><hr>
Node:<a name="iconv%20Examples">iconv Examples</a>,
Next:<a rel=next accesskey=n href="#Other%20iconv%20Implementations">Other iconv Implementations</a>,
Previous:<a rel=previous accesskey=p href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>,
Up:<a rel=up accesskey=u href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>
<br>

<h4>A complete <code>iconv</code> example</h4>

<p>The example below features a solution for a common problem.  Given that
one knows the internal encoding used by the system for <code>wchar_t</code>
strings, one often is in the position to read text from a file and store
it in wide character buffers.  One can do this using <code>mbsrtowcs</code>,
but then we run into the problems discussed above.

<br><pre>int
file2wcs (int fd, const char *charset, wchar_t *outbuf, size_t avail)
{
  char inbuf[BUFSIZ];
  size_t insize = 0;
  char *wrptr = (char *) outbuf;
  int result = 0;
  iconv_t cd;

  cd = iconv_open ("WCHAR_T", charset);
  if (cd == (iconv_t) -1)
    {
      /* Something went wrong.  */
      if (errno == EINVAL)
        error (0, 0, "conversion from '%s' to wchar_t not available",
               charset);
      else
        perror ("iconv_open");

      /* Terminate the output string.  */
      *outbuf = L'\0';

      return -1;
    }

  while (avail &gt; 0)
    {
      size_t nread;
      size_t nconv;
      char *inptr = inbuf;

      /* Read more input.  */
      nread = read (fd, inbuf + insize, sizeof (inbuf) - insize);
      if (nread == 0)
        {
          /* When we come here the file is completely read.
             This still could mean there are some unused
             characters in the <code>inbuf</code>.  Put them back.  */
          if (lseek (fd, -insize, SEEK_CUR) == -1)
            result = -1;

          /* Now write out the byte sequence to get into the
             initial state if this is necessary.  */
          iconv (cd, NULL, NULL, &amp;wrptr, &amp;avail);

          break;
        }
      insize += nread;

      /* Do the conversion.  */
      nconv = iconv (cd, &amp;inptr, &amp;insize, &amp;wrptr, &amp;avail);
      if (nconv == (size_t) -1)
        {
          /* Not everything went right.  It might only be
             an unfinished byte sequence at the end of the
             buffer.  Or it is a real problem.  */
          if (errno == EINVAL)
            /* This is harmless.  Simply move the unused
               bytes to the beginning of the buffer so that
               they can be used in the next round.  */
            memmove (inbuf, inptr, insize);
          else
            {
              /* It is a real problem.  Maybe we ran out of
                 space in the output buffer or we have invalid
                 input.  In any case back the file pointer to
                 the position of the last processed byte.  */
              lseek (fd, -insize, SEEK_CUR);
              result = -1;
              break;
            }
        }
    }

  /* Terminate the output string.  */
  if (avail &gt;= sizeof (wchar_t))
    *((wchar_t *) wrptr) = L'\0';

  if (iconv_close (cd) != 0)
    perror ("iconv_close");

  return (wchar_t *) wrptr - outbuf;
}
</pre>

<p>This example shows the most important aspects of using the <code>iconv</code>
functions.  It shows how successive calls to <code>iconv</code> can be used to
convert large amounts of text.  The user does not have to care about
stateful encodings as the functions take care of everything.

<p>An interesting point is the case where <code>iconv</code> returns an error and
<code>errno</code> is set to <code>EINVAL</code>.  This is not really an error in the
transformation.  It can happen whenever the input character set contains
byte sequences of more than one byte for some character and texts are not
processed in one piece.  In this case there is a chance that a multibyte
sequence is cut.  The caller can then simply read the remainder of the
takes and feed the offending bytes together with new character from the
input to <code>iconv</code> and continue the work.  The internal state kept in
the descriptor is <em>not</em> unspecified after such an event as is the
case with the conversion functions from the ISO&nbsp;C standard.

<p>The example also shows the problem of using wide character strings with
<code>iconv</code>.  As explained in the description of the <code>iconv</code>
function above, the function always takes a pointer to a <code>char</code>
array and the available space is measured in bytes.  In the example, the
output buffer is a wide character buffer; therefore, we use a local
variable <var>wrptr</var> of type <code>char *</code>, which is used in the
<code>iconv</code> calls.

<p>This looks rather innocent but can lead to problems on platforms that
have tight restriction on alignment.  Therefore the caller of <code>iconv</code>
has to make sure that the pointers passed are suitable for access of
characters from the appropriate character set.  Since, in the
above case, the input parameter to the function is a <code>wchar_t</code>
pointer, this is the case (unless the user violates alignment when
computing the parameter).  But in other situations, especially when
writing generic functions where one does not know what type of character
set one uses and, therefore, treats text as a sequence of bytes, it might
become tricky.

<p><hr>
Node:<a name="Other%20iconv%20Implementations">Other iconv Implementations</a>,
Next:<a rel=next accesskey=n href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>,
Previous:<a rel=previous accesskey=p href="#iconv%20Examples">iconv Examples</a>,
Up:<a rel=up accesskey=u href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>
<br>

<h4>Some Details about other <code>iconv</code> Implementations</h4>

<p>This is not really the place to discuss the <code>iconv</code> implementation
of other systems but it is necessary to know a bit about them to write
portable programs.  The above mentioned problems with the specification
of the <code>iconv</code> functions can lead to portability issues.

<p>The first thing to notice is that, due to the large number of character
sets in use, it is certainly not practical to encode the conversions
directly in the C library.  Therefore, the conversion information must
come from files outside the C library.  This is usually done in one or
both of the following ways:

<ul>
<li>The C library contains a set of generic conversion functions that can
read the needed conversion tables and other information from data files. 
These files get loaded when necessary.

<p>This solution is problematic as it requires a great deal of effort to
apply to all character sets (potentially an infinite set).  The
differences in the structure of the different character sets is so large
that many different variants of the table-processing functions must be
developed.  In addition, the generic nature of these functions make them
slower than specifically implemented functions.

</p><li>The C library only contains a framework that can dynamically load
object files and execute the conversion functions contained therein.

<p>This solution provides much more flexibility.  The C library itself
contains only very little code and therefore reduces the general memory
footprint.  Also, with a documented interface between the C library and
the loadable modules it is possible for third parties to extend the set
of available conversion modules.  A drawback of this solution is that
dynamic loading must be available. 
</ul>

<p>Some implementations in commercial Unices implement a mixture of these
possibilities; the majority implement only the second solution.  Using
loadable modules moves the code out of the library itself and keeps
the door open for extensions and improvements, but this design is also
limiting on some platforms since not many platforms support dynamic
loading in statically linked programs.  On platforms without this
capability it is therefore not possible to use this interface in
statically linked programs.  The GNU C library has, on ELF platforms, no
problems with dynamic loading in these situations; therefore, this
point is moot.  The danger is that one gets acquainted with this
situation and forgets about the restrictions on other systems.

<p>A second thing to know about other <code>iconv</code> implementations is that
the number of available conversions is often very limited.  Some
implementations provide, in the standard release (not special
international or developer releases), at most 100 to 200 conversion
possibilities.  This does not mean 200 different character sets are
supported; for example, conversions from one character set to a set of 10
others might count as 10 conversions.  Together with the other direction
this makes 20 conversion possibilities used up by one character set.  One
can imagine the thin coverage these platform provide.  Some Unix vendors
even provide only a handful of conversions, which renders them useless for
almost all uses.

<p>This directly leads to a third and probably the most problematic point. 
The way the <code>iconv</code> conversion functions are implemented on all
known Unix systems and the availability of the conversion functions from
character set A to B and the conversion from
B to C does <em>not</em> imply that the
conversion from A to C is available.

<p>This might not seem unreasonable and problematic at first, but it is a
quite big problem as one will notice shortly after hitting it.  To show
the problem we assume to write a program that has to convert from
A to C.  A call like

<br><pre>cd = iconv_open ("C", "A");
</pre>

<p>fails according to the assumption above.  But what does the program
do now?  The conversion is necessary; therefore, simply giving up is not
an option.

<p>This is a nuisance.  The <code>iconv</code> function should take care of this. 
But how should the program proceed from here on?  If it tries to convert
to character set B, first the two <code>iconv_open</code>
calls

<br><pre>cd1 = iconv_open ("B", "A");
</pre>

<p>and

<br><pre>cd2 = iconv_open ("C", "B");
</pre>

<p>will succeed, but how to find B?

<p>Unfortunately, the answer is: there is no general solution.  On some
systems guessing might help.  On those systems most character sets can
convert to and from UTF-8 encoded ISO&nbsp;10646 or Unicode text. Beside
this only some very system-specific methods can help.  Since the
conversion functions come from loadable modules and these modules must
be stored somewhere in the filesystem, one <em>could</em> try to find them
and determine from the available file which conversions are available
and whether there is an indirect route from A to
C.

<p>This example shows one of the design errors of <code>iconv</code> mentioned
above.  It should at least be possible to determine the list of available
conversion programmatically so that if <code>iconv_open</code> says there is no
such conversion, one could make sure this also is true for indirect
routes.

<p><hr>
Node:<a name="glibc%20iconv%20Implementation">glibc iconv Implementation</a>,
Previous:<a rel=previous accesskey=p href="#Other%20iconv%20Implementations">Other iconv Implementations</a>,
Up:<a rel=up accesskey=u href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>
<br>

<h4>The <code>iconv</code> Implementation in the GNU C library</h4>

<p>After reading about the problems of <code>iconv</code> implementations in the
last section it is certainly good to note that the implementation in
the GNU C library has none of the problems mentioned above.  What
follows is a step-by-step analysis of the points raised above.  The
evaluation is based on the current state of the development (as of
January 1999).  The development of the <code>iconv</code> functions is not
complete, but basic functionality has solidified.

<p>The GNU C library's <code>iconv</code> implementation uses shared loadable
modules to implement the conversions.  A very small number of
conversions are built into the library itself but these are only rather
trivial conversions.

<p>All the benefits of loadable modules are available in the GNU C library
implementation.  This is especially appealing since the interface is
well documented (see below), and it, therefore, is easy to write new
conversion modules.  The drawback of using loadable objects is not a
problem in the GNU C library, at least on ELF systems.  Since the
library is able to load shared objects even in statically linked
binaries, static linking need not be forbidden in case one wants to use
<code>iconv</code>.

<p>The second mentioned problem is the number of supported conversions. 
Currently, the GNU C library supports more than 150 character sets.  The
way the implementation is designed the number of supported conversions
is greater than 22350 (150 times 149).  If any conversion
from or to a character set is missing, it can be added easily.

<p>Particularly impressive as it may be, this high number is due to the
fact that the GNU C library implementation of <code>iconv</code> does not have
the third problem mentioned above (i.e., whenever there is a conversion
from a character set A to B and from
B to C it is always possible to convert from
A to C directly).  If the <code>iconv_open</code>
returns an error and sets <code>errno</code> to <code>EINVAL</code>, there is no
known way, directly or indirectly, to perform the wanted conversion.

<p>Triangulation is achieved by providing for each character set a
conversion from and to UCS-4 encoded ISO&nbsp;10646.  Using ISO&nbsp;10646
as an intermediate representation it is possible to <dfn>triangulate</dfn>
(i.e., convert with an intermediate representation).

<p>There is no inherent requirement to provide a conversion to ISO&nbsp;10646 for a new character set, and it is also possible to provide other
conversions where neither source nor destination character set is ISO&nbsp;10646.  The existing set of conversions is simply meant to cover all
conversions that might be of interest.

<p>All currently available conversions use the triangulation method above,
making conversion run unnecessarily slow.  If, for example, somebody
often needs the conversion from ISO-2022-JP to EUC-JP, a quicker solution
would involve direct conversion between the two character sets, skipping
the input to ISO&nbsp;10646 first.  The two character sets of interest
are much more similar to each other than to ISO&nbsp;10646.

<p>In such a situation one easily can write a new conversion and provide it
as a better alternative.  The GNU C library <code>iconv</code> implementation
would automatically use the module implementing the conversion if it is
specified to be more efficient.

<h5>Format of <code>gconv-modules</code> files</h5>

<p>All information about the available conversions comes from a file named
<code>gconv-modules</code>, which can be found in any of the directories along
the <code>GCONV_PATH</code>.  The <code>gconv-modules</code> files are line-oriented
text files, where each of the lines has one of the following formats:

<ul>
<li>If the first non-whitespace character is a <kbd>#</kbd> the line contains only
comments and is ignored.

<li>Lines starting with <code>alias</code> define an alias name for a character
set.  Two more words are expected on the line.  The first word
defines the alias name, and the second defines the original name of the
character set.  The effect is that it is possible to use the alias name
in the <var>fromset</var> or <var>toset</var> parameters of <code>iconv_open</code> and
achieve the same result as when using the real character set name.

<p>This is quite important as a character set has often many different
names.  There is normally an official name but this need not correspond to
the most popular name.  Beside this many character sets have special
names that are somehow constructed.  For example, all character sets
specified by the ISO have an alias of the form <code>ISO-IR-<var>nnn</var></code>
where <var>nnn</var> is the registration number.  This allows programs that
know about the registration number to construct character set names and
use them in <code>iconv_open</code> calls.  More on the available names and
aliases follows below.

</p><li>Lines starting with <code>module</code> introduce an available conversion
module.  These lines must contain three or four more words.

<p>The first word specifies the source character set, the second word the
destination character set of conversion implemented in this module, and
the third word is the name of the loadable module.  The filename is
constructed by appending the usual shared object suffix (normally
<code>.so</code>) and this file is then supposed to be found in the same
directory the <code>gconv-modules</code> file is in.  The last word on the line,
which is optional, is a numeric value representing the cost of the
conversion.  If this word is missing, a cost of 1 is assumed.  The
numeric value itself does not matter that much; what counts are the
relative values of the sums of costs for all possible conversion paths. 
Below is a more precise description of the use of the cost value. 
</ul>

<p>Returning to the example above where one has written a module to directly
convert from ISO-2022-JP to EUC-JP and back.  All that has to be done is
to put the new module, let its name be ISO2022JP-EUCJP.so, in a directory
and add a file <code>gconv-modules</code> with the following content in the
same directory:

<br><pre>module  ISO-2022-JP//   EUC-JP//        ISO2022JP-EUCJP    1
module  EUC-JP//        ISO-2022-JP//   ISO2022JP-EUCJP    1
</pre>

<p>To see why this is sufficient, it is necessary to understand how the
conversion used by <code>iconv</code> (and described in the descriptor) is
selected.  The approach to this problem is quite simple.

<p>At the first call of the <code>iconv_open</code> function the program reads
all available <code>gconv-modules</code> files and builds up two tables: one
containing all the known aliases and another that contains the
information about the conversions and which shared object implements
them.

<h5>Finding the conversion path in <code>iconv</code></h5>

<p>The set of available conversions form a directed graph with weighted
edges.  The weights on the edges are the costs specified in the
<code>gconv-modules</code> files.  The <code>iconv_open</code> function uses an
algorithm suitable for search for the best path in such a graph and so
constructs a list of conversions that must be performed in succession
to get the transformation from the source to the destination character
set.

<p>Explaining why the above <code>gconv-modules</code> files allows the
<code>iconv</code> implementation to resolve the specific ISO-2022-JP to
EUC-JP conversion module instead of the conversion coming with the
library itself is straightforward.  Since the latter conversion takes two
steps (from ISO-2022-JP to ISO&nbsp;10646 and then from ISO&nbsp;10646 to
EUC-JP), the cost is 1+1 = 2.  The above <code>gconv-modules</code>
file, however, specifies that the new conversion modules can perform this
conversion with only the cost of 1.

<p>A mysterious item about the <code>gconv-modules</code> file above (and also
the file coming with the GNU C library) are the names of the character
sets specified in the <code>module</code> lines.  Why do almost all the names
end in <code>//</code>?  And this is not all: the names can actually be
regular expressions.  At this point in time this mystery should not be
revealed, unless you have the relevant spell-casting materials: ashes
from an original DOS&nbsp;6.2 boot disk burnt in effigy, a crucifix
blessed by St. Emacs, assorted herbal roots from Central America, sand
from Cebu, etc.  Sorry!  <strong>The part of the implementation where
this is used is not yet finished.  For now please simply follow the
existing examples.  It'll become clearer once it is. -drepper</strong>

<p>A last remark about the <code>gconv-modules</code> is about the names not
ending with <code>//</code>.  A character set named <code>INTERNAL</code> is often
mentioned.  From the discussion above and the chosen name it should have
become clear that this is the name for the representation used in the
intermediate step of the triangulation.  We have said that this is UCS-4
but actually that is not quite right.  The UCS-4 specification also
includes the specification of the byte ordering used.  Since a UCS-4 value
consists of four bytes, a stored value is effected by byte ordering.  The
internal representation is <em>not</em> the same as UCS-4 in case the byte
ordering of the processor (or at least the running process) is not the
same as the one required for UCS-4.  This is done for performance reasons
as one does not want to perform unnecessary byte-swapping operations if
one is not interested in actually seeing the result in UCS-4.  To avoid
trouble with endianess, the internal representation consistently is named
<code>INTERNAL</code> even on big-endian systems where the representations are
identical.

<h5><code>iconv</code> module data structures</h5>

<p>So far this section has described how modules are located and considered
to be used.  What remains to be described is the interface of the modules
so that one can write new ones. This section describes the interface as
it is in use in January 1999.  The interface will change a bit in the
future but, with luck, only in an upwardly compatible way.

<p>The definitions necessary to write new modules are publicly available
in the non-standard header <code>gconv.h</code>.  The following text,
therefore, describes the definitions from this header file.  First,
however, it is necessary to get an overview.

<p>From the perspective of the user of <code>iconv</code> the interface is quite
simple: the <code>iconv_open</code> function returns a handle that can be used
in calls to <code>iconv</code>, and finally the handle is freed with a call to
<code>iconv_close</code>.  The problem is that the handle has to be able to
represent the possibly long sequences of conversion steps and also the
state of each conversion since the handle is all that is passed to the
<code>iconv</code> function.  Therefore, the data structures are really the
elements necessary to understanding the implementation.

<p>We need two different kinds of data structures.  The first describes the
conversion and the second describes the state etc.  There are really two
type definitions like this in <code>gconv.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct __gconv_step</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data structure describes one conversion a module can perform.  For
each function in a loaded module with conversion functions there is
exactly one object of this type.  This object is shared by all users of
the conversion (i.e., this object does not contain any information
corresponding to an actual conversion; it only describes the conversion
itself).

<dl>
<dt><code>struct __gconv_loaded_object *__shlib_handle</code>
<dt><code>const char *__modname</code>
<dt><code>int __counter</code>
<dd>All these elements of the structure are used internally in the C library
to coordinate loading and unloading the shared.  One must not expect any
of the other elements to be available or initialized.

<br><dt><code>const char *__from_name</code>
<dt><code>const char *__to_name</code>
<dd><code>__from_name</code> and <code>__to_name</code> contain the names of the source and
destination character sets.  They can be used to identify the actual
conversion to be carried out since one module might implement conversions
for more than one character set and/or direction.

<br><dt><code>gconv_fct __fct</code>
<dt><code>gconv_init_fct __init_fct</code>
<dt><code>gconv_end_fct __end_fct</code>
<dd>These elements contain pointers to the functions in the loadable module. 
The interface will be explained below.

<br><dt><code>int __min_needed_from</code>
<dt><code>int __max_needed_from</code>
<dt><code>int __min_needed_to</code>
<dt><code>int __max_needed_to;</code>
<dd>These values have to be supplied in the init function of the module.  The
<code>__min_needed_from</code> value specifies how many bytes a character of
the source character set at least needs.  The <code>__max_needed_from</code>
specifies the maximum value that also includes possible shift sequences.

<p>The <code>__min_needed_to</code> and <code>__max_needed_to</code> values serve the
same purpose as <code>__min_needed_from</code> and <code>__max_needed_from</code> but
this time for the destination character set.

<p>It is crucial that these values be accurate since otherwise the
conversion functions will have problems or not work at all.

<br><dt><code>int __stateful</code>
<dd>This element must also be initialized by the init function. 
<code>int __stateful</code> is nonzero if the source character set is stateful. 
Otherwise it is zero.

<br><dt><code>void *__data</code>
<dd>This element can be used freely by the conversion functions in the
module.  <code>void *__data</code> can be used to communicate extra information
from one call to another.  <code>void *__data</code> need not be initialized if
not needed at all.  If <code>void *__data</code> element is assigned a pointer
to dynamically allocated memory (presumably in the init function) it has
to be made sure that the end function deallocates the memory.  Otherwise
the application will leak memory.

<p>It is important to be aware that this data structure is shared by all
users of this specification conversion and therefore the <code>__data</code>
element must not contain data specific to one specific use of the
conversion function. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct __gconv_step_data</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data structure that contains the information specific to
each use of the conversion functions.

<dl>
<dt><code>char *__outbuf</code>
<dt><code>char *__outbufend</code>
<dd>These elements specify the output buffer for the conversion step.  The
<code>__outbuf</code> element points to the beginning of the buffer, and
<code>__outbufend</code> points to the byte following the last byte in the
buffer.  The conversion function must not assume anything about the size
of the buffer but it can be safely assumed the there is room for at
least one complete character in the output buffer.

<p>Once the conversion is finished, if the conversion is the last step, the
<code>__outbuf</code> element must be modified to point after the last byte
written into the buffer to signal how much output is available.  If this
conversion step is not the last one, the element must not be modified. 
The <code>__outbufend</code> element must not be modified.

<br><dt><code>int __is_last</code>
<dd>This element is nonzero if this conversion step is the last one.  This
information is necessary for the recursion.  See the description of the
conversion function internals below.  This element must never be
modified.

<br><dt><code>int __invocation_counter</code>
<dd>The conversion function can use this element to see how many calls of
the conversion function already happened.  Some character sets require a
certain prolog when generating output, and by comparing this value with
zero, one can find out whether it is the first call and whether,
therefore, the prolog should be emitted.  This element must never be
modified.

<br><dt><code>int __internal_use</code>
<dd>This element is another one rarely used but needed in certain
situations.  It is assigned a nonzero value in case the conversion
functions are used to implement <code>mbsrtowcs</code> et.al. (i.e., the
function is not used directly through the <code>iconv</code> interface).

<p>This sometimes makes a difference as it is expected that the
<code>iconv</code> functions are used to translate entire texts while the
<code>mbsrtowcs</code> functions are normally used only to convert single
strings and might be used multiple times to convert entire texts.

<p>But in this situation we would have problem complying with some rules of
the character set specification.  Some character sets require a prolog,
which must appear exactly once for an entire text.  If a number of
<code>mbsrtowcs</code> calls are used to convert the text, only the first call
must add the prolog.  However, because there is no communication between the
different calls of <code>mbsrtowcs</code>, the conversion functions have no
possibility to find this out.  The situation is different for sequences
of <code>iconv</code> calls since the handle allows access to the needed
information.

<p>The <code>int __internal_use</code> element is mostly used together with
<code>__invocation_counter</code> as follows:

<br><pre>if (!data-&gt;__internal_use
     &amp;&amp; data-&gt;__invocation_counter == 0)
  /* Emit prolog.  */
  ...
</pre>

<p>This element must never be modified.

<br><dt><code>mbstate_t *__statep</code>
<dd>The <code>__statep</code> element points to an object of type <code>mbstate_t</code>
(see <a href="#Keeping%20the%20state">Keeping the state</a>).  The conversion of a stateful character
set must use the object pointed to by <code>__statep</code> to store
information about the conversion state.  The <code>__statep</code> element
itself must never be modified.

<br><dt><code>mbstate_t __state</code>
<dd>This element must <em>never</em> be used directly.  It is only part of
this structure to have the needed space allocated. 
</dl>
</td></tr>
</table>

<h5><code>iconv</code> module interfaces</h5>

<p>With the knowledge about the data structures we now can describe the
conversion function itself.  To understand the interface a bit of
knowledge is necessary about the functionality in the C library that
loads the objects with the conversions.

<p>It is often the case that one conversion is used more than once (i.e.,
there are several <code>iconv_open</code> calls for the same set of character
sets during one program run).  The <code>mbsrtowcs</code> et.al. functions in
the GNU C library also use the <code>iconv</code> functionality, which
increases the number of uses of the same functions even more.

<p>Because of this multiple use of conversions, the modules do not get
loaded exclusively for one conversion.  Instead a module once loaded can
be used by an arbitrary number of <code>iconv</code> or <code>mbsrtowcs</code> calls
at the same time.  The splitting of the information between conversion-
function-specific information and conversion data makes this possible. 
The last section showed the two data structures used to do this.

<p>This is of course also reflected in the interface and semantics of the
functions that the modules must provide.  There are three functions that
must have the following names:

<dl>
<dt><code>gconv_init</code>
<dd>The <code>gconv_init</code> function initializes the conversion function
specific data structure.  This very same object is shared by all
conversions that use this conversion and, therefore, no state information
about the conversion itself must be stored in here.  If a module
implements more than one conversion, the <code>gconv_init</code> function will
be called multiple times.

<br><dt><code>gconv_end</code>
<dd>The <code>gconv_end</code> function is responsible for freeing all resources
allocated by the <code>gconv_init</code> function.  If there is nothing to do,
this function can be missing.  Special care must be taken if the module
implements more than one conversion and the <code>gconv_init</code> function
does not allocate the same resources for all conversions.

<br><dt><code>gconv</code>
<dd>This is the actual conversion function.  It is called to convert one
block of text.  It gets passed the conversion step information
initialized by <code>gconv_init</code> and the conversion data, specific to
this use of the conversion functions. 
</dl>

<p>There are three data types defined for the three module interface
functions and these define the interface.

<p>
<table width="100%">
<tr>
<td align="left">int <b>(*__gconv_init_fct)</b><i> (struct __gconv_step *)
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This specifies the interface of the initialization function of the
module.  It is called exactly once for each conversion the module
implements.

<p>As explained in the description of the <code>struct __gconv_step</code> data
structure above the initialization function has to initialize parts of
it.

<dl>
<dt><code>__min_needed_from</code>
<dt><code>__max_needed_from</code>
<dt><code>__min_needed_to</code>
<dt><code>__max_needed_to</code>
<dd>These elements must be initialized to the exact numbers of the minimum
and maximum number of bytes used by one character in the source and
destination character sets, respectively.  If the characters all have the
same size, the minimum and maximum values are the same.

<br><dt><code>__stateful</code>
<dd>This element must be initialized to an nonzero value if the source
character set is stateful.  Otherwise it must be zero. 
</dl>

<p>If the initialization function needs to communicate some information
to the conversion function, this communication can happen using the
<code>__data</code> element of the <code>__gconv_step</code> structure.  But since
this data is shared by all the conversions, it must not be modified by
the conversion function.  The example below shows how this can be used.

<br><pre>#define MIN_NEEDED_FROM         1
#define MAX_NEEDED_FROM         4
#define MIN_NEEDED_TO           4
#define MAX_NEEDED_TO           4

int
gconv_init (struct __gconv_step *step)
{
  /* Determine which direction.  */
  struct iso2022jp_data *new_data;
  enum direction dir = illegal_dir;
  enum variant var = illegal_var;
  int result;

  if (__strcasecmp (step-&gt;__from_name, "ISO-2022-JP//") == 0)
    {
      dir = from_iso2022jp;
      var = iso2022jp;
    }
  else if (__strcasecmp (step-&gt;__to_name, "ISO-2022-JP//") == 0)
    {
      dir = to_iso2022jp;
      var = iso2022jp;
    }
  else if (__strcasecmp (step-&gt;__from_name, "ISO-2022-JP-2//") == 0)
    {
      dir = from_iso2022jp;
      var = iso2022jp2;
    }
  else if (__strcasecmp (step-&gt;__to_name, "ISO-2022-JP-2//") == 0)
    {
      dir = to_iso2022jp;
      var = iso2022jp2;
    }

  result = __GCONV_NOCONV;
  if (dir != illegal_dir)
    {
      new_data = (struct iso2022jp_data *)
        malloc (sizeof (struct iso2022jp_data));

      result = __GCONV_NOMEM;
      if (new_data != NULL)
        {
          new_data-&gt;dir = dir;
          new_data-&gt;var = var;
          step-&gt;__data = new_data;

          if (dir == from_iso2022jp)
            {
              step-&gt;__min_needed_from = MIN_NEEDED_FROM;
              step-&gt;__max_needed_from = MAX_NEEDED_FROM;
              step-&gt;__min_needed_to = MIN_NEEDED_TO;
              step-&gt;__max_needed_to = MAX_NEEDED_TO;
            }
          else
            {
              step-&gt;__min_needed_from = MIN_NEEDED_TO;
              step-&gt;__max_needed_from = MAX_NEEDED_TO;
              step-&gt;__min_needed_to = MIN_NEEDED_FROM;
              step-&gt;__max_needed_to = MAX_NEEDED_FROM + 2;
            }

          /* Yes, this is a stateful encoding.  */
          step-&gt;__stateful = 1;

          result = __GCONV_OK;
        }
    }

  return result;
}
</pre>

<p>The function first checks which conversion is wanted.  The module from
which this function is taken implements four different conversions;
which one is selected can be determined by comparing the names.  The
comparison should always be done without paying attention to the case.

<p>Next, a data structure, which contains the necessary information about
which conversion is selected, is allocated.  The data structure
<code>struct iso2022jp_data</code> is locally defined since, outside the
module, this data is not used at all.  Please note that if all four
conversions this modules supports are requested there are four data
blocks.

<p>One interesting thing is the initialization of the <code>__min_</code> and
<code>__max_</code> elements of the step data object.  A single ISO-2022-JP
character can consist of one to four bytes.  Therefore the
<code>MIN_NEEDED_FROM</code> and <code>MAX_NEEDED_FROM</code> macros are defined
this way.  The output is always the <code>INTERNAL</code> character set (aka
UCS-4) and therefore each character consists of exactly four bytes.  For
the conversion from <code>INTERNAL</code> to ISO-2022-JP we have to take into
account that escape sequences might be necessary to switch the character
sets.  Therefore the <code>__max_needed_to</code> element for this direction
gets assigned <code>MAX_NEEDED_FROM + 2</code>.  This takes into account the
two bytes needed for the escape sequences to single the switching.  The
asymmetry in the maximum values for the two directions can be explained
easily: when reading ISO-2022-JP text, escape sequences can be handled
alone (i.e., it is not necessary to process a real character since the
effect of the escape sequence can be recorded in the state information). 
The situation is different for the other direction.  Since it is in
general not known which character comes next, one cannot emit escape
sequences to change the state in advance.  This means the escape
sequences that have to be emitted together with the next character. 
Therefore one needs more room than only for the character itself.

<p>The possible return values of the initialization function are:

<dl>
<dt><code>__GCONV_OK</code>
<dd>The initialization succeeded
<br><dt><code>__GCONV_NOCONV</code>
<dd>The requested conversion is not supported in the module.  This can
happen if the <code>gconv-modules</code> file has errors. 
<br><dt><code>__GCONV_NOMEM</code>
<dd>Memory required to store additional information could not be allocated. 
</dl>
</td></tr>
</table>

<p>The function called before the module is unloaded is significantly
easier.  It often has nothing at all to do; in which case it can be left
out completely.

<p>
<table width="100%">
<tr>
<td align="left">void <b>(*__gconv_end_fct)</b><i> (struct gconv_step *)
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The task of this function is to free all resources allocated in the
initialization function.  Therefore only the <code>__data</code> element of
the object pointed to by the argument is of interest.  Continuing the
example from the initialization function, the finalization function
looks like this:

<br><pre>void
gconv_end (struct __gconv_step *data)
{
  free (data-&gt;__data);
}
</pre>
</td></tr>
</table>

<p>The most important function is the conversion function itself, which can
get quite complicated for complex character sets.  But since this is not
of interest here, we will only describe a possible skeleton for the
conversion function.

<p>
<table width="100%">
<tr>
<td align="left">int <b>(*__gconv_fct)</b><i> (struct __gconv_step *, struct __gconv_step_data *, const char **, const char *, size_t *, int)
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The conversion function can be called for two basic reason: to convert
text or to reset the state.  From the description of the <code>iconv</code>
function it can be seen why the flushing mode is necessary.  What mode
is selected is determined by the sixth argument, an integer.  This
argument being nonzero means that flushing is selected.

<p>Common to both modes is where the output buffer can be found.  The
information about this buffer is stored in the conversion step data.  A
pointer to this information is passed as the second argument to this
function.  The description of the <code>struct __gconv_step_data</code>
structure has more information on the conversion step data.

<p>What has to be done for flushing depends on the source character set. 
If the source character set is not stateful, nothing has to be done. 
Otherwise the function has to emit a byte sequence to bring the state
object into the initial state.  Once this all happened the other
conversion modules in the chain of conversions have to get the same
chance.  Whether another step follows can be determined from the
<code>__is_last</code> element of the step data structure to which the first
parameter points.

<p>The more interesting mode is when actual text has to be converted.  The
first step in this case is to convert as much text as possible from the
input buffer and store the result in the output buffer.  The start of the
input buffer is determined by the third argument, which is a pointer to a
pointer variable referencing the beginning of the buffer.  The fourth
argument is a pointer to the byte right after the last byte in the buffer.

<p>The conversion has to be performed according to the current state if the
character set is stateful.  The state is stored in an object pointed to
by the <code>__statep</code> element of the step data (second argument).  Once
either the input buffer is empty or the output buffer is full the
conversion stops.  At this point, the pointer variable referenced by the
third parameter must point to the byte following the last processed
byte (i.e., if all of the input is consumed, this pointer and the fourth
parameter have the same value).

<p>What now happens depends on whether this step is the last one.  If it is
the last step, the only thing that has to be done is to update the
<code>__outbuf</code> element of the step data structure to point after the
last written byte.  This update gives the caller the information on how
much text is available in the output buffer.  In addition, the variable
pointed to by the fifth parameter, which is of type <code>size_t</code>, must
be incremented by the number of characters (<em>not bytes</em>) that were
converted in a non-reversible way.  Then, the function can return.

<p>In case the step is not the last one, the later conversion functions have
to get a chance to do their work.  Therefore, the appropriate conversion
function has to be called.  The information about the functions is
stored in the conversion data structures, passed as the first parameter. 
This information and the step data are stored in arrays, so the next
element in both cases can be found by simple pointer arithmetic:

<br><pre>int
gconv (struct __gconv_step *step, struct __gconv_step_data *data,
       const char **inbuf, const char *inbufend, size_t *written,
       int do_flush)
{
  struct __gconv_step *next_step = step + 1;
  struct __gconv_step_data *next_data = data + 1;
  ...
</pre>

<p>The <code>next_step</code> pointer references the next step information and
<code>next_data</code> the next data record.  The call of the next function
therefore will look similar to this:

<br><pre>  next_step-&gt;__fct (next_step, next_data, &amp;outerr, outbuf,
                    written, 0)
</pre>

<p>But this is not yet all.  Once the function call returns the conversion
function might have some more to do.  If the return value of the function
is <code>__GCONV_EMPTY_INPUT</code>, more room is available in the output
buffer.  Unless the input buffer is empty the conversion, functions start
all over again and process the rest of the input buffer.  If the return
value is not <code>__GCONV_EMPTY_INPUT</code>, something went wrong and we have
to recover from this.

<p>A requirement for the conversion function is that the input buffer
pointer (the third argument) always point to the last character that
was put in converted form into the output buffer.  This is trivially
true after the conversion performed in the current step, but if the
conversion functions deeper downstream stop prematurely, not all
characters from the output buffer are consumed and, therefore, the input
buffer pointers must be backed off to the right position.

<p>Correcting the input buffers is easy to do if the input and output
character sets have a fixed width for all characters.  In this situation
we can compute how many characters are left in the output buffer and,
therefore, can correct the input buffer pointer appropriately with a
similar computation.  Things are getting tricky if either character set
has characters represented with variable length byte sequences, and it
gets even more complicated if the conversion has to take care of the
state.  In these cases the conversion has to be performed once again, from
the known state before the initial conversion (i.e., if necessary the
state of the conversion has to be reset and the conversion loop has to be
executed again).  The difference now is that it is known how much input
must be created, and the conversion can stop before converting the first
unused character.  Once this is done the input buffer pointers must be
updated again and the function can return.

<p>One final thing should be mentioned.  If it is necessary for the
conversion to know whether it is the first invocation (in case a prolog
has to be emitted), the conversion function should increment the
<code>__invocation_counter</code> element of the step data structure just
before returning to the caller.  See the description of the <code>struct
__gconv_step_data</code> structure above for more information on how this can
be used.

<p>The return value must be one of the following values:

<dl>
<dt><code>__GCONV_EMPTY_INPUT</code>
<dd>All input was consumed and there is room left in the output buffer. 
<br><dt><code>__GCONV_FULL_OUTPUT</code>
<dd>No more room in the output buffer.  In case this is not the last step
this value is propagated down from the call of the next conversion
function in the chain. 
<br><dt><code>__GCONV_INCOMPLETE_INPUT</code>
<dd>The input buffer is not entirely empty since it contains an incomplete
character sequence. 
</dl>

<p>The following example provides a framework for a conversion function. 
In case a new conversion has to be written the holes in this
implementation have to be filled and that is it.

<br><pre>int
gconv (struct __gconv_step *step, struct __gconv_step_data *data,
       const char **inbuf, const char *inbufend, size_t *written,
       int do_flush)
{
  struct __gconv_step *next_step = step + 1;
  struct __gconv_step_data *next_data = data + 1;
  gconv_fct fct = next_step-&gt;__fct;
  int status;

  /* If the function is called with no input this means we have
     to reset to the initial state.  The possibly partly
     converted input is dropped.  */
  if (do_flush)
    {
      status = __GCONV_OK;

      /* Possible emit a byte sequence which put the state object
         into the initial state.  */

      /* Call the steps down the chain if there are any but only
         if we successfully emitted the escape sequence.  */
      if (status == __GCONV_OK &amp;&amp; ! data-&gt;__is_last)
        status = fct (next_step, next_data, NULL, NULL,
                      written, 1);
    }
  else
    {
      /* We preserve the initial values of the pointer variables.  */
      const char *inptr = *inbuf;
      char *outbuf = data-&gt;__outbuf;
      char *outend = data-&gt;__outbufend;
      char *outptr;

      do
        {
          /* Remember the start value for this round.  */
          inptr = *inbuf;
          /* The outbuf buffer is empty.  */
          outptr = outbuf;

          /* For stateful encodings the state must be safe here.  */

          /* Run the conversion loop.  <code>status</code> is set
             appropriately afterwards.  */

          /* If this is the last step, leave the loop. There is
             nothing we can do.  */
          if (data-&gt;__is_last)
            {
              /* Store information about how many bytes are
                 available.  */
              data-&gt;__outbuf = outbuf;

             /* If any non-reversible conversions were performed,
                add the number to <code>*written</code>.  */

             break;
           }

          /* Write out all output that was produced.  */
          if (outbuf &gt; outptr)
            {
              const char *outerr = data-&gt;__outbuf;
              int result;

              result = fct (next_step, next_data, &amp;outerr,
                            outbuf, written, 0);

              if (result != __GCONV_EMPTY_INPUT)
                {
                  if (outerr != outbuf)
                    {
                      /* Reset the input buffer pointer.  We
                         document here the complex case.  */
                      size_t nstatus;

                      /* Reload the pointers.  */
                      *inbuf = inptr;
                      outbuf = outptr;

                      /* Possibly reset the state.  */

                      /* Redo the conversion, but this time
                         the end of the output buffer is at
                         <code>outerr</code>.  */
                    }

                  /* Change the status.  */
                  status = result;
                }
              else
                /* All the output is consumed, we can make
                    another run if everything was ok.  */
                if (status == __GCONV_FULL_OUTPUT)
                  status = __GCONV_OK;
           }
        }
      while (status == __GCONV_OK);

      /* We finished one use of this step.  */
      ++data-&gt;__invocation_counter;
    }

  return status;
}
</pre>
</td></tr>
</table>

<p>This information should be sufficient to write new modules.  Anybody
doing so should also take a look at the available source code in the GNU
C library sources.  It contains many examples of working and optimized
modules.

<p><hr>
Node:<a name="Locales">Locales</a>,
Next:<a rel=next accesskey=n href="#Message%20Translation">Message Translation</a>,
Previous:<a rel=previous accesskey=p href="#Character%20Set%20Handling">Character Set Handling</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Locales and Internationalization</h2>

<p>Different countries and cultures have varying conventions for how to
communicate.  These conventions range from very simple ones, such as the
format for representing dates and times, to very complex ones, such as
the language spoken.

<p><dfn>Internationalization</dfn> of software means programming it to be able
to adapt to the user's favorite conventions.  In ISO&nbsp;C,
internationalization works by means of <dfn>locales</dfn>.  Each locale
specifies a collection of conventions, one convention for each purpose. 
The user chooses a set of conventions by specifying a locale (via
environment variables).

<p>All programs inherit the chosen locale as part of their environment. 
Provided the programs are written to obey the choice of locale, they
will follow the conventions preferred by the user.

<ul>
<li><a accesskey=1 href="#Effects%20of%20Locale">Effects of Locale</a>:            Actions affected by the choice of
                                 locale. 
<li><a accesskey=2 href="#Choosing%20Locale">Choosing Locale</a>:              How the user specifies a locale. 
<li><a accesskey=3 href="#Locale%20Categories">Locale Categories</a>:            Different purposes for which you can
                                 select a locale. 
<li><a accesskey=4 href="#Setting%20the%20Locale">Setting the Locale</a>:           How a program specifies the locale
                                 with library functions. 
<li><a accesskey=5 href="#Standard%20Locales">Standard Locales</a>:             Locale names available on all systems. 
<li><a accesskey=6 href="#Locale%20Information">Locale Information</a>:           How to access the information for the locale. 
<li><a accesskey=7 href="#Formatting%20Numbers">Formatting Numbers</a>:           A dedicated function to format numbers. 
<li><a accesskey=8 href="#Yes-or-No%20Questions">Yes-or-No Questions</a>:          Check a Response against the locale. 
</ul>

<p><hr>
Node:<a name="Effects%20of%20Locale">Effects of Locale</a>,
Next:<a rel=next accesskey=n href="#Choosing%20Locale">Choosing Locale</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>What Effects a Locale Has</h3>

<p>Each locale specifies conventions for several purposes, including the
following:

<ul>
<li>What multibyte character sequences are valid, and how they are
interpreted (see <a href="#Character%20Set%20Handling">Character Set Handling</a>).

<li>Classification of which characters in the local character set are
considered alphabetic, and upper- and lower-case conversion conventions
(see <a href="#Character%20Handling">Character Handling</a>).

<li>The collating sequence for the local language and character set
(see <a href="#Collation%20Functions">Collation Functions</a>).

<li>Formatting of numbers and currency amounts (see <a href="#General%20Numeric">General Numeric</a>).

<li>Formatting of dates and times (see <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>).

<li>What language to use for output, including error messages
(see <a href="#Message%20Translation">Message Translation</a>).

<li>What language to use for user answers to yes-or-no questions
(see <a href="#Yes-or-No%20Questions">Yes-or-No Questions</a>).

<li>What language to use for more complex user input. 
(The C library doesn't yet help you implement this.) 
</ul>

<p>Some aspects of adapting to the specified locale are handled
automatically by the library subroutines.  For example, all your program
needs to do in order to use the collating sequence of the chosen locale
is to use <code>strcoll</code> or <code>strxfrm</code> to compare strings.

<p>Other aspects of locales are beyond the comprehension of the library. 
For example, the library can't automatically translate your program's
output messages into other languages.  The only way you can support
output in the user's favorite language is to program this more or less
by hand.  The C library provides functions to handle translations for
multiple languages easily.

<p>This chapter discusses the mechanism by which you can modify the current
locale.  The effects of the current locale on specific library functions
are discussed in more detail in the descriptions of those functions.

<p><hr>
Node:<a name="Choosing%20Locale">Choosing Locale</a>,
Next:<a rel=next accesskey=n href="#Locale%20Categories">Locale Categories</a>,
Previous:<a rel=previous accesskey=p href="#Effects%20of%20Locale">Effects of Locale</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>Choosing a Locale</h3>

<p>The simplest way for the user to choose a locale is to set the
environment variable <code>LANG</code>.  This specifies a single locale to use
for all purposes.  For example, a user could specify a hypothetical
locale named <code>espana-castellano</code> to use the standard conventions of
most of Spain.

<p>The set of locales supported depends on the operating system you are
using, and so do their names.  We can't make any promises about what
locales will exist, except for one standard locale called <code>C</code> or
<code>POSIX</code>.  Later we will describe how to construct locales.

<p>A user also has the option of specifying different locales for different
purposes--in effect, choosing a mixture of multiple locales.

<p>For example, the user might specify the locale <code>espana-castellano</code>
for most purposes, but specify the locale <code>usa-english</code> for
currency formatting.  This might make sense if the user is a
Spanish-speaking American, working in Spanish, but representing monetary
amounts in US dollars.

<p>Note that both locales <code>espana-castellano</code> and <code>usa-english</code>,
like all locales, would include conventions for all of the purposes to
which locales apply.  However, the user can choose to use each locale
for a particular subset of those purposes.

<p><hr>
Node:<a name="Locale%20Categories">Locale Categories</a>,
Next:<a rel=next accesskey=n href="#Setting%20the%20Locale">Setting the Locale</a>,
Previous:<a rel=previous accesskey=p href="#Choosing%20Locale">Choosing Locale</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>Categories of Activities that Locales Affect</h3>

<p>The purposes that locales serve are grouped into <dfn>categories</dfn>, so
that a user or a program can choose the locale for each category
independently.  Here is a table of categories; each name is both an
environment variable that a user can set, and a macro name that you can
use as an argument to <code>setlocale</code>.

<dl>
<dt><code>LC_COLLATE</code>
<dd>This category applies to collation of strings (functions <code>strcoll</code>
and <code>strxfrm</code>); see <a href="#Collation%20Functions">Collation Functions</a>.

<br><dt><code>LC_CTYPE</code>
<dd>This category applies to classification and conversion of characters,
and to multibyte and wide characters;
see <a href="#Character%20Handling">Character Handling</a>, and <a href="#Character%20Set%20Handling">Character Set Handling</a>.

<br><dt><code>LC_MONETARY</code>
<dd>This category applies to formatting monetary values; see <a href="#General%20Numeric">General Numeric</a>.

<br><dt><code>LC_NUMERIC</code>
<dd>This category applies to formatting numeric values that are not
monetary; see <a href="#General%20Numeric">General Numeric</a>.

<br><dt><code>LC_TIME</code>
<dd>This category applies to formatting date and time values; see
<a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>LC_MESSAGES</code>
<dd>This category applies to selecting the language used in the user
interface for message translation (see <a href="#The%20Uniforum%20approach">The Uniforum approach</a>;
see <a href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>)  and contains regular expressions
for affirmative and negative responses.

<br><dt><code>LC_ALL</code>
<dd>This is not an environment variable; it is only a macro that you can use
with <code>setlocale</code> to set a single locale for all purposes.  Setting
this environment variable overwrites all selections by the other
<code>LC_*</code> variables or <code>LANG</code>.

<br><dt><code>LANG</code>
<dd>If this environment variable is defined, its value specifies the locale
to use for all purposes except as overridden by the variables above. 
</dl>

<p>When developing the message translation functions it was felt that the
functionality provided by the variables above is not sufficient.  For
example, it should be possible to specify more than one locale name. 
Take a Swedish user who better speaks German than English, and a program
whose messages are output in English by default.  It should be possible
to specify that the first choice of language is Swedish, the second
German, and if this also fails to use English.  This is
possible with the variable <code>LANGUAGE</code>.  For further description of
this GNU extension see <a href="#Using%20gettextized%20software">Using gettextized software</a>.

<p><hr>
Node:<a name="Setting%20the%20Locale">Setting the Locale</a>,
Next:<a rel=next accesskey=n href="#Standard%20Locales">Standard Locales</a>,
Previous:<a rel=previous accesskey=p href="#Locale%20Categories">Locale Categories</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>How Programs Set the Locale</h3>

<p>A C program inherits its locale environment variables when it starts up. 
This happens automatically.  However, these variables do not
automatically control the locale used by the library functions, because
ISO&nbsp;C says that all programs start by default in the standard <code>C</code>
locale.  To use the locales specified by the environment, you must call
<code>setlocale</code>.  Call it as follows:

<br><pre>setlocale (LC_ALL, "");
</pre>

<p>to select a locale based on the user choice of the appropriate
environment variables.

<p>You can also use <code>setlocale</code> to specify a particular locale, for
general use or for a specific category.

<p>The symbols in this section are defined in the header file <code>locale.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>setlocale</b><i> (int <var>category</var>, const char *<var>locale</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>setlocale</code> sets the current locale for category
<var>category</var> to <var>locale</var>.  A list of all the locales the system
provides can be created by running

<br><pre>  locale -a
</pre>

<p>If <var>category</var> is <code>LC_ALL</code>, this specifies the locale for all
purposes.  The other possible values of <var>category</var> specify an
single purpose (see <a href="#Locale%20Categories">Locale Categories</a>).

<p>You can also use this function to find out the current locale by passing
a null pointer as the <var>locale</var> argument.  In this case,
<code>setlocale</code> returns a string that is the name of the locale
currently selected for category <var>category</var>.

<p>The string returned by <code>setlocale</code> can be overwritten by subsequent
calls, so you should make a copy of the string (see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>) if you want to save it past any further calls to
<code>setlocale</code>.  (The standard library is guaranteed never to call
<code>setlocale</code> itself.)

<p>You should not modify the string returned by <code>setlocale</code>.  It might
be the same string that was passed as an argument in a previous call to
<code>setlocale</code>.  One requirement is that the <var>category</var> must be
the same in the call the string was returned and the one when the string
is passed in as <var>locale</var> parameter.

<p>When you read the current locale for category <code>LC_ALL</code>, the value
encodes the entire combination of selected locales for all categories. 
In this case, the value is not just a single locale name.  In fact, we
don't make any promises about what it looks like.  But if you specify
the same "locale name" with <code>LC_ALL</code> in a subsequent call to
<code>setlocale</code>, it restores the same combination of locale selections.

<p>To be sure you can use the returned string encoding the currently selected
locale at a later time, you must make a copy of the string.  It is not
guaranteed that the returned pointer remains valid over time.

<p>When the <var>locale</var> argument is not a null pointer, the string returned
by <code>setlocale</code> reflects the newly-modified locale.

<p>If you specify an empty string for <var>locale</var>, this means to read the
appropriate environment variable and use its value to select the locale
for <var>category</var>.

<p>If a nonempty string is given for <var>locale</var>, then the locale of that
name is used if possible.

<p>If you specify an invalid locale name, <code>setlocale</code> returns a null
pointer and leaves the current locale unchanged. 
</td></tr>
</table>

<p>Here is an example showing how you might use <code>setlocale</code> to
temporarily switch to a new locale.

<br><pre>#include &lt;stddef.h&gt;
#include &lt;locale.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

void
with_other_locale (char *new_locale,
                   void (*subroutine) (int),
                   int argument)
{
  char *old_locale, *saved_locale;

  /* Get the name of the current locale.  */
  old_locale = setlocale (LC_ALL, NULL);

  /* Copy the name so it won't be clobbered by <code>setlocale</code>. */
  saved_locale = strdup (old_locale);
  if (saved_locale == NULL)
    fatal ("Out of memory");

  /* Now change the locale and do some stuff with it. */
  setlocale (LC_ALL, new_locale);
  (*subroutine) (argument);

  /* Restore the original locale. */
  setlocale (LC_ALL, saved_locale);
  free (saved_locale);
}
</pre>

<p><strong>Portability Note:</strong> Some ISO&nbsp;C systems may define additional
locale categories, and future versions of the library will do so.  For
portability, assume that any symbol beginning with <code>LC_</code> might be
defined in <code>locale.h</code>.

<p><hr>
Node:<a name="Standard%20Locales">Standard Locales</a>,
Next:<a rel=next accesskey=n href="#Locale%20Information">Locale Information</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20the%20Locale">Setting the Locale</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>Standard Locales</h3>

<p>The only locale names you can count on finding on all operating systems
are these three standard ones:

<dl>
<dt><code>"C"</code>
<dd>This is the standard C locale.  The attributes and behavior it provides
are specified in the ISO&nbsp;C standard.  When your program starts up, it
initially uses this locale by default.

<br><dt><code>"POSIX"</code>
<dd>This is the standard POSIX locale.  Currently, it is an alias for the
standard C locale.

<br><dt><code>""</code>
<dd>The empty name says to select a locale based on environment variables. 
See <a href="#Locale%20Categories">Locale Categories</a>. 
</dl>

<p>Defining and installing named locales is normally a responsibility of
the system administrator at your site (or the person who installed the
GNU C library).  It is also possible for the user to create private
locales.  All this will be discussed later when describing the tool to
do so.

<p>If your program needs to use something other than the <code>C</code> locale,
it will be more portable if you use whatever locale the user specifies
with the environment, rather than trying to specify some non-standard
locale explicitly by name.  Remember, different machines might have
different sets of locales installed.

<p><hr>
Node:<a name="Locale%20Information">Locale Information</a>,
Next:<a rel=next accesskey=n href="#Formatting%20Numbers">Formatting Numbers</a>,
Previous:<a rel=previous accesskey=p href="#Standard%20Locales">Standard Locales</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>Accessing Locale Information</h3>

<p>There are several ways to access locale information.  The simplest
way is to let the C library itself do the work.  Several of the
functions in this library implicitly access the locale data, and use
what information is provided by the currently selected locale.  This is
how the locale model is meant to work normally.

<p>As an example take the <code>strftime</code> function, which is meant to nicely
format date and time information (see <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>). 
Part of the standard information contained in the <code>LC_TIME</code>
category is the names of the months.  Instead of requiring the
programmer to take care of providing the translations the
<code>strftime</code> function does this all by itself.  <code>%A</code>
in the format string is replaced by the appropriate weekday
name of the locale currently selected by <code>LC_TIME</code>.  This is an
easy example, and wherever possible functions do things automatically
in this way.

<p>But there are quite often situations when there is simply no function
to perform the task, or it is simply not possible to do the work
automatically.  For these cases it is necessary to access the
information in the locale directly.  To do this the C library provides
two functions: <code>localeconv</code> and <code>nl_langinfo</code>.  The former is
part of ISO&nbsp;C and therefore portable, but has a brain-damaged
interface.  The second is part of the Unix interface and is portable in
as far as the system follows the Unix standards.

<ul>
<li><a accesskey=1 href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>:    ISO C's <code>localeconv</code>. 
<li><a accesskey=2 href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>:       X/Open's <code>nl_langinfo</code>. 
</ul>

<p><hr>
Node:<a name="The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>,
Next:<a rel=next accesskey=n href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>,
Up:<a rel=up accesskey=u href="#Locale%20Information">Locale Information</a>
<br>

<h4><code>localeconv</code>: It is portable but <small>...</small></h4>

<p>Together with the <code>setlocale</code> function the ISO&nbsp;C people
invented the <code>localeconv</code> function.  It is a masterpiece of poor
design.  It is expensive to use, not extendable, and not generally
usable as it provides access to only <code>LC_MONETARY</code> and
<code>LC_NUMERIC</code> related information.  Nevertheless, if it is
applicable to a given situation it should be used since it is very
portable.  The function <code>strfmon</code> formats monetary amounts
according to the selected locale using this information.

<p>
<table width="100%">
<tr>
<td align="left">struct lconv * <b>localeconv</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>localeconv</code> function returns a pointer to a structure whose
components contain information about how numeric and monetary values
should be formatted in the current locale.

<p>You should not modify the structure or its contents.  The structure might
be overwritten by subsequent calls to <code>localeconv</code>, or by calls to
<code>setlocale</code>, but no other function in the library overwrites this
value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct lconv</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>localeconv</code>'s return value is of this data type.  Its elements are
described in the following subsections. 
</td></tr>
</table>

<p>If a member of the structure <code>struct lconv</code> has type <code>char</code>,
and the value is <code>CHAR_MAX</code>, it means that the current locale has
no value for that parameter.

<ul>
<li><a accesskey=1 href="#General%20Numeric">General Numeric</a>:              Parameters for formatting numbers and
                                 currency amounts. 
<li><a accesskey=2 href="#Currency%20Symbol">Currency Symbol</a>:              How to print the symbol that identifies an
                                 amount of money (e.g. <code>$</code>). 
<li><a accesskey=3 href="#Sign%20of%20Money%20Amount">Sign of Money Amount</a>:         How to print the (positive or negative) sign
                                 for a monetary amount, if one exists. 
</ul>

<p><hr>
Node:<a name="General%20Numeric">General Numeric</a>,
Next:<a rel=next accesskey=n href="#Currency%20Symbol">Currency Symbol</a>,
Up:<a rel=up accesskey=u href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<br>

<h5>Generic Numeric Formatting Parameters</h5>

<p>These are the standard members of <code>struct lconv</code>; there may be
others.

<dl>
<dt><code>char *decimal_point</code>
<dt><code>char *mon_decimal_point</code>
<dd>These are the decimal-point separators used in formatting non-monetary
and monetary quantities, respectively.  In the <code>C</code> locale, the
value of <code>decimal_point</code> is <code>"."</code>, and the value of
<code>mon_decimal_point</code> is <code>""</code>.

<br><dt><code>char *thousands_sep</code>
<dt><code>char *mon_thousands_sep</code>
<dd>These are the separators used to delimit groups of digits to the left of
the decimal point in formatting non-monetary and monetary quantities,
respectively.  In the <code>C</code> locale, both members have a value of
<code>""</code> (the empty string).

<br><dt><code>char *grouping</code>
<dt><code>char *mon_grouping</code>
<dd>These are strings that specify how to group the digits to the left of
the decimal point.  <code>grouping</code> applies to non-monetary quantities
and <code>mon_grouping</code> applies to monetary quantities.  Use either
<code>thousands_sep</code> or <code>mon_thousands_sep</code> to separate the digit
groups.

<p>Each member of these strings is to be interpreted as an integer value of
type <code>char</code>.  Successive numbers (from left to right) give the
sizes of successive groups (from right to left, starting at the decimal
point.)  The last member is either <code>0</code>, in which case the previous
member is used over and over again for all the remaining groups, or
<code>CHAR_MAX</code>, in which case there is no more grouping--or, put
another way, any remaining digits form one large group without
separators.

<p>For example, if <code>grouping</code> is <code>"\04\03\02"</code>, the correct
grouping for the number <code>123456787654321</code> is <code>12</code>, <code>34</code>,
<code>56</code>, <code>78</code>, <code>765</code>, <code>4321</code>.  This uses a group of 4
digits at the end, preceded by a group of 3 digits, preceded by groups
of 2 digits (as many as needed).  With a separator of <code>,</code>, the
number would be printed as <code>12,34,56,78,765,4321</code>.

<p>A value of <code>"\03"</code> indicates repeated groups of three digits, as
normally used in the U.S.

<p>In the standard <code>C</code> locale, both <code>grouping</code> and
<code>mon_grouping</code> have a value of <code>""</code>.  This value specifies no
grouping at all.

<br><dt><code>char int_frac_digits</code>
<dt><code>char frac_digits</code>
<dd>These are small integers indicating how many fractional digits (to the
right of the decimal point) should be displayed in a monetary value in
international and local formats, respectively.  (Most often, both
members have the same value.)

<p>In the standard <code>C</code> locale, both of these members have the value
<code>CHAR_MAX</code>, meaning "unspecified".  The ISO standard doesn't say
what to do when you find this value; we recommend printing no
fractional digits.  (This locale also specifies the empty string for
<code>mon_decimal_point</code>, so printing any fractional digits would be
confusing!) 
</dl>

<p><hr>
Node:<a name="Currency%20Symbol">Currency Symbol</a>,
Next:<a rel=next accesskey=n href="#Sign%20of%20Money%20Amount">Sign of Money Amount</a>,
Previous:<a rel=previous accesskey=p href="#General%20Numeric">General Numeric</a>,
Up:<a rel=up accesskey=u href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<br>

<h5>Printing the Currency Symbol</h5>

<p>These members of the <code>struct lconv</code> structure specify how to print
the symbol to identify a monetary value--the international analog of
<code>$</code> for US dollars.

<p>Each country has two standard currency symbols.  The <dfn>local currency
symbol</dfn> is used commonly within the country, while the
<dfn>international currency symbol</dfn> is used internationally to refer to
that country's currency when it is necessary to indicate the country
unambiguously.

<p>For example, many countries use the dollar as their monetary unit, and
when dealing with international currencies it's important to specify
that one is dealing with (say) Canadian dollars instead of U.S. dollars
or Australian dollars.  But when the context is known to be Canada,
there is no need to make this explicit--dollar amounts are implicitly
assumed to be in Canadian dollars.

<dl>
<dt><code>char *currency_symbol</code>
<dd>The local currency symbol for the selected locale.

<p>In the standard <code>C</code> locale, this member has a value of <code>""</code>
(the empty string), meaning "unspecified".  The ISO standard doesn't
say what to do when you find this value; we recommend you simply print
the empty string as you would print any other string pointed to by this
variable.

<br><dt><code>char *int_curr_symbol</code>
<dd>The international currency symbol for the selected locale.

<p>The value of <code>int_curr_symbol</code> should normally consist of a
three-letter abbreviation determined by the international standard
<cite>ISO 4217 Codes for the Representation of Currency and Funds</cite>,
followed by a one-character separator (often a space).

<p>In the standard <code>C</code> locale, this member has a value of <code>""</code>
(the empty string), meaning "unspecified".  We recommend you simply print
the empty string as you would print any other string pointed to by this
variable.

<br><dt><code>char p_cs_precedes</code>
<dt><code>char n_cs_precedes</code>
<dt><code>char int_p_cs_precedes</code>
<dt><code>char int_n_cs_precedes</code>
<dd>These members are <code>1</code> if the <code>currency_symbol</code> or
<code>int_curr_symbol</code> strings should precede the value of a monetary
amount, or <code>0</code> if the strings should follow the value.  The
<code>p_cs_precedes</code> and <code>int_p_cs_precedes</code> members apply to
positive amounts (or zero), and the <code>n_cs_precedes</code> and
<code>int_n_cs_precedes</code> members apply to negative amounts.

<p>In the standard <code>C</code> locale, all of these members have a value of
<code>CHAR_MAX</code>, meaning "unspecified".  The ISO standard doesn't say
what to do when you find this value.  We recommend printing the
currency symbol before the amount, which is right for most countries. 
In other words, treat all nonzero values alike in these members.

<p>The members with the <code>int_</code> prefix apply to the
<code>int_curr_symbol</code> while the other two apply to
<code>currency_symbol</code>.

<br><dt><code>char p_sep_by_space</code>
<dt><code>char n_sep_by_space</code>
<dt><code>char int_p_sep_by_space</code>
<dt><code>char int_n_sep_by_space</code>
<dd>These members are <code>1</code> if a space should appear between the
<code>currency_symbol</code> or <code>int_curr_symbol</code> strings and the
amount, or <code>0</code> if no space should appear.  The
<code>p_sep_by_space</code> and <code>int_p_sep_by_space</code> members apply to
positive amounts (or zero), and the <code>n_sep_by_space</code> and
<code>int_n_sep_by_space</code> members apply to negative amounts.

<p>In the standard <code>C</code> locale, all of these members have a value of
<code>CHAR_MAX</code>, meaning "unspecified".  The ISO standard doesn't say
what you should do when you find this value; we suggest you treat it as
1 (print a space).  In other words, treat all nonzero values alike in
these members.

<p>The members with the <code>int_</code> prefix apply to the
<code>int_curr_symbol</code> while the other two apply to
<code>currency_symbol</code>.  There is one specialty with the
<code>int_curr_symbol</code>, though.  Since all legal values contain a space
at the end the string one either printf this space (if the currency
symbol must appear in front and must be separated) or one has to avoid
printing this character at all (especially when at the end of the
string). 
</dl>

<p><hr>
Node:<a name="Sign%20of%20Money%20Amount">Sign of Money Amount</a>,
Previous:<a rel=previous accesskey=p href="#Currency%20Symbol">Currency Symbol</a>,
Up:<a rel=up accesskey=u href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<br>

<h5>Printing the Sign of a Monetary Amount</h5>

<p>These members of the <code>struct lconv</code> structure specify how to print
the sign (if any) of a monetary value.

<dl>
<dt><code>char *positive_sign</code>
<dt><code>char *negative_sign</code>
<dd>These are strings used to indicate positive (or zero) and negative
monetary quantities, respectively.

<p>In the standard <code>C</code> locale, both of these members have a value of
<code>""</code> (the empty string), meaning "unspecified".

<p>The ISO standard doesn't say what to do when you find this value; we
recommend printing <code>positive_sign</code> as you find it, even if it is
empty.  For a negative value, print <code>negative_sign</code> as you find it
unless both it and <code>positive_sign</code> are empty, in which case print
<code>-</code> instead.  (Failing to indicate the sign at all seems rather
unreasonable.)

<br><dt><code>char p_sign_posn</code>
<dt><code>char n_sign_posn</code>
<dt><code>char int_p_sign_posn</code>
<dt><code>char int_n_sign_posn</code>
<dd>These members are small integers that indicate how to
position the sign for nonnegative and negative monetary quantities,
respectively.  (The string used by the sign is what was specified with
<code>positive_sign</code> or <code>negative_sign</code>.)  The possible values are
as follows:

<dl>
<dt><code>0</code>
<dd>The currency symbol and quantity should be surrounded by parentheses.

<br><dt><code>1</code>
<dd>Print the sign string before the quantity and currency symbol.

<br><dt><code>2</code>
<dd>Print the sign string after the quantity and currency symbol.

<br><dt><code>3</code>
<dd>Print the sign string right before the currency symbol.

<br><dt><code>4</code>
<dd>Print the sign string right after the currency symbol.

<br><dt><code>CHAR_MAX</code>
<dd>"Unspecified".  Both members have this value in the standard
<code>C</code> locale. 
</dl>

<p>The ISO standard doesn't say what you should do when the value is
<code>CHAR_MAX</code>.  We recommend you print the sign after the currency
symbol.

<p>The members with the <code>int_</code> prefix apply to the
<code>int_curr_symbol</code> while the other two apply to
<code>currency_symbol</code>. 
</dl>

<p><hr>
Node:<a name="The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>,
Previous:<a rel=previous accesskey=p href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>,
Up:<a rel=up accesskey=u href="#Locale%20Information">Locale Information</a>
<br>

<h4>Pinpoint Access to Locale Data</h4>

<p>When writing the X/Open Portability Guide the authors realized that the
<code>localeconv</code> function is not enough to provide reasonable access to
locale information.  The information which was meant to be available
in the locale (as later specified in the POSIX.1 standard) requires more
ways to access it.  Therefore the <code>nl_langinfo</code> function
was introduced.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>nl_langinfo</b><i> (nl_item <var>item</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>nl_langinfo</code> function can be used to access individual
elements of the locale categories.  Unlike the <code>localeconv</code>
function, which returns all the information, <code>nl_langinfo</code>
lets the caller select what information it requires.  This is very
fast and it is not a problem to call this function multiple times.

<p>A second advantage is that in addition to the numeric and monetary
formatting information, information from the
<code>LC_TIME</code> and <code>LC_MESSAGES</code> categories is available.

<p>The type <code>nl_type</code> is defined in <code>nl_types.h</code>.  The argument
<var>item</var> is a numeric value defined in the header <code>langinfo.h</code>. 
The X/Open standard defines the following values:

<dl>
<dt><code>CODESET</code>
<dd><code>nl_langinfo</code> returns a string with the name of the coded character
set used in the selected locale.

<br><dt><code>ABDAY_1</code>
<dt><code>ABDAY_2</code>
<dt><code>ABDAY_3</code>
<dt><code>ABDAY_4</code>
<dt><code>ABDAY_5</code>
<dt><code>ABDAY_6</code>
<dt><code>ABDAY_7</code>
<dd><code>nl_langinfo</code> returns the abbreviated weekday name.  <code>ABDAY_1</code>
corresponds to Sunday. 
<br><dt><code>DAY_1</code>
<dt><code>DAY_2</code>
<dt><code>DAY_3</code>
<dt><code>DAY_4</code>
<dt><code>DAY_5</code>
<dt><code>DAY_6</code>
<dt><code>DAY_7</code>
<dd>Similar to <code>ABDAY_1</code> etc., but here the return value is the
unabbreviated weekday name. 
<br><dt><code>ABMON_1</code>
<dt><code>ABMON_2</code>
<dt><code>ABMON_3</code>
<dt><code>ABMON_4</code>
<dt><code>ABMON_5</code>
<dt><code>ABMON_6</code>
<dt><code>ABMON_7</code>
<dt><code>ABMON_8</code>
<dt><code>ABMON_9</code>
<dt><code>ABMON_10</code>
<dt><code>ABMON_11</code>
<dt><code>ABMON_12</code>
<dd>The return value is abbreviated name of the month.  <code>ABMON_1</code>
corresponds to January. 
<br><dt><code>MON_1</code>
<dt><code>MON_2</code>
<dt><code>MON_3</code>
<dt><code>MON_4</code>
<dt><code>MON_5</code>
<dt><code>MON_6</code>
<dt><code>MON_7</code>
<dt><code>MON_8</code>
<dt><code>MON_9</code>
<dt><code>MON_10</code>
<dt><code>MON_11</code>
<dt><code>MON_12</code>
<dd>Similar to <code>ABMON_1</code> etc., but here the month names are not abbreviated. 
Here the first value <code>MON_1</code> also corresponds to January. 
<br><dt><code>AM_STR</code>
<dt><code>PM_STR</code>
<dd>The return values are strings which can be used in the representation of time
as an hour from 1 to 12 plus an am/pm specifier.

<p>Note that in locales which do not use this time representation
these strings might be empty, in which case the am/pm format
cannot be used at all. 
<br><dt><code>D_T_FMT</code>
<dd>The return value can be used as a format string for <code>strftime</code> to
represent time and date in a locale-specific way. 
<br><dt><code>D_FMT</code>
<dd>The return value can be used as a format string for <code>strftime</code> to
represent a date in a locale-specific way. 
<br><dt><code>T_FMT</code>
<dd>The return value can be used as a format string for <code>strftime</code> to
represent time in a locale-specific way. 
<br><dt><code>T_FMT_AMPM</code>
<dd>The return value can be used as a format string for <code>strftime</code> to
represent time in the am/pm format.

<p>Note that if the am/pm format does not make any sense for the
selected locale, the return value might be the same as the one for
<code>T_FMT</code>. 
<br><dt><code>ERA</code>
<dd>The return value represents the era used in the current locale.

<p>Most locales do not define this value.  An example of a locale which
does define this value is the Japanese one.  In Japan, the traditional
representation of dates includes the name of the era corresponding to
the then-emperor's reign.

<p>Normally it should not be necessary to use this value directly. 
Specifying the <code>E</code> modifier in their format strings causes the
<code>strftime</code> functions to use this information.  The format of the
returned string is not specified, and therefore you should not assume
knowledge of it on different systems. 
<br><dt><code>ERA_YEAR</code>
<dd>The return value gives the year in the relevant era of the locale. 
As for <code>ERA</code> it should not be necessary to use this value directly. 
<br><dt><code>ERA_D_T_FMT</code>
<dd>This return value can be used as a format string for <code>strftime</code> to
represent dates and times in a locale-specific era-based way. 
<br><dt><code>ERA_D_FMT</code>
<dd>This return value can be used as a format string for <code>strftime</code> to
represent a date in a locale-specific era-based way. 
<br><dt><code>ERA_T_FMT</code>
<dd>This return value can be used as a format string for <code>strftime</code> to
represent time in a locale-specific era-based way. 
<br><dt><code>ALT_DIGITS</code>
<dd>The return value is a representation of up to 100 values used to
represent the values 0 to 99.  As for <code>ERA</code> this
value is not intended to be used directly, but instead indirectly
through the <code>strftime</code> function.  When the modifier <code>O</code> is
used in a format which would otherwise use numerals to represent hours,
minutes, seconds, weekdays, months, or weeks, the appropriate value for
the locale is used instead. 
<br><dt><code>INT_CURR_SYMBOL</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_curr_symbol</code> element of the <code>struct lconv</code>. 
<br><dt><code>CURRENCY_SYMBOL</code>
<dt><code>CRNCYSTR</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>currency_symbol</code> element of the <code>struct lconv</code>.

<p><code>CRNCYSTR</code> is a deprecated alias still required by Unix98. 
<br><dt><code>MON_DECIMAL_POINT</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>mon_decimal_point</code> element of the <code>struct lconv</code>. 
<br><dt><code>MON_THOUSANDS_SEP</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>mon_thousands_sep</code> element of the <code>struct lconv</code>. 
<br><dt><code>MON_GROUPING</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>mon_grouping</code> element of the <code>struct lconv</code>. 
<br><dt><code>POSITIVE_SIGN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>positive_sign</code> element of the <code>struct lconv</code>. 
<br><dt><code>NEGATIVE_SIGN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>negative_sign</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_FRAC_DIGITS</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_frac_digits</code> element of the <code>struct lconv</code>. 
<br><dt><code>FRAC_DIGITS</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>frac_digits</code> element of the <code>struct lconv</code>. 
<br><dt><code>P_CS_PRECEDES</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>p_cs_precedes</code> element of the <code>struct lconv</code>. 
<br><dt><code>P_SEP_BY_SPACE</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>p_sep_by_space</code> element of the <code>struct lconv</code>. 
<br><dt><code>N_CS_PRECEDES</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>n_cs_precedes</code> element of the <code>struct lconv</code>. 
<br><dt><code>N_SEP_BY_SPACE</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>n_sep_by_space</code> element of the <code>struct lconv</code>. 
<br><dt><code>P_SIGN_POSN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>p_sign_posn</code> element of the <code>struct lconv</code>. 
<br><dt><code>N_SIGN_POSN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>n_sign_posn</code> element of the <code>struct lconv</code>.

<br><dt><code>INT_P_CS_PRECEDES</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_p_cs_precedes</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_P_SEP_BY_SPACE</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_p_sep_by_space</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_N_CS_PRECEDES</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_n_cs_precedes</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_N_SEP_BY_SPACE</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_n_sep_by_space</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_P_SIGN_POSN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_p_sign_posn</code> element of the <code>struct lconv</code>. 
<br><dt><code>INT_N_SIGN_POSN</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>int_n_sign_posn</code> element of the <code>struct lconv</code>.

<br><dt><code>DECIMAL_POINT</code>
<dt><code>RADIXCHAR</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>decimal_point</code> element of the <code>struct lconv</code>.

<p>The name <code>RADIXCHAR</code> is a deprecated alias still used in Unix98. 
<br><dt><code>THOUSANDS_SEP</code>
<dt><code>THOUSEP</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>thousands_sep</code> element of the <code>struct lconv</code>.

<p>The name <code>THOUSEP</code> is a deprecated alias still used in Unix98. 
<br><dt><code>GROUPING</code>
<dd>The same as the value returned by <code>localeconv</code> in the
<code>grouping</code> element of the <code>struct lconv</code>. 
<br><dt><code>YESEXPR</code>
<dd>The return value is a regular expression which can be used with the
<code>regex</code> function to recognize a positive response to a yes/no
question.  The GNU C library provides the <code>rpmatch</code> function for
easier handling in applications. 
<br><dt><code>NOEXPR</code>
<dd>The return value is a regular expression which can be used with the
<code>regex</code> function to recognize a negative response to a yes/no
question. 
<br><dt><code>YESSTR</code>
<dd>The return value is a locale-specific translation of the positive response
to a yes/no question.

<p>Using this value is deprecated since it is a very special case of
message translation, and is better handled by the message
translation functions (see <a href="#Message%20Translation">Message Translation</a>).

<p>The use of this symbol is deprecated.  Instead message translation
should be used. 
<br><dt><code>NOSTR</code>
<dd>The return value is a locale-specific translation of the negative response
to a yes/no question.  What is said for <code>YESSTR</code> is also true here.

<p>The use of this symbol is deprecated.  Instead message translation
should be used. 
</dl>

<p>The file <code>langinfo.h</code> defines a lot more symbols but none of them
is official.  Using them is not portable, and the format of the
return values might change.  Therefore we recommended you not use
them.

<p>Note that the return value for any valid argument can be used for
in all situations (with the possible exception of the am/pm time formatting
codes).  If the user has not selected any locale for the
appropriate category, <code>nl_langinfo</code> returns the information from the
<code>"C"</code> locale.  It is therefore possible to use this function as
shown in the example below.

<p>If the argument <var>item</var> is not valid, a pointer to an empty string is
returned. 
</td></tr>
</table>

<p>An example of <code>nl_langinfo</code> usage is a function which has to
print a given date and time in a locale-specific way.  At first one
might think that, since <code>strftime</code> internally uses the locale
information, writing something like the following is enough:

<br><pre>size_t
i18n_time_n_data (char *s, size_t len, const struct tm *tp)
{
  return strftime (s, len, "%X %D", tp);
}
</pre>

<p>The format contains no weekday or month names and therefore is
internationally usable.  Wrong!  The output produced is something like
<code>"hh:mm:ss MM/DD/YY"</code>.  This format is only recognizable in the
USA.  Other countries use different formats.  Therefore the function
should be rewritten like this:

<br><pre>size_t
i18n_time_n_data (char *s, size_t len, const struct tm *tp)
{
  return strftime (s, len, nl_langinfo (D_T_FMT), tp);
}
</pre>

<p>Now it uses the date and time format of the locale
selected when the program runs.  If the user selects the locale
correctly there should never be a misunderstanding over the time and
date format.

<p><hr>
Node:<a name="Formatting%20Numbers">Formatting Numbers</a>,
Next:<a rel=next accesskey=n href="#Yes-or-No%20Questions">Yes-or-No Questions</a>,
Previous:<a rel=previous accesskey=p href="#Locale%20Information">Locale Information</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>A dedicated function to format numbers</h3>

<p>We have seen that the structure returned by <code>localeconv</code> as well as
the values given to <code>nl_langinfo</code> allow you to retrieve the various
pieces of locale-specific information to format numbers and monetary
amounts.  We have also seen that the underlying rules are quite complex.

<p>Therefore the X/Open standards introduce a function which uses such
locale information, making it easier for the user to format
numbers according to these rules.

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>strfmon</b><i> (char *<var>s</var>, size_t <var>maxsize</var>, const char *<var>format</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strfmon</code> function is similar to the <code>strftime</code> function
in that it takes a buffer, its size, a format string,
and values to write into the buffer as text in a form specified
by the format string.  Like <code>strftime</code>, the function
also returns the number of bytes written into the buffer.

<p>There are two differences: <code>strfmon</code> can take more than one
argument, and, of course, the format specification is different.  Like
<code>strftime</code>, the format string consists of normal text, which is
output as is, and format specifiers, which are indicated by a <code>%</code>. 
Immediately after the <code>%</code>, you can optionally specify various flags
and formatting information before the main formatting character, in a
similar way to <code>printf</code>:

<ul>
<li>Immediately following the <code>%</code> there can be one or more of the
following flags:
<dl>
<dt><code>=<var>f</var></code>
<dd>The single byte character <var>f</var> is used for this field as the numeric
fill character.  By default this character is a space character. 
Filling with this character is only performed if a left precision
is specified.  It is not just to fill to the given field width. 
<br><dt><code>^</code>
<dd>The number is printed without grouping the digits according to the rules
of the current locale.  By default grouping is enabled. 
<br><dt><code>+</code>, <code>(</code>
<dd>At most one of these flags can be used.  They select which format to
represent the sign of a currency amount.  By default, and if
<code>+</code> is given, the locale equivalent of +/- is used.  If
<code>(</code> is given, negative amounts are enclosed in parentheses.  The
exact format is determined by the values of the <code>LC_MONETARY</code>
category of the locale selected at program runtime. 
<br><dt><code>!</code>
<dd>The output will not contain the currency symbol. 
<br><dt><code>-</code>
<dd>The output will be formatted left-justified instead of right-justified if
it does not fill the entire field width. 
</dl>
</ul>

<p>The next part of a specification is an optional field width.  If no
width is specified 0 is taken.  During output, the function first
determines how much space is required.  If it requires at least as many
characters as given by the field width, it is output using as much space
as necessary.  Otherwise, it is extended to use the full width by
filling with the space character.  The presence or absence of the
<code>-</code> flag determines the side at which such padding occurs.  If
present, the spaces are added at the right making the output
left-justified, and vice versa.

<p>So far the format looks familiar, being similar to the <code>printf</code> and
<code>strftime</code> formats.  However, the next two optional fields
introduce something new.  The first one is a <code>#</code> character followed
by a decimal digit string.  The value of the digit string specifies the
number of <em>digit</em> positions to the left of the decimal point (or
equivalent).  This does <em>not</em> include the grouping character when
the <code>^</code> flag is not given.  If the space needed to print the number
does not fill the whole width, the field is padded at the left side with
the fill character, which can be selected using the <code>=</code> flag and by
default is a space.  For example, if the field width is selected as 6
and the number is 123, the fill character is <code>*</code> the result
will be <code>***123</code>.

<p>The second optional field starts with a <code>.</code> (period) and consists
of another decimal digit string.  Its value describes the number of
characters printed after the decimal point.  The default is selected
from the current locale (<code>frac_digits</code>, <code>int_frac_digits</code>, see
see <a href="#General%20Numeric">General Numeric</a>).  If the exact representation needs more digits
than given by the field width, the displayed value is rounded.  If the
number of fractional digits is selected to be zero, no decimal point is
printed.

<p>As a GNU extension, the <code>strfmon</code> implementation in the GNU libc
allows an optional <code>L</code> next as a format modifier.  If this modifier
is given, the argument is expected to be a <code>long double</code> instead of
a <code>double</code> value.

<p>Finally, the last component is a format specifier.  There are three
specifiers defined:

<dl>
<dt><code>i</code>
<dd>Use the locale's rules for formatting an international currency value. 
<br><dt><code>n</code>
<dd>Use the locale's rules for formatting a national currency value. 
<br><dt><code>%</code>
<dd>Place a <code>%</code> in the output.  There must be no flag, width
specifier or modifier given, only <code>%%</code> is allowed. 
</dl>

<p>As for <code>printf</code>, the function reads the format string
from left to right and uses the values passed to the function following
the format string.  The values are expected to be either of type
<code>double</code> or <code>long double</code>, depending on the presence of the
modifier <code>L</code>.  The result is stored in the buffer pointed to by
<var>s</var>.  At most <var>maxsize</var> characters are stored.

<p>The return value of the function is the number of characters stored in
<var>s</var>, including the terminating <code>NULL</code> byte.  If the number of
characters stored would exceed <var>maxsize</var>, the function returns
-1 and the content of the buffer <var>s</var> is unspecified.  In this
case <code>errno</code> is set to <code>E2BIG</code>. 
</td></tr>
</table>

<p>A few examples should make clear how the function works.  It is
assumed that all the following pieces of code are executed in a program
which uses the USA locale (<code>en_US</code>).  The simplest
form of the format is this:

<br><pre>strfmon (buf, 100, "@%n@%n@%n@", 123.45, -567.89, 12345.678);
</pre>

<p>The output produced is
<br><pre>"@$123.45@-$567.89@$12,345.68@"
</pre>

<p>We can notice several things here.  First, the widths of the output
numbers are different.  We have not specified a width in the format
string, and so this is no wonder.  Second, the third number is printed
using thousands separators.  The thousands separator for the
<code>en_US</code> locale is a comma.  The number is also rounded. 
.678 is rounded to .68 since the format does not specify a
precision and the default value in the locale is 2.  Finally,
note that the national currency symbol is printed since <code>%n</code> was
used, not <code>i</code>.  The next example shows how we can align the output.

<br><pre>strfmon (buf, 100, "@%=*11n@%=*11n@%=*11n@", 123.45, -567.89, 12345.678);
</pre>

<p>The output this time is:

<br><pre>"@    $123.45@   -$567.89@ $12,345.68@"
</pre>

<p>Two things stand out.  Firstly, all fields have the same width (eleven
characters) since this is the width given in the format and since no
number required more characters to be printed.  The second important
point is that the fill character is not used.  This is correct since the
white space was not used to achieve a precision given by a <code>#</code>
modifier, but instead to fill to the given width.  The difference
becomes obvious if we now add a width specification.

<br><pre>strfmon (buf, 100, "@%=*11#5n@%=*11#5n@%=*11#5n@",
         123.45, -567.89, 12345.678);
</pre>

<p>The output is

<br><pre>"@ $***123.45@-$***567.89@ $12,456.68@"
</pre>

<p>Here we can see that all the currency symbols are now aligned, and that
the space between the currency sign and the number is filled with the
selected fill character.  Note that although the width is selected to be
5 and 123.45 has three digits left of the decimal point,
the space is filled with three asterisks.  This is correct since, as
explained above, the width does not include the positions used to store
thousands separators.  One last example should explain the remaining
functionality.

<br><pre>strfmon (buf, 100, "@%=0(16#5.3i@%=0(16#5.3i@%=0(16#5.3i@",
         123.45, -567.89, 12345.678);
</pre>

<p>This rather complex format string produces the following output:

<br><pre>"@ USD 000123,450 @(USD 000567.890)@ USD 12,345.678 @"
</pre>

<p>The most noticeable change is the alternative way of representing
negative numbers.  In financial circles this is often done using
parentheses, and this is what the <code>(</code> flag selected.  The fill
character is now <code>0</code>.  Note that this <code>0</code> character is not
regarded as a numeric zero, and therefore the first and second numbers
are not printed using a thousands separator.  Since we used the format
specifier <code>i</code> instead of <code>n</code>, the international form of the
currency symbol is used.  This is a four letter string, in this case
<code>"USD "</code>.  The last point is that since the precision right of the
decimal point is selected to be three, the first and second numbers are
printed with an extra zero at the end and the third number is printed
without rounding.

<p><hr>
Node:<a name="Yes-or-No%20Questions">Yes-or-No Questions</a>,
Previous:<a rel=previous accesskey=p href="#Formatting%20Numbers">Formatting Numbers</a>,
Up:<a rel=up accesskey=u href="#Locales">Locales</a>
<br>

<h3>Yes-or-No Questions</h3>

<p>Some non GUI programs ask a yes-or-no question.  If the messages
(especially the questions) are translated into foreign languages, be
sure that you localize the answers too.  It would be very bad habit to
ask a question in one language and request the answer in another, often
English.

<p>The GNU C library contains <code>rpmatch</code> to give applications easy
access to the corresponding locale definitions.

<p>
<table width="100%">
<tr>
<td align="left">int <b>rpmatch</b><i> (const char *<var>response</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>rpmatch</code> checks the string in <var>response</var> whether
or not it is a correct yes-or-no answer and if yes, which one.  The
check uses the <code>YESEXPR</code> and <code>NOEXPR</code> data in the
<code>LC_MESSAGES</code> category of the currently selected locale.  The
return value is as follows:

<dl>
<dt><code>1</code>
<dd>The user entered an affirmative answer.

<br><dt><code>0</code>
<dd>The user entered a negative answer.

<br><dt><code>-1</code>
<dd>The answer matched neither the <code>YESEXPR</code> nor the <code>NOEXPR</code>
regular expression. 
</dl>

<p>This function is not standardized but available beside in GNU libc at
least also in the IBM AIX library. 
</td></tr>
</table>

<p>This function would normally be used like this:

<br><pre>  ...
  /* Use a safe default.  */
  _Bool doit = false;

  fputs (gettext ("Do you really want to do this? "), stdout);
  fflush (stdout);
  /* Prepare the <code>getline</code> call.  */
  line = NULL;
  len = 0;
  while (getline (&amp;line, &amp;len, stdout) &gt;= 0)
    {
      /* Check the response.  */
      int res = rpmatch (line);
      if (res &gt;= 0)
        {
          /* We got a definitive answer.  */
          if (res &gt; 0)
            doit = true;
          break;
        }
    }
  /* Free what <code>getline</code> allocated.  */
  free (line);
</pre>

<p>Note that the loop continues until an read error is detected or until a
definitive (positive or negative) answer is read.

<p><hr>
Node:<a name="Message%20Translation">Message Translation</a>,
Next:<a rel=next accesskey=n href="#Searching%20and%20Sorting">Searching and Sorting</a>,
Previous:<a rel=previous accesskey=p href="#Locales">Locales</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Message Translation</h2>

<p>The program's interface with the human should be designed in a way to
ease the human the task.  One of the possibilities is to use messages in
whatever language the user prefers.

<p>Printing messages in different languages can be implemented in different
ways.  One could add all the different languages in the source code and
add among the variants every time a message has to be printed.  This is
certainly no good solution since extending the set of languages is
difficult (the code must be changed) and the code itself can become
really big with dozens of message sets.

<p>A better solution is to keep the message sets for each language are kept
in separate files which are loaded at runtime depending on the language
selection of the user.

<p>The GNU C Library provides two different sets of functions to support
message translation.  The problem is that neither of the interfaces is
officially defined by the POSIX standard.  The <code>catgets</code> family of
functions is defined in the X/Open standard but this is derived from
industry decisions and therefore not necessarily based on reasonable
decisions.

<p>As mentioned above the message catalog handling provides easy
extendibility by using external data files which contain the message
translations.  I.e., these files contain for each of the messages used
in the program a translation for the appropriate language.  So the tasks
of the message handling functions are

<ul>
<li>locate the external data file with the appropriate translations. 
<li>load the data and make it possible to address the messages
<li>map a given key to the translated message
</ul>

<p>The two approaches mainly differ in the implementation of this last
step.  The design decisions made for this influences the whole rest.

<ul>
<li><a accesskey=1 href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>:   The <code>catgets</code> family of functions. 
<li><a accesskey=2 href="#The%20Uniforum%20approach">The Uniforum approach</a>:          The <code>gettext</code> family of functions. 
</ul>

<p><hr>
Node:<a name="Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>,
Next:<a rel=next accesskey=n href="#The%20Uniforum%20approach">The Uniforum approach</a>,
Up:<a rel=up accesskey=u href="#Message%20Translation">Message Translation</a>
<br>

<h3>X/Open Message Catalog Handling</h3>

<p>The <code>catgets</code> functions are based on the simple scheme:

<blockquote>
Associate every message to translate in the source code with a unique
identifier.  To retrieve a message from a catalog file solely the
identifier is used. 
</blockquote>

<p>This means for the author of the program that s/he will have to make
sure the meaning of the identifier in the program code and in the
message catalogs are always the same.

<p>Before a message can be translated the catalog file must be located. 
The user of the program must be able to guide the responsible function
to find whatever catalog the user wants.  This is separated from what
the programmer had in mind.

<p>All the types, constants and functions for the <code>catgets</code> functions
are defined/declared in the <code>nl_types.h</code> header file.

<ul>
<li><a accesskey=1 href="#The%20catgets%20Functions">The catgets Functions</a>:       The <code>catgets</code> function family. 
<li><a accesskey=2 href="#The%20message%20catalog%20files">The message catalog files</a>:   Format of the message catalog files. 
<li><a accesskey=3 href="#The%20gencat%20program">The gencat program</a>:          How to generate message catalogs files which
                                can be used by the functions. 
<li><a accesskey=4 href="#Common%20Usage">Common Usage</a>:                How to use the <code>catgets</code> interface. 
</ul>

<p><hr>
Node:<a name="The%20catgets%20Functions">The catgets Functions</a>,
Next:<a rel=next accesskey=n href="#The%20message%20catalog%20files">The message catalog files</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>
<br>

<h4>The <code>catgets</code> function family</h4>

<p>
<table width="100%">
<tr>
<td align="left">nl_catd <b>catopen</b><i> (const char *<var>cat_name</var>, int <var>flag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>catgets</code> function tries to locate the message data file names
<var>cat_name</var> and loads it when found.  The return value is of an
opaque type and can be used in calls to the other functions to refer to
this loaded catalog.

<p>The return value is <code>(nl_catd) -1</code> in case the function failed and
no catalog was loaded.  The global variable <var>errno</var> contains a code
for the error causing the failure.  But even if the function call
succeeded this does not mean that all messages can be translated.

<p>Locating the catalog file must happen in a way which lets the user of
the program influence the decision.  It is up to the user to decide
about the language to use and sometimes it is useful to use alternate
catalog files.  All this can be specified by the user by setting some
environment variables.

<p>The first problem is to find out where all the message catalogs are
stored.  Every program could have its own place to keep all the
different files but usually the catalog files are grouped by languages
and the catalogs for all programs are kept in the same place.

<p>To tell the <code>catopen</code> function where the catalog for the program
can be found the user can set the environment variable <code>NLSPATH</code> to
a value which describes her/his choice.  Since this value must be usable
for different languages and locales it cannot be a simple string. 
Instead it is a format string (similar to <code>printf</code>'s).  An example
is

<br><pre>/usr/share/locale/%L/%N:/usr/share/locale/%L/LC_MESSAGES/%N
</pre>

<p>First one can see that more than one directory can be specified (with
the usual syntax of separating them by colons).  The next things to
observe are the format string, <code>%L</code> and <code>%N</code> in this case. 
The <code>catopen</code> function knows about several of them and the
replacement for all of them is of course different.

<dl>
<dt><code>%N</code>
<dd>This format element is substituted with the name of the catalog file. 
This is the value of the <var>cat_name</var> argument given to
<code>catgets</code>.

<br><dt><code>%L</code>
<dd>This format element is substituted with the name of the currently
selected locale for translating messages.  How this is determined is
explained below.

<br><dt><code>%l</code>
<dd>(This is the lowercase ell.) This format element is substituted with the
language element of the locale name.  The string describing the selected
locale is expected to have the form
<code><var>lang</var>[_<var>terr</var>[.<var>codeset</var>]]</code> and this format uses the
first part <var>lang</var>.

<br><dt><code>%t</code>
<dd>This format element is substituted by the territory part <var>terr</var> of
the name of the currently selected locale.  See the explanation of the
format above.

<br><dt><code>%c</code>
<dd>This format element is substituted by the codeset part <var>codeset</var> of
the name of the currently selected locale.  See the explanation of the
format above.

<br><dt><code>%%</code>
<dd>Since <code>%</code> is used in a meta character there must be a way to
express the <code>%</code> character in the result itself.  Using <code>%%</code>
does this just like it works for <code>printf</code>. 
</dl>

<p>Using <code>NLSPATH</code> allows arbitrary directories to be searched for
message catalogs while still allowing different languages to be used. 
If the <code>NLSPATH</code> environment variable is not set, the default value
is

<br><pre><var>prefix</var>/share/locale/%L/%N:<var>prefix</var>/share/locale/%L/LC_MESSAGES/%N
</pre>

<p>where <var>prefix</var> is given to <code>configure</code> while installing the GNU
C Library (this value is in many cases <code>/usr</code> or the empty string).

<p>The remaining problem is to decide which must be used.  The value
decides about the substitution of the format elements mentioned above. 
First of all the user can specify a path in the message catalog name
(i.e., the name contains a slash character).  In this situation the
<code>NLSPATH</code> environment variable is not used.  The catalog must exist
as specified in the program, perhaps relative to the current working
directory.  This situation in not desirable and catalogs names never
should be written this way.  Beside this, this behavior is not portable
to all other platforms providing the <code>catgets</code> interface.

<p>Otherwise the values of environment variables from the standard
environment are examined (see <a href="#Standard%20Environment">Standard Environment</a>).  Which
variables are examined is decided by the <var>flag</var> parameter of
<code>catopen</code>.  If the value is <code>NL_CAT_LOCALE</code> (which is defined
in <code>nl_types.h</code>) then the <code>catopen</code> function use the name of
the locale currently selected for the <code>LC_MESSAGES</code> category.

<p>If <var>flag</var> is zero the <code>LANG</code> environment variable is examined. 
This is a left-over from the early days where the concept of the locales
had not even reached the level of POSIX locales.

<p>The environment variable and the locale name should have a value of the
form <code><var>lang</var>[_<var>terr</var>[.<var>codeset</var>]]</code> as explained above. 
If no environment variable is set the <code>"C"</code> locale is used which
prevents any translation.

<p>The return value of the function is in any case a valid string.  Either
it is a translation from a message catalog or it is the same as the
<var>string</var> parameter.  So a piece of code to decide whether a
translation actually happened must look like this:

<br><pre>{
  char *trans = catgets (desc, set, msg, input_string);
  if (trans == input_string)
    {
      /* Something went wrong.  */
    }
}
</pre>

<p>When an error occurred the global variable <var>errno</var> is set to

<dl>
<dt><var>EBADF</var>
<dd>The catalog does not exist. 
<br><dt><var>ENOMSG</var>
<dd>The set/message tuple does not name an existing element in the
message catalog. 
</dl>

<p>While it sometimes can be useful to test for errors programs normally
will avoid any test.  If the translation is not available it is no big
problem if the original, untranslated message is printed.  Either the
user understands this as well or s/he will look for the reason why the
messages are not translated. 
</td></tr>
</table>

<p>Please note that the currently selected locale does not depend on a call
to the <code>setlocale</code> function.  It is not necessary that the locale
data files for this locale exist and calling <code>setlocale</code> succeeds. 
The <code>catopen</code> function directly reads the values of the environment
variables.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>catgets</b><i> (nl_catd <var>catalog_desc</var>, int <var>set</var>, int <var>message</var>, const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>catgets</code> has to be used to access the massage catalog
previously opened using the <code>catopen</code> function.  The
<var>catalog_desc</var> parameter must be a value previously returned by
<code>catopen</code>.

<p>The next two parameters, <var>set</var> and <var>message</var>, reflect the
internal organization of the message catalog files.  This will be
explained in detail below.  For now it is interesting to know that a
catalog can consists of several set and the messages in each thread are
individually numbered using numbers.  Neither the set number nor the
message number must be consecutive.  They can be arbitrarily chosen. 
But each message (unless equal to another one) must have its own unique
pair of set and message number.

<p>Since it is not guaranteed that the message catalog for the language
selected by the user exists the last parameter <var>string</var> helps to
handle this case gracefully.  If no matching string can be found
<var>string</var> is returned.  This means for the programmer that

<ul>
<li>the <var>string</var> parameters should contain reasonable text (this also
helps to understand the program seems otherwise there would be no hint
on the string which is expected to be returned. 
<li>all <var>string</var> arguments should be written in the same language. 
</ul>
</td></tr>
</table>

<p>It is somewhat uncomfortable to write a program using the <code>catgets</code>
functions if no supporting functionality is available.  Since each
set/message number tuple must be unique the programmer must keep lists
of the messages at the same time the code is written.  And the work
between several people working on the same project must be coordinated. 
We will see some how these problems can be relaxed a bit (see <a href="#Common%20Usage">Common Usage</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>catclose</b><i> (nl_catd <var>catalog_desc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>catclose</code> function can be used to free the resources
associated with a message catalog which previously was opened by a call
to <code>catopen</code>.  If the resources can be successfully freed the
function returns <code>0</code>.  Otherwise it return <code>-1</code> and the
global variable <var>errno</var> is set.  Errors can occur if the catalog
descriptor <var>catalog_desc</var> is not valid in which case <var>errno</var> is
set to <code>EBADF</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="The%20message%20catalog%20files">The message catalog files</a>,
Next:<a rel=next accesskey=n href="#The%20gencat%20program">The gencat program</a>,
Previous:<a rel=previous accesskey=p href="#The%20catgets%20Functions">The catgets Functions</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>
<br>

<h4>Format of the message catalog files</h4>

<p>The only reasonable way the translate all the messages of a function and
store the result in a message catalog file which can be read by the
<code>catopen</code> function is to write all the message text to the
translator and let her/him translate them all.  I.e., we must have a
file with entries which associate the set/message tuple with a specific
translation.  This file format is specified in the X/Open standard and
is as follows:

<ul>
<li>Lines containing only whitespace characters or empty lines are ignored.

<li>Lines which contain as the first non-whitespace character a <code>$</code>
followed by a whitespace character are comment and are also ignored.

<li>If a line contains as the first non-whitespace characters the sequence
<code>$set</code> followed by a whitespace character an additional argument
is required to follow.  This argument can either be:

<ul>
<li>a number.  In this case the value of this number determines the set
to which the following messages are added.

<li>an identifier consisting of alphanumeric characters plus the underscore
character.  In this case the set get automatically a number assigned. 
This value is one added to the largest set number which so far appeared.

<p>How to use the symbolic names is explained in section <a href="#Common%20Usage">Common Usage</a>.

<p>It is an error if a symbol name appears more than once.  All following
messages are placed in a set with this number. 
</ul>

</p><li>If a line contains as the first non-whitespace characters the sequence
<code>$delset</code> followed by a whitespace character an additional argument
is required to follow.  This argument can either be:

<ul>
<li>a number.  In this case the value of this number determines the set
which will be deleted.

<li>an identifier consisting of alphanumeric characters plus the underscore
character.  This symbolic identifier must match a name for a set which
previously was defined.  It is an error if the name is unknown. 
</ul>

<p>In both cases all messages in the specified set will be removed.  They
will not appear in the output.  But if this set is later again selected
with a <code>$set</code> command again messages could be added and these
messages will appear in the output.

</p><li>If a line contains after leading whitespaces the sequence
<code>$quote</code>, the quoting character used for this input file is
changed to the first non-whitespace character following the
<code>$quote</code>.  If no non-whitespace character is present before the
line ends quoting is disable.

<p>By default no quoting character is used.  In this mode strings are
terminated with the first unescaped line break.  If there is a
<code>$quote</code> sequence present newline need not be escaped.  Instead a
string is terminated with the first unescaped appearance of the quote
character.

<p>A common usage of this feature would be to set the quote character to
<code>"</code>.  Then any appearance of the <code>"</code> in the strings must
be escaped using the backslash (i.e., <code>\"</code> must be written).

</p><li>Any other line must start with a number or an alphanumeric identifier
(with the underscore character included).  The following characters
(starting after the first whitespace character) will form the string
which gets associated with the currently selected set and the message
number represented by the number and identifier respectively.

<p>If the start of the line is a number the message number is obvious.  It
is an error if the same message number already appeared for this set.

<p>If the leading token was an identifier the message number gets
automatically assigned.  The value is the current maximum messages
number for this set plus one.  It is an error if the identifier was
already used for a message in this set.  It is OK to reuse the
identifier for a message in another thread.  How to use the symbolic
identifiers will be explained below (see <a href="#Common%20Usage">Common Usage</a>).  There is
one limitation with the identifier: it must not be <code>Set</code>.  The
reason will be explained below.

<p>The text of the messages can contain escape characters.  The usual bunch
of characters known from the ISO&nbsp;C language are recognized
(<code>\n</code>, <code>\t</code>, <code>\v</code>, <code>\b</code>, <code>\r</code>, <code>\f</code>,
<code>\\</code>, and <code>\<var>nnn</var></code>, where <var>nnn</var> is the octal coding of
a character code). 
</ul>

<p><strong>Important:</strong> The handling of identifiers instead of numbers for
the set and messages is a GNU extension.  Systems strictly following the
X/Open specification do not have this feature.  An example for a message
catalog file is this:

<br><pre>$ This is a leading comment.
$quote "

$set SetOne
1 Message with ID 1.
two "   Message with ID \"two\", which gets the value 2 assigned"

$set SetTwo
$ Since the last set got the number 1 assigned this set has number 2.
4000 "The numbers can be arbitrary, they need not start at one."
</pre>

<p>This small example shows various aspects:
<ul>
<li>Lines 1 and 9 are comments since they start with <code>$</code> followed by
a whitespace. 
<li>The quoting character is set to <code>"</code>.  Otherwise the quotes in the
message definition would have to be left away and in this case the
message with the identifier <code>two</code> would loose its leading whitespace. 
<li>Mixing numbered messages with message having symbolic names is no
problem and the numbering happens automatically. 
</ul>

<p>While this file format is pretty easy it is not the best possible for
use in a running program.  The <code>catopen</code> function would have to
parser the file and handle syntactic errors gracefully.  This is not so
easy and the whole process is pretty slow.  Therefore the <code>catgets</code>
functions expect the data in another more compact and ready-to-use file
format.  There is a special program <code>gencat</code> which is explained in
detail in the next section.

<p>Files in this other format are not human readable.  To be easy to use by
programs it is a binary file.  But the format is byte order independent
so translation files can be shared by systems of arbitrary architecture
(as long as they use the GNU C Library).

<p>Details about the binary file format are not important to know since
these files are always created by the <code>gencat</code> program.  The
sources of the GNU C Library also provide the sources for the
<code>gencat</code> program and so the interested reader can look through
these source files to learn about the file format.

<p><hr>
Node:<a name="The%20gencat%20program">The gencat program</a>,
Next:<a rel=next accesskey=n href="#Common%20Usage">Common Usage</a>,
Previous:<a rel=previous accesskey=p href="#The%20message%20catalog%20files">The message catalog files</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>
<br>

<h4>Generate Message Catalogs files</h4>

<p>The <code>gencat</code> program is specified in the X/Open standard and the
GNU implementation follows this specification and so processes
all correctly formed input files.  Additionally some extension are
implemented which help to work in a more reasonable way with the
<code>catgets</code> functions.

<p>The <code>gencat</code> program can be invoked in two ways:

<br><pre>`gencat [<var>Option</var>]<small>...</small> [<var>Output-File</var> [<var>Input-File</var>]<small>...</small>]`
</pre>

<p>This is the interface defined in the X/Open standard.  If no
<var>Input-File</var> parameter is given input will be read from standard
input.  Multiple input files will be read as if they are concatenated. 
If <var>Output-File</var> is also missing, the output will be written to
standard output.  To provide the interface one is used to from other
programs a second interface is provided.

<br><pre>`gencat [<var>Option</var>]<small>...</small> -o <var>Output-File</var> [<var>Input-File</var>]<small>...</small>`
</pre>

<p>The option <code>-o</code> is used to specify the output file and all file
arguments are used as input files.

<p>Beside this one can use <code>-</code> or <code>/dev/stdin</code> for
<var>Input-File</var> to denote the standard input.  Corresponding one can
use <code>-</code> and <code>/dev/stdout</code> for <var>Output-File</var> to denote
standard output.  Using <code>-</code> as a file name is allowed in X/Open
while using the device names is a GNU extension.

<p>The <code>gencat</code> program works by concatenating all input files and
then <strong>merge</strong> the resulting collection of message sets with a
possibly existing output file.  This is done by removing all messages
with set/message number tuples matching any of the generated messages
from the output file and then adding all the new messages.  To
regenerate a catalog file while ignoring the old contents therefore
requires to remove the output file if it exists.  If the output is
written to standard output no merging takes place.

<p>The following table shows the options understood by the <code>gencat</code>
program.  The X/Open standard does not specify any option for the
program so all of these are GNU extensions.

<dl>
<dt><code>-V</code>
<dt><code>--version</code>
<dd>Print the version information and exit. 
<br><dt><code>-h</code>
<dt><code>--help</code>
<dd>Print a usage message listing all available options, then exit successfully. 
<br><dt><code>--new</code>
<dd>Do never merge the new messages from the input files with the old content
of the output files.  The old content of the output file is discarded. 
<br><dt><code>-H</code>
<dt><code>--header=name</code>
<dd>This option is used to emit the symbolic names given to sets and
messages in the input files for use in the program.  Details about how
to use this are given in the next section.  The <var>name</var> parameter to
this option specifies the name of the output file.  It will contain a
number of C preprocessor <code>#define</code>s to associate a name with a
number.

<p>Please note that the generated file only contains the symbols from the
input files.  If the output is merged with the previous content of the
output file the possibly existing symbols from the file(s) which
generated the old output files are not in the generated header file. 
</dl>

<p><hr>
Node:<a name="Common%20Usage">Common Usage</a>,
Previous:<a rel=previous accesskey=p href="#The%20gencat%20program">The gencat program</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>
<br>

<h4>How to use the <code>catgets</code> interface</h4>

<p>The <code>catgets</code> functions can be used in two different ways.  By
following slavishly the X/Open specs and not relying on the extension
and by using the GNU extensions.  We will take a look at the former
method first to understand the benefits of extensions.

<h5>Not using symbolic names</h5>

<p>Since the X/Open format of the message catalog files does not allow
symbol names we have to work with numbers all the time.  When we start
writing a program we have to replace all appearances of translatable
strings with something like

<br><pre>catgets (catdesc, set, msg, "string")
</pre>

<p><var>catgets</var> is retrieved from a call to <code>catopen</code> which is
normally done once at the program start.  The <code>"string"</code> is the
string we want to translate.  The problems start with the set and
message numbers.

<p>In a bigger program several programmers usually work at the same time on
the program and so coordinating the number allocation is crucial. 
Though no two different strings must be indexed by the same tuple of
numbers it is highly desirable to reuse the numbers for equal strings
with equal translations (please note that there might be strings which
are equal in one language but have different translations due to
difference contexts).

<p>The allocation process can be relaxed a bit by different set numbers for
different parts of the program.  So the number of developers who have to
coordinate the allocation can be reduced.  But still lists must be keep
track of the allocation and errors can easily happen.  These errors
cannot be discovered by the compiler or the <code>catgets</code> functions. 
Only the user of the program might see wrong messages printed.  In the
worst cases the messages are so irritating that they cannot be
recognized as wrong.  Think about the translations for <code>"true"</code> and
<code>"false"</code> being exchanged.  This could result in a disaster.

<h5>Using symbolic names</h5>

<p>The problems mentioned in the last section derive from the fact that:

<ol type=1 start=1>
</p><li>the numbers are allocated once and due to the possibly frequent use of
them it is difficult to change a number later. 
<li>the numbers do not allow to guess anything about the string and
therefore collisions can easily happen.
</ol>

<p>By constantly using symbolic names and by providing a method which maps
the string content to a symbolic name (however this will happen) one can
prevent both problems above.  The cost of this is that the programmer
has to write a complete message catalog file while s/he is writing the
program itself.

<p>This is necessary since the symbolic names must be mapped to numbers
before the program sources can be compiled.  In the last section it was
described how to generate a header containing the mapping of the names. 
E.g., for the example message file given in the last section we could
call the <code>gencat</code> program as follow (assume <code>ex.msg</code> contains
the sources).

<br><pre>gencat -H ex.h -o ex.cat ex.msg
</pre>

<p>This generates a header file with the following content:

<br><pre>#define SetTwoSet 0x2   /* ex.msg:8 */

#define SetOneSet 0x1   /* ex.msg:4 */
#define SetOnetwo 0x2   /* ex.msg:6 */
</pre>

<p>As can be seen the various symbols given in the source file are mangled
to generate unique identifiers and these identifiers get numbers
assigned.  Reading the source file and knowing about the rules will
allow to predict the content of the header file (it is deterministic)
but this is not necessary.  The <code>gencat</code> program can take care for
everything.  All the programmer has to do is to put the generated header
file in the dependency list of the source files of her/his project and
to add a rules to regenerate the header of any of the input files
change.

<p>One word about the symbol mangling.  Every symbol consists of two parts:
the name of the message set plus the name of the message or the special
string <code>Set</code>.  So <code>SetOnetwo</code> means this macro can be used to
access the translation with identifier <code>two</code> in the message set
<code>SetOne</code>.

<p>The other names denote the names of the message sets.  The special
string <code>Set</code> is used in the place of the message identifier.

<p>If in the code the second string of the set <code>SetOne</code> is used the C
code should look like this:

<br><pre>catgets (catdesc, SetOneSet, SetOnetwo,
         "   Message with ID \"two\", which gets the value 2 assigned")
</pre>

<p>Writing the function this way will allow to change the message number
and even the set number without requiring any change in the C source
code.  (The text of the string is normally not the same; this is only
for this example.)

<h5>How does to this allow to develop</h5>

<p>To illustrate the usual way to work with the symbolic version numbers
here is a little example.  Assume we want to write the very complex and
famous greeting program.  We start by writing the code as usual:

<br><pre>#include &lt;stdio.h&gt;
int
main (void)
{
  printf ("Hello, world!\n");
  return 0;
}
</pre>

<p>Now we want to internationalize the message and therefore replace the
message with whatever the user wants.

<br><pre>#include &lt;nl_types.h&gt;
#include &lt;stdio.h&gt;
#include "msgnrs.h"
int
main (void)
{
  nl_catd catdesc = catopen ("hello.cat", NL_CAT_LOCALE);
  printf (catgets (catdesc, SetMainSet, SetMainHello,
                   "Hello, world!\n"));
  catclose (catdesc);
  return 0;
}
</pre>

<p>We see how the catalog object is opened and the returned descriptor used
in the other function calls.  It is not really necessary to check for
failure of any of the functions since even in these situations the
functions will behave reasonable.  They simply will be return a
translation.

<p>What remains unspecified here are the constants <code>SetMainSet</code> and
<code>SetMainHello</code>.  These are the symbolic names describing the
message.  To get the actual definitions which match the information in
the catalog file we have to create the message catalog source file and
process it using the <code>gencat</code> program.

<br><pre>$ Messages for the famous greeting program.
$quote "

$set Main
Hello "Hallo, Welt!\n"
</pre>

<p>Now we can start building the program (assume the message catalog source
file is named <code>hello.msg</code> and the program source file <code>hello.c</code>):

<br><pre>% gencat -H msgnrs.h -o hello.cat hello.msg
% cat msgnrs.h
#define MainSet 0x1     /* hello.msg:4 */
#define MainHello 0x1   /* hello.msg:5 */
% gcc -o hello hello.c -I.
% cp hello.cat /usr/share/locale/de/LC_MESSAGES
% echo $LC_ALL
de
% ./hello
Hallo, Welt!
%
</pre>

<p>The call of the <code>gencat</code> program creates the missing header file
<code>msgnrs.h</code> as well as the message catalog binary.  The former is
used in the compilation of <code>hello.c</code> while the later is placed in a
directory in which the <code>catopen</code> function will try to locate it. 
Please check the <code>LC_ALL</code> environment variable and the default path
for <code>catopen</code> presented in the description above.

<p><hr>
Node:<a name="The%20Uniforum%20approach">The Uniforum approach</a>,
Previous:<a rel=previous accesskey=p href="#Message%20catalogs%20a%20la%20X%2fOpen">Message catalogs a la X/Open</a>,
Up:<a rel=up accesskey=u href="#Message%20Translation">Message Translation</a>
<br>

<h3>The Uniforum approach to Message Translation</h3>

<p>Sun Microsystems tried to standardize a different approach to message
translation in the Uniforum group.  There never was a real standard
defined but still the interface was used in Sun's operation systems. 
Since this approach fits better in the development process of free
software it is also used throughout the GNU project and the GNU
<code>gettext</code> package provides support for this outside the GNU C
Library.

<p>The code of the <code>libintl</code> from GNU <code>gettext</code> is the same as
the code in the GNU C Library.  So the documentation in the GNU
<code>gettext</code> manual is also valid for the functionality here.  The
following text will describe the library functions in detail.  But the
numerous helper programs are not described in this manual.  Instead
people should read the GNU <code>gettext</code> manual
(see <a href="gettext.html#Top">GNU gettext utilities</a>). 
We will only give a short overview.

<p>Though the <code>catgets</code> functions are available by default on more
systems the <code>gettext</code> interface is at least as portable as the
former.  The GNU <code>gettext</code> package can be used wherever the
functions are not available.

<ul>
<li><a accesskey=1 href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>:   The <code>gettext</code> family of functions. 
<li><a accesskey=2 href="#Helper%20programs%20for%20gettext">Helper programs for gettext</a>:     Programs to handle message catalogs
                                    for <code>gettext</code>. 
</ul>

<p><hr>
Node:<a name="Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>,
Next:<a rel=next accesskey=n href="#Helper%20programs%20for%20gettext">Helper programs for gettext</a>,
Up:<a rel=up accesskey=u href="#The%20Uniforum%20approach">The Uniforum approach</a>
<br>

<h4>The <code>gettext</code> family of functions</h4>

<p>The paradigms underlying the <code>gettext</code> approach to message
translations is different from that of the <code>catgets</code> functions the
basic functionally is equivalent.  There are functions of the following
categories:

<ul>
<li><a accesskey=1 href="#Translation%20with%20gettext">Translation with gettext</a>:        What has to be done to translate a message. 
<li><a accesskey=2 href="#Locating%20gettext%20catalog">Locating gettext catalog</a>:        How to determine which catalog to be used. 
<li><a accesskey=3 href="#Advanced%20gettext%20functions">Advanced gettext functions</a>:      Additional functions for more complicated
                                    situations. 
<li><a accesskey=4 href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>:   How to specify the output character set
                                    <code>gettext</code> uses. 
<li><a accesskey=5 href="#GUI%20program%20problems">GUI program problems</a>:            How to use <code>gettext</code> in GUI programs. 
<li><a accesskey=6 href="#Using%20gettextized%20software">Using gettextized software</a>:      The possibilities of the user to influence
                                    the way <code>gettext</code> works. 
</ul>

<p><hr>
Node:<a name="Translation%20with%20gettext">Translation with gettext</a>,
Next:<a rel=next accesskey=n href="#Locating%20gettext%20catalog">Locating gettext catalog</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>What has to be done to translate a message?</h5>

<p>The <code>gettext</code> functions have a very simple interface.  The most
basic function just takes the string which shall be translated as the
argument and it returns the translation.  This is fundamentally
different from the <code>catgets</code> approach where an extra key is
necessary and the original string is only used for the error case.

<p>If the string which has to be translated is the only argument this of
course means the string itself is the key.  I.e., the translation will
be selected based on the original string.  The message catalogs must
therefore contain the original strings plus one translation for any such
string.  The task of the <code>gettext</code> function is it to compare the
argument string with the available strings in the catalog and return the
appropriate translation.  Of course this process is optimized so that
this process is not more expensive than an access using an atomic key
like in <code>catgets</code>.

<p>The <code>gettext</code> approach has some advantages but also some
disadvantages.  Please see the GNU <code>gettext</code> manual for a detailed
discussion of the pros and cons.

<p>All the definitions and declarations for <code>gettext</code> can be found in
the <code>libintl.h</code> header file.  On systems where these functions are
not part of the C library they can be found in a separate library named
<code>libintl.a</code> (or accordingly different for shared libraries).

<p>
<table width="100%">
<tr>
<td align="left">char * <b>gettext</b><i> (const char *<var>msgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gettext</code> function searches the currently selected message
catalogs for a string which is equal to <var>msgid</var>.  If there is such a
string available it is returned.  Otherwise the argument string
<var>msgid</var> is returned.

<p>Please note that all though the return value is <code>char *</code> the
returned string must not be changed.  This broken type results from the
history of the function and does not reflect the way the function should
be used.

<p>Please note that above we wrote "message catalogs" (plural).  This is
a specialty of the GNU implementation of these functions and we will
say more about this when we talk about the ways message catalogs are
selected (see <a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>).

<p>The <code>gettext</code> function does not modify the value of the global
<var>errno</var> variable.  This is necessary to make it possible to write
something like

<br><pre>  printf (gettext ("Operation failed: %m\n"));
</pre>

<p>Here the <var>errno</var> value is used in the <code>printf</code> function while
processing the <code>%m</code> format element and if the <code>gettext</code>
function would change this value (it is called before <code>printf</code> is
called) we would get a wrong message.

<p>So there is no easy way to detect a missing message catalog beside
comparing the argument string with the result.  But it is normally the
task of the user to react on missing catalogs.  The program cannot guess
when a message catalog is really necessary since for a user who speaks
the language the program was developed in does not need any translation. 
</td></tr>
</table>

<p>The remaining two functions to access the message catalog add some
functionality to select a message catalog which is not the default one. 
This is important if parts of the program are developed independently. 
Every part can have its own message catalog and all of them can be used
at the same time.  The C library itself is an example: internally it
uses the <code>gettext</code> functions but since it must not depend on a
currently selected default message catalog it must specify all ambiguous
information.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>dgettext</b><i> (const char *<var>domainname</var>, const char *<var>msgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>dgettext</code> functions acts just like the <code>gettext</code>
function.  It only takes an additional first argument <var>domainname</var>
which guides the selection of the message catalogs which are searched
for the translation.  If the <var>domainname</var> parameter is the null
pointer the <code>dgettext</code> function is exactly equivalent to
<code>gettext</code> since the default value for the domain name is used.

<p>As for <code>gettext</code> the return value type is <code>char *</code> which is an
anachronism.  The returned string must never be modified. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>dcgettext</b><i> (const char *<var>domainname</var>, const char *<var>msgid</var>, int <var>category</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>dcgettext</code> adds another argument to those which
<code>dgettext</code> takes.  This argument <var>category</var> specifies the last
piece of information needed to localize the message catalog.  I.e., the
domain name and the locale category exactly specify which message
catalog has to be used (relative to a given directory, see below).

<p>The <code>dgettext</code> function can be expressed in terms of
<code>dcgettext</code> by using

<br><pre>dcgettext (domain, string, LC_MESSAGES)
</pre>

<p>instead of

<br><pre>dgettext (domain, string)
</pre>

<p>This also shows which values are expected for the third parameter.  One
has to use the available selectors for the categories available in
<code>locale.h</code>.  Normally the available values are <code>LC_CTYPE</code>,
<code>LC_COLLATE</code>, <code>LC_MESSAGES</code>, <code>LC_MONETARY</code>,
<code>LC_NUMERIC</code>, and <code>LC_TIME</code>.  Please note that <code>LC_ALL</code>
must not be used and even though the names might suggest this, there is
no relation to the environments variables of this name.

<p>The <code>dcgettext</code> function is only implemented for compatibility with
other systems which have <code>gettext</code> functions.  There is not really
any situation where it is necessary (or useful) to use a different value
but <code>LC_MESSAGES</code> in for the <var>category</var> parameter.  We are
dealing with messages here and any other choice can only be irritating.

<p>As for <code>gettext</code> the return value type is <code>char *</code> which is an
anachronism.  The returned string must never be modified. 
</td></tr>
</table>

<p>When using the three functions above in a program it is a frequent case
that the <var>msgid</var> argument is a constant string.  So it is worth to
optimize this case.  Thinking shortly about this one will realize that
as long as no new message catalog is loaded the translation of a message
will not change.  This optimization is actually implemented by the
<code>gettext</code>, <code>dgettext</code> and <code>dcgettext</code> functions.

<p><hr>
Node:<a name="Locating%20gettext%20catalog">Locating gettext catalog</a>,
Next:<a rel=next accesskey=n href="#Advanced%20gettext%20functions">Advanced gettext functions</a>,
Previous:<a rel=previous accesskey=p href="#Translation%20with%20gettext">Translation with gettext</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>How to determine which catalog to be used</h5>

<p>The functions to retrieve the translations for a given message have a
remarkable simple interface.  But to provide the user of the program
still the opportunity to select exactly the translation s/he wants and
also to provide the programmer the possibility to influence the way to
locate the search for catalogs files there is a quite complicated
underlying mechanism which controls all this.  The code is complicated
the use is easy.

<p>Basically we have two different tasks to perform which can also be
performed by the <code>catgets</code> functions:

<ol type=1 start=1>
</p><li>Locate the set of message catalogs.  There are a number of files for
different languages and which all belong to the package.  Usually they
are all stored in the filesystem below a certain directory.

<p>There can be arbitrary many packages installed and they can follow
different guidelines for the placement of their files.

</p><li>Relative to the location specified by the package the actual translation
files must be searched, based on the wishes of the user.  I.e., for each
language the user selects the program should be able to locate the
appropriate file.
</ol>

<p>This is the functionality required by the specifications for
<code>gettext</code> and this is also what the <code>catgets</code> functions are
able to do.  But there are some problems unresolved:

<ul>
<li>The language to be used can be specified in several different ways. 
There is no generally accepted standard for this and the user always
expects the program understand what s/he means.  E.g., to select the
German translation one could write <code>de</code>, <code>german</code>, or
<code>deutsch</code> and the program should always react the same.

<li>Sometimes the specification of the user is too detailed.  If s/he, e.g.,
specifies <code>de_DE.ISO-8859-1</code> which means German, spoken in Germany,
coded using the ISO&nbsp;8859-1 character set there is the possibility
that a message catalog matching this exactly is not available.  But
there could be a catalog matching <code>de</code> and if the character set
used on the machine is always ISO&nbsp;8859-1 there is no reason why this
later message catalog should not be used.  (We call this <dfn>message
inheritance</dfn>.)

<li>If a catalog for a wanted language is not available it is not always the
second best choice to fall back on the language of the developer and
simply not translate any message.  Instead a user might be better able
to read the messages in another language and so the user of the program
should be able to define an precedence order of languages. 
</ul>

<p>We can divide the configuration actions in two parts: the one is
performed by the programmer, the other by the user.  We will start with
the functions the programmer can use since the user configuration will
be based on this.

<p>As the functions described in the last sections already mention separate
sets of messages can be selected by a <dfn>domain name</dfn>.  This is a
simple string which should be unique for each program part with uses a
separate domain.  It is possible to use in one program arbitrary many
domains at the same time.  E.g., the GNU C Library itself uses a domain
named <code>libc</code> while the program using the C Library could use a
domain named <code>foo</code>.  The important point is that at any time
exactly one domain is active.  This is controlled with the following
function.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>textdomain</b><i> (const char *<var>domainname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>textdomain</code> function sets the default domain, which is used in
all future <code>gettext</code> calls, to <var>domainname</var>.  Please note that
<code>dgettext</code> and <code>dcgettext</code> calls are not influenced if the
<var>domainname</var> parameter of these functions is not the null pointer.

<p>Before the first call to <code>textdomain</code> the default domain is
<code>messages</code>.  This is the name specified in the specification of
the <code>gettext</code> API.  This name is as good as any other name.  No
program should ever really use a domain with this name since this can
only lead to problems.

<p>The function returns the value which is from now on taken as the default
domain.  If the system went out of memory the returned value is
<code>NULL</code> and the global variable <var>errno</var> is set to <code>ENOMEM</code>. 
Despite the return value type being <code>char *</code> the return string must
not be changed.  It is allocated internally by the <code>textdomain</code>
function.

<p>If the <var>domainname</var> parameter is the null pointer no new default
domain is set.  Instead the currently selected default domain is
returned.

<p>If the <var>domainname</var> parameter is the empty string the default domain
is reset to its initial value, the domain with the name <code>messages</code>. 
This possibility is questionable to use since the domain <code>messages</code>
really never should be used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>bindtextdomain</b><i> (const char *<var>domainname</var>, const char *<var>dirname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>bindtextdomain</code> function can be used to specify the directory
which contains the message catalogs for domain <var>domainname</var> for the
different languages.  To be correct, this is the directory where the
hierarchy of directories is expected.  Details are explained below.

<p>For the programmer it is important to note that the translations which
come with the program have be placed in a directory hierarchy starting
at, say, <code>/foo/bar</code>.  Then the program should make a
<code>bindtextdomain</code> call to bind the domain for the current program to
this directory.  So it is made sure the catalogs are found.  A correctly
running program does not depend on the user setting an environment
variable.

<p>The <code>bindtextdomain</code> function can be used several times and if the
<var>domainname</var> argument is different the previously bound domains
will not be overwritten.

<p>If the program which wish to use <code>bindtextdomain</code> at some point of
time use the <code>chdir</code> function to change the current working
directory it is important that the <var>dirname</var> strings ought to be an
absolute pathname.  Otherwise the addressed directory might vary with
the time.

<p>If the <var>dirname</var> parameter is the null pointer <code>bindtextdomain</code>
returns the currently selected directory for the domain with the name
<var>domainname</var>.

<p>The <code>bindtextdomain</code> function returns a pointer to a string
containing the name of the selected directory name.  The string is
allocated internally in the function and must not be changed by the
user.  If the system went out of core during the execution of
<code>bindtextdomain</code> the return value is <code>NULL</code> and the global
variable <var>errno</var> is set accordingly. 
</td></tr>
</table>

<p><hr>
Node:<a name="Advanced%20gettext%20functions">Advanced gettext functions</a>,
Next:<a rel=next accesskey=n href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>,
Previous:<a rel=previous accesskey=p href="#Locating%20gettext%20catalog">Locating gettext catalog</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>Additional functions for more complicated situations</h5>

<p>The functions of the <code>gettext</code> family described so far (and all the
<code>catgets</code> functions as well) have one problem in the real world
which have been neglected completely in all existing approaches.  What
is meant here is the handling of plural forms.

<p>Looking through Unix source code before the time anybody thought about
internationalization (and, sadly, even afterwards) one can often find
code similar to the following:

<br><pre>   printf ("%d file%s deleted", n, n == 1 ? "" : "s");
</pre>

<p>After the first complaints from people internationalizing the code people
either completely avoided formulations like this or used strings like
<code>"file(s)"</code>.  Both look unnatural and should be avoided.  First
tries to solve the problem correctly looked like this:

<br><pre>   if (n == 1)
     printf ("%d file deleted", n);
   else
     printf ("%d files deleted", n);
</pre>

<p>But this does not solve the problem.  It helps languages where the
plural form of a noun is not simply constructed by adding an `s' but
that is all.  Once again people fell into the trap of believing the
rules their language is using are universal.  But the handling of plural
forms differs widely between the language families.  There are two
things we can differ between (and even inside language families);

<ul>
<li>The form how plural forms are build differs.  This is a problem with
language which have many irregularities.  German, for instance, is a
drastic case.  Though English and German are part of the same language
family (Germanic), the almost regular forming of plural noun forms
(appending an `s') is hardly found in German.

<li>The number of plural forms differ.  This is somewhat surprising for
those who only have experiences with Romanic and Germanic languages
since here the number is the same (there are two).

<p>But other language families have only one form or many forms.  More
information on this in an extra section. 
</ul>

<p>The consequence of this is that application writers should not try to
solve the problem in their code.  This would be localization since it is
only usable for certain, hardcoded language environments.  Instead the
extended <code>gettext</code> interface should be used.

<p>These extra functions are taking instead of the one key string two
strings and an numerical argument.  The idea behind this is that using
the numerical argument and the first string as a key, the implementation
can select using rules specified by the translator the right plural
form.  The two string arguments then will be used to provide a return
value in case no message catalog is found (similar to the normal
<code>gettext</code> behavior).  In this case the rules for Germanic language
is used and it is assumed that the first string argument is the singular
form, the second the plural form.

<p>This has the consequence that programs without language catalogs can
display the correct strings only if the program itself is written using
a Germanic language.  This is a limitation but since the GNU C library
(as well as the GNU <code>gettext</code> package) are written as part of the
GNU package and the coding standards for the GNU project require program
being written in English, this solution nevertheless fulfills its
purpose.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ngettext</b><i> (const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ngettext</code> function is similar to the <code>gettext</code> function
as it finds the message catalogs in the same way.  But it takes two
extra arguments.  The <var>msgid1</var> parameter must contain the singular
form of the string to be converted.  It is also used as the key for the
search in the catalog.  The <var>msgid2</var> parameter is the plural form. 
The parameter <var>n</var> is used to determine the plural form.  If no
message catalog is found <var>msgid1</var> is returned if <code>n == 1</code>,
otherwise <code>msgid2</code>.

<p>An example for the us of this function is:

<br><pre>  printf (ngettext ("%d file removed", "%d files removed", n), n);
</pre>

<p>Please note that the numeric value <var>n</var> has to be passed to the
<code>printf</code> function as well.  It is not sufficient to pass it only to
<code>ngettext</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>dngettext</b><i> (const char *<var>domain</var>, const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>dngettext</code> is similar to the <code>dgettext</code> function in the
way the message catalog is selected.  The difference is that it takes
two extra parameter to provide the correct plural form.  These two
parameters are handled in the same way <code>ngettext</code> handles them. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>dcngettext</b><i> (const char *<var>domain</var>, const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>, int <var>category</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>dcngettext</code> is similar to the <code>dcgettext</code> function in the
way the message catalog is selected.  The difference is that it takes
two extra parameter to provide the correct plural form.  These two
parameters are handled in the same way <code>ngettext</code> handles them. 
</td></tr>
</table>

<h5>The problem of plural forms</h5>

<p>A description of the problem can be found at the beginning of the last
section.  Now there is the question how to solve it.  Without the input
of linguists (which was not available) it was not possible to determine
whether there are only a few different forms in which plural forms are
formed or whether the number can increase with every new supported
language.

<p>Therefore the solution implemented is to allow the translator to specify
the rules of how to select the plural form.  Since the formula varies
with every language this is the only viable solution except for
hardcoding the information in the code (which still would require the
possibility of extensions to not prevent the use of new languages).  The
details are explained in the GNU <code>gettext</code> manual.  Here only a a
bit of information is provided.

<p>The information about the plural form selection has to be stored in the
header entry (the one with the empty (<code>msgid</code> string).  It looks
like this:

<br><pre>Plural-Forms: nplurals=2; plural=n == 1 ? 0 : 1;
</pre>

<p>The <code>nplurals</code> value must be a decimal number which specifies how
many different plural forms exist for this language.  The string
following <code>plural</code> is an expression which is using the C language
syntax.  Exceptions are that no negative number are allowed, numbers
must be decimal, and the only variable allowed is <code>n</code>.  This
expression will be evaluated whenever one of the functions
<code>ngettext</code>, <code>dngettext</code>, or <code>dcngettext</code> is called.  The
numeric value passed to these functions is then substituted for all uses
of the variable <code>n</code> in the expression.  The resulting value then
must be greater or equal to zero and smaller than the value given as the
value of <code>nplurals</code>.

<p>The following rules are known at this point.  The language with families
are listed.  But this does not necessarily mean the information can be
generalized for the whole family (as can be easily seen in the table
below).<a rel=footnote href="#fn-1"><sup>1</sup></a>

<dl>
<dt>Only one form:
<dd>Some languages only require one single form.  There is no distinction
between the singular and plural form.  An appropriate header entry
would look like this:

<br><pre>Plural-Forms: nplurals=1; plural=0;
</pre>

<p>Languages with this property include:

<dl>
<dt>Finno-Ugric family
<dd>Hungarian
<br><dt>Asian family
<dd>Japanese
<br><dt>Turkic/Altaic family
<dd>Turkish
</dl>

<br><dt>Two forms, singular used for one only
<dd>This is the form used in most existing programs since it is what English
is using.  A header entry would look like this:

<br><pre>Plural-Forms: nplurals=2; plural=n != 1;
</pre>

<p>(Note: this uses the feature of C expressions that boolean expressions
have to value zero or one.)

<p>Languages with this property include:

<dl>
<dt>Germanic family
<dd>Danish, Dutch, English, German, Norwegian, Swedish
<br><dt>Finno-Ugric family
<dd>Estonian, Finnish
<br><dt>Latin/Greek family
<dd>Greek
<br><dt>Semitic family
<dd>Hebrew
<br><dt>Romance family
<dd>Italian, Spanish
<br><dt>Artificial
<dd>Esperanto
</dl>

<br><dt>Two forms, singular used for zero and one
<dd>Exceptional case in the language family.  The header entry would be:

<br><pre>Plural-Forms: nplurals=2; plural=n&gt;1;
</pre>

<p>Languages with this property include:

<dl>
<dt>Romanic family
<dd>French
</dl>

<br><dt>Three forms, special cases for one and two
<dd>The header entry would be:

<br><pre>Plural-Forms: nplurals=3; plural=n==1 ? 0 : n==2 ? 1 : 2;
</pre>

<p>Languages with this property include:

<dl>
<dt>Celtic
<dd>Gaeilge
</dl>

<br><dt>Three forms, special cases for numbers ending in 1 and 2, 3, 4, except those ending in 1[1-4]
<dd>The header entry would look like this:

<br><pre>Plural-Forms: nplurals=3; \
    plural=n%100/10==1 ? 2 : n%10==1 ? 0 : (n+9)%10&gt;3 ? 2 : 1;
</pre>

<p>Languages with this property include:

<dl>
<dt>Slavic family
<dd>Czech, Russian
</dl>

<br><dt>Three forms, special cases for 1 and 2, 3, 4
<dd>The header entry would look like this:

<br><pre>Plural-Forms: nplurals=3; \
    plural=(n==1) ? 1 : (n&gt;=2 &amp;&amp; n&lt;=4) ? 2 : 0;
</pre>

<p>Languages with this property include:

<dl>
<dt>Slavic family
<dd>Slovak
</dl>

<br><dt>Three forms, special case for one and some numbers ending in 2, 3, or 4
<dd>The header entry would look like this:

<br><pre>Plural-Forms: nplurals=3; \
    plural=n==1 ? 0 : \
           n%10&gt;=2 &amp;&amp; n%10&lt;=4 &amp;&amp; (n%100&lt;10 || n%100&gt;=20) ? 1 : 2;
</pre>

<p>(Continuation in the next line is possible.)

<p>Languages with this property include:

<dl>
<dt>Slavic family
<dd>Polish
</dl>

<br><dt>Four forms, special case for one and all numbers ending in 2, 3, or 4
<dd>The header entry would look like this:

<br><pre>Plural-Forms: nplurals=4; \
    plural=n==1 ? 0 : n%10==2 ? 1 : n%10==3 || n%10==4 ? 2 : 3;
</pre>

<p>Languages with this property include:

<dl>
<dt>Slavic family
<dd>Slovenian
</dl>
</dl>

<p><hr>
Node:<a name="Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>,
Next:<a rel=next accesskey=n href="#GUI%20program%20problems">GUI program problems</a>,
Previous:<a rel=previous accesskey=p href="#Advanced%20gettext%20functions">Advanced gettext functions</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>How to specify the output character set <code>gettext</code> uses</h5>

<p><code>gettext</code> not only looks up a translation in a message catalog.  It
also converts the translation on the fly to the desired output character
set.  This is useful if the user is working in a different character set
than the translator who created the message catalog, because it avoids
distributing variants of message catalogs which differ only in the
character set.

<p>The output character set is, by default, the value of <code>nl_langinfo
(CODESET)</code>, which depends on the <code>LC_CTYPE</code> part of the current
locale.  But programs which store strings in a locale independent way
(e.g. UTF-8) can request that <code>gettext</code> and related functions
return the translations in that encoding, by use of the
<code>bind_textdomain_codeset</code> function.

<p>Note that the <var>msgid</var> argument to <code>gettext</code> is not subject to
character set conversion.  Also, when <code>gettext</code> does not find a
translation for <var>msgid</var>, it returns <var>msgid</var> unchanged -
independently of the current output character set.  It is therefore
recommended that all <var>msgid</var>s be US-ASCII strings.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>bind_textdomain_codeset</b><i> (const char *<var>domainname</var>, const char *<var>codeset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>bind_textdomain_codeset</code> function can be used to specify the
output character set for message catalogs for domain <var>domainname</var>. 
The <var>codeset</var> argument must be a valid codeset name which can be used
for the <code>iconv_open</code> function, or a null pointer.

<p>If the <var>codeset</var> parameter is the null pointer,
<code>bind_textdomain_codeset</code> returns the currently selected codeset
for the domain with the name <var>domainname</var>. It returns <code>NULL</code> if
no codeset has yet been selected.

<p>The <code>bind_textdomain_codeset</code> function can be used several times. 
If used multiple times with the same <var>domainname</var> argument, the
later call overrides the settings made by the earlier one.

<p>The <code>bind_textdomain_codeset</code> function returns a pointer to a
string containing the name of the selected codeset.  The string is
allocated internally in the function and must not be changed by the
user.  If the system went out of core during the execution of
<code>bind_textdomain_codeset</code>, the return value is <code>NULL</code> and the
global variable <var>errno</var> is set accordingly.  </td></tr>
</table>

<p><hr>
Node:<a name="GUI%20program%20problems">GUI program problems</a>,
Next:<a rel=next accesskey=n href="#Using%20gettextized%20software">Using gettextized software</a>,
Previous:<a rel=previous accesskey=p href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>How to use <code>gettext</code> in GUI programs</h5>

<p>One place where the <code>gettext</code> functions, if used normally, have big
problems is within programs with graphical user interfaces (GUIs).  The
problem is that many of the strings which have to be translated are very
short.  They have to appear in pull-down menus which restricts the
length.  But strings which are not containing entire sentences or at
least large fragments of a sentence may appear in more than one
situation in the program but might have different translations.  This is
especially true for the one-word strings which are frequently used in
GUI programs.

<p>As a consequence many people say that the <code>gettext</code> approach is
wrong and instead <code>catgets</code> should be used which indeed does not
have this problem.  But there is a very simple and powerful method to
handle these kind of problems with the <code>gettext</code> functions.

<p>As as example consider the following fictional situation.  A GUI program
has a menu bar with the following entries:

<br><pre>+------------+------------+--------------------------------------+
| File       | Printer    |                                      |
+------------+------------+--------------------------------------+
| Open     | | Select   |
| New      | | Open     |
+----------+ | Connect  |
             +----------+
</pre>

<p>To have the strings <code>File</code>, <code>Printer</code>, <code>Open</code>,
<code>New</code>, <code>Select</code>, and <code>Connect</code> translated there has to be
at some point in the code a call to a function of the <code>gettext</code>
family.  But in two places the string passed into the function would be
<code>Open</code>.  The translations might not be the same and therefore we
are in the dilemma described above.

<p>One solution to this problem is to artificially enlengthen the strings
to make them unambiguous.  But what would the program do if no
translation is available?  The enlengthened string is not what should be
printed.  So we should use a little bit modified version of the functions.

<p>To enlengthen the strings a uniform method should be used.  E.g., in the
example above the strings could be chosen as

<br><pre>Menu|File
Menu|Printer
Menu|File|Open
Menu|File|New
Menu|Printer|Select
Menu|Printer|Open
Menu|Printer|Connect
</pre>

<p>Now all the strings are different and if now instead of <code>gettext</code>
the following little wrapper function is used, everything works just
fine:

<br><pre>  char *
  sgettext (const char *msgid)
  {
    char *msgval = gettext (msgid);
    if (msgval == msgid)
      msgval = strrchr (msgid, '|') + 1;
    return msgval;
  }
</pre>

<p>What this little function does is to recognize the case when no
translation is available.  This can be done very efficiently by a
pointer comparison since the return value is the input value.  If there
is no translation we know that the input string is in the format we used
for the Menu entries and therefore contains a <code>|</code> character.  We
simply search for the last occurrence of this character and return a
pointer to the character following it.  That's it!

<p>If one now consistently uses the enlengthened string form and replaces
the <code>gettext</code> calls with calls to <code>sgettext</code> (this is normally
limited to very few places in the GUI implementation) then it is
possible to produce a program which can be internationalized.

<p>With advanced compilers (such as GNU C) one can write the
<code>sgettext</code> functions as an inline function or as a macro like this:

<br><pre>#define sgettext(msgid) \
  ({ const char *__msgid = (msgid);            \
     char *__msgstr = gettext (__msgid);       \
     if (__msgval == __msgid)                  \
       __msgval = strrchr (__msgid, '|') + 1;  \
     __msgval; })
</pre>

<p>The other <code>gettext</code> functions (<code>dgettext</code>, <code>dcgettext</code>
and the <code>ngettext</code> equivalents) can and should have corresponding
functions as well which look almost identical, except for the parameters
and the call to the underlying function.

<p>Now there is of course the question why such functions do not exist in
the GNU C library?  There are two parts of the answer to this question.

<ul>
<li>They are easy to write and therefore can be provided by the project they
are used in.  This is not an answer by itself and must be seen together
with the second part which is:

<li>There is no way the C library can contain a version which can work
everywhere.  The problem is the selection of the character to separate
the prefix from the actual string in the enlenghtened string.  The
examples above used <code>|</code> which is a quite good choice because it
resembles a notation frequently used in this context and it also is a
character not often used in message strings.

<p>But what if the character is used in message strings.  Or if the chose
character is not available in the character set on the machine one
compiles (e.g., <code>|</code> is not required to exist for ISO&nbsp;C; this is
why the <code>iso646.h</code> file exists in ISO&nbsp;C programming environments). 
</ul>

<p>There is only one more comment to make left.  The wrapper function above
require that the translations strings are not enlengthened themselves. 
This is only logical.  There is no need to disambiguate the strings
(since they are never used as keys for a search) and one also saves
quite some memory and disk space by doing this.

<p><hr>
Node:<a name="Using%20gettextized%20software">Using gettextized software</a>,
Previous:<a rel=previous accesskey=p href="#GUI%20program%20problems">GUI program problems</a>,
Up:<a rel=up accesskey=u href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>
<br>

<h5>User influence on <code>gettext</code></h5>

<p>The last sections described what the programmer can do to
internationalize the messages of the program.  But it is finally up to
the user to select the message s/he wants to see.  S/He must understand
them.

<p>The POSIX locale model uses the environment variables <code>LC_COLLATE</code>,
<code>LC_CTYPE</code>, <code>LC_MESSAGES</code>, <code>LC_MONETARY</code>, <code>NUMERIC</code>,
and <code>LC_TIME</code> to select the locale which is to be used.  This way
the user can influence lots of functions.  As we mentioned above the
<code>gettext</code> functions also take advantage of this.

<p>To understand how this happens it is necessary to take a look at the
various components of the filename which gets computed to locate a
message catalog.  It is composed as follows:

<br><pre><var>dir_name</var>/<var>locale</var>/LC_<var>category</var>/<var>domain_name</var>.mo
</pre>

<p>The default value for <var>dir_name</var> is system specific.  It is computed
from the value given as the prefix while configuring the C library. 
This value normally is <code>/usr</code> or <code>/</code>.  For the former the
complete <var>dir_name</var> is:

<br><pre>/usr/share/locale
</pre>

<p>We can use <code>/usr/share</code> since the <code>.mo</code> files containing the
message catalogs are system independent, so all systems can use the same
files.  If the program executed the <code>bindtextdomain</code> function for
the message domain that is currently handled, the <code>dir_name</code>
component is exactly the value which was given to the function as
the second parameter.  I.e., <code>bindtextdomain</code> allows overwriting
the only system dependent and fixed value to make it possible to
address files anywhere in the filesystem.

<p>The <var>category</var> is the name of the locale category which was selected
in the program code.  For <code>gettext</code> and <code>dgettext</code> this is
always <code>LC_MESSAGES</code>, for <code>dcgettext</code> this is selected by the
value of the third parameter.  As said above it should be avoided to
ever use a category other than <code>LC_MESSAGES</code>.

<p>The <var>locale</var> component is computed based on the category used.  Just
like for the <code>setlocale</code> function here comes the user selection
into the play.  Some environment variables are examined in a fixed order
and the first environment variable set determines the return value of
the lookup process.  In detail, for the category <code>LC_xxx</code> the
following variables in this order are examined:

<dl>
<dt><code>LANGUAGE</code>
<br><dt><code>LC_ALL</code>
<br><dt><code>LC_xxx</code>
<br><dt><code>LANG</code>
<dd></dl>

<p>This looks very familiar.  With the exception of the <code>LANGUAGE</code>
environment variable this is exactly the lookup order the
<code>setlocale</code> function uses.  But why introducing the <code>LANGUAGE</code>
variable?

<p>The reason is that the syntax of the values these variables can have is
different to what is expected by the <code>setlocale</code> function.  If we
would set <code>LC_ALL</code> to a value following the extended syntax that
would mean the <code>setlocale</code> function will never be able to use the
value of this variable as well.  An additional variable removes this
problem plus we can select the language independently of the locale
setting which sometimes is useful.

<p>While for the <code>LC_xxx</code> variables the value should consist of
exactly one specification of a locale the <code>LANGUAGE</code> variable's
value can consist of a colon separated list of locale names.  The
attentive reader will realize that this is the way we manage to
implement one of our additional demands above: we want to be able to
specify an ordered list of language.

<p>Back to the constructed filename we have only one component missing. 
The <var>domain_name</var> part is the name which was either registered using
the <code>textdomain</code> function or which was given to <code>dgettext</code> or
<code>dcgettext</code> as the first parameter.  Now it becomes obvious that a
good choice for the domain name in the program code is a string which is
closely related to the program/package name.  E.g., for the GNU C
Library the domain name is <code>libc</code>.

<p>A limit piece of example code should show how the programmer is supposed
to work:

<br><pre>{
  setlocale (LC_ALL, "");
  textdomain ("test-package");
  bindtextdomain ("test-package", "/usr/local/share/locale");
  puts (gettext ("Hello, world!"));
}
</pre>

<p>At the program start the default domain is <code>messages</code>, and the
default locale is "C".  The <code>setlocale</code> call sets the locale
according to the user's environment variables; remember that correct
functioning of <code>gettext</code> relies on the correct setting of the
<code>LC_MESSAGES</code> locale (for looking up the message catalog) and
of the <code>LC_CTYPE</code> locale (for the character set conversion). 
The <code>textdomain</code> call changes the default domain to
<code>test-package</code>.  The <code>bindtextdomain</code> call specifies that
the message catalogs for the domain <code>test-package</code> can be found
below the directory <code>/usr/local/share/locale</code>.

<p>If now the user set in her/his environment the variable <code>LANGUAGE</code>
to <code>de</code> the <code>gettext</code> function will try to use the
translations from the file

<br><pre>/usr/local/share/locale/de/LC_MESSAGES/test-package.mo
</pre>

<p>From the above descriptions it should be clear which component of this
filename is determined by which source.

<p>In the above example we assumed that the <code>LANGUAGE</code> environment
variable to <code>de</code>.  This might be an appropriate selection but what
happens if the user wants to use <code>LC_ALL</code> because of the wider
usability and here the required value is <code>de_DE.ISO-8859-1</code>?  We
already mentioned above that a situation like this is not infrequent. 
E.g., a person might prefer reading a dialect and if this is not
available fall back on the standard language.

<p>The <code>gettext</code> functions know about situations like this and can
handle them gracefully.  The functions recognize the format of the value
of the environment variable.  It can split the value is different pieces
and by leaving out the only or the other part it can construct new
values.  This happens of course in a predictable way.  To understand
this one must know the format of the environment variable value.  There
are two more or less standardized forms:

<dl>
<dt><em>X/Open Format</em>
<dd><code>language[_territory[.codeset]][@modifier]</code>

<br><dt><em>CEN Format (European Community Standard)</em>
<dd><code>language[_territory][+audience][+special][,[sponsor][_revision]]</code>
</dl>

<p>The functions will automatically recognize which format is used.  Less
specific locale names will be stripped of in the order of the following
list:

<ol type=1 start=1>
</p><li><code>revision</code>
<li><code>sponsor</code>
<li><code>special</code>
<li><code>codeset</code>
<li><code>normalized codeset</code>
<li><code>territory</code>
<li><code>audience</code>/<code>modifier</code>
</ol>

<p>From the last entry one can see that the meaning of the <code>modifier</code>
field in the X/Open format and the <code>audience</code> format have the same
meaning.  Beside one can see that the <code>language</code> field for obvious
reasons never will be dropped.

<p>The only new thing is the <code>normalized codeset</code> entry.  This is
another goodie which is introduced to help reducing the chaos which
derives from the inability of the people to standardize the names of
character sets.  Instead of ISO-8859-1 one can often see 8859-1,
88591, iso8859-1, or iso_8859-1.  The <code>normalized
codeset</code> value is generated from the user-provided character set name by
applying the following rules:

<ol type=1 start=1>
</p><li>Remove all characters beside numbers and letters. 
<li>Fold letters to lowercase. 
<li>If the same only contains digits prepend the string <code>"iso"</code>.
</ol>

<p>So all of the above name will be normalized to <code>iso88591</code>.  This
allows the program user much more freely choosing the locale name.

<p>Even this extended functionality still does not help to solve the
problem that completely different names can be used to denote the same
locale (e.g., <code>de</code> and <code>german</code>).  To be of help in this
situation the locale implementation and also the <code>gettext</code>
functions know about aliases.

<p>The file <code>/usr/share/locale/locale.alias</code> (replace <code>/usr</code> with
whatever prefix you used for configuring the C library) contains a
mapping of alternative names to more regular names.  The system manager
is free to add new entries to fill her/his own needs.  The selected
locale from the environment is compared with the entries in the first
column of this file ignoring the case.  If they match the value of the
second column is used instead for the further handling.

<p>In the description of the format of the environment variables we already
mentioned the character set as a factor in the selection of the message
catalog.  In fact, only catalogs which contain text written using the
character set of the system/program can be used (directly; there will
come a solution for this some day).  This means for the user that s/he
will always have to take care for this.  If in the collection of the
message catalogs there are files for the same language but coded using
different character sets the user has to be careful.

<p><hr>
Node:<a name="Helper%20programs%20for%20gettext">Helper programs for gettext</a>,
Previous:<a rel=previous accesskey=p href="#Message%20catalogs%20with%20gettext">Message catalogs with gettext</a>,
Up:<a rel=up accesskey=u href="#The%20Uniforum%20approach">The Uniforum approach</a>
<br>

<h4>Programs to handle message catalogs for <code>gettext</code></h4>

<p>The GNU C Library does not contain the source code for the programs to
handle message catalogs for the <code>gettext</code> functions.  As part of
the GNU project the GNU gettext package contains everything the
developer needs.  The functionality provided by the tools in this
package by far exceeds the abilities of the <code>gencat</code> program
described above for the <code>catgets</code> functions.

<p>There is a program <code>msgfmt</code> which is the equivalent program to the
<code>gencat</code> program.  It generates from the human-readable and
-editable form of the message catalog a binary file which can be used by
the <code>gettext</code> functions.  But there are several more programs
available.

<p>The <code>xgettext</code> program can be used to automatically extract the
translatable messages from a source file.  I.e., the programmer need not
take care for the translations and the list of messages which have to be
translated.  S/He will simply wrap the translatable string in calls to
<code>gettext</code> et.al and the rest will be done by <code>xgettext</code>.  This
program has a lot of option which help to customize the output or do
help to understand the input better.

<p>Other programs help to manage development cycle when new messages appear
in the source files or when a new translation of the messages appear. 
here it should only be noted that using all the tools in GNU gettext it
is possible to <em>completely</em> automize the handling of message
catalog.  Beside marking the translatable string in the source code and
generating the translations the developers do not have anything to do
themselves.

<p><hr>
Node:<a name="Searching%20and%20Sorting">Searching and Sorting</a>,
Next:<a rel=next accesskey=n href="#Pattern%20Matching">Pattern Matching</a>,
Previous:<a rel=previous accesskey=p href="#Message%20Translation">Message Translation</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Searching and Sorting</h2>

<p>This chapter describes functions for searching and sorting arrays of
arbitrary objects.  You pass the appropriate comparison function to be
applied as an argument, along with the size of the objects in the array
and the total number of elements.

<ul>
<li><a accesskey=1 href="#Comparison%20Functions">Comparison Functions</a>:         Defining how to compare two objects. 
				 Since the sort and search facilities
                                 are general, you have to specify the
                                 ordering. 
<li><a accesskey=2 href="#Array%20Search%20Function">Array Search Function</a>:        The <code>bsearch</code> function. 
<li><a accesskey=3 href="#Array%20Sort%20Function">Array Sort Function</a>:          The <code>qsort</code> function. 
<li><a accesskey=4 href="#Search%2fSort%20Example">Search/Sort Example</a>:          An example program. 
<li><a accesskey=5 href="#Hash%20Search%20Function">Hash Search Function</a>:         The <code>hsearch</code> function. 
<li><a accesskey=6 href="#Tree%20Search%20Function">Tree Search Function</a>:         The <code>tsearch</code> function. 
</ul>

<p><hr>
Node:<a name="Comparison%20Functions">Comparison Functions</a>,
Next:<a rel=next accesskey=n href="#Array%20Search%20Function">Array Search Function</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>Defining the Comparison Function</h3>

<p>In order to use the sorted array library functions, you have to describe
how to compare the elements of the array.

<p>To do this, you supply a comparison function to compare two elements of
the array.  The library will call this function, passing as arguments
pointers to two array elements to be compared.  Your comparison function
should return a value the way <code>strcmp</code> (see <a href="#String%2fArray%20Comparison">String/Array Comparison</a>) does: negative if the first argument is "less" than the
second, zero if they are "equal", and positive if the first argument
is "greater".

<p>Here is an example of a comparison function which works with an array of
numbers of type <code>double</code>:

<br><pre>int
compare_doubles (const void *a, const void *b)
{
  const double *da = (const double *) a;
  const double *db = (const double *) b;

  return (*da &gt; *db) - (*da &lt; *db);
}
</pre>

<p>The header file <code>stdlib.h</code> defines a name for the data type of
comparison functions.  This type is a GNU extension.

<br><pre>int comparison_fn_t (const void *, const void *);
</pre>

<p><hr>
Node:<a name="Array%20Search%20Function">Array Search Function</a>,
Next:<a rel=next accesskey=n href="#Array%20Sort%20Function">Array Sort Function</a>,
Previous:<a rel=previous accesskey=p href="#Comparison%20Functions">Comparison Functions</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>Array Search Function</h3>

<p>Generally searching for a specific element in an array means that
potentially all elements must be checked.  The GNU C library contains
functions to perform linear search.  The prototypes for the following
two functions can be found in <code>search.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>lfind</b><i> (const void *<var>key</var>, void *<var>base</var>, size_t *<var>nmemb</var>, size_t <var>size</var>, comparison_fn_t <var>compar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lfind</code> function searches in the array with <code>*<var>nmemb</var></code>
elements of <var>size</var> bytes pointed to by <var>base</var> for an element
which matches the one pointed to by <var>key</var>.  The function pointed to
by <var>compar</var> is used decide whether two elements match.

<p>The return value is a pointer to the matching element in the array
starting at <var>base</var> if it is found.  If no matching element is
available <code>NULL</code> is returned.

<p>The mean runtime of this function is <code>*<var>nmemb</var></code>/2.  This
function should only be used elements often get added to or deleted from
the array in which case it might not be useful to sort the array before
searching. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>lsearch</b><i> (const void *<var>key</var>, void *<var>base</var>, size_t *<var>nmemb</var>, size_t <var>size</var>, comparison_fn_t <var>compar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lsearch</code> function is similar to the <code>lfind</code> function.  It
searches the given array for an element and returns it if found.  The
difference is that if no matching element is found the <code>lsearch</code>
function adds the object pointed to by <var>key</var> (with a size of
<var>size</var> bytes) at the end of the array and it increments the value of
<code>*<var>nmemb</var></code> to reflect this addition.

<p>This means for the caller that if it is not sure that the array contains
the element one is searching for the memory allocated for the array
starting at <var>base</var> must have room for at least <var>size</var> more
bytes.  If one is sure the element is in the array it is better to use
<code>lfind</code> so having more room in the array is always necessary when
calling <code>lsearch</code>. 
</td></tr>
</table>

<p>To search a sorted array for an element matching the key, use the
<code>bsearch</code> function.  The prototype for this function is in
the header file <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>bsearch</b><i> (const void *<var>key</var>, const void *<var>array</var>, size_t <var>count</var>, size_t <var>size</var>, comparison_fn_t <var>compare</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>bsearch</code> function searches the sorted array <var>array</var> for an object
that is equivalent to <var>key</var>.  The array contains <var>count</var> elements,
each of which is of size <var>size</var> bytes.

<p>The <var>compare</var> function is used to perform the comparison.  This
function is called with two pointer arguments and should return an
integer less than, equal to, or greater than zero corresponding to
whether its first argument is considered less than, equal to, or greater
than its second argument.  The elements of the <var>array</var> must already
be sorted in ascending order according to this comparison function.

<p>The return value is a pointer to the matching array element, or a null
pointer if no match is found.  If the array contains more than one element
that matches, the one that is returned is unspecified.

<p>This function derives its name from the fact that it is implemented
using the binary search algorithm. 
</td></tr>
</table>

<p><hr>
Node:<a name="Array%20Sort%20Function">Array Sort Function</a>,
Next:<a rel=next accesskey=n href="#Search%2fSort%20Example">Search/Sort Example</a>,
Previous:<a rel=previous accesskey=p href="#Array%20Search%20Function">Array Search Function</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>Array Sort Function</h3>

<p>To sort an array using an arbitrary comparison function, use the
<code>qsort</code> function.  The prototype for this function is in
<code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>qsort</b><i> (void *<var>array</var>, size_t <var>count</var>, size_t <var>size</var>, comparison_fn_t <var>compare</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <var>qsort</var> function sorts the array <var>array</var>.  The array contains
<var>count</var> elements, each of which is of size <var>size</var>.

<p>The <var>compare</var> function is used to perform the comparison on the
array elements.  This function is called with two pointer arguments and
should return an integer less than, equal to, or greater than zero
corresponding to whether its first argument is considered less than,
equal to, or greater than its second argument.

<p><strong>Warning:</strong> If two objects compare as equal, their order after
sorting is unpredictable.  That is to say, the sorting is not stable. 
This can make a difference when the comparison considers only part of
the elements.  Two elements with the same sort key may differ in other
respects.

<p>If you want the effect of a stable sort, you can get this result by
writing the comparison function so that, lacking other reason
distinguish between two elements, it compares them by their addresses. 
Note that doing this may make the sorting algorithm less efficient, so
do it only if necessary.

<p>Here is a simple example of sorting an array of doubles in numerical
order, using the comparison function defined above (see <a href="#Comparison%20Functions">Comparison Functions</a>):

<br><pre>{
  double *array;
  int size;
  <small>...</small>
  qsort (array, size, sizeof (double), compare_doubles);
}
</pre>

<p>The <code>qsort</code> function derives its name from the fact that it was
originally implemented using the "quick sort" algorithm.

<p>The implementation of <code>qsort</code> in this library might not be an
in-place sort and might thereby use an extra amount of memory to store
the array. 
</td></tr>
</table>

<p><hr>
Node:<a name="Search%2fSort%20Example">Search/Sort Example</a>,
Next:<a rel=next accesskey=n href="#Hash%20Search%20Function">Hash Search Function</a>,
Previous:<a rel=previous accesskey=p href="#Array%20Sort%20Function">Array Sort Function</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>Searching and Sorting Example</h3>

<p>Here is an example showing the use of <code>qsort</code> and <code>bsearch</code>
with an array of structures.  The objects in the array are sorted
by comparing their <code>name</code> fields with the <code>strcmp</code> function. 
Then, we can look up individual objects based on their names.

<br><pre>

#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

/* Define an array of critters to sort. */

struct critter
  {
    const char *name;
    const char *species;
  };

struct critter muppets[] =
  {
    {"Kermit", "frog"},
    {"Piggy", "pig"},
    {"Gonzo", "whatever"},
    {"Fozzie", "bear"},
    {"Sam", "eagle"},
    {"Robin", "frog"},
    {"Animal", "animal"},
    {"Camilla", "chicken"},
    {"Sweetums", "monster"},
    {"Dr. Strangepork", "pig"},
    {"Link Hogthrob", "pig"},
    {"Zoot", "human"},
    {"Dr. Bunsen Honeydew", "human"},
    {"Beaker", "human"},
    {"Swedish Chef", "human"}
  };

int count = sizeof (muppets) / sizeof (struct critter);



/* This is the comparison function used for sorting and searching. */

int
critter_cmp (const struct critter *c1, const struct critter *c2)
{
  return strcmp (c1-&gt;name, c2-&gt;name);
}


/* Print information about a critter. */

void
print_critter (const struct critter *c)
{
  printf ("%s, the %s\n", c-&gt;name, c-&gt;species);
}


/* Do the lookup into the sorted array. */

void
find_critter (const char *name)
{
  struct critter target, *result;
  target.name = name;
  result = bsearch (&amp;target, muppets, count, sizeof (struct critter),
                    critter_cmp);
  if (result)
    print_critter (result);
  else
    printf ("Couldn't find %s.\n", name);
}

/* Main program. */

int
main (void)
{
  int i;

  for (i = 0; i &lt; count; i++)
    print_critter (&amp;muppets[i]);
  printf ("\n");

  qsort (muppets, count, sizeof (struct critter), critter_cmp);

  for (i = 0; i &lt; count; i++)
    print_critter (&amp;muppets[i]);
  printf ("\n");

  find_critter ("Kermit");
  find_critter ("Gonzo");
  find_critter ("Janice");

  return 0;
}
</pre>

<p>The output from this program looks like:

<br><pre>Kermit, the frog
Piggy, the pig
Gonzo, the whatever
Fozzie, the bear
Sam, the eagle
Robin, the frog
Animal, the animal
Camilla, the chicken
Sweetums, the monster
Dr. Strangepork, the pig
Link Hogthrob, the pig
Zoot, the human
Dr. Bunsen Honeydew, the human
Beaker, the human
Swedish Chef, the human

Animal, the animal
Beaker, the human
Camilla, the chicken
Dr. Bunsen Honeydew, the human
Dr. Strangepork, the pig
Fozzie, the bear
Gonzo, the whatever
Kermit, the frog
Link Hogthrob, the pig
Piggy, the pig
Robin, the frog
Sam, the eagle
Swedish Chef, the human
Sweetums, the monster
Zoot, the human

Kermit, the frog
Gonzo, the whatever
Couldn't find Janice.
</pre>

<p><hr>
Node:<a name="Hash%20Search%20Function">Hash Search Function</a>,
Next:<a rel=next accesskey=n href="#Tree%20Search%20Function">Tree Search Function</a>,
Previous:<a rel=previous accesskey=p href="#Search%2fSort%20Example">Search/Sort Example</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>The <code>hsearch</code> function.</h3>

<p>The functions mentioned so far in this chapter are searching in a sorted
or unsorted array.  There are other methods to organize information
which later should be searched.  The costs of insert, delete and search
differ.  One possible implementation is using hashing tables.

<p>
<table width="100%">
<tr>
<td align="left">int <b>hcreate</b><i> (size_t <var>nel</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>hcreate</code> function creates a hashing table which can contain at
least <var>nel</var> elements.  There is no possibility to grow this table so
it is necessary to choose the value for <var>nel</var> wisely.  The used
methods to implement this function might make it necessary to make the
number of elements in the hashing table larger than the expected maximal
number of elements.  Hashing tables usually work inefficient if they are
filled 80% or more.  The constant access time guaranteed by hashing can
only be achieved if few collisions exist.  See Knuth's "The Art of
Computer Programming, Part 3: Searching and Sorting" for more
information.

<p>The weakest aspect of this function is that there can be at most one
hashing table used through the whole program.  The table is allocated
in local memory out of control of the programmer.  As an extension the
GNU C library provides an additional set of functions with an reentrant
interface which provide a similar interface but which allow to keep
arbitrarily many hashing tables.

<p>It is possible to use more than one hashing table in the program run if
the former table is first destroyed by a call to <code>hdestroy</code>.

<p>The function returns a non-zero value if successful.  If it return zero
something went wrong.  This could either mean there is already a hashing
table in use or the program runs out of memory. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>hdestroy</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>hdestroy</code> function can be used to free all the resources
allocated in a previous call of <code>hcreate</code>.  After a call to this
function it is again possible to call <code>hcreate</code> and allocate a new
table with possibly different size.

<p>It is important to remember that the elements contained in the hashing
table at the time <code>hdestroy</code> is called are <em>not</em> freed by this
function.  It is the responsibility of the program code to free those
strings (if necessary at all).  Freeing all the element memory is not
possible without extra, separately kept information since there is no
function to iterate through all available elements in the hashing table. 
If it is really necessary to free a table and all elements the
programmer has to keep a list of all table elements and before calling
<code>hdestroy</code> s/he has to free all element's data using this list. 
This is a very unpleasant mechanism and it also shows that this kind of
hashing tables is mainly meant for tables which are created once and
used until the end of the program run. 
</td></tr>
</table>

<p>Entries of the hashing table and keys for the search are defined using
this type:

<p>
<table width="100%">
<tr>
<td align="left"><b>struct ENTRY</b><i>
</i></td>
<td align="right">Data type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Both elements of this structure are pointers to zero-terminated strings. 
This is a limiting restriction of the functionality of the
<code>hsearch</code> functions.  They can only be used for data sets which use
the NUL character always and solely to terminate the records.  It is not
possible to handle general binary data.

<dl>
<dt><code>char *key</code>
<dd>Pointer to a zero-terminated string of characters describing the key for
the search or the element in the hashing table. 
<br><dt><code>char *data</code>
<dd>Pointer to a zero-terminated string of characters describing the data. 
If the functions will be called only for searching an existing entry
this element might stay undefined since it is not used. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ENTRY * <b>hsearch</b><i> (ENTRY <var>item</var>, ACTION <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
To search in a hashing table created using <code>hcreate</code> the
<code>hsearch</code> function must be used.  This function can perform simple
search for an element (if <var>action</var> has the <code>FIND</code>) or it can
alternatively insert the key element into the hashing table, possibly
replacing a previous value (if <var>action</var> is <code>ENTER</code>).

<p>The key is denoted by a pointer to an object of type <code>ENTRY</code>.  For
locating the corresponding position in the hashing table only the
<code>key</code> element of the structure is used.

<p>The return value depends on the <var>action</var> parameter value.  If it is
<code>FIND</code> the value is a pointer to the matching element in the
hashing table or <code>NULL</code> if no matching element exists.  If
<var>action</var> is <code>ENTER</code> the return value is only <code>NULL</code> if the
programs runs out of memory while adding the new element to the table. 
Otherwise the return value is a pointer to the element in the hashing
table which contains newly added element based on the data in <var>key</var>. 
</td></tr>
</table>

<p>As mentioned before the hashing table used by the functions described so
far is global and there can be at any time at most one hashing table in
the program.  A solution is to use the following functions which are a
GNU extension.  All have in common that they operate on a hashing table
which is described by the content of an object of the type <code>struct
hsearch_data</code>.  This type should be treated as opaque, none of its
members should be changed directly.

<p>
<table width="100%">
<tr>
<td align="left">int <b>hcreate_r</b><i> (size_t <var>nel</var>, struct hsearch_data *<var>htab</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>hcreate_r</code> function initializes the object pointed to by
<var>htab</var> to contain a hashing table with at least <var>nel</var> elements. 
So this function is equivalent to the <code>hcreate</code> function except
that the initialized data structure is controlled by the user.

<p>This allows having more than one hashing table at one time.  The
memory necessary for the <code>struct hsearch_data</code> object can be
allocated dynamically.

<p>The return value is non-zero if the operation were successful.  if the
return value is zero something went wrong which probably means the
programs runs out of memory. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>hdestroy_r</b><i> (struct hsearch_data *<var>htab</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>hdestroy_r</code> function frees all resources allocated by the
<code>hcreate_r</code> function for this very same object <var>htab</var>.  As for
<code>hdestroy</code> it is the programs responsibility to free the strings
for the elements of the table. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>hsearch_r</b><i> (ENTRY <var>item</var>, ACTION <var>action</var>, ENTRY **<var>retval</var>, struct hsearch_data *<var>htab</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>hsearch_r</code> function is equivalent to <code>hsearch</code>.  The
meaning of the first two arguments is identical.  But instead of
operating on a single global hashing table the function works on the
table described by the object pointed to by <var>htab</var> (which is
initialized by a call to <code>hcreate_r</code>).

<p>Another difference to <code>hcreate</code> is that the pointer to the found
entry in the table is not the return value of the functions.  It is
returned by storing it in a pointer variables pointed to by the
<var>retval</var> parameter.  The return value of the function is an integer
value indicating success if it is non-zero and failure if it is zero. 
In the latter case the global variable <var>errno</var> signals the reason for
the failure.

<dl>
<dt><code>ENOMEM</code>
<dd>The table is filled and <code>hsearch_r</code> was called with an so far
unknown key and <var>action</var> set to <code>ENTER</code>. 
<br><dt><code>ESRCH</code>
<dd>The <var>action</var> parameter is <code>FIND</code> and no corresponding element
is found in the table. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Tree%20Search%20Function">Tree Search Function</a>,
Previous:<a rel=previous accesskey=p href="#Hash%20Search%20Function">Hash Search Function</a>,
Up:<a rel=up accesskey=u href="#Searching%20and%20Sorting">Searching and Sorting</a>
<br>

<h3>The <code>tsearch</code> function.</h3>

<p>Another common form to organize data for efficient search is to use
trees.  The <code>tsearch</code> function family provides a nice interface to
functions to organize possibly large amounts of data by providing a mean
access time proportional to the logarithm of the number of elements. 
The GNU C library implementation even guarantees that this bound is
never exceeded even for input data which cause problems for simple
binary tree implementations.

<p>The functions described in the chapter are all described in the System&nbsp;V and X/Open specifications and are therefore quite portable.

<p>In contrast to the <code>hsearch</code> functions the <code>tsearch</code> functions
can be used with arbitrary data and not only zero-terminated strings.

<p>The <code>tsearch</code> functions have the advantage that no function to
initialize data structures is necessary.  A simple pointer of type
<code>void *</code> initialized to <code>NULL</code> is a valid tree and can be
extended or searched.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>tsearch</b><i> (const void *<var>key</var>, void **<var>rootp</var>, comparison_fn_t <var>compar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tsearch</code> function searches in the tree pointed to by
<code>*<var>rootp</var></code> for an element matching <var>key</var>.  The function
pointed to by <var>compar</var> is used to determine whether two elements
match.  See <a href="#Comparison%20Functions">Comparison Functions</a>, for a specification of the functions
which can be used for the <var>compar</var> parameter.

<p>If the tree does not contain a matching entry the <var>key</var> value will
be added to the tree.  <code>tsearch</code> does not make a copy of the object
pointed to by <var>key</var> (how could it since the size is unknown). 
Instead it adds a reference to this object which means the object must
be available as long as the tree data structure is used.

<p>The tree is represented by a pointer to a pointer since it is sometimes
necessary to change the root node of the tree.  So it must not be
assumed that the variable pointed to by <var>rootp</var> has the same value
after the call.  This also shows that it is not safe to call the
<code>tsearch</code> function more than once at the same time using the same
tree.  It is no problem to run it more than once at a time on different
trees.

<p>The return value is a pointer to the matching element in the tree.  If a
new element was created the pointer points to the new data (which is in
fact <var>key</var>).  If an entry had to be created and the program ran out
of space <code>NULL</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>tfind</b><i> (const void *<var>key</var>, void *const *<var>rootp</var>, comparison_fn_t <var>compar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tfind</code> function is similar to the <code>tsearch</code> function.  It
locates an element matching the one pointed to by <var>key</var> and returns
a pointer to this element.  But if no matching element is available no
new element is entered (note that the <var>rootp</var> parameter points to a
constant pointer).  Instead the function returns <code>NULL</code>. 
</td></tr>
</table>

<p>Another advantage of the <code>tsearch</code> function in contrast to the
<code>hsearch</code> functions is that there is an easy way to remove
elements.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>tdelete</b><i> (const void *<var>key</var>, void **<var>rootp</var>, comparison_fn_t <var>compar</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
To remove a specific element matching <var>key</var> from the tree
<code>tdelete</code> can be used.  It locates the matching element using the
same method as <code>tfind</code>.  The corresponding element is then removed
and a pointer to the parent of the deleted node is returned by the
function.  If there is no matching entry in the tree nothing can be
deleted and the function returns <code>NULL</code>.  If the root of the tree
is deleted <code>tdelete</code> returns some unspecified value not equal to
<code>NULL</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>tdestroy</b><i> (void *<var>vroot</var>, __free_fn_t <var>freefct</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the complete search tree has to be removed one can use
<code>tdestroy</code>.  It frees all resources allocated by the <code>tsearch</code>
function to generate the tree pointed to by <var>vroot</var>.

<p>For the data in each tree node the function <var>freefct</var> is called. 
The pointer to the data is passed as the argument to the function.  If
no such work is necessary <var>freefct</var> must point to a function doing
nothing.  It is called in any case.

<p>This function is a GNU extension and not covered by the System&nbsp;V or
X/Open specifications. 
</td></tr>
</table>

<p>In addition to the function to create and destroy the tree data
structure, there is another function which allows you to apply a
function to all elements of the tree.  The function must have this type:

<br><pre>void __action_fn_t (const void *nodep, VISIT value, int level);
</pre>

<p>The <var>nodep</var> is the data value of the current node (once given as the
<var>key</var> argument to <code>tsearch</code>).  <var>level</var> is a numeric value
which corresponds to the depth of the current node in the tree.  The
root node has the depth 0 and its children have a depth of
1 and so on.  The <code>VISIT</code> type is an enumeration type.

<p>
<table width="100%">
<tr>
<td align="left"><b>VISIT</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>VISIT</code> value indicates the status of the current node in the
tree and how the function is called.  The status of a node is either
`leaf' or `internal node'.  For each leaf node the function is called
exactly once, for each internal node it is called three times: before
the first child is processed, after the first child is processed and
after both children are processed.  This makes it possible to handle all
three methods of tree traversal (or even a combination of them).

<dl>
<dt><code>preorder</code>
<dd>The current node is an internal node and the function is called before
the first child was processed. 
<br><dt><code>postorder</code>
<dd>The current node is an internal node and the function is called after
the first child was processed. 
<br><dt><code>endorder</code>
<dd>The current node is an internal node and the function is called after
the second child was processed. 
<br><dt><code>leaf</code>
<dd>The current node is a leaf. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>twalk</b><i> (const void *<var>root</var>, __action_fn_t <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
For each node in the tree with a node pointed to by <var>root</var>, the
<code>twalk</code> function calls the function provided by the parameter
<var>action</var>.  For leaf nodes the function is called exactly once with
<var>value</var> set to <code>leaf</code>.  For internal nodes the function is
called three times, setting the <var>value</var> parameter or <var>action</var> to
the appropriate value.  The <var>level</var> argument for the <var>action</var>
function is computed while descending the tree with increasing the value
by one for the descend to a child, starting with the value 0 for
the root node.

<p>Since the functions used for the <var>action</var> parameter to <code>twalk</code>
must not modify the tree data, it is safe to run <code>twalk</code> in more
than one thread at the same time, working on the same tree.  It is also
safe to call <code>tfind</code> in parallel.  Functions which modify the tree
must not be used, otherwise the behavior is undefined. 
</td></tr>
</table>

<p><hr>
Node:<a name="Pattern%20Matching">Pattern Matching</a>,
Next:<a rel=next accesskey=n href="#I%2fO%20Overview">I/O Overview</a>,
Previous:<a rel=previous accesskey=p href="#Searching%20and%20Sorting">Searching and Sorting</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Pattern Matching</h2>

<p>The GNU C Library provides pattern matching facilities for two kinds of
patterns: regular expressions and file-name wildcards.  The library also
provides a facility for expanding variable and command references and
parsing text into words in the way the shell does.

<ul>
<li><a accesskey=1 href="#Wildcard%20Matching">Wildcard Matching</a>:     Matching a wildcard pattern against a single string. 
<li><a accesskey=2 href="#Globbing">Globbing</a>:              Finding the files that match a wildcard pattern. 
<li><a accesskey=3 href="#Regular%20Expressions">Regular Expressions</a>:   Matching regular expressions against strings. 
<li><a accesskey=4 href="#Word%20Expansion">Word Expansion</a>:        Expanding shell variables, nested commands,
			    arithmetic, and wildcards. 
			    This is what the shell does with shell commands. 
</ul>

<p><hr>
Node:<a name="Wildcard%20Matching">Wildcard Matching</a>,
Next:<a rel=next accesskey=n href="#Globbing">Globbing</a>,
Up:<a rel=up accesskey=u href="#Pattern%20Matching">Pattern Matching</a>
<br>

<h3>Wildcard Matching</h3>

<p>This section describes how to match a wildcard pattern against a
particular string.  The result is a yes or no answer: does the
string fit the pattern or not.  The symbols described here are all
declared in <code>fnmatch.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fnmatch</b><i> (const char *<var>pattern</var>, const char *<var>string</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function tests whether the string <var>string</var> matches the pattern
<var>pattern</var>.  It returns <code>0</code> if they do match; otherwise, it
returns the nonzero value <code>FNM_NOMATCH</code>.  The arguments
<var>pattern</var> and <var>string</var> are both strings.

<p>The argument <var>flags</var> is a combination of flag bits that alter the
details of matching.  See below for a list of the defined flags.

<p>In the GNU C Library, <code>fnmatch</code> cannot experience an "error"--it
always returns an answer for whether the match succeeds.  However, other
implementations of <code>fnmatch</code> might sometimes report "errors". 
They would do so by returning nonzero values that are not equal to
<code>FNM_NOMATCH</code>. 
</td></tr>
</table>

<p>These are the available flags for the <var>flags</var> argument:

<dl>
<dt><code>FNM_FILE_NAME</code>
<dd>Treat the <code>/</code> character specially, for matching file names.  If
this flag is set, wildcard constructs in <var>pattern</var> cannot match
<code>/</code> in <var>string</var>.  Thus, the only way to match <code>/</code> is with
an explicit <code>/</code> in <var>pattern</var>.

<br><dt><code>FNM_PATHNAME</code>
<dd>This is an alias for <code>FNM_FILE_NAME</code>; it comes from POSIX.2.  We
don't recommend this name because we don't use the term "pathname" for
file names.

<br><dt><code>FNM_PERIOD</code>
<dd>Treat the <code>.</code> character specially if it appears at the beginning of
<var>string</var>.  If this flag is set, wildcard constructs in <var>pattern</var>
cannot match <code>.</code> as the first character of <var>string</var>.

<p>If you set both <code>FNM_PERIOD</code> and <code>FNM_FILE_NAME</code>, then the
special treatment applies to <code>.</code> following <code>/</code> as well as to
<code>.</code> at the beginning of <var>string</var>.  (The shell uses the
<code>FNM_PERIOD</code> and <code>FNM_FILE_NAME</code> flags together for matching
file names.)

<br><dt><code>FNM_NOESCAPE</code>
<dd>Don't treat the <code>\</code> character specially in patterns.  Normally,
<code>\</code> quotes the following character, turning off its special meaning
(if any) so that it matches only itself.  When quoting is enabled, the
pattern <code>\?</code> matches only the string <code>?</code>, because the question
mark in the pattern acts like an ordinary character.

<p>If you use <code>FNM_NOESCAPE</code>, then <code>\</code> is an ordinary character.

<br><dt><code>FNM_LEADING_DIR</code>
<dd>Ignore a trailing sequence of characters starting with a <code>/</code> in
<var>string</var>; that is to say, test whether <var>string</var> starts with a
directory name that <var>pattern</var> matches.

<p>If this flag is set, either <code>foo*</code> or <code>foobar</code> as a pattern
would match the string <code>foobar/frobozz</code>.

<br><dt><code>FNM_CASEFOLD</code>
<dd>Ignore case in comparing <var>string</var> to <var>pattern</var>.

<br><dt><code>FNM_EXTMATCH</code>
<dd>Recognize beside the normal patterns also the extended patterns
introduced in <code>ksh</code>.  The patterns are written in the form
explained in the following table where <var>pattern-list</var> is a <code>|</code>
separated list of patterns.

<dl>
<dt><code>?(<var>pattern-list</var>)</code>
<dd>The pattern matches if zero or one occurrences of any of the patterns
in the <var>pattern-list</var> allow matching the input string.

<br><dt><code>*(<var>pattern-list</var>)</code>
<dd>The pattern matches if zero or more occurrences of any of the patterns
in the <var>pattern-list</var> allow matching the input string.

<br><dt><code>+(<var>pattern-list</var>)</code>
<dd>The pattern matches if one or more occurrences of any of the patterns
in the <var>pattern-list</var> allow matching the input string.

<br><dt><code>@(<var>pattern-list</var>)</code>
<dd>The pattern matches if exactly one occurrence of any of the patterns in
the <var>pattern-list</var> allows matching the input string.

<br><dt><code>!(<var>pattern-list</var>)</code>
<dd>The pattern matches if the input string cannot be matched with any of
the patterns in the <var>pattern-list</var>. 
</dl>
</dl>

<p><hr>
Node:<a name="Globbing">Globbing</a>,
Next:<a rel=next accesskey=n href="#Regular%20Expressions">Regular Expressions</a>,
Previous:<a rel=previous accesskey=p href="#Wildcard%20Matching">Wildcard Matching</a>,
Up:<a rel=up accesskey=u href="#Pattern%20Matching">Pattern Matching</a>
<br>

<h3>Globbing</h3>

<p>The archetypal use of wildcards is for matching against the files in a
directory, and making a list of all the matches.  This is called
<dfn>globbing</dfn>.

<p>You could do this using <code>fnmatch</code>, by reading the directory entries
one by one and testing each one with <code>fnmatch</code>.  But that would be
slow (and complex, since you would have to handle subdirectories by
hand).

<p>The library provides a function <code>glob</code> to make this particular use
of wildcards convenient.  <code>glob</code> and the other symbols in this
section are declared in <code>glob.h</code>.

<ul>
<li><a accesskey=1 href="#Calling%20Glob">Calling Glob</a>:              Basic use of <code>glob</code>. 
<li><a accesskey=2 href="#Flags%20for%20Globbing">Flags for Globbing</a>:        Flags that enable various options in <code>glob</code>. 
<li><a accesskey=3 href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>:   GNU specific extensions to <code>glob</code>. 
</ul>

<p><hr>
Node:<a name="Calling%20Glob">Calling Glob</a>,
Next:<a rel=next accesskey=n href="#Flags%20for%20Globbing">Flags for Globbing</a>,
Up:<a rel=up accesskey=u href="#Globbing">Globbing</a>
<br>

<h4>Calling <code>glob</code></h4>

<p>The result of globbing is a vector of file names (strings).  To return
this vector, <code>glob</code> uses a special data type, <code>glob_t</code>, which
is a structure.  You pass <code>glob</code> the address of the structure, and
it fills in the structure's fields to tell you about the results.

<p>
<table width="100%">
<tr>
<td align="left"><b>glob_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type holds a pointer to a word vector.  More precisely, it
records both the address of the word vector and its size.  The GNU
implementation contains some more fields which are non-standard
extensions.

<dl>
<dt><code>gl_pathc</code>
<dd>The number of elements in the vector, excluding the initial null entries
if the GLOB_DOOFFS flag is used (see gl_offs below).

<br><dt><code>gl_pathv</code>
<dd>The address of the vector.  This field has type <code>char&nbsp;**</code>.

<br><dt><code>gl_offs</code>
<dd>The offset of the first real element of the vector, from its nominal
address in the <code>gl_pathv</code> field.  Unlike the other fields, this
is always an input to <code>glob</code>, rather than an output from it.

<p>If you use a nonzero offset, then that many elements at the beginning of
the vector are left empty.  (The <code>glob</code> function fills them with
null pointers.)

<p>The <code>gl_offs</code> field is meaningful only if you use the
<code>GLOB_DOOFFS</code> flag.  Otherwise, the offset is always zero
regardless of what is in this field, and the first real element comes at
the beginning of the vector.

<br><dt><code>gl_closedir</code>
<dd>The address of an alternative implementation of the <code>closedir</code>
function.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit is set in
the flag parameter.  The type of this field is
<code>void&nbsp;(*)&nbsp;(void&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_readdir</code>
<dd>The address of an alternative implementation of the <code>readdir</code>
function used to read the contents of a directory.  It is used if the
<code>GLOB_ALTDIRFUNC</code> bit is set in the flag parameter.  The type of
this field is <code>struct&nbsp;dirent&nbsp;*(*)&nbsp;(void&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_opendir</code>
<dd>The address of an alternative implementation of the <code>opendir</code>
function.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit is set in
the flag parameter.  The type of this field is
<code>void&nbsp;*(*)&nbsp;(const&nbsp;char&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_stat</code>
<dd>The address of an alternative implementation of the <code>stat</code> function
to get information about an object in the filesystem.  It is used if the
<code>GLOB_ALTDIRFUNC</code> bit is set in the flag parameter.  The type of
this field is <code>int&nbsp;(*)&nbsp;(const&nbsp;char&nbsp;*,&nbsp;struct&nbsp;stat&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_lstat</code>
<dd>The address of an alternative implementation of the <code>lstat</code>
function to get information about an object in the filesystems, not
following symbolic links.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit
is set in the flag parameter.  The type of this field is <code>int&nbsp;(*)&nbsp;(const&nbsp;char&nbsp;*, struct&nbsp;stat&nbsp;*)</code>.

<p>This is a GNU extension. 
</dl>
</td></tr>
</table>

<p>For use in the <code>glob64</code> function <code>glob.h</code> contains another
definition for a very similar type.  <code>glob64_t</code> differs from
<code>glob_t</code> only in the types of the members <code>gl_readdir</code>,
<code>gl_stat</code>, and <code>gl_lstat</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>glob64_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type holds a pointer to a word vector.  More precisely, it
records both the address of the word vector and its size.  The GNU
implementation contains some more fields which are non-standard
extensions.

<dl>
<dt><code>gl_pathc</code>
<dd>The number of elements in the vector, excluding the initial null entries
if the GLOB_DOOFFS flag is used (see gl_offs below).

<br><dt><code>gl_pathv</code>
<dd>The address of the vector.  This field has type <code>char&nbsp;**</code>.

<br><dt><code>gl_offs</code>
<dd>The offset of the first real element of the vector, from its nominal
address in the <code>gl_pathv</code> field.  Unlike the other fields, this
is always an input to <code>glob</code>, rather than an output from it.

<p>If you use a nonzero offset, then that many elements at the beginning of
the vector are left empty.  (The <code>glob</code> function fills them with
null pointers.)

<p>The <code>gl_offs</code> field is meaningful only if you use the
<code>GLOB_DOOFFS</code> flag.  Otherwise, the offset is always zero
regardless of what is in this field, and the first real element comes at
the beginning of the vector.

<br><dt><code>gl_closedir</code>
<dd>The address of an alternative implementation of the <code>closedir</code>
function.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit is set in
the flag parameter.  The type of this field is
<code>void&nbsp;(*)&nbsp;(void&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_readdir</code>
<dd>The address of an alternative implementation of the <code>readdir64</code>
function used to read the contents of a directory.  It is used if the
<code>GLOB_ALTDIRFUNC</code> bit is set in the flag parameter.  The type of
this field is <code>struct&nbsp;dirent64&nbsp;*(*)&nbsp;(void&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_opendir</code>
<dd>The address of an alternative implementation of the <code>opendir</code>
function.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit is set in
the flag parameter.  The type of this field is
<code>void&nbsp;*(*)&nbsp;(const&nbsp;char&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_stat</code>
<dd>The address of an alternative implementation of the <code>stat64</code> function
to get information about an object in the filesystem.  It is used if the
<code>GLOB_ALTDIRFUNC</code> bit is set in the flag parameter.  The type of
this field is <code>int&nbsp;(*)&nbsp;(const&nbsp;char&nbsp;*,&nbsp;struct&nbsp;stat64&nbsp;*)</code>.

<p>This is a GNU extension.

<br><dt><code>gl_lstat</code>
<dd>The address of an alternative implementation of the <code>lstat64</code>
function to get information about an object in the filesystems, not
following symbolic links.  It is used if the <code>GLOB_ALTDIRFUNC</code> bit
is set in the flag parameter.  The type of this field is <code>int&nbsp;(*)&nbsp;(const&nbsp;char&nbsp;*, struct&nbsp;stat64&nbsp;*)</code>.

<p>This is a GNU extension. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>glob</b><i> (const char *<var>pattern</var>, int <var>flags</var>, int (*<var>errfunc</var>) (const char *<var>filename</var>, int <var>error-code</var>), glob_t *<var>vector-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>glob</code> does globbing using the pattern <var>pattern</var>
in the current directory.  It puts the result in a newly allocated
vector, and stores the size and address of this vector into
<code>*<var>vector-ptr</var></code>.  The argument <var>flags</var> is a combination of
bit flags; see <a href="#Flags%20for%20Globbing">Flags for Globbing</a>, for details of the flags.

<p>The result of globbing is a sequence of file names.  The function
<code>glob</code> allocates a string for each resulting word, then
allocates a vector of type <code>char **</code> to store the addresses of
these strings.  The last element of the vector is a null pointer. 
This vector is called the <dfn>word vector</dfn>.

<p>To return this vector, <code>glob</code> stores both its address and its
length (number of elements, not counting the terminating null pointer)
into <code>*<var>vector-ptr</var></code>.

<p>Normally, <code>glob</code> sorts the file names alphabetically before
returning them.  You can turn this off with the flag <code>GLOB_NOSORT</code>
if you want to get the information as fast as possible.  Usually it's
a good idea to let <code>glob</code> sort them--if you process the files in
alphabetical order, the users will have a feel for the rate of progress
that your application is making.

<p>If <code>glob</code> succeeds, it returns 0.  Otherwise, it returns one
of these error codes:

<dl>
<dt><code>GLOB_ABORTED</code>
<dd>There was an error opening a directory, and you used the flag
<code>GLOB_ERR</code> or your specified <var>errfunc</var> returned a nonzero
value. 
for an explanation of the <code>GLOB_ERR</code> flag and <var>errfunc</var>.

<br><dt><code>GLOB_NOMATCH</code>
<dd>The pattern didn't match any existing files.  If you use the
<code>GLOB_NOCHECK</code> flag, then you never get this error code, because
that flag tells <code>glob</code> to <em>pretend</em> that the pattern matched
at least one file.

<br><dt><code>GLOB_NOSPACE</code>
<dd>It was impossible to allocate memory to hold the result. 
</dl>

<p>In the event of an error, <code>glob</code> stores information in
<code>*<var>vector-ptr</var></code> about all the matches it has found so far.

<p>It is important to notice that the <code>glob</code> function will not fail if
it encounters directories or files which cannot be handled without the
LFS interfaces.  The implementation of <code>glob</code> is supposed to use
these functions internally.  This at least is the assumptions made by
the Unix standard.  The GNU extension of allowing the user to provide
own directory handling and <code>stat</code> functions complicates things a
bit.  If these callback functions are used and a large file or directory
is encountered <code>glob</code> <em>can</em> fail. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>glob64</b><i> (const char *<var>pattern</var>, int <var>flags</var>, int (*<var>errfunc</var>) (const char *<var>filename</var>, int <var>error-code</var>), glob64_t *<var>vector-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>glob64</code> function was added as part of the Large File Summit
extensions but is not part of the original LFS proposal.  The reason for
this is simple: it is not necessary.  The necessity for a <code>glob64</code>
function is added by the extensions of the GNU <code>glob</code>
implementation which allows the user to provide own directory handling
and <code>stat</code> functions.  The <code>readdir</code> and <code>stat</code> functions
do depend on the choice of <code>_FILE_OFFSET_BITS</code> since the definition
of the types <code>struct dirent</code> and <code>struct stat</code> will change
depending on the choice.

<p>Beside this difference the <code>glob64</code> works just like <code>glob</code> in
all aspects.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Flags%20for%20Globbing">Flags for Globbing</a>,
Next:<a rel=next accesskey=n href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>,
Previous:<a rel=previous accesskey=p href="#Calling%20Glob">Calling Glob</a>,
Up:<a rel=up accesskey=u href="#Globbing">Globbing</a>
<br>

<h4>Flags for Globbing</h4>

<p>This section describes the flags that you can specify in the
<var>flags</var> argument to <code>glob</code>.  Choose the flags you want,
and combine them with the C bitwise OR operator <code>|</code>.

<dl>
<dt><code>GLOB_APPEND</code>
<dd>Append the words from this expansion to the vector of words produced by
previous calls to <code>glob</code>.  This way you can effectively expand
several words as if they were concatenated with spaces between them.

<p>In order for appending to work, you must not modify the contents of the
word vector structure between calls to <code>glob</code>.  And, if you set
<code>GLOB_DOOFFS</code> in the first call to <code>glob</code>, you must also
set it when you append to the results.

<p>Note that the pointer stored in <code>gl_pathv</code> may no longer be valid
after you call <code>glob</code> the second time, because <code>glob</code> might
have relocated the vector.  So always fetch <code>gl_pathv</code> from the
<code>glob_t</code> structure after each <code>glob</code> call; <strong>never</strong> save
the pointer across calls.

<br><dt><code>GLOB_DOOFFS</code>
<dd>Leave blank slots at the beginning of the vector of words. 
The <code>gl_offs</code> field says how many slots to leave. 
The blank slots contain null pointers.

<br><dt><code>GLOB_ERR</code>
<dd>Give up right away and report an error if there is any difficulty
reading the directories that must be read in order to expand <var>pattern</var>
fully.  Such difficulties might include a directory in which you don't
have the requisite access.  Normally, <code>glob</code> tries its best to keep
on going despite any errors, reading whatever directories it can.

<p>You can exercise even more control than this by specifying an
error-handler function <var>errfunc</var> when you call <code>glob</code>.  If
<var>errfunc</var> is not a null pointer, then <code>glob</code> doesn't give up
right away when it can't read a directory; instead, it calls
<var>errfunc</var> with two arguments, like this:

<br><pre>(*<var>errfunc</var>) (<var>filename</var>, <var>error-code</var>)
</pre>

<p>The argument <var>filename</var> is the name of the directory that
<code>glob</code> couldn't open or couldn't read, and <var>error-code</var> is the
<code>errno</code> value that was reported to <code>glob</code>.

<p>If the error handler function returns nonzero, then <code>glob</code> gives up
right away.  Otherwise, it continues.

<br><dt><code>GLOB_MARK</code>
<dd>If the pattern matches the name of a directory, append <code>/</code> to the
directory's name when returning it.

<br><dt><code>GLOB_NOCHECK</code>
<dd>If the pattern doesn't match any file names, return the pattern itself
as if it were a file name that had been matched.  (Normally, when the
pattern doesn't match anything, <code>glob</code> returns that there were no
matches.)

<br><dt><code>GLOB_NOSORT</code>
<dd>Don't sort the file names; return them in no particular order. 
(In practice, the order will depend on the order of the entries in
the directory.)  The only reason <em>not</em> to sort is to save time.

<br><dt><code>GLOB_NOESCAPE</code>
<dd>Don't treat the <code>\</code> character specially in patterns.  Normally,
<code>\</code> quotes the following character, turning off its special meaning
(if any) so that it matches only itself.  When quoting is enabled, the
pattern <code>\?</code> matches only the string <code>?</code>, because the question
mark in the pattern acts like an ordinary character.

<p>If you use <code>GLOB_NOESCAPE</code>, then <code>\</code> is an ordinary character.

<p><code>glob</code> does its work by calling the function <code>fnmatch</code>
repeatedly.  It handles the flag <code>GLOB_NOESCAPE</code> by turning on the
<code>FNM_NOESCAPE</code> flag in calls to <code>fnmatch</code>. 
</dl>

<p><hr>
Node:<a name="More%20Flags%20for%20Globbing">More Flags for Globbing</a>,
Previous:<a rel=previous accesskey=p href="#Flags%20for%20Globbing">Flags for Globbing</a>,
Up:<a rel=up accesskey=u href="#Globbing">Globbing</a>
<br>

<h4>More Flags for Globbing</h4>

<p>Beside the flags described in the last section, the GNU implementation of
<code>glob</code> allows a few more flags which are also defined in the
<code>glob.h</code> file.  Some of the extensions implement functionality
which is available in modern shell implementations.

<dl>
<dt><code>GLOB_PERIOD</code>
<dd>The <code>.</code> character (period) is treated special.  It cannot be
matched by wildcards.  See <a href="#Wildcard%20Matching">Wildcard Matching</a>, <code>FNM_PERIOD</code>.

<br><dt><code>GLOB_MAGCHAR</code>
<dd>The <code>GLOB_MAGCHAR</code> value is not to be given to <code>glob</code> in the
<var>flags</var> parameter.  Instead, <code>glob</code> sets this bit in the
<var>gl_flags</var> element of the <var>glob_t</var> structure provided as the
result if the pattern used for matching contains any wildcard character.

<br><dt><code>GLOB_ALTDIRFUNC</code>
<dd>Instead of the using the using the normal functions for accessing the
filesystem the <code>glob</code> implementation uses the user-supplied
functions specified in the structure pointed to by <var>pglob</var>
parameter.  For more information about the functions refer to the
sections about directory handling see <a href="#Accessing%20Directories">Accessing Directories</a>, and
<a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>GLOB_BRACE</code>
<dd>If this flag is given the handling of braces in the pattern is changed. 
It is now required that braces appear correctly grouped.  I.e., for each
opening brace there must be a closing one.  Braces can be used
recursively.  So it is possible to define one brace expression in
another one.  It is important to note that the range of each brace
expression is completely contained in the outer brace expression (if
there is one).

<p>The string between the matching braces is separated into single
expressions by splitting at <code>,</code> (comma) characters.  The commas
themselves are discarded.  Please note what we said above about recursive
brace expressions.  The commas used to separate the subexpressions must
be at the same level.  Commas in brace subexpressions are not matched. 
They are used during expansion of the brace expression of the deeper
level.  The example below shows this

<br><pre>glob ("{foo/{,bar,biz},baz}", GLOB_BRACE, NULL, &amp;result)
</pre>

<p>is equivalent to the sequence

<br><pre>glob ("foo/", GLOB_BRACE, NULL, &amp;result)
glob ("foo/bar", GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
glob ("foo/biz", GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
glob ("baz", GLOB_BRACE|GLOB_APPEND, NULL, &amp;result)
</pre>

<p>if we leave aside error handling.

<br><dt><code>GLOB_NOMAGIC</code>
<dd>If the pattern contains no wildcard constructs (it is a literal file name),
return it as the sole "matching" word, even if no file exists by that name.

<br><dt><code>GLOB_TILDE</code>
<dd>If this flag is used the character <code>~</code> (tilde) is handled special
if it appears at the beginning of the pattern.  Instead of being taken
verbatim it is used to represent the home directory of a known user.

<p>If <code>~</code> is the only character in pattern or it is followed by a
<code>/</code> (slash), the home directory of the process owner is
substituted.  Using <code>getlogin</code> and <code>getpwnam</code> the information
is read from the system databases.  As an example take user <code>bart</code>
with his home directory at <code>/home/bart</code>.  For him a call like

<br><pre>glob ("~/bin/*", GLOB_TILDE, NULL, &amp;result)
</pre>

<p>would return the contents of the directory <code>/home/bart/bin</code>. 
Instead of referring to the own home directory it is also possible to
name the home directory of other users.  To do so one has to append the
user name after the tilde character.  So the contents of user
<code>homer</code>'s <code>bin</code> directory can be retrieved by

<br><pre>glob ("~homer/bin/*", GLOB_TILDE, NULL, &amp;result)
</pre>

<p>If the user name is not valid or the home directory cannot be determined
for some reason the pattern is left untouched and itself used as the
result.  I.e., if in the last example <code>home</code> is not available the
tilde expansion yields to <code>"~homer/bin/*"</code> and <code>glob</code> is not
looking for a directory named <code>~homer</code>.

<p>This functionality is equivalent to what is available in C-shells if the
<code>nonomatch</code> flag is set.

<br><dt><code>GLOB_TILDE_CHECK</code>
<dd>If this flag is used <code>glob</code> behaves like as if <code>GLOB_TILDE</code> is
given.  The only difference is that if the user name is not available or
the home directory cannot be determined for other reasons this leads to
an error.  <code>glob</code> will return <code>GLOB_NOMATCH</code> instead of using
the pattern itself as the name.

<p>This functionality is equivalent to what is available in C-shells if
<code>nonomatch</code> flag is not set.

<br><dt><code>GLOB_ONLYDIR</code>
<dd>If this flag is used the globbing function takes this as a
<strong>hint</strong> that the caller is only interested in directories
matching the pattern.  If the information about the type of the file
is easily available non-directories will be rejected but no extra
work will be done to determine the information for each file.  I.e.,
the caller must still be able to filter directories out.

<p>This functionality is only available with the GNU <code>glob</code>
implementation.  It is mainly used internally to increase the
performance but might be useful for a user as well and therefore is
documented here. 
</dl>

<p>Calling <code>glob</code> will in most cases allocate resources which are used
to represent the result of the function call.  If the same object of
type <code>glob_t</code> is used in multiple call to <code>glob</code> the resources
are freed or reused so that no leaks appear.  But this does not include
the time when all <code>glob</code> calls are done.

<p>
<table width="100%">
<tr>
<td align="left">void <b>globfree</b><i> (glob_t *<var>pglob</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>globfree</code> function frees all resources allocated by previous
calls to <code>glob</code> associated with the object pointed to by
<var>pglob</var>.  This function should be called whenever the currently used
<code>glob_t</code> typed object isn't used anymore. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>globfree64</b><i> (glob64_t *<var>pglob</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to <code>globfree</code> but it frees records of
type <code>glob64_t</code> which were allocated by <code>glob64</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Regular%20Expressions">Regular Expressions</a>,
Next:<a rel=next accesskey=n href="#Word%20Expansion">Word Expansion</a>,
Previous:<a rel=previous accesskey=p href="#Globbing">Globbing</a>,
Up:<a rel=up accesskey=u href="#Pattern%20Matching">Pattern Matching</a>
<br>

<h3>Regular Expression Matching</h3>

<p>The GNU C library supports two interfaces for matching regular
expressions.  One is the standard POSIX.2 interface, and the other is
what the GNU system has had for many years.

<p>Both interfaces are declared in the header file <code>regex.h</code>. 
If you define <code>_POSIX_C_SOURCE</code>, then only the POSIX.2
functions, structures, and constants are declared.

<ul>
<li><a accesskey=1 href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>:     Using <code>regcomp</code> to prepare to match. 
<li><a accesskey=2 href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>:      Syntax variations for <code>regcomp</code>. 
<li><a accesskey=3 href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>:       Using <code>regexec</code> to match the compiled
				   pattern that you get from <code>regcomp</code>. 
<li><a accesskey=4 href="#Regexp%20Subexpressions">Regexp Subexpressions</a>:        Finding which parts of the string were matched. 
<li><a accesskey=5 href="#Subexpression%20Complications">Subexpression Complications</a>:  Find points of which parts were matched. 
<li><a accesskey=6 href="#Regexp%20Cleanup">Regexp Cleanup</a>: 		Freeing storage; reporting errors. 
</ul>

<p><hr>
Node:<a name="POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>,
Next:<a rel=next accesskey=n href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>POSIX Regular Expression Compilation</h4>

<p>Before you can actually match a regular expression, you must
<dfn>compile</dfn> it.  This is not true compilation--it produces a special
data structure, not machine instructions.  But it is like ordinary
compilation in that its purpose is to enable you to "execute" the
pattern fast.  (See <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>, for how to use the
compiled regular expression for matching.)

<p>There is a special data type for compiled regular expressions:

<p>
<table width="100%">
<tr>
<td align="left"><b>regex_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This type of object holds a compiled regular expression. 
It is actually a structure.  It has just one field that your programs
should look at:

<dl>
<dt><code>re_nsub</code>
<dd>This field holds the number of parenthetical subexpressions in the
regular expression that was compiled. 
</dl>

<p>There are several other fields, but we don't describe them here, because
only the functions in the library should use them. 
</td></tr>
</table>

<p>After you create a <code>regex_t</code> object, you can compile a regular
expression into it by calling <code>regcomp</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>regcomp</b><i> (regex_t *<var>compiled</var>, const char *<var>pattern</var>, int <var>cflags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>regcomp</code> "compiles" a regular expression into a
data structure that you can use with <code>regexec</code> to match against a
string.  The compiled regular expression format is designed for
efficient matching.  <code>regcomp</code> stores it into <code>*<var>compiled</var></code>.

<p>It's up to you to allocate an object of type <code>regex_t</code> and pass its
address to <code>regcomp</code>.

<p>The argument <var>cflags</var> lets you specify various options that control
the syntax and semantics of regular expressions.  See <a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>.

<p>If you use the flag <code>REG_NOSUB</code>, then <code>regcomp</code> omits from
the compiled regular expression the information necessary to record
how subexpressions actually match.  In this case, you might as well
pass <code>0</code> for the <var>matchptr</var> and <var>nmatch</var> arguments when
you call <code>regexec</code>.

<p>If you don't use <code>REG_NOSUB</code>, then the compiled regular expression
does have the capacity to record how subexpressions match.  Also,
<code>regcomp</code> tells you how many subexpressions <var>pattern</var> has, by
storing the number in <code><var>compiled</var>-&gt;re_nsub</code>.  You can use that
value to decide how long an array to allocate to hold information about
subexpression matches.

<p><code>regcomp</code> returns <code>0</code> if it succeeds in compiling the regular
expression; otherwise, it returns a nonzero error code (see the table
below).  You can use <code>regerror</code> to produce an error message string
describing the reason for a nonzero value; see <a href="#Regexp%20Cleanup">Regexp Cleanup</a>.

</td></tr>
</table>

<p>Here are the possible nonzero values that <code>regcomp</code> can return:

<dl>
<dt><code>REG_BADBR</code>
<dd>There was an invalid <code>\{<small>...</small>\}</code> construct in the regular
expression.  A valid <code>\{<small>...</small>\}</code> construct must contain either
a single number, or two numbers in increasing order separated by a
comma.

<br><dt><code>REG_BADPAT</code>
<dd>There was a syntax error in the regular expression.

<br><dt><code>REG_BADRPT</code>
<dd>A repetition operator such as <code>?</code> or <code>*</code> appeared in a bad
position (with no preceding subexpression to act on).

<br><dt><code>REG_ECOLLATE</code>
<dd>The regular expression referred to an invalid collating element (one not
defined in the current locale for string collation).  See <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>REG_ECTYPE</code>
<dd>The regular expression referred to an invalid character class name.

<br><dt><code>REG_EESCAPE</code>
<dd>The regular expression ended with <code>\</code>.

<br><dt><code>REG_ESUBREG</code>
<dd>There was an invalid number in the <code>\<var>digit</var></code> construct.

<br><dt><code>REG_EBRACK</code>
<dd>There were unbalanced square brackets in the regular expression.

<br><dt><code>REG_EPAREN</code>
<dd>An extended regular expression had unbalanced parentheses,
or a basic regular expression had unbalanced <code>\(</code> and <code>\)</code>.

<br><dt><code>REG_EBRACE</code>
<dd>The regular expression had unbalanced <code>\{</code> and <code>\}</code>.

<br><dt><code>REG_ERANGE</code>
<dd>One of the endpoints in a range expression was invalid.

<br><dt><code>REG_ESPACE</code>
<dd><code>regcomp</code> ran out of memory. 
</dl>

<p><hr>
Node:<a name="Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>,
Next:<a rel=next accesskey=n href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>,
Previous:<a rel=previous accesskey=p href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>Flags for POSIX Regular Expressions</h4>

<p>These are the bit flags that you can use in the <var>cflags</var> operand when
compiling a regular expression with <code>regcomp</code>.

<dl>
<dt><code>REG_EXTENDED</code>
<dd>Treat the pattern as an extended regular expression, rather than as a
basic regular expression.

<br><dt><code>REG_ICASE</code>
<dd>Ignore case when matching letters.

<br><dt><code>REG_NOSUB</code>
<dd>Don't bother storing the contents of the <var>matches-ptr</var> array.

<br><dt><code>REG_NEWLINE</code>
<dd>Treat a newline in <var>string</var> as dividing <var>string</var> into multiple
lines, so that <code>$</code> can match before the newline and <code>^</code> can
match after.  Also, don't permit <code>.</code> to match a newline, and don't
permit <code>[^<small>...</small>]</code> to match a newline.

<p>Otherwise, newline acts like any other ordinary character. 
</dl>

<p><hr>
Node:<a name="Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>,
Next:<a rel=next accesskey=n href="#Regexp%20Subexpressions">Regexp Subexpressions</a>,
Previous:<a rel=previous accesskey=p href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>Matching a Compiled POSIX Regular Expression</h4>

<p>Once you have compiled a regular expression, as described in <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>, you can match it against strings using
<code>regexec</code>.  A match anywhere inside the string counts as success,
unless the regular expression contains anchor characters (<code>^</code> or
<code>$</code>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>regexec</b><i> (regex_t *<var>compiled</var>, char *<var>string</var>, size_t <var>nmatch</var>, regmatch_t <var>matchptr</var> <tt>[]</tt>, int <var>eflags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function tries to match the compiled regular expression
<code>*<var>compiled</var></code> against <var>string</var>.

<p><code>regexec</code> returns <code>0</code> if the regular expression matches;
otherwise, it returns a nonzero value.  See the table below for
what nonzero values mean.  You can use <code>regerror</code> to produce an
error message string describing the reason for a nonzero value;
see <a href="#Regexp%20Cleanup">Regexp Cleanup</a>.

<p>The argument <var>eflags</var> is a word of bit flags that enable various
options.

<p>If you want to get information about what part of <var>string</var> actually
matched the regular expression or its subexpressions, use the arguments
<var>matchptr</var> and <var>nmatch</var>.  Otherwise, pass <code>0</code> for
<var>nmatch</var>, and <code>NULL</code> for <var>matchptr</var>.  See <a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>. 
</td></tr>
</table>

<p>You must match the regular expression with the same set of current
locales that were in effect when you compiled the regular expression.

<p>The function <code>regexec</code> accepts the following flags in the
<var>eflags</var> argument:

<dl>
<dt><code>REG_NOTBOL</code>
<dd>Do not regard the beginning of the specified string as the beginning of
a line; more generally, don't make any assumptions about what text might
precede it.

<br><dt><code>REG_NOTEOL</code>
<dd>Do not regard the end of the specified string as the end of a line; more
generally, don't make any assumptions about what text might follow it. 
</dl>

<p>Here are the possible nonzero values that <code>regexec</code> can return:

<dl>
<dt><code>REG_NOMATCH</code>
<dd>The pattern didn't match the string.  This isn't really an error.

<br><dt><code>REG_ESPACE</code>
<dd><code>regexec</code> ran out of memory. 
</dl>

<p><hr>
Node:<a name="Regexp%20Subexpressions">Regexp Subexpressions</a>,
Next:<a rel=next accesskey=n href="#Subexpression%20Complications">Subexpression Complications</a>,
Previous:<a rel=previous accesskey=p href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>Match Results with Subexpressions</h4>

<p>When <code>regexec</code> matches parenthetical subexpressions of
<var>pattern</var>, it records which parts of <var>string</var> they match.  It
returns that information by storing the offsets into an array whose
elements are structures of type <code>regmatch_t</code>.  The first element of
the array (index <code>0</code>) records the part of the string that matched
the entire regular expression.  Each other element of the array records
the beginning and end of the part that matched a single parenthetical
subexpression.

<p>
<table width="100%">
<tr>
<td align="left"><b>regmatch_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type of the <var>matcharray</var> array that you pass to
<code>regexec</code>.  It contains two structure fields, as follows:

<dl>
<dt><code>rm_so</code>
<dd>The offset in <var>string</var> of the beginning of a substring.  Add this
value to <var>string</var> to get the address of that part.

<br><dt><code>rm_eo</code>
<dd>The offset in <var>string</var> of the end of the substring. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>regoff_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>regoff_t</code> is an alias for another signed integer type. 
The fields of <code>regmatch_t</code> have type <code>regoff_t</code>. 
</td></tr>
</table>

<p>The <code>regmatch_t</code> elements correspond to subexpressions
positionally; the first element (index <code>1</code>) records where the first
subexpression matched, the second element records the second
subexpression, and so on.  The order of the subexpressions is the order
in which they begin.

<p>When you call <code>regexec</code>, you specify how long the <var>matchptr</var>
array is, with the <var>nmatch</var> argument.  This tells <code>regexec</code> how
many elements to store.  If the actual regular expression has more than
<var>nmatch</var> subexpressions, then you won't get offset information about
the rest of them.  But this doesn't alter whether the pattern matches a
particular string or not.

<p>If you don't want <code>regexec</code> to return any information about where
the subexpressions matched, you can either supply <code>0</code> for
<var>nmatch</var>, or use the flag <code>REG_NOSUB</code> when you compile the
pattern with <code>regcomp</code>.

<p><hr>
Node:<a name="Subexpression%20Complications">Subexpression Complications</a>,
Next:<a rel=next accesskey=n href="#Regexp%20Cleanup">Regexp Cleanup</a>,
Previous:<a rel=previous accesskey=p href="#Regexp%20Subexpressions">Regexp Subexpressions</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>Complications in Subexpression Matching</h4>

<p>Sometimes a subexpression matches a substring of no characters.  This
happens when <code>f\(o*\)</code> matches the string <code>fum</code>.  (It really
matches just the <code>f</code>.)  In this case, both of the offsets identify
the point in the string where the null substring was found.  In this
example, the offsets are both <code>1</code>.

<p>Sometimes the entire regular expression can match without using some of
its subexpressions at all--for example, when <code>ba\(na\)*</code> matches the
string <code>ba</code>, the parenthetical subexpression is not used.  When
this happens, <code>regexec</code> stores <code>-1</code> in both fields of the
element for that subexpression.

<p>Sometimes matching the entire regular expression can match a particular
subexpression more than once--for example, when <code>ba\(na\)*</code>
matches the string <code>bananana</code>, the parenthetical subexpression
matches three times.  When this happens, <code>regexec</code> usually stores
the offsets of the last part of the string that matched the
subexpression.  In the case of <code>bananana</code>, these offsets are
<code>6</code> and <code>8</code>.

<p>But the last match is not always the one that is chosen.  It's more
accurate to say that the last <em>opportunity</em> to match is the one
that takes precedence.  What this means is that when one subexpression
appears within another, then the results reported for the inner
subexpression reflect whatever happened on the last match of the outer
subexpression.  For an example, consider <code>\(ba\(na\)*s \)*</code> matching
the string <code>bananas bas </code>.  The last time the inner expression
actually matches is near the end of the first word.  But it is
<em>considered</em> again in the second word, and fails to match there. 
<code>regexec</code> reports nonuse of the "na" subexpression.

<p>Another place where this rule applies is when the regular expression
<br><pre>\(ba\(na\)*s \|nefer\(ti\)* \)*
</pre>

<p>matches <code>bananas nefertiti</code>.  The "na" subexpression does match
in the first word, but it doesn't match in the second word because the
other alternative is used there.  Once again, the second repetition of
the outer subexpression overrides the first, and within that second
repetition, the "na" subexpression is not used.  So <code>regexec</code>
reports nonuse of the "na" subexpression.

<p><hr>
Node:<a name="Regexp%20Cleanup">Regexp Cleanup</a>,
Previous:<a rel=previous accesskey=p href="#Subexpression%20Complications">Subexpression Complications</a>,
Up:<a rel=up accesskey=u href="#Regular%20Expressions">Regular Expressions</a>
<br>

<h4>POSIX Regexp Matching Cleanup</h4>

<p>When you are finished using a compiled regular expression, you can
free the storage it uses by calling <code>regfree</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>regfree</b><i> (regex_t *<var>compiled</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Calling <code>regfree</code> frees all the storage that <code>*<var>compiled</var></code>
points to.  This includes various internal fields of the <code>regex_t</code>
structure that aren't documented in this manual.

<p><code>regfree</code> does not free the object <code>*<var>compiled</var></code> itself. 
</td></tr>
</table>

<p>You should always free the space in a <code>regex_t</code> structure with
<code>regfree</code> before using the structure to compile another regular
expression.

<p>When <code>regcomp</code> or <code>regexec</code> reports an error, you can use
the function <code>regerror</code> to turn it into an error message string.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>regerror</b><i> (int <var>errcode</var>, regex_t *<var>compiled</var>, char *<var>buffer</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function produces an error message string for the error code
<var>errcode</var>, and stores the string in <var>length</var> bytes of memory
starting at <var>buffer</var>.  For the <var>compiled</var> argument, supply the
same compiled regular expression structure that <code>regcomp</code> or
<code>regexec</code> was working with when it got the error.  Alternatively,
you can supply <code>NULL</code> for <var>compiled</var>; you will still get a
meaningful error message, but it might not be as detailed.

<p>If the error message can't fit in <var>length</var> bytes (including a
terminating null character), then <code>regerror</code> truncates it. 
The string that <code>regerror</code> stores is always null-terminated
even if it has been truncated.

<p>The return value of <code>regerror</code> is the minimum length needed to
store the entire error message.  If this is less than <var>length</var>, then
the error message was not truncated, and you can use it.  Otherwise, you
should call <code>regerror</code> again with a larger buffer.

<p>Here is a function which uses <code>regerror</code>, but always dynamically
allocates a buffer for the error message:

<br><pre>char *get_regerror (int errcode, regex_t *compiled)
{
  size_t length = regerror (errcode, compiled, NULL, 0);
  char *buffer = xmalloc (length);
  (void) regerror (errcode, compiled, buffer, length);
  return buffer;
}
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Word%20Expansion">Word Expansion</a>,
Previous:<a rel=previous accesskey=p href="#Regular%20Expressions">Regular Expressions</a>,
Up:<a rel=up accesskey=u href="#Pattern%20Matching">Pattern Matching</a>
<br>

<h3>Shell-Style Word Expansion</h3>

<p><dfn>Word expansion</dfn> means the process of splitting a string into
<dfn>words</dfn> and substituting for variables, commands, and wildcards
just as the shell does.

<p>For example, when you write <code>ls -l foo.c</code>, this string is split
into three separate words--<code>ls</code>, <code>-l</code> and <code>foo.c</code>. 
This is the most basic function of word expansion.

<p>When you write <code>ls *.c</code>, this can become many words, because
the word <code>*.c</code> can be replaced with any number of file names. 
This is called <dfn>wildcard expansion</dfn>, and it is also a part of
word expansion.

<p>When you use <code>echo $PATH</code> to print your path, you are taking
advantage of <dfn>variable substitution</dfn>, which is also part of word
expansion.

<p>Ordinary programs can perform word expansion just like the shell by
calling the library function <code>wordexp</code>.

<ul>
<li><a accesskey=1 href="#Expansion%20Stages">Expansion Stages</a>:             What word expansion does to a string. 
<li><a accesskey=2 href="#Calling%20Wordexp">Calling Wordexp</a>:              How to call <code>wordexp</code>. 
<li><a accesskey=3 href="#Flags%20for%20Wordexp">Flags for Wordexp</a>:            Options you can enable in <code>wordexp</code>. 
<li><a accesskey=4 href="#Wordexp%20Example">Wordexp Example</a>:              A sample program that does word expansion. 
<li><a accesskey=5 href="#Tilde%20Expansion">Tilde Expansion</a>:              Details of how tilde expansion works. 
<li><a accesskey=6 href="#Variable%20Substitution">Variable Substitution</a>:        Different types of variable substitution. 
</ul>

<p><hr>
Node:<a name="Expansion%20Stages">Expansion Stages</a>,
Next:<a rel=next accesskey=n href="#Calling%20Wordexp">Calling Wordexp</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4>The Stages of Word Expansion</h4>

<p>When word expansion is applied to a sequence of words, it performs the
following transformations in the order shown here:

<ol type=1 start=1>
</p><li><dfn>Tilde expansion</dfn>: Replacement of <code>~foo</code> with the name of
the home directory of <code>foo</code>.

<li>Next, three different transformations are applied in the same step,
from left to right:

<ul>
<li><dfn>Variable substitution</dfn>: Environment variables are substituted for
references such as <code>$foo</code>.

<li><dfn>Command substitution</dfn>: Constructs such as <code>`cat&nbsp;foo`</code> and
the equivalent <code>$(cat&nbsp;foo)</code> are replaced with the output from
the inner command.

<li><dfn>Arithmetic expansion</dfn>: Constructs such as <code>$(($x-1))</code> are
replaced with the result of the arithmetic computation. 
</ul>

<li><dfn>Field splitting</dfn>: subdivision of the text into <dfn>words</dfn>.

<li><dfn>Wildcard expansion</dfn>: The replacement of a construct such as <code>*.c</code>
with a list of <code>.c</code> file names.  Wildcard expansion applies to an
entire word at a time, and replaces that word with 0 or more file names
that are themselves words.

<li><dfn>Quote removal</dfn>: The deletion of string-quotes, now that they have
done their job by inhibiting the above transformations when appropriate.
</ol>

<p>For the details of these transformations, and how to write the constructs
that use them, see <cite>The&nbsp;BASH&nbsp;Manual</cite> (to appear).

<p><hr>
Node:<a name="Calling%20Wordexp">Calling Wordexp</a>,
Next:<a rel=next accesskey=n href="#Flags%20for%20Wordexp">Flags for Wordexp</a>,
Previous:<a rel=previous accesskey=p href="#Expansion%20Stages">Expansion Stages</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4>Calling <code>wordexp</code></h4>

<p>All the functions, constants and data types for word expansion are
declared in the header file <code>wordexp.h</code>.

<p>Word expansion produces a vector of words (strings).  To return this
vector, <code>wordexp</code> uses a special data type, <code>wordexp_t</code>, which
is a structure.  You pass <code>wordexp</code> the address of the structure,
and it fills in the structure's fields to tell you about the results.

<p>
<table width="100%">
<tr>
<td align="left"><b>wordexp_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type holds a pointer to a word vector.  More precisely, it
records both the address of the word vector and its size.

<dl>
<dt><code>we_wordc</code>
<dd>The number of elements in the vector.

<br><dt><code>we_wordv</code>
<dd>The address of the vector.  This field has type <code>char&nbsp;**</code>.

<br><dt><code>we_offs</code>
<dd>The offset of the first real element of the vector, from its nominal
address in the <code>we_wordv</code> field.  Unlike the other fields, this
is always an input to <code>wordexp</code>, rather than an output from it.

<p>If you use a nonzero offset, then that many elements at the beginning of
the vector are left empty.  (The <code>wordexp</code> function fills them with
null pointers.)

<p>The <code>we_offs</code> field is meaningful only if you use the
<code>WRDE_DOOFFS</code> flag.  Otherwise, the offset is always zero
regardless of what is in this field, and the first real element comes at
the beginning of the vector. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wordexp</b><i> (const char *<var>words</var>, wordexp_t *<var>word-vector-ptr</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Perform word expansion on the string <var>words</var>, putting the result in
a newly allocated vector, and store the size and address of this vector
into <code>*<var>word-vector-ptr</var></code>.  The argument <var>flags</var> is a
combination of bit flags; see <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>, for details of
the flags.

<p>You shouldn't use any of the characters <code>|&amp;;&lt;&gt;</code> in the string
<var>words</var> unless they are quoted; likewise for newline.  If you use
these characters unquoted, you will get the <code>WRDE_BADCHAR</code> error
code.  Don't use parentheses or braces unless they are quoted or part of
a word expansion construct.  If you use quotation characters <code>'"`</code>,
they should come in pairs that balance.

<p>The results of word expansion are a sequence of words.  The function
<code>wordexp</code> allocates a string for each resulting word, then
allocates a vector of type <code>char **</code> to store the addresses of
these strings.  The last element of the vector is a null pointer. 
This vector is called the <dfn>word vector</dfn>.

<p>To return this vector, <code>wordexp</code> stores both its address and its
length (number of elements, not counting the terminating null pointer)
into <code>*<var>word-vector-ptr</var></code>.

<p>If <code>wordexp</code> succeeds, it returns 0.  Otherwise, it returns one
of these error codes:

<dl>
<dt><code>WRDE_BADCHAR</code>
<dd>The input string <var>words</var> contains an unquoted invalid character such
as <code>|</code>.

<br><dt><code>WRDE_BADVAL</code>
<dd>The input string refers to an undefined shell variable, and you used the flag
<code>WRDE_UNDEF</code> to forbid such references.

<br><dt><code>WRDE_CMDSUB</code>
<dd>The input string uses command substitution, and you used the flag
<code>WRDE_NOCMD</code> to forbid command substitution.

<br><dt><code>WRDE_NOSPACE</code>
<dd>It was impossible to allocate memory to hold the result.  In this case,
<code>wordexp</code> can store part of the results--as much as it could
allocate room for.

<br><dt><code>WRDE_SYNTAX</code>
<dd>There was a syntax error in the input string.  For example, an unmatched
quoting character is a syntax error. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>wordfree</b><i> (wordexp_t *<var>word-vector-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Free the storage used for the word-strings and vector that
<code>*<var>word-vector-ptr</var></code> points to.  This does not free the
structure <code>*<var>word-vector-ptr</var></code> itself--only the other
data it points to. 
</td></tr>
</table>

<p><hr>
Node:<a name="Flags%20for%20Wordexp">Flags for Wordexp</a>,
Next:<a rel=next accesskey=n href="#Wordexp%20Example">Wordexp Example</a>,
Previous:<a rel=previous accesskey=p href="#Calling%20Wordexp">Calling Wordexp</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4>Flags for Word Expansion</h4>

<p>This section describes the flags that you can specify in the
<var>flags</var> argument to <code>wordexp</code>.  Choose the flags you want,
and combine them with the C operator <code>|</code>.

<dl>
<dt><code>WRDE_APPEND</code>
<dd>Append the words from this expansion to the vector of words produced by
previous calls to <code>wordexp</code>.  This way you can effectively expand
several words as if they were concatenated with spaces between them.

<p>In order for appending to work, you must not modify the contents of the
word vector structure between calls to <code>wordexp</code>.  And, if you set
<code>WRDE_DOOFFS</code> in the first call to <code>wordexp</code>, you must also
set it when you append to the results.

<br><dt><code>WRDE_DOOFFS</code>
<dd>Leave blank slots at the beginning of the vector of words. 
The <code>we_offs</code> field says how many slots to leave. 
The blank slots contain null pointers.

<br><dt><code>WRDE_NOCMD</code>
<dd>Don't do command substitution; if the input requests command substitution,
report an error.

<br><dt><code>WRDE_REUSE</code>
<dd>Reuse a word vector made by a previous call to <code>wordexp</code>. 
Instead of allocating a new vector of words, this call to <code>wordexp</code>
will use the vector that already exists (making it larger if necessary).

<p>Note that the vector may move, so it is not safe to save an old pointer
and use it again after calling <code>wordexp</code>.  You must fetch
<code>we_pathv</code> anew after each call.

<br><dt><code>WRDE_SHOWERR</code>
<dd>Do show any error messages printed by commands run by command substitution. 
More precisely, allow these commands to inherit the standard error output
stream of the current process.  By default, <code>wordexp</code> gives these
commands a standard error stream that discards all output.

<br><dt><code>WRDE_UNDEF</code>
<dd>If the input refers to a shell variable that is not defined, report an
error. 
</dl>

<p><hr>
Node:<a name="Wordexp%20Example">Wordexp Example</a>,
Next:<a rel=next accesskey=n href="#Tilde%20Expansion">Tilde Expansion</a>,
Previous:<a rel=previous accesskey=p href="#Flags%20for%20Wordexp">Flags for Wordexp</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4><code>wordexp</code> Example</h4>

<p>Here is an example of using <code>wordexp</code> to expand several strings
and use the results to run a shell command.  It also shows the use of
<code>WRDE_APPEND</code> to concatenate the expansions and of <code>wordfree</code>
to free the space allocated by <code>wordexp</code>.

<br><pre>int
expand_and_execute (const char *program, const char *options)
{
  wordexp_t result;
  pid_t pid
  int status, i;

  /* Expand the string for the program to run.  */
  switch (wordexp (program, &amp;result, 0))
    {
    case 0:			/* Successful.  */
      break;
    case WRDE_NOSPACE:
      /* If the error was <code>WRDE_NOSPACE</code>,
         then perhaps part of the result was allocated.  */
      wordfree (&amp;result);
    default:                    /* Some other error.  */
      return -1;
    }

  /* Expand the strings specified for the arguments.  */
  for (i = 0; args[i]; i++)
    {
      if (wordexp (options, &amp;result, WRDE_APPEND))
        {
          wordfree (&amp;result);
          return -1;
        }
    }

  pid = fork ();
  if (pid == 0)
    {
      /* This is the child process.  Execute the command. */
      execv (result.we_wordv[0], result.we_wordv);
      exit (EXIT_FAILURE);
    }
  else if (pid &lt; 0)
    /* The fork failed.  Report failure.  */
    status = -1;
  else
    /* This is the parent process.  Wait for the child to complete.  */
    if (waitpid (pid, &amp;status, 0) != pid)
      status = -1;

  wordfree (&amp;result);
  return status;
}
</pre>

<p><hr>
Node:<a name="Tilde%20Expansion">Tilde Expansion</a>,
Next:<a rel=next accesskey=n href="#Variable%20Substitution">Variable Substitution</a>,
Previous:<a rel=previous accesskey=p href="#Wordexp%20Example">Wordexp Example</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4>Details of Tilde Expansion</h4>

<p>It's a standard part of shell syntax that you can use <code>~</code> at the
beginning of a file name to stand for your own home directory.  You
can use <code>~<var>user</var></code> to stand for <var>user</var>'s home directory.

<p><dfn>Tilde expansion</dfn> is the process of converting these abbreviations
to the directory names that they stand for.

<p>Tilde expansion applies to the <code>~</code> plus all following characters up
to whitespace or a slash.  It takes place only at the beginning of a
word, and only if none of the characters to be transformed is quoted in
any way.

<p>Plain <code>~</code> uses the value of the environment variable <code>HOME</code>
as the proper home directory name.  <code>~</code> followed by a user name
uses <code>getpwname</code> to look up that user in the user database, and
uses whatever directory is recorded there.  Thus, <code>~</code> followed
by your own name can give different results from plain <code>~</code>, if
the value of <code>HOME</code> is not really your home directory.

<p><hr>
Node:<a name="Variable%20Substitution">Variable Substitution</a>,
Previous:<a rel=previous accesskey=p href="#Tilde%20Expansion">Tilde Expansion</a>,
Up:<a rel=up accesskey=u href="#Word%20Expansion">Word Expansion</a>
<br>

<h4>Details of Variable Substitution</h4>

<p>Part of ordinary shell syntax is the use of <code>$<var>variable</var></code> to
substitute the value of a shell variable into a command.  This is called
<dfn>variable substitution</dfn>, and it is one part of doing word expansion.

<p>There are two basic ways you can write a variable reference for
substitution:

<dl>
<dt><code>${<var>variable</var>}</code>
<dd>If you write braces around the variable name, then it is completely
unambiguous where the variable name ends.  You can concatenate
additional letters onto the end of the variable value by writing them
immediately after the close brace.  For example, <code>${foo}s</code>
expands into <code>tractors</code>.

<br><dt><code>$<var>variable</var></code>
<dd>If you do not put braces around the variable name, then the variable
name consists of all the alphanumeric characters and underscores that
follow the <code>$</code>.  The next punctuation character ends the variable
name.  Thus, <code>$foo-bar</code> refers to the variable <code>foo</code> and expands
into <code>tractor-bar</code>. 
</dl>

<p>When you use braces, you can also use various constructs to modify the
value that is substituted, or test it in various ways.

<dl>
<dt><code>${<var>variable</var>:-<var>default</var>}</code>
<dd>Substitute the value of <var>variable</var>, but if that is empty or
undefined, use <var>default</var> instead.

<br><dt><code>${<var>variable</var>:=<var>default</var>}</code>
<dd>Substitute the value of <var>variable</var>, but if that is empty or
undefined, use <var>default</var> instead and set the variable to
<var>default</var>.

<br><dt><code>${<var>variable</var>:?<var>message</var>}</code>
<dd>If <var>variable</var> is defined and not empty, substitute its value.

<p>Otherwise, print <var>message</var> as an error message on the standard error
stream, and consider word expansion a failure.

<br><dt><code>${<var>variable</var>:+<var>replacement</var>}</code>
<dd>Substitute <var>replacement</var>, but only if <var>variable</var> is defined and
nonempty.  Otherwise, substitute nothing for this construct. 
</dl>

<dl>
<dt><code>${#<var>variable</var>}</code>
<dd>Substitute a numeral which expresses in base ten the number of
characters in the value of <var>variable</var>.  <code>${#foo}</code> stands for
<code>7</code>, because <code>tractor</code> is seven characters. 
</dl>

<p>These variants of variable substitution let you remove part of the
variable's value before substituting it.  The <var>prefix</var> and
<var>suffix</var> are not mere strings; they are wildcard patterns, just
like the patterns that you use to match multiple file names.  But
in this context, they match against parts of the variable value
rather than against file names.

<dl>
<dt><code>${<var>variable</var>%%<var>suffix</var>}</code>
<dd>Substitute the value of <var>variable</var>, but first discard from that
variable any portion at the end that matches the pattern <var>suffix</var>.

<p>If there is more than one alternative for how to match against
<var>suffix</var>, this construct uses the longest possible match.

<p>Thus, <code>${foo%%r*}</code> substitutes <code>t</code>, because the largest
match for <code>r*</code> at the end of <code>tractor</code> is <code>ractor</code>.

<br><dt><code>${<var>variable</var>%<var>suffix</var>}</code>
<dd>Substitute the value of <var>variable</var>, but first discard from that
variable any portion at the end that matches the pattern <var>suffix</var>.

<p>If there is more than one alternative for how to match against
<var>suffix</var>, this construct uses the shortest possible alternative.

<p>Thus, <code>${foo%%r*}</code> substitutes <code>tracto</code>, because the shortest
match for <code>r*</code> at the end of <code>tractor</code> is just <code>r</code>.

<br><dt><code>${<var>variable</var>##<var>prefix</var>}</code>
<dd>Substitute the value of <var>variable</var>, but first discard from that
variable any portion at the beginning that matches the pattern <var>prefix</var>.

<p>If there is more than one alternative for how to match against
<var>prefix</var>, this construct uses the longest possible match.

<p>Thus, <code>${foo%%r*}</code> substitutes <code>t</code>, because the largest
match for <code>r*</code> at the end of <code>tractor</code> is <code>ractor</code>.

<br><dt><code>${<var>variable</var>#<var>prefix</var>}</code>
<dd>Substitute the value of <var>variable</var>, but first discard from that
variable any portion at the beginning that matches the pattern <var>prefix</var>.

<p>If there is more than one alternative for how to match against
<var>prefix</var>, this construct uses the shortest possible alternative.

<p>Thus, <code>${foo%%r*}</code> substitutes <code>tracto</code>, because the shortest
match for <code>r*</code> at the end of <code>tractor</code> is just <code>r</code>.

</dl>

<p><hr>
Node:<a name="I%2fO%20Overview">I/O Overview</a>,
Next:<a rel=next accesskey=n href="#I%2fO%20on%20Streams">I/O on Streams</a>,
Previous:<a rel=previous accesskey=p href="#Pattern%20Matching">Pattern Matching</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Input/Output Overview</h2>

<p>Most programs need to do either input (reading data) or output (writing
data), or most frequently both, in order to do anything useful.  The GNU
C library provides such a large selection of input and output functions
that the hardest part is often deciding which function is most
appropriate!

<p>This chapter introduces concepts and terminology relating to input
and output.  Other chapters relating to the GNU I/O facilities are:

<ul>
<li><a href="#I%2fO%20on%20Streams">I/O on Streams</a>, which covers the high-level functions
that operate on streams, including formatted input and output.

<li><a href="#Low-Level%20I%2fO">Low-Level I/O</a>, which covers the basic I/O and control
functions on file descriptors.

<li><a href="#File%20System%20Interface">File System Interface</a>, which covers functions for operating on
directories and for manipulating file attributes such as access modes
and ownership.

<li><a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>, which includes information on the basic interprocess
communication facilities.

<li><a href="#Sockets">Sockets</a>, which covers a more complicated interprocess communication
facility with support for networking.

<li><a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>, which covers functions for changing
how input and output to terminals or other serial devices are processed. 
</ul>

<ul>
<li><a accesskey=1 href="#I%2fO%20Concepts">I/O Concepts</a>:        Some basic information and terminology. 
<li><a accesskey=2 href="#File%20Names">File Names</a>:          How to refer to a file. 
</ul>

<p><hr>
Node:<a name="I%2fO%20Concepts">I/O Concepts</a>,
Next:<a rel=next accesskey=n href="#File%20Names">File Names</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20Overview">I/O Overview</a>
<br>

<h3>Input/Output Concepts</h3>

<p>Before you can read or write the contents of a file, you must establish
a connection or communications channel to the file.  This process is
called <dfn>opening</dfn> the file.  You can open a file for reading, writing,
or both.

<p>The connection to an open file is represented either as a stream or as a
file descriptor.  You pass this as an argument to the functions that do
the actual read or write operations, to tell them which file to operate
on.  Certain functions expect streams, and others are designed to
operate on file descriptors.

<p>When you have finished reading to or writing from the file, you can
terminate the connection by <dfn>closing</dfn> the file.  Once you have
closed a stream or file descriptor, you cannot do any more input or
output operations on it.

<ul>
<li><a accesskey=1 href="#Streams%20and%20File%20Descriptors">Streams and File Descriptors</a>:     The GNU Library provides two ways
			             to access the contents of files. 
<li><a accesskey=2 href="#File%20Position">File Position</a>:                    The number of bytes from the
                                     beginning of the file. 
</ul>

<p><hr>
Node:<a name="Streams%20and%20File%20Descriptors">Streams and File Descriptors</a>,
Next:<a rel=next accesskey=n href="#File%20Position">File Position</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20Concepts">I/O Concepts</a>
<br>

<h4>Streams and File Descriptors</h4>

<p>When you want to do input or output to a file, you have a choice of two
basic mechanisms for representing the connection between your program
and the file: file descriptors and streams.  File descriptors are
represented as objects of type <code>int</code>, while streams are represented
as <code>FILE *</code> objects.

<p>File descriptors provide a primitive, low-level interface to input and
output operations.  Both file descriptors and streams can represent a
connection to a device (such as a terminal), or a pipe or socket for
communicating with another process, as well as a normal file.  But, if
you want to do control operations that are specific to a particular kind
of device, you must use a file descriptor; there are no facilities to
use streams in this way.  You must also use file descriptors if your
program needs to do input or output in special modes, such as
nonblocking (or polled) input (see <a href="#File%20Status%20Flags">File Status Flags</a>).

<p>Streams provide a higher-level interface, layered on top of the
primitive file descriptor facilities.  The stream interface treats all
kinds of files pretty much alike--the sole exception being the three
styles of buffering that you can choose (see <a href="#Stream%20Buffering">Stream Buffering</a>).

<p>The main advantage of using the stream interface is that the set of
functions for performing actual input and output operations (as opposed
to control operations) on streams is much richer and more powerful than
the corresponding facilities for file descriptors.  The file descriptor
interface provides only simple functions for transferring blocks of
characters, but the stream interface also provides powerful formatted
input and output functions (<code>printf</code> and <code>scanf</code>) as well as
functions for character- and line-oriented input and output.

<p>Since streams are implemented in terms of file descriptors, you can
extract the file descriptor from a stream and perform low-level
operations directly on the file descriptor.  You can also initially open
a connection as a file descriptor and then make a stream associated with
that file descriptor.

<p>In general, you should stick with using streams rather than file
descriptors, unless there is some specific operation you want to do that
can only be done on a file descriptor.  If you are a beginning
programmer and aren't sure what functions to use, we suggest that you
concentrate on the formatted input functions (see <a href="#Formatted%20Input">Formatted Input</a>)
and formatted output functions (see <a href="#Formatted%20Output">Formatted Output</a>).

<p>If you are concerned about portability of your programs to systems other
than GNU, you should also be aware that file descriptors are not as
portable as streams.  You can expect any system running ISO&nbsp;C to
support streams, but non-GNU systems may not support file descriptors at
all, or may only implement a subset of the GNU functions that operate on
file descriptors.  Most of the file descriptor functions in the GNU
library are included in the POSIX.1 standard, however.

<p><hr>
Node:<a name="File%20Position">File Position</a>,
Previous:<a rel=previous accesskey=p href="#Streams%20and%20File%20Descriptors">Streams and File Descriptors</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20Concepts">I/O Concepts</a>
<br>

<h4>File Position</h4>

<p>One of the attributes of an open file is its <dfn>file position</dfn> that
keeps track of where in the file the next character is to be read or
written.  In the GNU system, and all POSIX.1 systems, the file position
is simply an integer representing the number of bytes from the beginning
of the file.

<p>The file position is normally set to the beginning of the file when it
is opened, and each time a character is read or written, the file
position is incremented.  In other words, access to the file is normally
<dfn>sequential</dfn>.

<p>Ordinary files permit read or write operations at any position within
the file.  Some other kinds of files may also permit this.  Files which
do permit this are sometimes referred to as <dfn>random-access</dfn> files. 
You can change the file position using the <code>fseek</code> function on a
stream (see <a href="#File%20Positioning">File Positioning</a>) or the <code>lseek</code> function on a file
descriptor (see <a href="#I%2fO%20Primitives">I/O Primitives</a>).  If you try to change the file
position on a file that doesn't support random access, you get the
<code>ESPIPE</code> error.

<p>Streams and descriptors that are opened for <dfn>append access</dfn> are
treated specially for output: output to such files is <em>always</em>
appended sequentially to the <em>end</em> of the file, regardless of the
file position.  However, the file position is still used to control where in
the file reading is done.

<p>If you think about it, you'll realize that several programs can read a
given file at the same time.  In order for each program to be able to
read the file at its own pace, each program must have its own file
pointer, which is not affected by anything the other programs do.

<p>In fact, each opening of a file creates a separate file position. 
Thus, if you open a file twice even in the same program, you get two
streams or descriptors with independent file positions.

<p>By contrast, if you open a descriptor and then duplicate it to get
another descriptor, these two descriptors share the same file position:
changing the file position of one descriptor will affect the other.

<p><hr>
Node:<a name="File%20Names">File Names</a>,
Previous:<a rel=previous accesskey=p href="#I%2fO%20Concepts">I/O Concepts</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20Overview">I/O Overview</a>
<br>

<h3>File Names</h3>

<p>In order to open a connection to a file, or to perform other operations
such as deleting a file, you need some way to refer to the file.  Nearly
all files have names that are strings--even files which are actually
devices such as tape drives or terminals.  These strings are called
<dfn>file names</dfn>.  You specify the file name to say which file you want
to open or operate on.

<p>This section describes the conventions for file names and how the
operating system works with them.

<ul>
<li><a accesskey=1 href="#Directories">Directories</a>:                  Directories contain entries for files. 
<li><a accesskey=2 href="#File%20Name%20Resolution">File Name Resolution</a>:         A file name specifies how to look up a file. 
<li><a accesskey=3 href="#File%20Name%20Errors">File Name Errors</a>:             Error conditions relating to file names. 
<li><a accesskey=4 href="#File%20Name%20Portability">File Name Portability</a>:        File name portability and syntax issues. 
</ul>

<p><hr>
Node:<a name="Directories">Directories</a>,
Next:<a rel=next accesskey=n href="#File%20Name%20Resolution">File Name Resolution</a>,
Up:<a rel=up accesskey=u href="#File%20Names">File Names</a>
<br>

<h4>Directories</h4>

<p>In order to understand the syntax of file names, you need to understand
how the file system is organized into a hierarchy of directories.

<p>A <dfn>directory</dfn> is a file that contains information to associate other
files with names; these associations are called <dfn>links</dfn> or
<dfn>directory entries</dfn>.  Sometimes, people speak of "files in a
directory", but in reality, a directory only contains pointers to
files, not the files themselves.

<p>The name of a file contained in a directory entry is called a <dfn>file
name component</dfn>.  In general, a file name consists of a sequence of one
or more such components, separated by the slash character (<code>/</code>).  A
file name which is just one component names a file with respect to its
directory.  A file name with multiple components names a directory, and
then a file in that directory, and so on.

<p>Some other documents, such as the POSIX standard, use the term
<dfn>pathname</dfn> for what we call a file name, and either <dfn>filename</dfn>
or <dfn>pathname component</dfn> for what this manual calls a file name
component.  We don't use this terminology because a "path" is
something completely different (a list of directories to search), and we
think that "pathname" used for something else will confuse users.  We
always use "file name" and "file name component" (or sometimes just
"component", where the context is obvious) in GNU documentation.  Some
macros use the POSIX terminology in their names, such as
<code>PATH_MAX</code>.  These macros are defined by the POSIX standard, so we
cannot change their names.

<p>You can find more detailed information about operations on directories
in <a href="#File%20System%20Interface">File System Interface</a>.

<p><hr>
Node:<a name="File%20Name%20Resolution">File Name Resolution</a>,
Next:<a rel=next accesskey=n href="#File%20Name%20Errors">File Name Errors</a>,
Previous:<a rel=previous accesskey=p href="#Directories">Directories</a>,
Up:<a rel=up accesskey=u href="#File%20Names">File Names</a>
<br>

<h4>File Name Resolution</h4>

<p>A file name consists of file name components separated by slash
(<code>/</code>) characters.  On the systems that the GNU C library supports,
multiple successive <code>/</code> characters are equivalent to a single
<code>/</code> character.

<p>The process of determining what file a file name refers to is called
<dfn>file name resolution</dfn>.  This is performed by examining the
components that make up a file name in left-to-right order, and locating
each successive component in the directory named by the previous
component.  Of course, each of the files that are referenced as
directories must actually exist, be directories instead of regular
files, and have the appropriate permissions to be accessible by the
process; otherwise the file name resolution fails.

<p>If a file name begins with a <code>/</code>, the first component in the file
name is located in the <dfn>root directory</dfn> of the process (usually all
processes on the system have the same root directory).  Such a file name
is called an <dfn>absolute file name</dfn>.

<p>Otherwise, the first component in the file name is located in the
current working directory (see <a href="#Working%20Directory">Working Directory</a>).  This kind of
file name is called a <dfn>relative file name</dfn>.

<p>The file name components <code>.</code> ("dot") and <code>..</code> ("dot-dot")
have special meanings.  Every directory has entries for these file name
components.  The file name component <code>.</code> refers to the directory
itself, while the file name component <code>..</code> refers to its
<dfn>parent directory</dfn> (the directory that contains the link for the
directory in question).  As a special case, <code>..</code> in the root
directory refers to the root directory itself, since it has no parent;
thus <code>/..</code> is the same as <code>/</code>.

<p>Here are some examples of file names:

<dl>
<dt><code>/a</code>
<dd>The file named <code>a</code>, in the root directory.

<br><dt><code>/a/b</code>
<dd>The file named <code>b</code>, in the directory named <code>a</code> in the root directory.

<br><dt><code>a</code>
<dd>The file named <code>a</code>, in the current working directory.

<br><dt><code>/a/./b</code>
<dd>This is the same as <code>/a/b</code>.

<br><dt><code>./a</code>
<dd>The file named <code>a</code>, in the current working directory.

<br><dt><code>../a</code>
<dd>The file named <code>a</code>, in the parent directory of the current working
directory. 
</dl>

<p>A file name that names a directory may optionally end in a <code>/</code>. 
You can specify a file name of <code>/</code> to refer to the root directory,
but the empty string is not a meaningful file name.  If you want to
refer to the current working directory, use a file name of <code>.</code> or
<code>./</code>.

<p>Unlike some other operating systems, the GNU system doesn't have any
built-in support for file types (or extensions) or file versions as part
of its file name syntax.  Many programs and utilities use conventions
for file names--for example, files containing C source code usually
have names suffixed with <code>.c</code>--but there is nothing in the file
system itself that enforces this kind of convention.

<p><hr>
Node:<a name="File%20Name%20Errors">File Name Errors</a>,
Next:<a rel=next accesskey=n href="#File%20Name%20Portability">File Name Portability</a>,
Previous:<a rel=previous accesskey=p href="#File%20Name%20Resolution">File Name Resolution</a>,
Up:<a rel=up accesskey=u href="#File%20Names">File Names</a>
<br>

<h4>File Name Errors</h4>

<p>Functions that accept file name arguments usually detect these
<code>errno</code> error conditions relating to the file name syntax or
trouble finding the named file.  These errors are referred to throughout
this manual as the <dfn>usual file name errors</dfn>.

<dl>
<dt><code>EACCES</code>
<dd>The process does not have search permission for a directory component
of the file name.

<br><dt><code>ENAMETOOLONG</code>
<dd>This error is used when either the total length of a file name is
greater than <code>PATH_MAX</code>, or when an individual file name component
has a length greater than <code>NAME_MAX</code>.  See <a href="#Limits%20for%20Files">Limits for Files</a>.

<p>In the GNU system, there is no imposed limit on overall file name
length, but some file systems may place limits on the length of a
component.

<br><dt><code>ENOENT</code>
<dd>This error is reported when a file referenced as a directory component
in the file name doesn't exist, or when a component is a symbolic link
whose target file does not exist.  See <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>ENOTDIR</code>
<dd>A file that is referenced as a directory component in the file name
exists, but it isn't a directory.

<br><dt><code>ELOOP</code>
<dd>Too many symbolic links were resolved while trying to look up the file
name.  The system has an arbitrary limit on the number of symbolic links
that may be resolved in looking up a single file name, as a primitive
way to detect loops.  See <a href="#Symbolic%20Links">Symbolic Links</a>. 
</dl>

<p><hr>
Node:<a name="File%20Name%20Portability">File Name Portability</a>,
Previous:<a rel=previous accesskey=p href="#File%20Name%20Errors">File Name Errors</a>,
Up:<a rel=up accesskey=u href="#File%20Names">File Names</a>
<br>

<h4>Portability of File Names</h4>

<p>The rules for the syntax of file names discussed in <a href="#File%20Names">File Names</a>,
are the rules normally used by the GNU system and by other POSIX
systems.  However, other operating systems may use other conventions.

<p>There are two reasons why it can be important for you to be aware of
file name portability issues:

<ul>
<li>If your program makes assumptions about file name syntax, or contains
embedded literal file name strings, it is more difficult to get it to
run under other operating systems that use different syntax conventions.

<li>Even if you are not concerned about running your program on machines
that run other operating systems, it may still be possible to access
files that use different naming conventions.  For example, you may be
able to access file systems on another computer running a different
operating system over a network, or read and write disks in formats used
by other operating systems. 
</ul>

<p>The ISO&nbsp;C standard says very little about file name syntax, only that
file names are strings.  In addition to varying restrictions on the
length of file names and what characters can validly appear in a file
name, different operating systems use different conventions and syntax
for concepts such as structured directories and file types or
extensions.  Some concepts such as file versions might be supported in
some operating systems and not by others.

<p>The POSIX.1 standard allows implementations to put additional
restrictions on file name syntax, concerning what characters are
permitted in file names and on the length of file name and file name
component strings.  However, in the GNU system, you do not need to worry
about these restrictions; any character except the null character is
permitted in a file name string, and there are no limits on the length
of file name strings.

<p><hr>
Node:<a name="I%2fO%20on%20Streams">I/O on Streams</a>,
Next:<a rel=next accesskey=n href="#Low-Level%20I%2fO">Low-Level I/O</a>,
Previous:<a rel=previous accesskey=p href="#I%2fO%20Overview">I/O Overview</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Input/Output on Streams</h2>

<p>This chapter describes the functions for creating streams and performing
input and output operations on them.  As discussed in <a href="#I%2fO%20Overview">I/O Overview</a>, a stream is a fairly abstract, high-level concept
representing a communications channel to a file, device, or process.

<ul>
<li><a accesskey=1 href="#Streams">Streams</a>:                      About the data type representing a stream. 
<li><a accesskey=2 href="#Standard%20Streams">Standard Streams</a>:             Streams to the standard input and output
                                 devices are created for you. 
<li><a accesskey=3 href="#Opening%20Streams">Opening Streams</a>:              How to create a stream to talk to a file. 
<li><a accesskey=4 href="#Closing%20Streams">Closing Streams</a>:              Close a stream when you are finished with it. 
<li><a accesskey=5 href="#Streams%20and%20Threads">Streams and Threads</a>:          Issues with streams in threaded programs. 
<li><a accesskey=6 href="#Streams%20and%20I18N">Streams and I18N</a>:             Streams in internationalized applications. 
<li><a accesskey=7 href="#Simple%20Output">Simple Output</a>:                Unformatted output by characters and lines. 
<li><a accesskey=8 href="#Character%20Input">Character Input</a>:              Unformatted input by characters and words. 
<li><a accesskey=9 href="#Line%20Input">Line Input</a>:                   Reading a line or a record from a stream. 
<li><a href="#Unreading">Unreading</a>:                    Peeking ahead/pushing back input just read. 
<li><a href="#Block%20Input%2fOutput">Block Input/Output</a>:           Input and output operations on blocks of data. 
<li><a href="#Formatted%20Output">Formatted Output</a>:             <code>printf</code> and related functions. 
<li><a href="#Customizing%20Printf">Customizing Printf</a>:           You can define new conversion specifiers for
                                 <code>printf</code> and friends. 
<li><a href="#Formatted%20Input">Formatted Input</a>:              <code>scanf</code> and related functions. 
<li><a href="#EOF%20and%20Errors">EOF and Errors</a>:               How you can tell if an I/O error happens. 
<li><a href="#Error%20Recovery">Error Recovery</a>: 		What you can do about errors. 
<li><a href="#Binary%20Streams">Binary Streams</a>:               Some systems distinguish between text files
                                 and binary files. 
<li><a href="#File%20Positioning">File Positioning</a>:             About random-access streams. 
<li><a href="#Portable%20Positioning">Portable Positioning</a>:         Random access on peculiar ISO C systems. 
<li><a href="#Stream%20Buffering">Stream Buffering</a>:             How to control buffering of streams. 
<li><a href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>:       Streams that do not necessarily correspond
                                 to an open file. 
<li><a href="#Formatted%20Messages">Formatted Messages</a>:           Print strictly formatted messages. 
</ul>

<p><hr>
Node:<a name="Streams">Streams</a>,
Next:<a rel=next accesskey=n href="#Standard%20Streams">Standard Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Streams</h3>

<p>For historical reasons, the type of the C data structure that represents
a stream is called <code>FILE</code> rather than "stream".  Since most of
the library functions deal with objects of type <code>FILE *</code>, sometimes
the term <dfn>file pointer</dfn> is also used to mean "stream".  This leads
to unfortunate confusion over terminology in many books on C.  This
manual, however, is careful to use the terms "file" and "stream"
only in the technical sense.

<p>The <code>FILE</code> type is declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>FILE</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type used to represent stream objects.  A <code>FILE</code>
object holds all of the internal state information about the connection
to the associated file, including such things as the file position
indicator and buffering information.  Each stream also has error and
end-of-file status indicators that can be tested with the <code>ferror</code>
and <code>feof</code> functions; see <a href="#EOF%20and%20Errors">EOF and Errors</a>. 
</td></tr>
</table>

<p><code>FILE</code> objects are allocated and managed internally by the
input/output library functions.  Don't try to create your own objects of
type <code>FILE</code>; let the library do it.  Your programs should
deal only with pointers to these objects (that is, <code>FILE *</code> values)
rather than the objects themselves.

<p><hr>
Node:<a name="Standard%20Streams">Standard Streams</a>,
Next:<a rel=next accesskey=n href="#Opening%20Streams">Opening Streams</a>,
Previous:<a rel=previous accesskey=p href="#Streams">Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Standard Streams</h3>

<p>When the <code>main</code> function of your program is invoked, it already has
three predefined streams open and available for use.  These represent
the "standard" input and output channels that have been established
for the process.

<p>These streams are declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>stdin</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <dfn>standard input</dfn> stream, which is the normal source of input for the
program. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>stdout</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <dfn>standard output</dfn> stream, which is used for normal output from
the program. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>stderr</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <dfn>standard error</dfn> stream, which is used for error messages and
diagnostics issued by the program. 
</td></tr>
</table>

<p>In the GNU system, you can specify what files or processes correspond to
these streams using the pipe and redirection facilities provided by the
shell.  (The primitives shells use to implement these facilities are
described in <a href="#File%20System%20Interface">File System Interface</a>.)  Most other operating systems
provide similar mechanisms, but the details of how to use them can vary.

<p>In the GNU C library, <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> are
normal variables which you can set just like any others.  For example,
to redirect the standard output to a file, you could do:

<br><pre>fclose (stdout);
stdout = fopen ("standard-output-file", "w");
</pre>

<p>Note however, that in other systems <code>stdin</code>, <code>stdout</code>, and
<code>stderr</code> are macros that you cannot assign to in the normal way. 
But you can use <code>freopen</code> to get the effect of closing one and
reopening it.  See <a href="#Opening%20Streams">Opening Streams</a>.

<p>The three streams <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> are not
unoriented at program start (see <a href="#Streams%20and%20I18N">Streams and I18N</a>).

<p><hr>
Node:<a name="Opening%20Streams">Opening Streams</a>,
Next:<a rel=next accesskey=n href="#Closing%20Streams">Closing Streams</a>,
Previous:<a rel=previous accesskey=p href="#Standard%20Streams">Standard Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Opening Streams</h3>

<p>Opening a file with the <code>fopen</code> function creates a new stream and
establishes a connection between the stream and a file.  This may
involve creating a new file.

<p>Everything described in this section is declared in the header file
<code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>fopen</b><i> (const char *<var>filename</var>, const char *<var>opentype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fopen</code> function opens a stream for I/O to the file
<var>filename</var>, and returns a pointer to the stream.

<p>The <var>opentype</var> argument is a string that controls how the file is
opened and specifies attributes of the resulting stream.  It must begin
with one of the following sequences of characters:

<dl>
<dt><code>r</code>
<dd>Open an existing file for reading only.

<br><dt><code>w</code>
<dd>Open the file for writing only.  If the file already exists, it is
truncated to zero length.  Otherwise a new file is created.

<br><dt><code>a</code>
<dd>Open a file for append access; that is, writing at the end of file only. 
If the file already exists, its initial contents are unchanged and
output to the stream is appended to the end of the file. 
Otherwise, a new, empty file is created.

<br><dt><code>r+</code>
<dd>Open an existing file for both reading and writing.  The initial contents
of the file are unchanged and the initial file position is at the
beginning of the file.

<br><dt><code>w+</code>
<dd>Open a file for both reading and writing.  If the file already exists, it
is truncated to zero length.  Otherwise, a new file is created.

<br><dt><code>a+</code>
<dd>Open or create file for both reading and appending.  If the file exists,
its initial contents are unchanged.  Otherwise, a new file is created. 
The initial file position for reading is at the beginning of the file,
but output is always appended to the end of the file. 
</dl>

<p>As you can see, <code>+</code> requests a stream that can do both input and
output.  The ISO standard says that when using such a stream, you must
call <code>fflush</code> (see <a href="#Stream%20Buffering">Stream Buffering</a>) or a file positioning
function such as <code>fseek</code> (see <a href="#File%20Positioning">File Positioning</a>) when switching
from reading to writing or vice versa.  Otherwise, internal buffers
might not be emptied properly.  The GNU C library does not have this
limitation; you can do arbitrary reading and writing operations on a
stream in whatever order.

<p>Additional characters may appear after these to specify flags for the
call.  Always put the mode (<code>r</code>, <code>w+</code>, etc.) first; that is
the only part you are guaranteed will be understood by all systems.

<p>The GNU C library defines one additional character for use in
<var>opentype</var>: the character <code>x</code> insists on creating a new
file--if a file <var>filename</var> already exists, <code>fopen</code> fails
rather than opening it.  If you use <code>x</code> you are guaranteed that
you will not clobber an existing file.  This is equivalent to the
<code>O_EXCL</code> option to the <code>open</code> function (see <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>).

<p>The character <code>b</code> in <var>opentype</var> has a standard meaning; it
requests a binary stream rather than a text stream.  But this makes no
difference in POSIX systems (including the GNU system).  If both
<code>+</code> and <code>b</code> are specified, they can appear in either order. 
See <a href="#Binary%20Streams">Binary Streams</a>.

<p>If the <var>opentype</var> string contains the sequence
<code>,ccs=<var>STRING</var></code> then <var>STRING</var> is taken as the name of a
coded character set and <code>fopen</code> will mark the stream as
wide-oriented which appropriate conversion functions in place to convert
from and to the character set <var>STRING</var> is place.  Any other stream
is opened initially unoriented and the orientation is decided with the
first file operation.  If the first operation is a wide character
operation, the stream is not only marked as wide-oriented, also the
conversion functions to convert to the coded character set used for the
current locale are loaded.  This will not change anymore from this point
on even if the locale selected for the <code>LC_CTYPE</code> category is
changed.

<p>Any other characters in <var>opentype</var> are simply ignored.  They may be
meaningful in other systems.

<p>If the open fails, <code>fopen</code> returns a null pointer.

<p>When the sources are compiling with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine this function is in fact <code>fopen64</code> since the LFS
interface replaces transparently the old interface. 
</td></tr>
</table>

<p>You can have multiple streams (or file descriptors) pointing to the same
file open at the same time.  If you do only input, this works
straightforwardly, but you must be careful if any output streams are
included.  See <a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>.  This is equally true
whether the streams are in one program (not usual) or in several
programs (which can easily happen).  It may be advantageous to use the
file locking facilities to avoid simultaneous access.  See <a href="#File%20Locks">File Locks</a>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>fopen64</b><i> (const char *<var>filename</var>, const char *<var>opentype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fopen</code> but the stream it returns a
pointer for is opened using <code>open64</code>.  Therefore this stream can be
used even on files larger then 2^31 bytes on 32 bit machines.

<p>Please note that the return type is still <code>FILE *</code>.  There is no
special <code>FILE</code> type for the LFS interface.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>fopen</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>FOPEN_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that
represents the minimum number of streams that the implementation
guarantees can be open simultaneously.  You might be able to open more
than this many streams, but that is not guaranteed.  The value of this
constant is at least eight, which includes the three standard streams
<code>stdin</code>, <code>stdout</code>, and <code>stderr</code>.  In POSIX.1 systems this
value is determined by the <code>OPEN_MAX</code> parameter; see <a href="#General%20Limits">General Limits</a>.  In BSD and GNU, it is controlled by the <code>RLIMIT_NOFILE</code>
resource limit; see <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>freopen</b><i> (const char *<var>filename</var>, const char *<var>opentype</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like a combination of <code>fclose</code> and <code>fopen</code>. 
It first closes the stream referred to by <var>stream</var>, ignoring any
errors that are detected in the process.  (Because errors are ignored,
you should not use <code>freopen</code> on an output stream if you have
actually done any output using the stream.)  Then the file named by
<var>filename</var> is opened with mode <var>opentype</var> as for <code>fopen</code>,
and associated with the same stream object <var>stream</var>.

<p>If the operation fails, a null pointer is returned; otherwise,
<code>freopen</code> returns <var>stream</var>.

<p><code>freopen</code> has traditionally been used to connect a standard stream
such as <code>stdin</code> with a file of your own choice.  This is useful in
programs in which use of a standard stream for certain purposes is
hard-coded.  In the GNU C library, you can simply close the standard
streams and open new ones with <code>fopen</code>.  But other systems lack
this ability, so using <code>freopen</code> is more portable.

<p>When the sources are compiling with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine this function is in fact <code>freopen64</code> since the LFS
interface replaces transparently the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>freopen64</b><i> (const char *<var>filename</var>, const char *<var>opentype</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>freopen</code>.  The only difference is that
on 32 bit machine the stream returned is able to read beyond the
2^31 bytes limits imposed by the normal interface.  It should be
noted that the stream pointed to by <var>stream</var> need not be opened
using <code>fopen64</code> or <code>freopen64</code> since its mode is not important
for this function.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>freopen</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p>In some situations it is useful to know whether a given stream is
available for reading or writing.  This information is normally not
available and would have to be remembered separately.  Solaris
introduced a few functions to get this information from the stream
descriptor and these functions are also available in the GNU C library.

<p>
<table width="100%">
<tr>
<td align="left">int <b>__freadable</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__freadable</code> function determines whether the stream
<var>stream</var> was opened to allow reading.  In this case the return value
is nonzero.  For write-only streams the function returns zero.

<p>This function is declared in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>__fwritable</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__fwritable</code> function determines whether the stream
<var>stream</var> was opened to allow writing.  In this case the return value
is nonzero.  For read-only streams the function returns zero.

<p>This function is declared in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p>For slightly different kind of problems there are two more functions. 
They provide even finer-grained information.

<p>
<table width="100%">
<tr>
<td align="left">int <b>__freading</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__freading</code> function determines whether the stream
<var>stream</var> was last read from or whether it is opened read-only.  In
this case the return value is nonzero, otherwise it is zero. 
Determining whether a stream opened for reading and writing was last
used for writing allows to draw conclusions about the content about the
buffer, among other things.

<p>This function is declared in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>__fwriting</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__fwriting</code> function determines whether the stream
<var>stream</var> was last written to or whether it is opened write-only.  In
this case the return value is nonzero, otherwise it is zero.

<p>This function is declared in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Closing%20Streams">Closing Streams</a>,
Next:<a rel=next accesskey=n href="#Streams%20and%20Threads">Streams and Threads</a>,
Previous:<a rel=previous accesskey=p href="#Opening%20Streams">Opening Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Closing Streams</h3>

<p>When a stream is closed with <code>fclose</code>, the connection between the
stream and the file is canceled.  After you have closed a stream, you
cannot perform any additional operations on it.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fclose</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function causes <var>stream</var> to be closed and the connection to
the corresponding file to be broken.  Any buffered output is written
and any buffered input is discarded.  The <code>fclose</code> function returns
a value of <code>0</code> if the file was closed successfully, and <code>EOF</code>
if an error was detected.

<p>It is important to check for errors when you call <code>fclose</code> to close
an output stream, because real, everyday errors can be detected at this
time.  For example, when <code>fclose</code> writes the remaining buffered
output, it might get an error because the disk is full.  Even if you
know the buffer is empty, errors can still occur when closing a file if
you are using NFS.

<p>The function <code>fclose</code> is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>To close all streams currently available the GNU C Library provides
another function.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fcloseall</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function causes all open streams of the process to be closed and
the connection to corresponding files to be broken.  All buffered data
is written and any buffered input is discarded.  The <code>fcloseall</code>
function returns a value of <code>0</code> if all the files were closed
successfully, and <code>EOF</code> if an error was detected.

<p>This function should be used only in special situations, e.g., when an
error occurred and the program must be aborted.  Normally each single
stream should be closed separately so that problems with individual
streams can be identified.  It is also problematic since the standard
streams (see <a href="#Standard%20Streams">Standard Streams</a>) will also be closed.

<p>The function <code>fcloseall</code> is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>If the <code>main</code> function to your program returns, or if you call the
<code>exit</code> function (see <a href="#Normal%20Termination">Normal Termination</a>), all open streams are
automatically closed properly.  If your program terminates in any other
manner, such as by calling the <code>abort</code> function (see <a href="#Aborting%20a%20Program">Aborting a Program</a>) or from a fatal signal (see <a href="#Signal%20Handling">Signal Handling</a>), open streams
might not be closed properly.  Buffered output might not be flushed and
files may be incomplete.  For more information on buffering of streams,
see <a href="#Stream%20Buffering">Stream Buffering</a>.

<p><hr>
Node:<a name="Streams%20and%20Threads">Streams and Threads</a>,
Next:<a rel=next accesskey=n href="#Streams%20and%20I18N">Streams and I18N</a>,
Previous:<a rel=previous accesskey=p href="#Closing%20Streams">Closing Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Streams and Threads</h3>

<p>Streams can be used in multi-threaded applications in the same way they
are used in single-threaded applications.  But the programmer must be
aware of a the possible complications.  It is important to know about
these also if the program one writes never use threads since the design
and implementation of many stream functions is heavily influenced by the
requirements added by multi-threaded programming.

<p>The POSIX standard requires that by default the stream operations are
atomic.  I.e., issuing two stream operations for the same stream in two
threads at the same time will cause the operations to be executed as if
they were issued sequentially.  The buffer operations performed while
reading or writing are protected from other uses of the same stream.  To
do this each stream has an internal lock object which has to be
(implicitly) acquired before any work can be done.

<p>But there are situations where this is not enough and there are also
situations where this is not wanted.  The implicit locking is not enough
if the program requires more than one stream function call to happen
atomically.  One example would be if an output line a program wants to
generate is created by several function calls.  The functions by
themselves would ensure only atomicity of their own operation, but not
atomicity over all the function calls.  For this it is necessary to
perform the stream locking in the application code.

<p>
<table width="100%">
<tr>
<td align="left">void <b>flockfile</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>flockfile</code> function acquires the internal locking object
associated with the stream <var>stream</var>.  This ensures that no other
thread can explicitly through <code>flockfile</code>/<code>ftrylockfile</code> or
implicit through a call of a stream function lock the stream.  The
thread will block until the lock is acquired.  An explicit call to
<code>funlockfile</code> has to be used to release the lock. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ftrylockfile</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ftrylockfile</code> function tries to acquire the internal locking
object associated with the stream <var>stream</var> just like
<code>flockfile</code>.  But unlike <code>flockfile</code> this function does not
block if the lock is not available.  <code>ftrylockfile</code> returns zero if
the lock was successfully acquired.  Otherwise the stream is locked by
another thread. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>funlockfile</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>funlockfile</code> function releases the internal locking object of
the stream <var>stream</var>. The stream must have been locked before by a
call to <code>flockfile</code> or a successful call of <code>ftrylockfile</code>. 
The implicit locking performed by the stream operations do not count. 
The <code>funlockfile</code> function does not return an error status and the
behavior of a call for a stream which is not locked by the current
thread is undefined. 
</td></tr>
</table>

<p>The following example shows how the functions above can be used to
generate an output line atomically even in multi-threaded applications
(yes, the same job could be done with one <code>fprintf</code> call but it is
sometimes not possible):

<br><pre>FILE *fp;
{
   ...
   flockfile (fp);
   fputs ("This is test number ", fp);
   fprintf (fp, "%d\n", test);
   funlockfile (fp)
}
</pre>

<p>Without the explicit locking it would be possible for another thread to
use the stream <var>fp</var> after the <code>fputs</code> call return and before
<code>fprintf</code> was called with the result that the number does not
follow the word <code>number</code>.

<p>From this description it might already be clear that the locking objects
in streams are no simple mutexes.  Since locking the same stream twice
in the same thread is allowed the locking objects must be equivalent to
recursive mutexes.  These mutexes keep track of the owner and the number
of times the lock is acquired.  The same number of <code>funlockfile</code>
calls by the same threads is necessary to unlock the stream completely. 
For instance:

<br><pre>void
foo (FILE *fp)
{
  ftrylockfile (fp);
  fputs ("in foo\n", fp);
  /* This is very wrong!!!  */
  funlockfile (fp);
}
</pre>

<p>It is important here that the <code>funlockfile</code> function is only called
if the <code>ftrylockfile</code> function succeeded in locking the stream.  It
is therefore always wrong to ignore the result of <code>ftrylockfile</code>. 
And it makes no sense since otherwise one would use <code>flockfile</code>. 
The result of code like that above is that either <code>funlockfile</code>
tries to free a stream that hasn't been locked by the current thread or it
frees the stream prematurely.  The code should look like this:

<br><pre>void
foo (FILE *fp)
{
  if (ftrylockfile (fp) == 0)
    {
      fputs ("in foo\n", fp);
      funlockfile (fp);
    }
}
</pre>

<p>Now that we covered why it is necessary to have these locking it is
necessary to talk about situations when locking is unwanted and what can
be done.  The locking operations (explicit or implicit) don't come for
free.  Even if a lock is not taken the cost is not zero.  The operations
which have to be performed require memory operations that are safe in
multi-processor environments.  With the many local caches involved in
such systems this is quite costly.  So it is best to avoid the locking
completely if it is not needed - because the code in question is never
used in a context where two or more threads may use a stream at a time. 
This can be determined most of the time for application code; for
library code which can be used in many contexts one should default to be
conservative and use locking.

<p>There are two basic mechanisms to avoid locking.  The first is to use
the <code>_unlocked</code> variants of the stream operations.  The POSIX
standard defines quite a few of those and the GNU library adds a few
more.  These variants of the functions behave just like the functions
with the name without the suffix except that they do not lock the
stream.  Using these functions is very desirable since they are
potentially much faster.  This is not only because the locking
operation itself is avoided.  More importantly, functions like
<code>putc</code> and <code>getc</code> are very simple and traditionally (before the
introduction of threads) were implemented as macros which are very fast
if the buffer is not empty.  With the addition of locking requirements
these functions are no longer implemented as macros since they would
would expand to too much code. 
But these macros are still available with the same functionality under the new
names <code>putc_unlocked</code> and <code>getc_unlocked</code>.  This possibly huge
difference of speed also suggests the use of the <code>_unlocked</code>
functions even if locking is required.  The difference is that the
locking then has to be performed in the program:

<br><pre>void
foo (FILE *fp, char *buf)
{
  flockfile (fp);
  while (*buf != '/')
    putc_unlocked (*buf++, fp);
  funlockfile (fp);
}
</pre>

<p>If in this example the <code>putc</code> function would be used and the
explicit locking would be missing the <code>putc</code> function would have to
acquire the lock in every call, potentially many times depending on when
the loop terminates.  Writing it the way illustrated above allows the
<code>putc_unlocked</code> macro to be used which means no locking and direct
manipulation of the buffer of the stream.

<p>A second way to avoid locking is by using a non-standard function which
was introduced in Solaris and is available in the GNU C library as well.

<p>
<table width="100%">
<tr>
<td align="left">int <b>__fsetlocking</b><i> (FILE *<var>stream</var>, int <var>type</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>__fsetlocking</code> function can be used to select whether the
stream operations will implicitly acquire the locking object of the
stream <var>stream</var>.  By default this is done but it can be disabled and
reinstated using this function.  There are three values defined for the
<var>type</var> parameter.

<dl>
<dt><code>FSETLOCKING_INTERNAL</code>
<dd>The stream <code>stream</code> will from now on use the default internal
locking.  Every stream operation with exception of the <code>_unlocked</code>
variants will implicitly lock the stream.

<br><dt><code>FSETLOCKING_BYCALLER</code>
<dd>After the <code>__fsetlocking</code> function returns the user is responsible
for locking the stream.  None of the stream operations will implicitly
do this anymore until the state is set back to
<code>FSETLOCKING_INTERNAL</code>.

<br><dt><code>FSETLOCKING_QUERY</code>
<dd><code>__fsetlocking</code> only queries the current locking state of the
stream.  The return value will be <code>FSETLOCKING_INTERNAL</code> or
<code>FSETLOCKING_BYCALLER</code> depending on the state. 
</dl>

<p>The return value of <code>__fsetlocking</code> is either
<code>FSETLOCKING_INTERNAL</code> or <code>FSETLOCKING_BYCALLER</code> depending on
the state of the stream before the call.

<p>This function and the values for the <var>type</var> parameter are declared
in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p>This function is especially useful when program code has to be used
which is written without knowledge about the <code>_unlocked</code> functions
(or if the programmer was too lazy to use them).

<p><hr>
Node:<a name="Streams%20and%20I18N">Streams and I18N</a>,
Next:<a rel=next accesskey=n href="#Simple%20Output">Simple Output</a>,
Previous:<a rel=previous accesskey=p href="#Streams%20and%20Threads">Streams and Threads</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Streams in Internationalized Applications</h3>

<p>ISO&nbsp;C90 introduced the new type <code>wchar_t</code> to allow handling
larger character sets.  What was missing was a possibility to output
strings of <code>wchar_t</code> directly.  One had to convert them into
multibyte strings using <code>mbstowcs</code> (there was no <code>mbsrtowcs</code>
yet) and then use the normal stream functions.  While this is doable it
is very cumbersome since performing the conversions is not trivial and
greatly increases program complexity and size.

<p>The Unix standard early on (I think in XPG4.2) introduced two additional
format specifiers for the <code>printf</code> and <code>scanf</code> families of
functions.  Printing and reading of single wide characters was made
possible using the <code>%C</code> specifier and wide character strings can be
handled with <code>%S</code>.  These modifiers behave just like <code>%c</code> and
<code>%s</code> only that they expect the corresponding argument to have the
wide character type and that the wide character and string are
transformed into/from multibyte strings before being used.

<p>This was a beginning but it is still not good enough.  Not always is it
desirable to use <code>printf</code> and <code>scanf</code>.  The other, smaller and
faster functions cannot handle wide characters.  Second, it is not
possible to have a format string for <code>printf</code> and <code>scanf</code>
consisting of wide characters.  The result is that format strings would
have to be generated if they have to contain non-basic characters.

<p>In the Amendment&nbsp;1 to ISO&nbsp;C90 a whole new set of functions was
added to solve the problem.  Most of the stream functions got a
counterpart which take a wide character or wide character string instead
of a character or string respectively.  The new functions operate on the
same streams (like <code>stdout</code>).  This is different from the model of
the C++ runtime library where separate streams for wide and normal I/O
are used.

<p>Being able to use the same stream for wide and normal operations comes
with a restriction: a stream can be used either for wide operations or
for normal operations.  Once it is decided there is no way back.  Only a
call to <code>freopen</code> or <code>freopen64</code> can reset the
<dfn>orientation</dfn>.  The orientation can be decided in three ways:

<ul>
<li>If any of the normal character functions is used (this includes the
<code>fread</code> and <code>fwrite</code> functions) the stream is marked as not
wide oriented.

<li>If any of the wide character functions is used the stream is marked as
wide oriented.

<li>The <code>fwide</code> function can be used to set the orientation either way. 
</ul>

<p>It is important to never mix the use of wide and not wide operations on
a stream.  There are no diagnostics issued.  The application behavior
will simply be strange or the application will simply crash.  The
<code>fwide</code> function can help avoiding this.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fwide</b><i> (FILE *<var>stream</var>, int <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>fwide</code> function can be used to set and query the state of the
orientation of the stream <var>stream</var>.  If the <var>mode</var> parameter has
a positive value the streams get wide oriented, for negative values
narrow oriented.  It is not possible to overwrite previous orientations
with <code>fwide</code>.  I.e., if the stream <var>stream</var> was already
oriented before the call nothing is done.

<p>If <var>mode</var> is zero the current orientation state is queried and
nothing is changed.

<p>The <code>fwide</code> function returns a negative value, zero, or a positive
value if the stream is narrow, not at all, or wide oriented
respectively.

<p>This function was introduced in Amendment&nbsp;1 to ISO&nbsp;C90 and is
declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>It is generally a good idea to orient a stream as early as possible. 
This can prevent surprise especially for the standard streams
<code>stdin</code>, <code>stdout</code>, and <code>stderr</code>.  If some library
function in some situations uses one of these streams and this use
orients the stream in a different way the rest of the application
expects it one might end up with hard to reproduce errors.  Remember
that no errors are signal if the streams are used incorrectly.  Leaving
a stream unoriented after creation is normally only necessary for
library functions which create streams which can be used in different
contexts.

<p>When writing code which uses streams and which can be used in different
contexts it is important to query the orientation of the stream before
using it (unless the rules of the library interface demand a specific
orientation).  The following little, silly function illustrates this.

<br><pre>void
print_f (FILE *fp)
{
  if (fwide (fp, 0) &gt; 0)
    /* Positive return value means wide orientation.  */
    fputwc (L'f', fp);
  else
    fputc ('f', fp);
}
</pre>

<p>Note that in this case the function <code>print_f</code> decides about the
orientation of the stream if it was unoriented before (will not happen
if the advise above is followed).

<p>The encoding used for the <code>wchar_t</code> values is unspecified and the
user must not make any assumptions about it.  For I/O of <code>wchar_t</code>
values this means that it is impossible to write these values directly
to the stream.  This is not what follows from the ISO&nbsp;C locale model
either.  What happens instead is that the bytes read from or written to
the underlying media are first converted into the internal encoding
chosen by the implementation for <code>wchar_t</code>.  The external encoding
is determined by the <code>LC_CTYPE</code> category of the current locale or
by the <code>ccs</code> part of the mode specification given to <code>fopen</code>,
<code>fopen64</code>, <code>freopen</code>, or <code>freopen64</code>.  How and when the
conversion happens is unspecified and it happens invisible to the user.

<p>Since a stream is created in the unoriented state it has at that point
no conversion associated with it.  The conversion which will be used is
determined by the <code>LC_CTYPE</code> category selected at the time the
stream is oriented.  If the locales are changed at the runtime this
might produce surprising results unless one pays attention.  This is
just another good reason to orient the stream explicitly as soon as
possible, perhaps with a call to <code>fwide</code>.

<p><hr>
Node:<a name="Simple%20Output">Simple Output</a>,
Next:<a rel=next accesskey=n href="#Character%20Input">Character Input</a>,
Previous:<a rel=previous accesskey=p href="#Streams%20and%20I18N">Streams and I18N</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Simple Output by Characters or Lines</h3>

<p>This section describes functions for performing character- and
line-oriented output.

<p>These narrow streams functions are declared in the header file
<code>stdio.h</code> and the wide stream functions in <code>wchar.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputc</b><i> (int <var>c</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputc</code> function converts the character <var>c</var> to type
<code>unsigned char</code>, and writes it to the stream <var>stream</var>. 
<code>EOF</code> is returned if a write error occurs; otherwise the
character <var>c</var> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>fputwc</b><i> (wchar_t <var>wc</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputwc</code> function writes the wide character <var>wc</var> to the
stream <var>stream</var>.  <code>WEOF</code> is returned if a write error occurs;
otherwise the character <var>wc</var> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputc_unlocked</b><i> (int <var>c</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputc_unlocked</code> function is equivalent to the <code>fputc</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>fputwc_unlocked</b><i> (wint_t <var>wc</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputwc_unlocked</code> function is equivalent to the <code>fputwc</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putc</b><i> (int <var>c</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is just like <code>fputc</code>, except that most systems implement it as
a macro, making it faster.  One consequence is that it may evaluate the
<var>stream</var> argument more than once, which is an exception to the
general rule for macros.  <code>putc</code> is usually the best function to
use for writing a single character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>putwc</b><i> (wchar_t <var>wc</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is just like <code>fputwc</code>, except that it can be implement as
a macro, making it faster.  One consequence is that it may evaluate the
<var>stream</var> argument more than once, which is an exception to the
general rule for macros.  <code>putwc</code> is usually the best function to
use for writing a single wide character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putc_unlocked</b><i> (int <var>c</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putc_unlocked</code> function is equivalent to the <code>putc</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>putwc_unlocked</b><i> (wchar_t <var>wc</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putwc_unlocked</code> function is equivalent to the <code>putwc</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putchar</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putchar</code> function is equivalent to <code>putc</code> with
<code>stdout</code> as the value of the <var>stream</var> argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>putwchar</b><i> (wchar_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putwchar</code> function is equivalent to <code>putwc</code> with
<code>stdout</code> as the value of the <var>stream</var> argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putchar_unlocked</b><i> (int <var>c</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putchar_unlocked</code> function is equivalent to the <code>putchar</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>putwchar_unlocked</b><i> (wchar_t <var>wc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putwchar_unlocked</code> function is equivalent to the <code>putwchar</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputs</b><i> (const char *<var>s</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>fputs</code> writes the string <var>s</var> to the stream
<var>stream</var>.  The terminating null character is not written. 
This function does <em>not</em> add a newline character, either. 
It outputs only the characters in the string.

<p>This function returns <code>EOF</code> if a write error occurs, and otherwise
a non-negative value.

<p>For example:

<br><pre>fputs ("Are ", stdout);
fputs ("you ", stdout);
fputs ("hungry?\n", stdout);
</pre>

<p>outputs the text <code>Are you hungry?</code> followed by a newline. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputws</b><i> (const wchar_t *<var>ws</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>fputws</code> writes the wide character string <var>ws</var> to
the stream <var>stream</var>.  The terminating null character is not written. 
This function does <em>not</em> add a newline character, either.  It
outputs only the characters in the string.

<p>This function returns <code>WEOF</code> if a write error occurs, and otherwise
a non-negative value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputs_unlocked</b><i> (const char *<var>s</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputs_unlocked</code> function is equivalent to the <code>fputs</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fputws_unlocked</b><i> (const wchar_t *<var>ws</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fputws_unlocked</code> function is equivalent to the <code>fputws</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>puts</b><i> (const char *<var>s</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>puts</code> function writes the string <var>s</var> to the stream
<code>stdout</code> followed by a newline.  The terminating null character of
the string is not written.  (Note that <code>fputs</code> does <em>not</em>
write a newline as this function does.)

<p><code>puts</code> is the most convenient function for printing simple
messages.  For example:

<br><pre>puts ("This is a message.");
</pre>

<p>outputs the text <code>This is a message.</code> followed by a newline. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putw</b><i> (int <var>w</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function writes the word <var>w</var> (that is, an <code>int</code>) to
<var>stream</var>.  It is provided for compatibility with SVID, but we
recommend you use <code>fwrite</code> instead (see <a href="#Block%20Input%2fOutput">Block Input/Output</a>). 
</td></tr>
</table>

<p><hr>
Node:<a name="Character%20Input">Character Input</a>,
Next:<a rel=next accesskey=n href="#Line%20Input">Line Input</a>,
Previous:<a rel=previous accesskey=p href="#Simple%20Output">Simple Output</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Character Input</h3>

<p>This section describes functions for performing character-oriented
input.  These narrow streams functions are declared in the header file
<code>stdio.h</code> and the wide character functions are declared in
<code>wchar.h</code>.

<p>These functions return an <code>int</code> or <code>wint_t</code> value (for narrow
and wide stream functions respectively) that is either a character of
input, or the special value <code>EOF</code>/<code>WEOF</code> (usually -1).  For
the narrow stream functions it is important to store the result of these
functions in a variable of type <code>int</code> instead of <code>char</code>, even
when you plan to use it only as a character.  Storing <code>EOF</code> in a
<code>char</code> variable truncates its value to the size of a character, so
that it is no longer distinguishable from the valid character
<code>(char) -1</code>.  So always use an <code>int</code> for the result of
<code>getc</code> and friends, and check for <code>EOF</code> after the call; once
you've verified that the result is not <code>EOF</code>, you can be sure that
it will fit in a <code>char</code> variable without loss of information.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetc</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads the next character as an <code>unsigned char</code> from
the stream <var>stream</var> and returns its value, converted to an
<code>int</code>.  If an end-of-file condition or read error occurs,
<code>EOF</code> is returned instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>fgetwc</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads the next wide character from the stream <var>stream</var>
and returns its value.  If an end-of-file condition or read error
occurs, <code>WEOF</code> is returned instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetc_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgetc_unlocked</code> function is equivalent to the <code>fgetc</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>fgetwc_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgetwc_unlocked</code> function is equivalent to the <code>fgetwc</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getc</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is just like <code>fgetc</code>, except that it is permissible (and
typical) for it to be implemented as a macro that evaluates the
<var>stream</var> argument more than once.  <code>getc</code> is often highly
optimized, so it is usually the best function to use to read a single
character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>getwc</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is just like <code>fgetwc</code>, except that it is permissible for it to
be implemented as a macro that evaluates the <var>stream</var> argument more
than once.  <code>getwc</code> can be highly optimized, so it is usually the
best function to use to read a single wide character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getc_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getc_unlocked</code> function is equivalent to the <code>getc</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>getwc_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getwc_unlocked</code> function is equivalent to the <code>getwc</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getchar</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getchar</code> function is equivalent to <code>getc</code> with <code>stdin</code>
as the value of the <var>stream</var> argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>getwchar</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getwchar</code> function is equivalent to <code>getwc</code> with <code>stdin</code>
as the value of the <var>stream</var> argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getchar_unlocked</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getchar_unlocked</code> function is equivalent to the <code>getchar</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>getwchar_unlocked</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getwchar_unlocked</code> function is equivalent to the <code>getwchar</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>Here is an example of a function that does input using <code>fgetc</code>.  It
would work just as well using <code>getc</code> instead, or using
<code>getchar ()</code> instead of <code>fgetc&nbsp;(stdin)</code>.  The code would
also work the same for the wide character stream functions.

<br><pre>int
y_or_n_p (const char *question)
{
  fputs (question, stdout);
  while (1)
    {
      int c, answer;
      /* Write a space to separate answer from question. */
      fputc (' ', stdout);
      /* Read the first character of the line.
         This should be the answer character, but might not be. */
      c = tolower (fgetc (stdin));
      answer = c;
      /* Discard rest of input line. */
      while (c != '\n' &amp;&amp; c != EOF)
        c = fgetc (stdin);
      /* Obey the answer if it was valid. */
      if (answer == 'y')
        return 1;
      if (answer == 'n')
        return 0;
      /* Answer was invalid: ask for valid answer. */
      fputs ("Please answer y or n:", stdout);
    }
}
</pre>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getw</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads a word (that is, an <code>int</code>) from <var>stream</var>. 
It's provided for compatibility with SVID.  We recommend you use
<code>fread</code> instead (see <a href="#Block%20Input%2fOutput">Block Input/Output</a>).  Unlike <code>getc</code>,
any <code>int</code> value could be a valid result.  <code>getw</code> returns
<code>EOF</code> when it encounters end-of-file or an error, but there is no
way to distinguish this from an input word with value -1. 
</td></tr>
</table>

<p><hr>
Node:<a name="Line%20Input">Line Input</a>,
Next:<a rel=next accesskey=n href="#Unreading">Unreading</a>,
Previous:<a rel=previous accesskey=p href="#Character%20Input">Character Input</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Line-Oriented Input</h3>

<p>Since many programs interpret input on the basis of lines, it is
convenient to have functions to read a line of text from a stream.

<p>Standard C has functions to do this, but they aren't very safe: null
characters and even (for <code>gets</code>) long lines can confuse them.  So
the GNU library provides the nonstandard <code>getline</code> function that
makes it easy to read lines reliably.

<p>Another GNU extension, <code>getdelim</code>, generalizes <code>getline</code>.  It
reads a delimited record, defined as everything through the next
occurrence of a specified delimiter character.

<p>All these functions are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>getline</b><i> (char **<var>lineptr</var>, size_t *<var>n</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads an entire line from <var>stream</var>, storing the text
(including the newline and a terminating null character) in a buffer
and storing the buffer address in <code>*<var>lineptr</var></code>.

<p>Before calling <code>getline</code>, you should place in <code>*<var>lineptr</var></code>
the address of a buffer <code>*<var>n</var></code> bytes long, allocated with
<code>malloc</code>.  If this buffer is long enough to hold the line,
<code>getline</code> stores the line in this buffer.  Otherwise,
<code>getline</code> makes the buffer bigger using <code>realloc</code>, storing the
new buffer address back in <code>*<var>lineptr</var></code> and the increased size
back in <code>*<var>n</var></code>. 
See <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>.

<p>If you set <code>*<var>lineptr</var></code> to a null pointer, and <code>*<var>n</var></code>
to zero, before the call, then <code>getline</code> allocates the initial
buffer for you by calling <code>malloc</code>.

<p>In either case, when <code>getline</code> returns,  <code>*<var>lineptr</var></code> is
a <code>char *</code> which points to the text of the line.

<p>When <code>getline</code> is successful, it returns the number of characters
read (including the newline, but not including the terminating null). 
This value enables you to distinguish null characters that are part of
the line from the null character inserted as a terminator.

<p>This function is a GNU extension, but it is the recommended way to read
lines from a stream.  The alternative standard functions are unreliable.

<p>If an error occurs or end of file is reached without any bytes read,
<code>getline</code> returns <code>-1</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>getdelim</b><i> (char **<var>lineptr</var>, size_t *<var>n</var>, int <var>delimiter</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>getline</code> except that the character which
tells it to stop reading is not necessarily newline.  The argument
<var>delimiter</var> specifies the delimiter character; <code>getdelim</code> keeps
reading until it sees that character (or end of file).

<p>The text is stored in <var>lineptr</var>, including the delimiter character
and a terminating null.  Like <code>getline</code>, <code>getdelim</code> makes
<var>lineptr</var> bigger if it isn't big enough.

<p><code>getline</code> is in fact implemented in terms of <code>getdelim</code>, just
like this:

<br><pre>ssize_t
getline (char **lineptr, size_t *n, FILE *stream)
{
  return getdelim (lineptr, n, '\n', stream);
}
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>fgets</b><i> (char *<var>s</var>, int <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgets</code> function reads characters from the stream <var>stream</var>
up to and including a newline character and stores them in the string
<var>s</var>, adding a null character to mark the end of the string.  You
must supply <var>count</var> characters worth of space in <var>s</var>, but the
number of characters read is at most <var>count</var> - 1.  The extra
character space is used to hold the null character at the end of the
string.

<p>If the system is already at end of file when you call <code>fgets</code>, then
the contents of the array <var>s</var> are unchanged and a null pointer is
returned.  A null pointer is also returned if a read error occurs. 
Otherwise, the return value is the pointer <var>s</var>.

<p><strong>Warning:</strong>  If the input data has a null character, you can't tell. 
So don't use <code>fgets</code> unless you know the data cannot contain a null. 
Don't use it to read files edited by the user because, if the user inserts
a null character, you should either handle it properly or print a clear
error message.  We recommend using <code>getline</code> instead of <code>fgets</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>fgetws</b><i> (wchar_t *<var>ws</var>, int <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgetws</code> function reads wide characters from the stream
<var>stream</var> up to and including a newline character and stores them in
the string <var>ws</var>, adding a null wide character to mark the end of the
string.  You must supply <var>count</var> wide characters worth of space in
<var>ws</var>, but the number of characters read is at most <var>count</var>
- 1.  The extra character space is used to hold the null wide
character at the end of the string.

<p>If the system is already at end of file when you call <code>fgetws</code>, then
the contents of the array <var>ws</var> are unchanged and a null pointer is
returned.  A null pointer is also returned if a read error occurs. 
Otherwise, the return value is the pointer <var>ws</var>.

<p><strong>Warning:</strong> If the input data has a null wide character (which are
null bytes in the input stream), you can't tell.  So don't use
<code>fgetws</code> unless you know the data cannot contain a null.  Don't use
it to read files edited by the user because, if the user inserts a null
character, you should either handle it properly or print a clear error
message. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>fgets_unlocked</b><i> (char *<var>s</var>, int <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgets_unlocked</code> function is equivalent to the <code>fgets</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wchar_t * <b>fgetws_unlocked</b><i> (wchar_t *<var>ws</var>, int <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgetws_unlocked</code> function is equivalent to the <code>fgetws</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>gets</b><i> (char *<var>s</var>)
</i></td>
<td align="right">Deprecated function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>gets</code> reads characters from the stream <code>stdin</code>
up to the next newline character, and stores them in the string <var>s</var>. 
The newline character is discarded (note that this differs from the
behavior of <code>fgets</code>, which copies the newline character into the
string).  If <code>gets</code> encounters a read error or end-of-file, it
returns a null pointer; otherwise it returns <var>s</var>.

<p><strong>Warning:</strong> The <code>gets</code> function is <strong>very dangerous</strong>
because it provides no protection against overflowing the string
<var>s</var>.  The GNU library includes it for compatibility only.  You
should <strong>always</strong> use <code>fgets</code> or <code>getline</code> instead.  To
remind you of this, the linker (if using GNU <code>ld</code>) will issue a
warning whenever you use <code>gets</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Unreading">Unreading</a>,
Next:<a rel=next accesskey=n href="#Block%20Input%2fOutput">Block Input/Output</a>,
Previous:<a rel=previous accesskey=p href="#Line%20Input">Line Input</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Unreading</h3>

<p>In parser programs it is often useful to examine the next character in
the input stream without removing it from the stream.  This is called
"peeking ahead" at the input because your program gets a glimpse of
the input it will read next.

<p>Using stream I/O, you can peek ahead at input by first reading it and
then <dfn>unreading</dfn> it (also called  <dfn>pushing it back</dfn> on the stream). 
Unreading a character makes it available to be input again from the stream,
by  the next call to <code>fgetc</code> or other input function on that stream.

<ul>
<li><a accesskey=1 href="#Unreading%20Idea">Unreading Idea</a>:               An explanation of unreading with pictures. 
<li><a accesskey=2 href="#How%20Unread">How Unread</a>:                   How to call <code>ungetc</code> to do unreading. 
</ul>

<p><hr>
Node:<a name="Unreading%20Idea">Unreading Idea</a>,
Next:<a rel=next accesskey=n href="#How%20Unread">How Unread</a>,
Up:<a rel=up accesskey=u href="#Unreading">Unreading</a>
<br>

<h4>What Unreading Means</h4>

<p>Here is a pictorial explanation of unreading.  Suppose you have a
stream reading a file that contains just six characters, the letters
<code>foobar</code>.  Suppose you have read three characters so far.  The
situation looks like this:

<br><pre>f  o  o  b  a  r
         ^
</pre>

<p>so the next input character will be <code>b</code>.

<p>If instead of reading <code>b</code> you unread the letter <code>o</code>, you get a
situation like this:

<br><pre>f  o  o  b  a  r
         |
      o--
      ^
</pre>

<p>so that the next input characters will be <code>o</code> and <code>b</code>.

<p>If you unread <code>9</code> instead of <code>o</code>, you get this situation:

<br><pre>f  o  o  b  a  r
         |
      9--
      ^
</pre>

<p>so that the next input characters will be <code>9</code> and <code>b</code>.

<p><hr>
Node:<a name="How%20Unread">How Unread</a>,
Previous:<a rel=previous accesskey=p href="#Unreading%20Idea">Unreading Idea</a>,
Up:<a rel=up accesskey=u href="#Unreading">Unreading</a>
<br>

<h4>Using <code>ungetc</code> To Do Unreading</h4>

<p>The function to unread a character is called <code>ungetc</code>, because it
reverses the action of <code>getc</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ungetc</b><i> (int <var>c</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ungetc</code> function pushes back the character <var>c</var> onto the
input stream <var>stream</var>.  So the next input from <var>stream</var> will
read <var>c</var> before anything else.

<p>If <var>c</var> is <code>EOF</code>, <code>ungetc</code> does nothing and just returns
<code>EOF</code>.  This lets you call <code>ungetc</code> with the return value of
<code>getc</code> without needing to check for an error from <code>getc</code>.

<p>The character that you push back doesn't have to be the same as the last
character that was actually read from the stream.  In fact, it isn't
necessary to actually read any characters from the stream before
unreading them with <code>ungetc</code>!  But that is a strange way to write
a program; usually <code>ungetc</code> is used only to unread a character
that was just read from the same stream.

<p>The GNU C library only supports one character of pushback--in other
words, it does not work to call <code>ungetc</code> twice without doing input
in between.  Other systems might let you push back multiple characters;
then reading from the stream retrieves the characters in the reverse
order that they were pushed.

<p>Pushing back characters doesn't alter the file; only the internal
buffering for the stream is affected.  If a file positioning function
(such as <code>fseek</code>, <code>fseeko</code> or <code>rewind</code>; see <a href="#File%20Positioning">File Positioning</a>) is called, any pending pushed-back characters are
discarded.

<p>Unreading a character on a stream that is at end of file clears the
end-of-file indicator for the stream, because it makes the character of
input available.  After you read that character, trying to read again
will encounter end of file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">wint_t <b>ungetwc</b><i> (wint_t <var>wc</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ungetwc</code> function behaves just like <code>ungetc</code> just that it
pushes back a wide character. 
</td></tr>
</table>

<p>Here is an example showing the use of <code>getc</code> and <code>ungetc</code> to
skip over whitespace characters.  When this function reaches a
non-whitespace character, it unreads that character to be seen again on
the next read operation on the stream.

<br><pre>#include &lt;stdio.h&gt;
#include &lt;ctype.h&gt;

void
skip_whitespace (FILE *stream)
{
  int c;
  do
    /* No need to check for <code>EOF</code> because it is not
       <code>isspace</code>, and <code>ungetc</code> ignores <code>EOF</code>.  */
    c = getc (stream);
  while (isspace (c));
  ungetc (c, stream);
}
</pre>

<p><hr>
Node:<a name="Block%20Input%2fOutput">Block Input/Output</a>,
Next:<a rel=next accesskey=n href="#Formatted%20Output">Formatted Output</a>,
Previous:<a rel=previous accesskey=p href="#Unreading">Unreading</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Block Input/Output</h3>

<p>This section describes how to do input and output operations on blocks
of data.  You can use these functions to read and write binary data, as
well as to read and write text in fixed-size blocks instead of by
characters or lines.

<p>Binary files are typically used to read and write blocks of data in the
same format as is used to represent the data in a running program.  In
other words, arbitrary blocks of memory--not just character or string
objects--can be written to a binary file, and meaningfully read in
again by the same program.

<p>Storing data in binary form is often considerably more efficient than
using the formatted I/O functions.  Also, for floating-point numbers,
the binary form avoids possible loss of precision in the conversion
process.  On the other hand, binary files can't be examined or modified
easily using many standard file utilities (such as text editors), and
are not portable between different implementations of the language, or
different kinds of computers.

<p>These functions are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>fread</b><i> (void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads up to <var>count</var> objects of size <var>size</var> into
the array <var>data</var>, from the stream <var>stream</var>.  It returns the
number of objects actually read, which might be less than <var>count</var> if
a read error occurs or the end of the file is reached.  This function
returns a value of zero (and doesn't read anything) if either <var>size</var>
or <var>count</var> is zero.

<p>If <code>fread</code> encounters end of file in the middle of an object, it
returns the number of complete objects read, and discards the partial
object.  Therefore, the stream remains at the actual end of the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>fread_unlocked</b><i> (void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fread_unlocked</code> function is equivalent to the <code>fread</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>fwrite</b><i> (const void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function writes up to <var>count</var> objects of size <var>size</var> from
the array <var>data</var>, to the stream <var>stream</var>.  The return value is
normally <var>count</var>, if the call succeeds.  Any other value indicates
some sort of error, such as running out of space. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>fwrite_unlocked</b><i> (const void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fwrite_unlocked</code> function is equivalent to the <code>fwrite</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Formatted%20Output">Formatted Output</a>,
Next:<a rel=next accesskey=n href="#Customizing%20Printf">Customizing Printf</a>,
Previous:<a rel=previous accesskey=p href="#Block%20Input%2fOutput">Block Input/Output</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Formatted Output</h3>

<p>The functions described in this section (<code>printf</code> and related
functions) provide a convenient way to perform formatted output.  You
call <code>printf</code> with a <dfn>format string</dfn> or <dfn>template string</dfn>
that specifies how to format the values of the remaining arguments.

<p>Unless your program is a filter that specifically performs line- or
character-oriented processing, using <code>printf</code> or one of the other
related functions described in this section is usually the easiest and
most concise way to perform output.  These functions are especially
useful for printing error messages, tables of data, and the like.

<ul>
<li><a accesskey=1 href="#Formatted%20Output%20Basics">Formatted Output Basics</a>:      Some examples to get you started. 
<li><a accesskey=2 href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>:     General syntax of conversion
                                 specifications. 
<li><a accesskey=3 href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>:  Summary of output conversions and
                                 what they do. 
<li><a accesskey=4 href="#Integer%20Conversions">Integer Conversions</a>:          Details about formatting of integers. 
<li><a accesskey=5 href="#Floating-Point%20Conversions">Floating-Point Conversions</a>:   Details about formatting of
                                 floating-point numbers. 
<li><a accesskey=6 href="#Other%20Output%20Conversions">Other Output Conversions</a>:     Details about formatting of strings,
                                 characters, pointers, and the like. 
<li><a accesskey=7 href="#Formatted%20Output%20Functions">Formatted Output Functions</a>:   Descriptions of the actual functions. 
<li><a accesskey=8 href="#Dynamic%20Output">Dynamic Output</a>: 		Functions that allocate memory for the output. 
<li><a accesskey=9 href="#Variable%20Arguments%20Output">Variable Arguments Output</a>:    <code>vprintf</code> and friends. 
<li><a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>:    What kinds of args does a given template
                                 call for? 
<li><a href="#Example%20of%20Parsing">Example of Parsing</a>:           Sample program using <code>parse_printf_format</code>. 
</ul>

<p><hr>
Node:<a name="Formatted%20Output%20Basics">Formatted Output Basics</a>,
Next:<a rel=next accesskey=n href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Formatted Output Basics</h4>

<p>The <code>printf</code> function can be used to print any number of arguments. 
The template string argument you supply in a call provides
information not only about the number of additional arguments, but also
about their types and what style should be used for printing them.

<p>Ordinary characters in the template string are simply written to the
output stream as-is, while <dfn>conversion specifications</dfn> introduced by
a <code>%</code> character in the template cause subsequent arguments to be
formatted and written to the output stream.  For example,

<br><pre>int pct = 37;
char filename[] = "foo.txt";
printf ("Processing of `%s' is %d%% finished.\nPlease be patient.\n",
        filename, pct);
</pre>

<p>produces output like

<br><pre>Processing of `foo.txt' is 37% finished.
Please be patient.
</pre>

<p>This example shows the use of the <code>%d</code> conversion to specify that
an <code>int</code> argument should be printed in decimal notation, the
<code>%s</code> conversion to specify printing of a string argument, and
the <code>%%</code> conversion to print a literal <code>%</code> character.

<p>There are also conversions for printing an integer argument as an
unsigned value in octal, decimal, or hexadecimal radix (<code>%o</code>,
<code>%u</code>, or <code>%x</code>, respectively); or as a character value
(<code>%c</code>).

<p>Floating-point numbers can be printed in normal, fixed-point notation
using the <code>%f</code> conversion or in exponential notation using the
<code>%e</code> conversion.  The <code>%g</code> conversion uses either <code>%e</code>
or <code>%f</code> format, depending on what is more appropriate for the
magnitude of the particular number.

<p>You can control formatting more precisely by writing <dfn>modifiers</dfn>
between the <code>%</code> and the character that indicates which conversion
to apply.  These slightly alter the ordinary behavior of the conversion. 
For example, most conversion specifications permit you to specify a
minimum field width and a flag indicating whether you want the result
left- or right-justified within the field.

<p>The specific flags and modifiers that are permitted and their
interpretation vary depending on the particular conversion.  They're all
described in more detail in the following sections.  Don't worry if this
all seems excessively complicated at first; you can almost always get
reasonable free-format output without using any of the modifiers at all. 
The modifiers are mostly used to make the output look "prettier" in
tables.

<p><hr>
Node:<a name="Output%20Conversion%20Syntax">Output Conversion Syntax</a>,
Next:<a rel=next accesskey=n href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Output%20Basics">Formatted Output Basics</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Output Conversion Syntax</h4>

<p>This section provides details about the precise syntax of conversion
specifications that can appear in a <code>printf</code> template
string.

<p>Characters in the template string that are not part of a conversion
specification are printed as-is to the output stream.  Multibyte
character sequences (see <a href="#Character%20Set%20Handling">Character Set Handling</a>) are permitted in a
template string.

<p>The conversion specifications in a <code>printf</code> template string have
the general form:

<br><pre>% [ <var>param-no</var> $] <var>flags</var> <var>width</var> [ . <var>precision</var> ] <var>type</var> <var>conversion</var>
</pre>

<p>For example, in the conversion specifier <code>%-10.8ld</code>, the <code>-</code>
is a flag, <code>10</code> specifies the field width, the precision is
<code>8</code>, the letter <code>l</code> is a type modifier, and <code>d</code> specifies
the conversion style.  (This particular type specifier says to
print a <code>long int</code> argument in decimal notation, with a minimum of
8 digits left-justified in a field at least 10 characters wide.)

<p>In more detail, output conversion specifications consist of an
initial <code>%</code> character followed in sequence by:

<ul>
<li>An optional specification of the parameter used for this format. 
Normally the parameters to the <code>printf</code> function are assigned to the
formats in the order of appearance in the format string.  But in some
situations (such as message translation) this is not desirable and this
extension allows an explicit parameter to be specified.

<p>The <var>param-no</var> part of the format must be an integer in the range of
1 to the maximum number of arguments present to the function call.  Some
implementations limit this number to a certainly upper bound.  The exact
limit can be retrieved by the following constant.

<p>
<table width="100%">
<tr>
<td align="left"><b>NL_ARGMAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of <code>ARGMAX</code> is the maximum value allowed for the
specification of an positional parameter in a <code>printf</code> call.  The
actual value in effect at runtime can be retrieved by using
<code>sysconf</code> using the <code>_SC_NL_ARGMAX</code> parameter see <a href="#Sysconf%20Definition">Sysconf Definition</a>.

<p>Some system have a quite low limit such as 9 for System&nbsp;V
systems.  The GNU C library has no real limit. 
</td></tr>
</table>

<p>If any of the formats has a specification for the parameter position all
of them in the format string shall have one.  Otherwise the behavior is
undefined.

</p><li>Zero or more <dfn>flag characters</dfn> that modify the normal behavior of
the conversion specification.

<li>An optional decimal integer specifying the <dfn>minimum field width</dfn>. 
If the normal conversion produces fewer characters than this, the field
is padded with spaces to the specified width.  This is a <em>minimum</em>
value; if the normal conversion produces more characters than this, the
field is <em>not</em> truncated.  Normally, the output is right-justified
within the field.

<p>You can also specify a field width of <code>*</code>.  This means that the
next argument in the argument list (before the actual value to be
printed) is used as the field width.  The value must be an <code>int</code>. 
If the value is negative, this means to set the <code>-</code> flag (see
below) and to use the absolute value as the field width.

</p><li>An optional <dfn>precision</dfn> to specify the number of digits to be
written for the numeric conversions.  If the precision is specified, it
consists of a period (<code>.</code>) followed optionally by a decimal integer
(which defaults to zero if omitted).

<p>You can also specify a precision of <code>*</code>.  This means that the next
argument in the argument list (before the actual value to be printed) is
used as the precision.  The value must be an <code>int</code>, and is ignored
if it is negative.  If you specify <code>*</code> for both the field width and
precision, the field width argument precedes the precision argument. 
Other C library versions may not recognize this syntax.

</p><li>An optional <dfn>type modifier character</dfn>, which is used to specify the
data type of the corresponding argument if it differs from the default
type.  (For example, the integer conversions assume a type of <code>int</code>,
but you can specify <code>h</code>, <code>l</code>, or <code>L</code> for other integer
types.)

<li>A character that specifies the conversion to be applied. 
</ul>

<p>The exact options that are permitted and how they are interpreted vary
between the different conversion specifiers.  See the descriptions of the
individual conversions for information about the particular options that
they use.

<p>With the <code>-Wformat</code> option, the GNU C compiler checks calls to
<code>printf</code> and related functions.  It examines the format string and
verifies that the correct number and types of arguments are supplied. 
There is also a GNU C syntax to tell the compiler that a function you
write uses a <code>printf</code>-style format string. 
See <a href="gcc.info.html#Function%20Attributes">Declaring Attributes of Functions</a>, for more information.

<p><hr>
Node:<a name="Table%20of%20Output%20Conversions">Table of Output Conversions</a>,
Next:<a rel=next accesskey=n href="#Integer%20Conversions">Integer Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Table of Output Conversions</h4>

<p>Here is a table summarizing what all the different conversions do:

<dl>
<dt><code>%d</code>, <code>%i</code>
<dd>Print an integer as a signed decimal number.  See <a href="#Integer%20Conversions">Integer Conversions</a>, for details.  <code>%d</code> and <code>%i</code> are synonymous for
output, but are different when used with <code>scanf</code> for input
(see <a href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>).

<br><dt><code>%o</code>
<dd>Print an integer as an unsigned octal number.  See <a href="#Integer%20Conversions">Integer Conversions</a>, for details.

<br><dt><code>%u</code>
<dd>Print an integer as an unsigned decimal number.  See <a href="#Integer%20Conversions">Integer Conversions</a>, for details.

<br><dt><code>%x</code>, <code>%X</code>
<dd>Print an integer as an unsigned hexadecimal number.  <code>%x</code> uses
lower-case letters and <code>%X</code> uses upper-case.  See <a href="#Integer%20Conversions">Integer Conversions</a>, for details.

<br><dt><code>%f</code>
<dd>Print a floating-point number in normal (fixed-point) notation. 
See <a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>, for details.

<br><dt><code>%e</code>, <code>%E</code>
<dd>Print a floating-point number in exponential notation.  <code>%e</code> uses
lower-case letters and <code>%E</code> uses upper-case.  See <a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>, for details.

<br><dt><code>%g</code>, <code>%G</code>
<dd>Print a floating-point number in either normal or exponential notation,
whichever is more appropriate for its magnitude.  <code>%g</code> uses
lower-case letters and <code>%G</code> uses upper-case.  See <a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>, for details.

<br><dt><code>%a</code>, <code>%A</code>
<dd>Print a floating-point number in a hexadecimal fractional notation which
the exponent to base 2 represented in decimal digits.  <code>%a</code> uses
lower-case letters and <code>%A</code> uses upper-case.  See <a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>, for details.

<br><dt><code>%c</code>
<dd>Print a single character.  See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>.

<br><dt><code>%C</code>
<dd>This is an alias for <code>%lc</code> which is supported for compatibility
with the Unix standard.

<br><dt><code>%s</code>
<dd>Print a string.  See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>.

<br><dt><code>%S</code>
<dd>This is an alias for <code>%ls</code> which is supported for compatibility
with the Unix standard.

<br><dt><code>%p</code>
<dd>Print the value of a pointer.  See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>.

<br><dt><code>%n</code>
<dd>Get the number of characters printed so far.  See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>. 
Note that this conversion specification never produces any output.

<br><dt><code>%m</code>
<dd>Print the string corresponding to the value of <code>errno</code>. 
(This is a GNU extension.) 
See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>.

<br><dt><code>%%</code>
<dd>Print a literal <code>%</code> character.  See <a href="#Other%20Output%20Conversions">Other Output Conversions</a>. 
</dl>

<p>If the syntax of a conversion specification is invalid, unpredictable
things will happen, so don't do this.  If there aren't enough function
arguments provided to supply values for all the conversion
specifications in the template string, or if the arguments are not of
the correct types, the results are unpredictable.  If you supply more
arguments than conversion specifications, the extra argument values are
simply ignored; this is sometimes useful.

<p><hr>
Node:<a name="Integer%20Conversions">Integer Conversions</a>,
Next:<a rel=next accesskey=n href="#Floating-Point%20Conversions">Floating-Point Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Integer Conversions</h4>

<p>This section describes the options for the <code>%d</code>, <code>%i</code>,
<code>%o</code>, <code>%u</code>, <code>%x</code>, and <code>%X</code> conversion
specifications.  These conversions print integers in various formats.

<p>The <code>%d</code> and <code>%i</code> conversion specifications both print an
<code>int</code> argument as a signed decimal number; while <code>%o</code>,
<code>%u</code>, and <code>%x</code> print the argument as an unsigned octal,
decimal, or hexadecimal number (respectively).  The <code>%X</code> conversion
specification is just like <code>%x</code> except that it uses the characters
<code>ABCDEF</code> as digits instead of <code>abcdef</code>.

<p>The following flags are meaningful:

<dl>
<dt><code>-</code>
<dd>Left-justify the result in the field (instead of the normal
right-justification).

<br><dt><code>+</code>
<dd>For the signed <code>%d</code> and <code>%i</code> conversions, print a
plus sign if the value is positive.

<br><dt><code> </code>
<dd>For the signed <code>%d</code> and <code>%i</code> conversions, if the result
doesn't start with a plus or minus sign, prefix it with a space
character instead.  Since the <code>+</code> flag ensures that the result
includes a sign, this flag is ignored if you supply both of them.

<br><dt><code>#</code>
<dd>For the <code>%o</code> conversion, this forces the leading digit to be
<code>0</code>, as if by increasing the precision.  For <code>%x</code> or
<code>%X</code>, this prefixes a leading <code>0x</code> or <code>0X</code> (respectively)
to the result.  This doesn't do anything useful for the <code>%d</code>,
<code>%i</code>, or <code>%u</code> conversions.  Using this flag produces output
which can be parsed by the <code>strtoul</code> function (see <a href="#Parsing%20of%20Integers">Parsing of Integers</a>) and <code>scanf</code> with the <code>%i</code> conversion
(see <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>).

<br><dt><code>'</code>
<dd>Separate the digits into groups as specified by the locale specified for
the <code>LC_NUMERIC</code> category; see <a href="#General%20Numeric">General Numeric</a>.  This flag is a
GNU extension.

<br><dt><code>0</code>
<dd>Pad the field with zeros instead of spaces.  The zeros are placed after
any indication of sign or base.  This flag is ignored if the <code>-</code>
flag is also specified, or if a precision is specified. 
</dl>

<p>If a precision is supplied, it specifies the minimum number of digits to
appear; leading zeros are produced if necessary.  If you don't specify a
precision, the number is printed with as many digits as it needs.  If
you convert a value of zero with an explicit precision of zero, then no
characters at all are produced.

<p>Without a type modifier, the corresponding argument is treated as an
<code>int</code> (for the signed conversions <code>%i</code> and <code>%d</code>) or
<code>unsigned int</code> (for the unsigned conversions <code>%o</code>, <code>%u</code>,
<code>%x</code>, and <code>%X</code>).  Recall that since <code>printf</code> and friends
are variadic, any <code>char</code> and <code>short</code> arguments are
automatically converted to <code>int</code> by the default argument
promotions.  For arguments of other integer types, you can use these
modifiers:

<dl>
<dt><code>hh</code>
<dd>Specifies that the argument is a <code>signed char</code> or <code>unsigned
char</code>, as appropriate.  A <code>char</code> argument is converted to an
<code>int</code> or <code>unsigned int</code> by the default argument promotions
anyway, but the <code>h</code> modifier says to convert it back to a
<code>char</code> again.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>h</code>
<dd>Specifies that the argument is a <code>short int</code> or <code>unsigned
short int</code>, as appropriate.  A <code>short</code> argument is converted to an
<code>int</code> or <code>unsigned int</code> by the default argument promotions
anyway, but the <code>h</code> modifier says to convert it back to a
<code>short</code> again.

<br><dt><code>j</code>
<dd>Specifies that the argument is a <code>intmax_t</code> or <code>uintmax_t</code>, as
appropriate.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>l</code>
<dd>Specifies that the argument is a <code>long int</code> or <code>unsigned long
int</code>, as appropriate.  Two <code>l</code> characters is like the <code>L</code>
modifier, below.

<p>If used with <code>%c</code> or <code>%s</code> the corresponding parameter is
considered as a wide character or wide character string respectively. 
This use of <code>l</code> was introduced in Amendment&nbsp;1 to ISO&nbsp;C90.

<br><dt><code>L</code>
<dt><code>ll</code>
<dt><code>q</code>
<dd>Specifies that the argument is a <code>long long int</code>.  (This type is
an extension supported by the GNU C compiler.  On systems that don't
support extra-long integers, this is the same as <code>long int</code>.)

<p>The <code>q</code> modifier is another name for the same thing, which comes
from 4.4 BSD; a <code>long&nbsp;long&nbsp;int</code> is sometimes called a "quad"
<code>int</code>.

<br><dt><code>t</code>
<dd>Specifies that the argument is a <code>ptrdiff_t</code>.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>z</code>
<dt><code>Z</code>
<dd>Specifies that the argument is a <code>size_t</code>.

<p><code>z</code> was introduced in ISO&nbsp;C99.  <code>Z</code> is a GNU extension
predating this addition and should not be used in new code. 
</dl>

<p>Here is an example.  Using the template string:

<br><pre>"|%5d|%-5d|%+5d|%+-5d|% 5d|%05d|%5.0d|%5.2d|%d|\n"
</pre>

<p>to print numbers using the different options for the <code>%d</code>
conversion gives results like:

<br><pre>|    0|0    |   +0|+0   |    0|00000|     |   00|0|
|    1|1    |   +1|+1   |    1|00001|    1|   01|1|
|   -1|-1   |   -1|-1   |   -1|-0001|   -1|  -01|-1|
|100000|100000|+100000|+100000| 100000|100000|100000|100000|100000|
</pre>

<p>In particular, notice what happens in the last case where the number
is too large to fit in the minimum field width specified.

<p>Here are some more examples showing how unsigned integers print under
various format options, using the template string:

<br><pre>"|%5u|%5o|%5x|%5X|%#5o|%#5x|%#5X|%#10.8x|\n"
</pre>

<br><pre>|    0|    0|    0|    0|    0|    0|    0|  00000000|
|    1|    1|    1|    1|   01|  0x1|  0X1|0x00000001|
|100000|303240|186a0|186A0|0303240|0x186a0|0X186A0|0x000186a0|
</pre>

<p><hr>
Node:<a name="Floating-Point%20Conversions">Floating-Point Conversions</a>,
Next:<a rel=next accesskey=n href="#Other%20Output%20Conversions">Other Output Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Integer%20Conversions">Integer Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Floating-Point Conversions</h4>

<p>This section discusses the conversion specifications for floating-point
numbers: the <code>%f</code>, <code>%e</code>, <code>%E</code>, <code>%g</code>, and <code>%G</code>
conversions.

<p>The <code>%f</code> conversion prints its argument in fixed-point notation,
producing output of the form
[<code>-</code>]<var>ddd</var><code>.</code><var>ddd</var>,
where the number of digits following the decimal point is controlled
by the precision you specify.

<p>The <code>%e</code> conversion prints its argument in exponential notation,
producing output of the form
[<code>-</code>]<var>d</var><code>.</code><var>ddd</var><code>e</code>[<code>+</code>|<code>-</code>]<var>dd</var>. 
Again, the number of digits following the decimal point is controlled by
the precision.  The exponent always contains at least two digits.  The
<code>%E</code> conversion is similar but the exponent is marked with the letter
<code>E</code> instead of <code>e</code>.

<p>The <code>%g</code> and <code>%G</code> conversions print the argument in the style
of <code>%e</code> or <code>%E</code> (respectively) if the exponent would be less
than -4 or greater than or equal to the precision; otherwise they use
the <code>%f</code> style.  A precision of <code>0</code>, is taken as 1. is
Trailing zeros are removed from the fractional portion of the result and
a decimal-point character appears only if it is followed by a digit.

<p>The <code>%a</code> and <code>%A</code> conversions are meant for representing
floating-point numbers exactly in textual form so that they can be
exchanged as texts between different programs and/or machines.  The
numbers are represented is the form
[<code>-</code>]<code>0x</code><var>h</var><code>.</code><var>hhh</var><code>p</code>[<code>+</code>|<code>-</code>]<var>dd</var>. 
At the left of the decimal-point character exactly one digit is print. 
This character is only <code>0</code> if the number is denormalized. 
Otherwise the value is unspecified; it is implementation dependent how many
bits are used.  The number of hexadecimal digits on the right side of
the decimal-point character is equal to the precision.  If the precision
is zero it is determined to be large enough to provide an exact
representation of the number (or it is large enough to distinguish two
adjacent values if the <code>FLT_RADIX</code> is not a power of 2,
see <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>).  For the <code>%a</code> conversion
lower-case characters are used to represent the hexadecimal number and
the prefix and exponent sign are printed as <code>0x</code> and <code>p</code>
respectively.  Otherwise upper-case characters are used and <code>0X</code>
and <code>P</code> are used for the representation of prefix and exponent
string.  The exponent to the base of two is printed as a decimal number
using at least one digit but at most as many digits as necessary to
represent the value exactly.

<p>If the value to be printed represents infinity or a NaN, the output is
[<code>-</code>]<code>inf</code> or <code>nan</code> respectively if the conversion
specifier is <code>%a</code>, <code>%e</code>, <code>%f</code>, or <code>%g</code> and it is
[<code>-</code>]<code>INF</code> or <code>NAN</code> respectively if the conversion is
<code>%A</code>, <code>%E</code>, or <code>%G</code>.

<p>The following flags can be used to modify the behavior:

<dl>
<dt><code>-</code>
<dd>Left-justify the result in the field.  Normally the result is
right-justified.

<br><dt><code>+</code>
<dd>Always include a plus or minus sign in the result.

<br><dt><code> </code>
<dd>If the result doesn't start with a plus or minus sign, prefix it with a
space instead.  Since the <code>+</code> flag ensures that the result includes
a sign, this flag is ignored if you supply both of them.

<br><dt><code>#</code>
<dd>Specifies that the result should always include a decimal point, even
if no digits follow it.  For the <code>%g</code> and <code>%G</code> conversions,
this also forces trailing zeros after the decimal point to be left
in place where they would otherwise be removed.

<br><dt><code>'</code>
<dd>Separate the digits of the integer part of the result into groups as
specified by the locale specified for the <code>LC_NUMERIC</code> category;
see <a href="#General%20Numeric">General Numeric</a>.  This flag is a GNU extension.

<br><dt><code>0</code>
<dd>Pad the field with zeros instead of spaces; the zeros are placed
after any sign.  This flag is ignored if the <code>-</code> flag is also
specified. 
</dl>

<p>The precision specifies how many digits follow the decimal-point
character for the <code>%f</code>, <code>%e</code>, and <code>%E</code> conversions.  For
these conversions, the default precision is <code>6</code>.  If the precision
is explicitly <code>0</code>, this suppresses the decimal point character
entirely.  For the <code>%g</code> and <code>%G</code> conversions, the precision
specifies how many significant digits to print.  Significant digits are
the first digit before the decimal point, and all the digits after it. 
If the precision is <code>0</code> or not specified for <code>%g</code> or <code>%G</code>,
it is treated like a value of <code>1</code>.  If the value being printed
cannot be expressed accurately in the specified number of digits, the
value is rounded to the nearest number that fits.

<p>Without a type modifier, the floating-point conversions use an argument
of type <code>double</code>.  (By the default argument promotions, any
<code>float</code> arguments are automatically converted to <code>double</code>.) 
The following type modifier is supported:

<dl>
<dt><code>L</code>
<dd>An uppercase <code>L</code> specifies that the argument is a <code>long
double</code>. 
</dl>

<p>Here are some examples showing how numbers print using the various
floating-point conversions.  All of the numbers were printed using
this template string:

<br><pre>"|%13.4a|%13.4f|%13.4e|%13.4g|\n"
</pre>

<p>Here is the output:

<br><pre>|  0x0.0000p+0|       0.0000|   0.0000e+00|            0|
|  0x1.0000p-1|       0.5000|   5.0000e-01|          0.5|
|  0x1.0000p+0|       1.0000|   1.0000e+00|            1|
| -0x1.0000p+0|      -1.0000|  -1.0000e+00|           -1|
|  0x1.9000p+6|     100.0000|   1.0000e+02|          100|
|  0x1.f400p+9|    1000.0000|   1.0000e+03|         1000|
| 0x1.3880p+13|   10000.0000|   1.0000e+04|        1e+04|
| 0x1.81c8p+13|   12345.0000|   1.2345e+04|    1.234e+04|
| 0x1.86a0p+16|  100000.0000|   1.0000e+05|        1e+05|
| 0x1.e240p+16|  123456.0000|   1.2346e+05|    1.235e+05|
</pre>

<p>Notice how the <code>%g</code> conversion drops trailing zeros.

<p><hr>
Node:<a name="Other%20Output%20Conversions">Other Output Conversions</a>,
Next:<a rel=next accesskey=n href="#Formatted%20Output%20Functions">Formatted Output Functions</a>,
Previous:<a rel=previous accesskey=p href="#Floating-Point%20Conversions">Floating-Point Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Other Output Conversions</h4>

<p>This section describes miscellaneous conversions for <code>printf</code>.

<p>The <code>%c</code> conversion prints a single character.  In case there is no
<code>l</code> modifier the <code>int</code> argument is first converted to an
<code>unsigned char</code>.  Then, if used in a wide stream function, the
character is converted into the corresponding wide character.  The
<code>-</code> flag can be used to specify left-justification in the field,
but no other flags are defined, and no precision or type modifier can be
given.  For example:

<br><pre>printf ("%c%c%c%c%c", 'h', 'e', 'l', 'l', 'o');
</pre>

<p>prints <code>hello</code>.

<p>If there is a <code>l</code> modifier present the argument is expected to be
of type <code>wint_t</code>.  If used in a multibyte function the wide
character is converted into a multibyte character before being added to
the output.  In this case more than one output byte can be produced.

<p>The <code>%s</code> conversion prints a string.  If no <code>l</code> modifier is
present the corresponding argument must be of type <code>char *</code> (or
<code>const char *</code>).  If used in a wide stream function the string is
first converted in a wide character string.  A precision can be
specified to indicate the maximum number of characters to write;
otherwise characters in the string up to but not including the
terminating null character are written to the output stream.  The
<code>-</code> flag can be used to specify left-justification in the field,
but no other flags or type modifiers are defined for this conversion. 
For example:

<br><pre>printf ("%3s%-6s", "no", "where");
</pre>

<p>prints <code> nowhere </code>.

<p>If there is a <code>l</code> modifier present the argument is expected to be of type <code>wchar_t</code> (or <code>const wchar_t *</code>).

<p>If you accidentally pass a null pointer as the argument for a <code>%s</code>
conversion, the GNU library prints it as <code>(null)</code>.  We think this
is more useful than crashing.  But it's not good practice to pass a null
argument intentionally.

<p>The <code>%m</code> conversion prints the string corresponding to the error
code in <code>errno</code>.  See <a href="#Error%20Messages">Error Messages</a>.  Thus:

<br><pre>fprintf (stderr, "can't open `%s': %m\n", filename);
</pre>

<p>is equivalent to:

<br><pre>fprintf (stderr, "can't open `%s': %s\n", filename, strerror (errno));
</pre>

<p>The <code>%m</code> conversion is a GNU C library extension.

<p>The <code>%p</code> conversion prints a pointer value.  The corresponding
argument must be of type <code>void *</code>.  In practice, you can use any
type of pointer.

<p>In the GNU system, non-null pointers are printed as unsigned integers,
as if a <code>%#x</code> conversion were used.  Null pointers print as
<code>(nil)</code>.  (Pointers might print differently in other systems.)

<p>For example:

<br><pre>printf ("%p", "testing");
</pre>

<p>prints <code>0x</code> followed by a hexadecimal number--the address of the
string constant <code>"testing"</code>.  It does not print the word
<code>testing</code>.

<p>You can supply the <code>-</code> flag with the <code>%p</code> conversion to
specify left-justification, but no other flags, precision, or type
modifiers are defined.

<p>The <code>%n</code> conversion is unlike any of the other output conversions. 
It uses an argument which must be a pointer to an <code>int</code>, but
instead of printing anything it stores the number of characters printed
so far by this call at that location.  The <code>h</code> and <code>l</code> type
modifiers are permitted to specify that the argument is of type
<code>short int *</code> or <code>long int *</code> instead of <code>int *</code>, but no
flags, field width, or precision are permitted.

<p>For example,

<br><pre>int nchar;
printf ("%d %s%n\n", 3, "bears", &amp;nchar);
</pre>

<p>prints:

<br><pre>3 bears
</pre>

<p>and sets <code>nchar</code> to <code>7</code>, because <code>3 bears</code> is seven
characters.

<p>The <code>%%</code> conversion prints a literal <code>%</code> character.  This
conversion doesn't use an argument, and no flags, field width,
precision, or type modifiers are permitted.

<p><hr>
Node:<a name="Formatted%20Output%20Functions">Formatted Output Functions</a>,
Next:<a rel=next accesskey=n href="#Dynamic%20Output">Dynamic Output</a>,
Previous:<a rel=previous accesskey=p href="#Other%20Output%20Conversions">Other Output Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Formatted Output Functions</h4>

<p>This section describes how to call <code>printf</code> and related functions. 
Prototypes for these functions are in the header file <code>stdio.h</code>. 
Because these functions take a variable number of arguments, you
<em>must</em> declare prototypes for them before using them.  Of course,
the easiest way to make sure you have all the right prototypes is to
just include <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>printf</b><i> (const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>printf</code> function prints the optional arguments under the
control of the template string <var>template</var> to the stream
<code>stdout</code>.  It returns the number of characters printed, or a
negative value if there was an output error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wprintf</b><i> (const wchar_t *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wprintf</code> function prints the optional arguments under the
control of the wide template string <var>template</var> to the stream
<code>stdout</code>.  It returns the number of wide characters printed, or a
negative value if there was an output error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fprintf</b><i> (FILE *<var>stream</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is just like <code>printf</code>, except that the output is
written to the stream <var>stream</var> instead of <code>stdout</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fwprintf</b><i> (FILE *<var>stream</var>, const wchar_t *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is just like <code>wprintf</code>, except that the output is
written to the stream <var>stream</var> instead of <code>stdout</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sprintf</b><i> (char *<var>s</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>printf</code>, except that the output is stored in the character
array <var>s</var> instead of written to a stream.  A null character is written
to mark the end of the string.

<p>The <code>sprintf</code> function returns the number of characters stored in
the array <var>s</var>, not including the terminating null character.

<p>The behavior of this function is undefined if copying takes place
between objects that overlap--for example, if <var>s</var> is also given
as an argument to be printed under control of the <code>%s</code> conversion. 
See <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<p><strong>Warning:</strong> The <code>sprintf</code> function can be <strong>dangerous</strong>
because it can potentially output more characters than can fit in the
allocation size of the string <var>s</var>.  Remember that the field width
given in a conversion specification is only a <em>minimum</em> value.

<p>To avoid this problem, you can use <code>snprintf</code> or <code>asprintf</code>,
described below. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>swprintf</b><i> (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>wprintf</code>, except that the output is stored in the
wide character array <var>ws</var> instead of written to a stream.  A null
wide character is written to mark the end of the string.  The <var>size</var>
argument specifies the maximum number of characters to produce.  The
trailing null character is counted towards this limit, so you should
allocate at least <var>size</var> wide characters for the string <var>ws</var>.

<p>The return value is the number of characters generated for the given
input, excluding the trailing null.  If not all output fits into the
provided buffer a negative value is returned.  You should try again with
a bigger output string.  <em>Note:</em> this is different from how
<code>snprintf</code> handles this situation.

<p>Note that the corresponding narrow stream function takes fewer
parameters.  <code>swprintf</code> in fact corresponds to the <code>snprintf</code>
function.  Since the <code>sprintf</code> function can be dangerous and should
be avoided the ISO&nbsp;C committee refused to make the same mistake
again and decided to not define an function exactly corresponding to
<code>sprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>snprintf</b><i> (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>snprintf</code> function is similar to <code>sprintf</code>, except that
the <var>size</var> argument specifies the maximum number of characters to
produce.  The trailing null character is counted towards this limit, so
you should allocate at least <var>size</var> characters for the string <var>s</var>.

<p>The return value is the number of characters which would be generated
for the given input, excluding the trailing null.  If this value is
greater or equal to <var>size</var>, not all characters from the result have
been stored in <var>s</var>.  You should try again with a bigger output
string.  Here is an example of doing this:

<br><pre>/* Construct a message describing the value of a variable
   whose name is <var>name</var> and whose value is <var>value</var>. */
char *
make_message (char *name, char *value)
{
  /* Guess we need no more than 100 chars of space. */
  int size = 100;
  char *buffer = (char *) xmalloc (size);
  int nchars;
  if (buffer == NULL)
    return NULL;

 /* Try to print in the allocated space. */
  nchars = snprintf (buffer, size, "value of %s is %s",
                     name, value);
  if (nchars &gt;= size)
    {
      /* Reallocate buffer now that we know
         how much space is needed. */
      buffer = (char *) xrealloc (buffer, nchars + 1);

      if (buffer != NULL)
        /* Try again. */
        snprintf (buffer, size, "value of %s is %s",
                  name, value);
    }
  /* The last call worked, return the string. */
  return buffer;
}
</pre>

<p>In practice, it is often easier just to use <code>asprintf</code>, below.

<p><strong>Attention:</strong> In versions of the GNU C library prior to 2.1 the
return value is the number of characters stored, not including the
terminating null; unless there was not enough space in <var>s</var> to
store the result in which case <code>-1</code> is returned.  This was
changed in order to comply with the ISO&nbsp;C99 standard. 
</td></tr>
</table>

<p><hr>
Node:<a name="Dynamic%20Output">Dynamic Output</a>,
Next:<a rel=next accesskey=n href="#Variable%20Arguments%20Output">Variable Arguments Output</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Output%20Functions">Formatted Output Functions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Dynamically Allocating Formatted Output</h4>

<p>The functions in this section do formatted output and place the results
in dynamically allocated memory.

<p>
<table width="100%">
<tr>
<td align="left">int <b>asprintf</b><i> (char **<var>ptr</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>sprintf</code>, except that it dynamically
allocates a string (as with <code>malloc</code>; see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>) to hold the output, instead of putting the output in a
buffer you allocate in advance.  The <var>ptr</var> argument should be the
address of a <code>char *</code> object, and <code>asprintf</code> stores a pointer
to the newly allocated string at that location.

<p>The return value is the number of characters allocated for the buffer, or
less than zero if an error occurred. Usually this means that the buffer
could not be allocated.

<p>Here is how to use <code>asprintf</code> to get the same result as the
<code>snprintf</code> example, but more easily:

<br><pre>/* Construct a message describing the value of a variable
   whose name is <var>name</var> and whose value is <var>value</var>. */
char *
make_message (char *name, char *value)
{
  char *result;
  if (asprintf (&amp;result, "value of %s is %s", name, value) &lt; 0)
    return NULL;
  return result;
}
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_printf</b><i> (struct obstack *<var>obstack</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>asprintf</code>, except that it uses the
obstack <var>obstack</var> to allocate the space.  See <a href="#Obstacks">Obstacks</a>.

<p>The characters are written onto the end of the current object. 
To get at them, you must finish the object with <code>obstack_finish</code>
(see <a href="#Growing%20Objects">Growing Objects</a>). 
</td></tr>
</table>

<p><hr>
Node:<a name="Variable%20Arguments%20Output">Variable Arguments Output</a>,
Next:<a rel=next accesskey=n href="#Parsing%20a%20Template%20String">Parsing a Template String</a>,
Previous:<a rel=previous accesskey=p href="#Dynamic%20Output">Dynamic Output</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Variable Arguments Output Functions</h4>

<p>The functions <code>vprintf</code> and friends are provided so that you can
define your own variadic <code>printf</code>-like functions that make use of
the same internals as the built-in formatted output functions.

<p>The most natural way to define such functions would be to use a language
construct to say, "Call <code>printf</code> and pass this template plus all
of my arguments after the first five."  But there is no way to do this
in C, and it would be hard to provide a way, since at the C language
level there is no way to tell how many arguments your function received.

<p>Since that method is impossible, we provide alternative functions, the
<code>vprintf</code> series, which lets you pass a <code>va_list</code> to describe
"all of my arguments after the first five."

<p>When it is sufficient to define a macro rather than a real function,
the GNU C compiler provides a way to do this much more easily with macros. 
For example:

<br><pre>#define myprintf(a, b, c, d, e, rest...) \
            printf (mytemplate , ## rest...)
</pre>

<p>See <a href="gcc.info.html#Macro%20Varargs">Macros with Variable Numbers of Arguments</a>, for details.  But this is limited to macros,
and does not apply to real functions at all.

<p>Before calling <code>vprintf</code> or the other functions listed in this
section, you <em>must</em> call <code>va_start</code> (see <a href="#Variadic%20Functions">Variadic Functions</a>) to initialize a pointer to the variable arguments.  Then you
can call <code>va_arg</code> to fetch the arguments that you want to handle
yourself.  This advances the pointer past those arguments.

<p>Once your <code>va_list</code> pointer is pointing at the argument of your
choice, you are ready to call <code>vprintf</code>.  That argument and all
subsequent arguments that were passed to your function are used by
<code>vprintf</code> along with the template that you specified separately.

<p>In some other systems, the <code>va_list</code> pointer may become invalid
after the call to <code>vprintf</code>, so you must not use <code>va_arg</code>
after you call <code>vprintf</code>.  Instead, you should call <code>va_end</code>
to retire the pointer from service.  However, you can safely call
<code>va_start</code> on another pointer variable and begin fetching the
arguments again through that pointer.  Calling <code>vprintf</code> does not
destroy the argument list of your function, merely the particular
pointer that you passed to it.

<p>GNU C does not have such restrictions.  You can safely continue to fetch
arguments from a <code>va_list</code> pointer after passing it to
<code>vprintf</code>, and <code>va_end</code> is a no-op.  (Note, however, that
subsequent <code>va_arg</code> calls will fetch the same arguments which
<code>vprintf</code> previously used.)

<p>Prototypes for these functions are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>vprintf</b><i> (const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>printf</code> except that, instead of taking
a variable number of arguments directly, it takes an argument list
pointer <var>ap</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vwprintf</b><i> (const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>wprintf</code> except that, instead of taking
a variable number of arguments directly, it takes an argument list
pointer <var>ap</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vfprintf</b><i> (FILE *<var>stream</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>fprintf</code> with the variable argument list
specified directly as for <code>vprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vfwprintf</b><i> (FILE *<var>stream</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>fwprintf</code> with the variable argument list
specified directly as for <code>vwprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vsprintf</b><i> (char *<var>s</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>sprintf</code> with the variable argument list
specified directly as for <code>vprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vswprintf</b><i> (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>swprintf</code> with the variable argument list
specified directly as for <code>vwprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vsnprintf</b><i> (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>snprintf</code> with the variable argument list
specified directly as for <code>vprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vasprintf</b><i> (char **<var>ptr</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>vasprintf</code> function is the equivalent of <code>asprintf</code> with the
variable argument list specified directly as for <code>vprintf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>obstack_vprintf</b><i> (struct obstack *<var>obstack</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>obstack_vprintf</code> function is the equivalent of
<code>obstack_printf</code> with the variable argument list specified directly
as for <code>vprintf</code>. 
</td></tr>
</table>

<p>Here's an example showing how you might use <code>vfprintf</code>.  This is a
function that prints error messages to the stream <code>stderr</code>, along
with a prefix indicating the name of the program
(see <a href="#Error%20Messages">Error Messages</a>, for a description of
<code>program_invocation_short_name</code>).

<br><pre>#include &lt;stdio.h&gt;
#include &lt;stdarg.h&gt;

void
eprintf (const char *template, ...)
{
  va_list ap;
  extern char *program_invocation_short_name;

  fprintf (stderr, "%s: ", program_invocation_short_name);
  va_start (ap, template);
  vfprintf (stderr, template, ap);
  va_end (ap);
}
</pre>

<p>You could call <code>eprintf</code> like this:

<br><pre>eprintf ("file `%s' does not exist\n", filename);
</pre>

<p>In GNU C, there is a special construct you can use to let the compiler
know that a function uses a <code>printf</code>-style format string.  Then it
can check the number and types of arguments in each call to the
function, and warn you when they do not match the format string. 
For example, take this declaration of <code>eprintf</code>:

<br><pre>void eprintf (const char *template, ...)
        __attribute__ ((format (printf, 1, 2)));
</pre>

<p>This tells the compiler that <code>eprintf</code> uses a format string like
<code>printf</code> (as opposed to <code>scanf</code>; see <a href="#Formatted%20Input">Formatted Input</a>);
the format string appears as the first argument;
and the arguments to satisfy the format begin with the second. 
See <a href="gcc.info.html#Function%20Attributes">Declaring Attributes of Functions</a>, for more information.

<p><hr>
Node:<a name="Parsing%20a%20Template%20String">Parsing a Template String</a>,
Next:<a rel=next accesskey=n href="#Example%20of%20Parsing">Example of Parsing</a>,
Previous:<a rel=previous accesskey=p href="#Variable%20Arguments%20Output">Variable Arguments Output</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Parsing a Template String</h4>

<p>You can use the function <code>parse_printf_format</code> to obtain
information about the number and types of arguments that are expected by
a given template string.  This function permits interpreters that
provide interfaces to <code>printf</code> to avoid passing along invalid
arguments from the user's program, which could cause a crash.

<p>All the symbols described in this section are declared in the header
file <code>printf.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>parse_printf_format</b><i> (const char *<var>template</var>, size_t <var>n</var>, int *<var>argtypes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns information about the number and types of
arguments expected by the <code>printf</code> template string <var>template</var>. 
The information is stored in the array <var>argtypes</var>; each element of
this array describes one argument.  This information is encoded using
the various <code>PA_</code> macros, listed below.

<p>The argument <var>n</var> specifies the number of elements in the array
<var>argtypes</var>.  This is the maximum number of elements that
<code>parse_printf_format</code> will try to write.

<p><code>parse_printf_format</code> returns the total number of arguments required
by <var>template</var>.  If this number is greater than <var>n</var>, then the
information returned describes only the first <var>n</var> arguments.  If you
want information about additional arguments, allocate a bigger
array and call <code>parse_printf_format</code> again. 
</td></tr>
</table>

<p>The argument types are encoded as a combination of a basic type and
modifier flag bits.

<p>
<table width="100%">
<tr>
<td align="left">int <b>PA_FLAG_MASK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is a bitmask for the type modifier flag bits.  You can write
the expression <code>(argtypes[i] &amp; PA_FLAG_MASK)</code> to extract just the
flag bits for an argument, or <code>(argtypes[i] &amp; ~PA_FLAG_MASK)</code> to
extract just the basic type code. 
</td></tr>
</table>

<p>Here are symbolic constants that represent the basic types; they stand
for integer values.

<dl>
<dt><code>PA_INT</code>
<dd>This specifies that the base type is <code>int</code>.

<br><dt><code>PA_CHAR</code>
<dd>This specifies that the base type is <code>int</code>, cast to <code>char</code>.

<br><dt><code>PA_STRING</code>
<dd>This specifies that the base type is <code>char *</code>, a null-terminated string.

<br><dt><code>PA_POINTER</code>
<dd>This specifies that the base type is <code>void *</code>, an arbitrary pointer.

<br><dt><code>PA_FLOAT</code>
<dd>This specifies that the base type is <code>float</code>.

<br><dt><code>PA_DOUBLE</code>
<dd>This specifies that the base type is <code>double</code>.

<br><dt><code>PA_LAST</code>
<dd>You can define additional base types for your own programs as offsets
from <code>PA_LAST</code>.  For example, if you have data types <code>foo</code>
and <code>bar</code> with their own specialized <code>printf</code> conversions,
you could define encodings for these types as:

<br><pre>#define PA_FOO  PA_LAST
#define PA_BAR  (PA_LAST + 1)
</pre>
</dl>

<p>Here are the flag bits that modify a basic type.  They are combined with
the code for the basic type using inclusive-or.

<dl>
<dt><code>PA_FLAG_PTR</code>
<dd>If this bit is set, it indicates that the encoded type is a pointer to
the base type, rather than an immediate value. 
For example, <code>PA_INT|PA_FLAG_PTR</code> represents the type <code>int *</code>.

<br><dt><code>PA_FLAG_SHORT</code>
<dd>If this bit is set, it indicates that the base type is modified with
<code>short</code>.  (This corresponds to the <code>h</code> type modifier.)

<br><dt><code>PA_FLAG_LONG</code>
<dd>If this bit is set, it indicates that the base type is modified with
<code>long</code>.  (This corresponds to the <code>l</code> type modifier.)

<br><dt><code>PA_FLAG_LONG_LONG</code>
<dd>If this bit is set, it indicates that the base type is modified with
<code>long long</code>.  (This corresponds to the <code>L</code> type modifier.)

<br><dt><code>PA_FLAG_LONG_DOUBLE</code>
<dd>This is a synonym for <code>PA_FLAG_LONG_LONG</code>, used by convention with
a base type of <code>PA_DOUBLE</code> to indicate a type of <code>long double</code>. 
</dl>

<p><hr>
Node:<a name="Example%20of%20Parsing">Example of Parsing</a>,
Previous:<a rel=previous accesskey=p href="#Parsing%20a%20Template%20String">Parsing a Template String</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Output">Formatted Output</a>
<br>

<h4>Example of Parsing a Template String</h4>

<p>Here is an example of decoding argument types for a format string.  We
assume this is part of an interpreter which contains arguments of type
<code>NUMBER</code>, <code>CHAR</code>, <code>STRING</code> and <code>STRUCTURE</code> (and
perhaps others which are not valid here).

<br><pre>/* Test whether the <var>nargs</var> specified objects
   in the vector <var>args</var> are valid
   for the format string <var>format</var>:
   if so, return 1.
   If not, return 0 after printing an error message.  */

int
validate_args (char *format, int nargs, OBJECT *args)
{
  int *argtypes;
  int nwanted;

  /* Get the information about the arguments.
     Each conversion specification must be at least two characters
     long, so there cannot be more specifications than half the
     length of the string.  */

  argtypes = (int *) alloca (strlen (format) / 2 * sizeof (int));
  nwanted = parse_printf_format (string, nelts, argtypes);

  /* Check the number of arguments.  */
  if (nwanted &gt; nargs)
    {
      error ("too few arguments (at least %d required)", nwanted);
      return 0;
    }

  /* Check the C type wanted for each argument
     and see if the object given is suitable.  */
  for (i = 0; i &lt; nwanted; i++)
    {
      int wanted;

      if (argtypes[i] &amp; PA_FLAG_PTR)
        wanted = STRUCTURE;
      else
        switch (argtypes[i] &amp; ~PA_FLAG_MASK)
          {
          case PA_INT:
          case PA_FLOAT:
          case PA_DOUBLE:
            wanted = NUMBER;
            break;
          case PA_CHAR:
            wanted = CHAR;
            break;
          case PA_STRING:
            wanted = STRING;
            break;
          case PA_POINTER:
            wanted = STRUCTURE;
            break;
          }
      if (TYPE (args[i]) != wanted)
        {
          error ("type mismatch for arg number %d", i);
          return 0;
        }
    }
  return 1;
}
</pre>

<p><hr>
Node:<a name="Customizing%20Printf">Customizing Printf</a>,
Next:<a rel=next accesskey=n href="#Formatted%20Input">Formatted Input</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Output">Formatted Output</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Customizing <code>printf</code></h3>

<p>The GNU C library lets you define your own custom conversion specifiers
for <code>printf</code> template strings, to teach <code>printf</code> clever ways
to print the important data structures of your program.

<p>The way you do this is by registering the conversion with the function
<code>register_printf_function</code>; see <a href="#Registering%20New%20Conversions">Registering New Conversions</a>. 
One of the arguments you pass to this function is a pointer to a handler
function that produces the actual output; see <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>, for information on how to write this function.

<p>You can also install a function that just returns information about the
number and type of arguments expected by the conversion specifier. 
See <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>, for information about this.

<p>The facilities of this section are declared in the header file
<code>printf.h</code>.

<ul>
<li><a accesskey=1 href="#Registering%20New%20Conversions">Registering New Conversions</a>:          Using <code>register_printf_function</code>
                                         to register a new output conversion. 
<li><a accesskey=2 href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>:         The handler must be able to get
                                         the options specified in the
                                         template when it is called. 
<li><a accesskey=3 href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>:          Defining the handler and arginfo
                                         functions that are passed as arguments
                                         to <code>register_printf_function</code>. 
<li><a accesskey=4 href="#Printf%20Extension%20Example">Printf Extension Example</a>:             How to define a <code>printf</code>
                                         handler function. 
<li><a accesskey=5 href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>:           Predefined <code>printf</code> handlers. 
</ul>

<p><strong>Portability Note:</strong> The ability to extend the syntax of
<code>printf</code> template strings is a GNU extension.  ISO standard C has
nothing similar.

<p><hr>
Node:<a name="Registering%20New%20Conversions">Registering New Conversions</a>,
Next:<a rel=next accesskey=n href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>,
Up:<a rel=up accesskey=u href="#Customizing%20Printf">Customizing Printf</a>
<br>

<h4>Registering New Conversions</h4>

<p>The function to register a new output conversion is
<code>register_printf_function</code>, declared in <code>printf.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>register_printf_function</b><i> (int <var>spec</var>, printf_function <var>handler-function</var>, printf_arginfo_function <var>arginfo-function</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function defines the conversion specifier character <var>spec</var>. 
Thus, if <var>spec</var> is <code>'Y'</code>, it defines the conversion <code>%Y</code>. 
You can redefine the built-in conversions like <code>%s</code>, but flag
characters like <code>#</code> and type modifiers like <code>l</code> can never be
used as conversions; calling <code>register_printf_function</code> for those
characters has no effect.  It is advisable not to use lowercase letters,
since the ISO C standard warns that additional lowercase letters may be
standardized in future editions of the standard.

<p>The <var>handler-function</var> is the function called by <code>printf</code> and
friends when this conversion appears in a template string. 
See <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>, for information about how to define
a function to pass as this argument.  If you specify a null pointer, any
existing handler function for <var>spec</var> is removed.

<p>The <var>arginfo-function</var> is the function called by
<code>parse_printf_format</code> when this conversion appears in a
template string.  See <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>, for information
about this.

<p><strong>Attention:</strong> In the GNU C library versions before 2.0 the
<var>arginfo-function</var> function did not need to be installed unless
the user used the <code>parse_printf_format</code> function.  This has changed. 
Now a call to any of the <code>printf</code> functions will call this
function when this format specifier appears in the format string.

<p>The return value is <code>0</code> on success, and <code>-1</code> on failure
(which occurs if <var>spec</var> is out of range).

<p>You can redefine the standard output conversions, but this is probably
not a good idea because of the potential for confusion.  Library routines
written by other people could break if you do this. 
</td></tr>
</table>

<p><hr>
Node:<a name="Conversion%20Specifier%20Options">Conversion Specifier Options</a>,
Next:<a rel=next accesskey=n href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>,
Previous:<a rel=previous accesskey=p href="#Registering%20New%20Conversions">Registering New Conversions</a>,
Up:<a rel=up accesskey=u href="#Customizing%20Printf">Customizing Printf</a>
<br>

<h4>Conversion Specifier Options</h4>

<p>If you define a meaning for <code>%A</code>, what if the template contains
<code>%+23A</code> or <code>%-#A</code>?  To implement a sensible meaning for these,
the handler when called needs to be able to get the options specified in
the template.

<p>Both the <var>handler-function</var> and <var>arginfo-function</var> accept an
argument that points to a <code>struct printf_info</code>, which contains
information about the options appearing in an instance of the conversion
specifier.  This data type is declared in the header file
<code>printf.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct printf_info</b><i>
</i></td>
<td align="right">Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used to pass information about the options appearing
in an instance of a conversion specifier in a <code>printf</code> template
string to the handler and arginfo functions for that specifier.  It
contains the following members:

<dl>
<dt><code>int prec</code>
<dd>This is the precision specified.  The value is <code>-1</code> if no precision
was specified.  If the precision was given as <code>*</code>, the
<code>printf_info</code> structure passed to the handler function contains the
actual value retrieved from the argument list.  But the structure passed
to the arginfo function contains a value of <code>INT_MIN</code>, since the
actual value is not known.

<br><dt><code>int width</code>
<dd>This is the minimum field width specified.  The value is <code>0</code> if no
width was specified.  If the field width was given as <code>*</code>, the
<code>printf_info</code> structure passed to the handler function contains the
actual value retrieved from the argument list.  But the structure passed
to the arginfo function contains a value of <code>INT_MIN</code>, since the
actual value is not known.

<br><dt><code>wchar_t spec</code>
<dd>This is the conversion specifier character specified.  It's stored in
the structure so that you can register the same handler function for
multiple characters, but still have a way to tell them apart when the
handler function is called.

<br><dt><code>unsigned int is_long_double</code>
<dd>This is a boolean that is true if the <code>L</code>, <code>ll</code>, or <code>q</code>
type modifier was specified.  For integer conversions, this indicates
<code>long long int</code>, as opposed to <code>long double</code> for floating
point conversions.

<br><dt><code>unsigned int is_char</code>
<dd>This is a boolean that is true if the <code>hh</code> type modifier was specified.

<br><dt><code>unsigned int is_short</code>
<dd>This is a boolean that is true if the <code>h</code> type modifier was specified.

<br><dt><code>unsigned int is_long</code>
<dd>This is a boolean that is true if the <code>l</code> type modifier was specified.

<br><dt><code>unsigned int alt</code>
<dd>This is a boolean that is true if the <code>#</code> flag was specified.

<br><dt><code>unsigned int space</code>
<dd>This is a boolean that is true if the <code> </code> flag was specified.

<br><dt><code>unsigned int left</code>
<dd>This is a boolean that is true if the <code>-</code> flag was specified.

<br><dt><code>unsigned int showsign</code>
<dd>This is a boolean that is true if the <code>+</code> flag was specified.

<br><dt><code>unsigned int group</code>
<dd>This is a boolean that is true if the <code>'</code> flag was specified.

<br><dt><code>unsigned int extra</code>
<dd>This flag has a special meaning depending on the context.  It could
be used freely by the user-defined handlers but when called from
the <code>printf</code> function this variable always contains the value
<code>0</code>.

<br><dt><code>unsigned int wide</code>
<dd>This flag is set if the stream is wide oriented.

<br><dt><code>wchar_t pad</code>
<dd>This is the character to use for padding the output to the minimum field
width.  The value is <code>'0'</code> if the <code>0</code> flag was specified, and
<code>' '</code> otherwise. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Defining%20the%20Output%20Handler">Defining the Output Handler</a>,
Next:<a rel=next accesskey=n href="#Printf%20Extension%20Example">Printf Extension Example</a>,
Previous:<a rel=previous accesskey=p href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>,
Up:<a rel=up accesskey=u href="#Customizing%20Printf">Customizing Printf</a>
<br>

<h4>Defining the Output Handler</h4>

<p>Now let's look at how to define the handler and arginfo functions
which are passed as arguments to <code>register_printf_function</code>.

<p><strong>Compatibility Note:</strong> The interface changed in GNU libc
version 2.0.  Previously the third argument was of type
<code>va_list *</code>.

<p>You should define your handler functions with a prototype like:

<br><pre>int <var>function</var> (FILE *stream, const struct printf_info *info,
                    const void *const *args)
</pre>

<p>The <var>stream</var> argument passed to the handler function is the stream to
which it should write output.

<p>The <var>info</var> argument is a pointer to a structure that contains
information about the various options that were included with the
conversion in the template string.  You should not modify this structure
inside your handler function.  See <a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>, for
a description of this data structure.

<p>The <var>args</var> is a vector of pointers to the arguments data. 
The number of arguments was determined by calling the argument
information function provided by the user.

<p>Your handler function should return a value just like <code>printf</code>
does: it should return the number of characters it has written, or a
negative value to indicate an error.

<p>
<table width="100%">
<tr>
<td align="left"><b>printf_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type that a handler function should have. 
</td></tr>
</table>

<p>If you are going to use <code>parse_printf_format</code> in your
application, you must also define a function to pass as the
<var>arginfo-function</var> argument for each new conversion you install with
<code>register_printf_function</code>.

<p>You have to define these functions with a prototype like:

<br><pre>int <var>function</var> (const struct printf_info *info,
                    size_t n, int *argtypes)
</pre>

<p>The return value from the function should be the number of arguments the
conversion expects.  The function should also fill in no more than
<var>n</var> elements of the <var>argtypes</var> array with information about the
types of each of these arguments.  This information is encoded using the
various <code>PA_</code> macros.  (You will notice that this is the same
calling convention <code>parse_printf_format</code> itself uses.)

<p>
<table width="100%">
<tr>
<td align="left"><b>printf_arginfo_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This type is used to describe functions that return information about
the number and type of arguments used by a conversion specifier. 
</td></tr>
</table>

<p><hr>
Node:<a name="Printf%20Extension%20Example">Printf Extension Example</a>,
Next:<a rel=next accesskey=n href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>,
Previous:<a rel=previous accesskey=p href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>,
Up:<a rel=up accesskey=u href="#Customizing%20Printf">Customizing Printf</a>
<br>

<h4><code>printf</code> Extension Example</h4>

<p>Here is an example showing how to define a <code>printf</code> handler function. 
This program defines a data structure called a <code>Widget</code> and
defines the <code>%W</code> conversion to print information about <code>Widget&nbsp;*</code>
arguments, including the pointer value and the name stored in the data
structure.  The <code>%W</code> conversion supports the minimum field width and
left-justification options, but ignores everything else.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;printf.h&gt;

typedef struct
{
  char *name;
}
Widget;

int
print_widget (FILE *stream,
              const struct printf_info *info,
              const void *const *args)
{
  const Widget *w;
  char *buffer;
  int len;

  /* Format the output into a string. */
  w = *((const Widget **) (args[0]));
  len = asprintf (&amp;buffer, "&lt;Widget %p: %s&gt;", w, w-&gt;name);
  if (len == -1)
    return -1;

  /* Pad to the minimum field width and print to the stream. */
  len = fprintf (stream, "%*s",
                 (info-&gt;left ? -info-&gt;width : info-&gt;width),
                 buffer);

  /* Clean up and return. */
  free (buffer);
  return len;
}


int
print_widget_arginfo (const struct printf_info *info, size_t n,
                      int *argtypes)
{
  /* We always take exactly one argument and this is a pointer to the
     structure.. */
  if (n &gt; 0)
    argtypes[0] = PA_POINTER;
  return 1;
}


int
main (void)
{
  /* Make a widget to print. */
  Widget mywidget;
  mywidget.name = "mywidget";

  /* Register the print function for widgets. */
  register_printf_function ('W', print_widget, print_widget_arginfo);

  /* Now print the widget. */
  printf ("|%W|\n", &amp;mywidget);
  printf ("|%35W|\n", &amp;mywidget);
  printf ("|%-35W|\n", &amp;mywidget);

  return 0;
}
</pre>

<p>The output produced by this program looks like:

<br><pre>|&lt;Widget 0xffeffb7c: mywidget&gt;|
|      &lt;Widget 0xffeffb7c: mywidget&gt;|
|&lt;Widget 0xffeffb7c: mywidget&gt;      |
</pre>

<p><hr>
Node:<a name="Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>,
Previous:<a rel=previous accesskey=p href="#Printf%20Extension%20Example">Printf Extension Example</a>,
Up:<a rel=up accesskey=u href="#Customizing%20Printf">Customizing Printf</a>
<br>

<h4>Predefined <code>printf</code> Handlers</h4>

<p>The GNU libc also contains a concrete and useful application of the
<code>printf</code> handler extension.  There are two functions available
which implement a special way to print floating-point numbers.

<p>
<table width="100%">
<tr>
<td align="left">int <b>printf_size</b><i> (FILE *<var>fp</var>, const struct printf_info *<var>info</var>, const void *const *<var>args</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Print a given floating point number as for the format <code>%f</code> except
that there is a postfix character indicating the divisor for the
number to make this less than 1000.  There are two possible divisors:
powers of 1024 or powers of 1000.  Which one is used depends on the
format character specified while registered this handler.  If the
character is of lower case, 1024 is used.  For upper case characters,
1000 is used.

<p>The postfix tag corresponds to bytes, kilobytes, megabytes, gigabytes,
etc.  The full table is:

<p>The default precision is 3, i.e., 1024 is printed with a lower-case
format character as if it were <code>%.3fk</code> and will yield <code>1.000k</code>. 
</td></tr>
</table>

<p>Due to the requirements of <code>register_printf_function</code> we must also
provide the function which returns information about the arguments.

<p>
<table width="100%">
<tr>
<td align="left">int <b>printf_size_info</b><i> (const struct printf_info *<var>info</var>, size_t <var>n</var>, int *<var>argtypes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function will return in <var>argtypes</var> the information about the
used parameters in the way the <code>vfprintf</code> implementation expects
it.  The format always takes one argument. 
</td></tr>
</table>

<p>To use these functions both functions must be registered with a call like

<br><pre>register_printf_function ('B', printf_size, printf_size_info);
</pre>

<p>Here we register the functions to print numbers as powers of 1000 since
the format character <code>'B'</code> is an upper-case character.  If we
would additionally use <code>'b'</code> in a line like

<br><pre>register_printf_function ('b', printf_size, printf_size_info);
</pre>

<p>we could also print using a power of 1024.  Please note that all that is
different in these two lines is the format specifier.  The
<code>printf_size</code> function knows about the difference between lower and upper
case format specifiers.

<p>The use of <code>'B'</code> and <code>'b'</code> is no coincidence.  Rather it is
the preferred way to use this functionality since it is available on
some other systems which also use format specifiers.

<p><hr>
Node:<a name="Formatted%20Input">Formatted Input</a>,
Next:<a rel=next accesskey=n href="#EOF%20and%20Errors">EOF and Errors</a>,
Previous:<a rel=previous accesskey=p href="#Customizing%20Printf">Customizing Printf</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Formatted Input</h3>

<p>The functions described in this section (<code>scanf</code> and related
functions) provide facilities for formatted input analogous to the
formatted output facilities.  These functions provide a mechanism for
reading arbitrary values under the control of a <dfn>format string</dfn> or
<dfn>template string</dfn>.

<ul>
<li><a accesskey=1 href="#Formatted%20Input%20Basics">Formatted Input Basics</a>:       Some basics to get you started. 
<li><a accesskey=2 href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>:      Syntax of conversion specifications. 
<li><a accesskey=3 href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>:   Summary of input conversions and what they do. 
<li><a accesskey=4 href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>:    Details of conversions for reading numbers. 
<li><a accesskey=5 href="#String%20Input%20Conversions">String Input Conversions</a>:     Details of conversions for reading strings. 
<li><a accesskey=6 href="#Dynamic%20String%20Input">Dynamic String Input</a>: 	String conversions that <code>malloc</code> the buffer. 
<li><a accesskey=7 href="#Other%20Input%20Conversions">Other Input Conversions</a>:      Details of miscellaneous other conversions. 
<li><a accesskey=8 href="#Formatted%20Input%20Functions">Formatted Input Functions</a>:    Descriptions of the actual functions. 
<li><a accesskey=9 href="#Variable%20Arguments%20Input">Variable Arguments Input</a>:     <code>vscanf</code> and friends. 
</ul>

<p><hr>
Node:<a name="Formatted%20Input%20Basics">Formatted Input Basics</a>,
Next:<a rel=next accesskey=n href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Formatted Input Basics</h4>

<p>Calls to <code>scanf</code> are superficially similar to calls to
<code>printf</code> in that arbitrary arguments are read under the control of
a template string.  While the syntax of the conversion specifications in
the template is very similar to that for <code>printf</code>, the
interpretation of the template is oriented more towards free-format
input and simple pattern matching, rather than fixed-field formatting. 
For example, most <code>scanf</code> conversions skip over any amount of
"white space" (including spaces, tabs, and newlines) in the input
file, and there is no concept of precision for the numeric input
conversions as there is for the corresponding output conversions. 
Ordinarily, non-whitespace characters in the template are expected to
match characters in the input stream exactly, but a matching failure is
distinct from an input error on the stream.

<p>Another area of difference between <code>scanf</code> and <code>printf</code> is
that you must remember to supply pointers rather than immediate values
as the optional arguments to <code>scanf</code>; the values that are read are
stored in the objects that the pointers point to.  Even experienced
programmers tend to forget this occasionally, so if your program is
getting strange errors that seem to be related to <code>scanf</code>, you
might want to double-check this.

<p>When a <dfn>matching failure</dfn> occurs, <code>scanf</code> returns immediately,
leaving the first non-matching character as the next character to be
read from the stream.  The normal return value from <code>scanf</code> is the
number of values that were assigned, so you can use this to determine if
a matching error happened before all the expected values were read.

<p>The <code>scanf</code> function is typically used for things like reading in
the contents of tables.  For example, here is a function that uses
<code>scanf</code> to initialize an array of <code>double</code>:

<br><pre>void
readarray (double *array, int n)
{
  int i;
  for (i=0; i&lt;n; i++)
    if (scanf (" %lf", &amp;(array[i])) != 1)
      invalid_input_error ();
}
</pre>

<p>The formatted input functions are not used as frequently as the
formatted output functions.  Partly, this is because it takes some care
to use them properly.  Another reason is that it is difficult to recover
from a matching error.

<p>If you are trying to read input that doesn't match a single, fixed
pattern, you may be better off using a tool such as Flex to generate a
lexical scanner, or Bison to generate a parser, rather than using
<code>scanf</code>.  For more information about these tools, see <a href="flex.info.html#Top">Top</a>, and <a href="bison.info.html#Top">Top</a>.

<p><hr>
Node:<a name="Input%20Conversion%20Syntax">Input Conversion Syntax</a>,
Next:<a rel=next accesskey=n href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Input%20Basics">Formatted Input Basics</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Input Conversion Syntax</h4>

<p>A <code>scanf</code> template string is a string that contains ordinary
multibyte characters interspersed with conversion specifications that
start with <code>%</code>.

<p>Any whitespace character (as defined by the <code>isspace</code> function;
see <a href="#Classification%20of%20Characters">Classification of Characters</a>) in the template causes any number
of whitespace characters in the input stream to be read and discarded. 
The whitespace characters that are matched need not be exactly the same
whitespace characters that appear in the template string.  For example,
write <code> , </code> in the template to recognize a comma with optional
whitespace before and after.

<p>Other characters in the template string that are not part of conversion
specifications must match characters in the input stream exactly; if
this is not the case, a matching failure occurs.

<p>The conversion specifications in a <code>scanf</code> template string
have the general form:

<br><pre>% <var>flags</var> <var>width</var> <var>type</var> <var>conversion</var>
</pre>

<p>In more detail, an input conversion specification consists of an initial
<code>%</code> character followed in sequence by:

<ul>
<li>An optional <dfn>flag character</dfn> <code>*</code>, which says to ignore the text
read for this specification.  When <code>scanf</code> finds a conversion
specification that uses this flag, it reads input as directed by the
rest of the conversion specification, but it discards this input, does
not use a pointer argument, and does not increment the count of
successful assignments.

<li>An optional flag character <code>a</code> (valid with string conversions only)
which requests allocation of a buffer long enough to store the string in. 
(This is a GNU extension.) 
See <a href="#Dynamic%20String%20Input">Dynamic String Input</a>.

<li>An optional decimal integer that specifies the <dfn>maximum field
width</dfn>.  Reading of characters from the input stream stops either when
this maximum is reached or when a non-matching character is found,
whichever happens first.  Most conversions discard initial whitespace
characters (those that don't are explicitly documented), and these
discarded characters don't count towards the maximum field width. 
String input conversions store a null character to mark the end of the
input; the maximum field width does not include this terminator.

<li>An optional <dfn>type modifier character</dfn>.  For example, you can
specify a type modifier of <code>l</code> with integer conversions such as
<code>%d</code> to specify that the argument is a pointer to a <code>long int</code>
rather than a pointer to an <code>int</code>.

<li>A character that specifies the conversion to be applied. 
</ul>

<p>The exact options that are permitted and how they are interpreted vary
between the different conversion specifiers.  See the descriptions of the
individual conversions for information about the particular options that
they allow.

<p>With the <code>-Wformat</code> option, the GNU C compiler checks calls to
<code>scanf</code> and related functions.  It examines the format string and
verifies that the correct number and types of arguments are supplied. 
There is also a GNU C syntax to tell the compiler that a function you
write uses a <code>scanf</code>-style format string. 
See <a href="gcc.info.html#Function%20Attributes">Declaring Attributes of Functions</a>, for more information.

<p><hr>
Node:<a name="Table%20of%20Input%20Conversions">Table of Input Conversions</a>,
Next:<a rel=next accesskey=n href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Table of Input Conversions</h4>

<p>Here is a table that summarizes the various conversion specifications:

<dl>
<dt><code>%d</code>
<dd>Matches an optionally signed integer written in decimal.  See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%i</code>
<dd>Matches an optionally signed integer in any of the formats that the C
language defines for specifying an integer constant.  See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%o</code>
<dd>Matches an unsigned integer written in octal radix. 
See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%u</code>
<dd>Matches an unsigned integer written in decimal radix. 
See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%x</code>, <code>%X</code>
<dd>Matches an unsigned integer written in hexadecimal radix. 
See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%e</code>, <code>%f</code>, <code>%g</code>, <code>%E</code>, <code>%G</code>
<dd>Matches an optionally signed floating-point number.  See <a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>.

<br><dt><code>%s</code>
<dd>
Matches a string containing only non-whitespace characters. 
See <a href="#String%20Input%20Conversions">String Input Conversions</a>.  The presence of the <code>l</code> modifier
determines whether the output is stored as a wide character string or a
multibyte string.  If <code>%s</code> is used in a wide character function the
string is converted as with multiple calls to <code>wcrtomb</code> into a
multibyte string.  This means that the buffer must provide room for
<code>MB_CUR_MAX</code> bytes for each wide character read.  In case
<code>%ls</code> is used in a multibyte function the result is converted into
wide characters as with multiple calls of <code>mbrtowc</code> before being
stored in the user provided buffer.

<br><dt><code>%S</code>
<dd>This is an alias for <code>%ls</code> which is supported for compatibility
with the Unix standard.

<br><dt><code>%[</code>
<dd>Matches a string of characters that belong to a specified set. 
See <a href="#String%20Input%20Conversions">String Input Conversions</a>.  The presence of the <code>l</code> modifier
determines whether the output is stored as a wide character string or a
multibyte string.  If <code>%[</code> is used in a wide character function the
string is converted as with multiple calls to <code>wcrtomb</code> into a
multibyte string.  This means that the buffer must provide room for
<code>MB_CUR_MAX</code> bytes for each wide character read.  In case
<code>%l[</code> is used in a multibyte function the result is converted into
wide characters as with multiple calls of <code>mbrtowc</code> before being
stored in the user provided buffer.

<br><dt><code>%c</code>
<dd>Matches a string of one or more characters; the number of characters
read is controlled by the maximum field width given for the conversion. 
See <a href="#String%20Input%20Conversions">String Input Conversions</a>.

<p>If the <code>%c</code> is used in a wide stream function the read value is
converted from a wide character to the corresponding multibyte character
before storing it.  Note that this conversion can produce more than one
byte of output and therefore the provided buffer be large enough for up
to <code>MB_CUR_MAX</code> bytes for each character.  If <code>%lc</code> is used in
a multibyte function the input is treated as a multibyte sequence (and
not bytes) and the result is converted as with calls to <code>mbrtowc</code>.

<br><dt><code>%C</code>
<dd>This is an alias for <code>%lc</code> which is supported for compatibility
with the Unix standard.

<br><dt><code>%p</code>
<dd>Matches a pointer value in the same implementation-defined format used
by the <code>%p</code> output conversion for <code>printf</code>.  See <a href="#Other%20Input%20Conversions">Other Input Conversions</a>.

<br><dt><code>%n</code>
<dd>This conversion doesn't read any characters; it records the number of
characters read so far by this call.  See <a href="#Other%20Input%20Conversions">Other Input Conversions</a>.

<br><dt><code>%%</code>
<dd>This matches a literal <code>%</code> character in the input stream.  No
corresponding argument is used.  See <a href="#Other%20Input%20Conversions">Other Input Conversions</a>. 
</dl>

<p>If the syntax of a conversion specification is invalid, the behavior is
undefined.  If there aren't enough function arguments provided to supply
addresses for all the conversion specifications in the template strings
that perform assignments, or if the arguments are not of the correct
types, the behavior is also undefined.  On the other hand, extra
arguments are simply ignored.

<p><hr>
Node:<a name="Numeric%20Input%20Conversions">Numeric Input Conversions</a>,
Next:<a rel=next accesskey=n href="#String%20Input%20Conversions">String Input Conversions</a>,
Previous:<a rel=previous accesskey=p href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Numeric Input Conversions</h4>

<p>This section describes the <code>scanf</code> conversions for reading numeric
values.

<p>The <code>%d</code> conversion matches an optionally signed integer in decimal
radix.  The syntax that is recognized is the same as that for the
<code>strtol</code> function (see <a href="#Parsing%20of%20Integers">Parsing of Integers</a>) with the value
<code>10</code> for the <var>base</var> argument.

<p>The <code>%i</code> conversion matches an optionally signed integer in any of
the formats that the C language defines for specifying an integer
constant.  The syntax that is recognized is the same as that for the
<code>strtol</code> function (see <a href="#Parsing%20of%20Integers">Parsing of Integers</a>) with the value
<code>0</code> for the <var>base</var> argument.  (You can print integers in this
syntax with <code>printf</code> by using the <code>#</code> flag character with the
<code>%x</code>, <code>%o</code>, or <code>%d</code> conversion.  See <a href="#Integer%20Conversions">Integer Conversions</a>.)

<p>For example, any of the strings <code>10</code>, <code>0xa</code>, or <code>012</code>
could be read in as integers under the <code>%i</code> conversion.  Each of
these specifies a number with decimal value <code>10</code>.

<p>The <code>%o</code>, <code>%u</code>, and <code>%x</code> conversions match unsigned
integers in octal, decimal, and hexadecimal radices, respectively.  The
syntax that is recognized is the same as that for the <code>strtoul</code>
function (see <a href="#Parsing%20of%20Integers">Parsing of Integers</a>) with the appropriate value
(<code>8</code>, <code>10</code>, or <code>16</code>) for the <var>base</var> argument.

<p>The <code>%X</code> conversion is identical to the <code>%x</code> conversion.  They
both permit either uppercase or lowercase letters to be used as digits.

<p>The default type of the corresponding argument for the <code>%d</code> and
<code>%i</code> conversions is <code>int *</code>, and <code>unsigned int *</code> for the
other integer conversions.  You can use the following type modifiers to
specify other sizes of integer:

<dl>
<dt><code>hh</code>
<dd>Specifies that the argument is a <code>signed char *</code> or <code>unsigned
char *</code>.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>h</code>
<dd>Specifies that the argument is a <code>short int *</code> or <code>unsigned
short int *</code>.

<br><dt><code>j</code>
<dd>Specifies that the argument is a <code>intmax_t *</code> or <code>uintmax_t *</code>.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>l</code>
<dd>Specifies that the argument is a <code>long int *</code> or <code>unsigned
long int *</code>.  Two <code>l</code> characters is like the <code>L</code> modifier, below.

<p>If used with <code>%c</code> or <code>%s</code> the corresponding parameter is
considered as a pointer to a wide character or wide character string
respectively.  This use of <code>l</code> was introduced in Amendment&nbsp;1 to
ISO&nbsp;C90.

<br><dt><code>ll</code>
<dt><code>L</code>
<dt><code>q</code>
<dd>Specifies that the argument is a <code>long long int *</code> or <code>unsigned long long int *</code>.  (The <code>long long</code> type is an extension supported by the
GNU C compiler.  For systems that don't provide extra-long integers, this
is the same as <code>long int</code>.)

<p>The <code>q</code> modifier is another name for the same thing, which comes
from 4.4 BSD; a <code>long&nbsp;long&nbsp;int</code> is sometimes called a "quad"
<code>int</code>.

<br><dt><code>t</code>
<dd>Specifies that the argument is a <code>ptrdiff_t *</code>.

<p>This modifier was introduced in ISO&nbsp;C99.

<br><dt><code>z</code>
<dd>Specifies that the argument is a <code>size_t *</code>.

<p>This modifier was introduced in ISO&nbsp;C99. 
</dl>

<p>All of the <code>%e</code>, <code>%f</code>, <code>%g</code>, <code>%E</code>, and <code>%G</code>
input conversions are interchangeable.  They all match an optionally
signed floating point number, in the same syntax as for the
<code>strtod</code> function (see <a href="#Parsing%20of%20Floats">Parsing of Floats</a>).

<p>For the floating-point input conversions, the default argument type is
<code>float *</code>.  (This is different from the corresponding output
conversions, where the default type is <code>double</code>; remember that
<code>float</code> arguments to <code>printf</code> are converted to <code>double</code>
by the default argument promotions, but <code>float *</code> arguments are
not promoted to <code>double *</code>.)  You can specify other sizes of float
using these type modifiers:

<dl>
<dt><code>l</code>
<dd>Specifies that the argument is of type <code>double *</code>.

<br><dt><code>L</code>
<dd>Specifies that the argument is of type <code>long double *</code>. 
</dl>

<p>For all the above number parsing formats there is an additional optional
flag <code>'</code>.  When this flag is given the <code>scanf</code> function
expects the number represented in the input string to be formatted
according to the grouping rules of the currently selected locale
(see <a href="#General%20Numeric">General Numeric</a>).

<p>If the <code>"C"</code> or <code>"POSIX"</code> locale is selected there is no
difference.  But for a locale which specifies values for the appropriate
fields in the locale the input must have the correct form in the input. 
Otherwise the longest prefix with a correct form is processed.

<p><hr>
Node:<a name="String%20Input%20Conversions">String Input Conversions</a>,
Next:<a rel=next accesskey=n href="#Dynamic%20String%20Input">Dynamic String Input</a>,
Previous:<a rel=previous accesskey=p href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>String Input Conversions</h4>

<p>This section describes the <code>scanf</code> input conversions for reading
string and character values: <code>%s</code>, <code>%S</code>, <code>%[</code>, <code>%c</code>,
and <code>%C</code>.

<p>You have two options for how to receive the input from these
conversions:

<ul>
<li>Provide a buffer to store it in.  This is the default.  You should
provide an argument of type <code>char *</code> or <code>wchar_t *</code> (the
latter of the <code>l</code> modifier is present).

<p><strong>Warning:</strong> To make a robust program, you must make sure that the
input (plus its terminating null) cannot possibly exceed the size of the
buffer you provide.  In general, the only way to do this is to specify a
maximum field width one less than the buffer size.  <strong>If you
provide the buffer, always specify a maximum field width to prevent
overflow.</strong>

<li>Ask <code>scanf</code> to allocate a big enough buffer, by specifying the
<code>a</code> flag character.  This is a GNU extension.  You should provide
an argument of type <code>char **</code> for the buffer address to be stored
in.  See <a href="#Dynamic%20String%20Input">Dynamic String Input</a>. 
</ul>

<p>The <code>%c</code> conversion is the simplest: it matches a fixed number of
characters, always.  The maximum field width says how many characters to
read; if you don't specify the maximum, the default is 1.  This
conversion doesn't append a null character to the end of the text it
reads.  It also does not skip over initial whitespace characters.  It
reads precisely the next <var>n</var> characters, and fails if it cannot get
that many.  Since there is always a maximum field width with <code>%c</code>
(whether specified, or 1 by default), you can always prevent overflow by
making the buffer long enough.

<p>If the format is <code>%lc</code> or <code>%C</code> the function stores wide
characters which are converted using the conversion determined at the
time the stream was opened from the external byte stream.  The number of
bytes read from the medium is limited by <code>MB_CUR_LEN * <var>n</var></code> but
at most <var>n</var> wide character get stored in the output string.

<p>The <code>%s</code> conversion matches a string of non-whitespace characters. 
It skips and discards initial whitespace, but stops when it encounters
more whitespace after having read something.  It stores a null character
at the end of the text that it reads.

<p>For example, reading the input:

<br><pre> hello, world
</pre>

<p>with the conversion <code>%10c</code> produces <code>" hello, wo"</code>, but
reading the same input with the conversion <code>%10s</code> produces
<code>"hello,"</code>.

<p><strong>Warning:</strong> If you do not specify a field width for <code>%s</code>,
then the number of characters read is limited only by where the next
whitespace character appears.  This almost certainly means that invalid
input can make your program crash--which is a bug.

<p>The <code>%ls</code> and <code>%S</code> format are handled just like <code>%s</code>
except that the external byte sequence is converted using the conversion
associated with the stream to wide characters with their own encoding. 
A width or precision specified with the format do not directly determine
how many bytes are read from the stream since they measure wide
characters.  But an upper limit can be computed by multiplying the value
of the width or precision by <code>MB_CUR_MAX</code>.

<p>To read in characters that belong to an arbitrary set of your choice,
use the <code>%[</code> conversion.  You specify the set between the <code>[</code>
character and a following <code>]</code> character, using the same syntax used
in regular expressions.  As special cases:

<ul>
<li>A literal <code>]</code> character can be specified as the first character
of the set.

<li>An embedded <code>-</code> character (that is, one that is not the first or
last character of the set) is used to specify a range of characters.

<li>If a caret character <code>^</code> immediately follows the initial <code>[</code>,
then the set of allowed input characters is the everything <em>except</em>
the characters listed. 
</ul>

<p>The <code>%[</code> conversion does not skip over initial whitespace
characters.

<p>Here are some examples of <code>%[</code> conversions and what they mean:

<dl>
<dt><code>%25[1234567890]</code>
<dd>Matches a string of up to 25 digits.

<br><dt><code>%25[][]</code>
<dd>Matches a string of up to 25 square brackets.

<br><dt><code>%25[^ \f\n\r\t\v]</code>
<dd>Matches a string up to 25 characters long that doesn't contain any of
the standard whitespace characters.  This is slightly different from
<code>%s</code>, because if the input begins with a whitespace character,
<code>%[</code> reports a matching failure while <code>%s</code> simply discards the
initial whitespace.

<br><dt><code>%25[a-z]</code>
<dd>Matches up to 25 lowercase characters. 
</dl>

<p>As for <code>%c</code> and <code>%s</code> the <code>%[</code> format is also modified to
produce wide characters if the <code>l</code> modifier is present.  All what
is said about <code>%ls</code> above is true for <code>%l[</code>.

<p>One more reminder: the <code>%s</code> and <code>%[</code> conversions are
<strong>dangerous</strong> if you don't specify a maximum width or use the
<code>a</code> flag, because input too long would overflow whatever buffer you
have provided for it.  No matter how long your buffer is, a user could
supply input that is longer.  A well-written program reports invalid
input with a comprehensible error message, not with a crash.

<p><hr>
Node:<a name="Dynamic%20String%20Input">Dynamic String Input</a>,
Next:<a rel=next accesskey=n href="#Other%20Input%20Conversions">Other Input Conversions</a>,
Previous:<a rel=previous accesskey=p href="#String%20Input%20Conversions">String Input Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Dynamically Allocating String Conversions</h4>

<p>A GNU extension to formatted input lets you safely read a string with no
maximum size.  Using this feature, you don't supply a buffer; instead,
<code>scanf</code> allocates a buffer big enough to hold the data and gives
you its address.  To use this feature, write <code>a</code> as a flag
character, as in <code>%as</code> or <code>%a[0-9a-z]</code>.

<p>The pointer argument you supply for where to store the input should have
type <code>char **</code>.  The <code>scanf</code> function allocates a buffer and
stores its address in the word that the argument points to.  You should
free the buffer with <code>free</code> when you no longer need it.

<p>Here is an example of using the <code>a</code> flag with the <code>%[<small>...</small>]</code>
conversion specification to read a "variable assignment" of the form
<code><var>variable</var> = <var>value</var></code>.

<br><pre>{
  char *variable, *value;

  if (2 &gt; scanf ("%a[a-zA-Z0-9] = %a[^\n]\n",
                 &amp;variable, &amp;value))
    {
      invalid_input_error ();
      return 0;
    }

  <small>...</small>
}
</pre>

<p><hr>
Node:<a name="Other%20Input%20Conversions">Other Input Conversions</a>,
Next:<a rel=next accesskey=n href="#Formatted%20Input%20Functions">Formatted Input Functions</a>,
Previous:<a rel=previous accesskey=p href="#Dynamic%20String%20Input">Dynamic String Input</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Other Input Conversions</h4>

<p>This section describes the miscellaneous input conversions.

<p>The <code>%p</code> conversion is used to read a pointer value.  It recognizes
the same syntax used by the <code>%p</code> output conversion for
<code>printf</code> (see <a href="#Other%20Output%20Conversions">Other Output Conversions</a>); that is, a hexadecimal
number just as the <code>%x</code> conversion accepts.  The corresponding
argument should be of type <code>void **</code>; that is, the address of a
place to store a pointer.

<p>The resulting pointer value is not guaranteed to be valid if it was not
originally written during the same program execution that reads it in.

<p>The <code>%n</code> conversion produces the number of characters read so far
by this call.  The corresponding argument should be of type <code>int *</code>. 
This conversion works in the same way as the <code>%n</code> conversion for
<code>printf</code>; see <a href="#Other%20Output%20Conversions">Other Output Conversions</a>, for an example.

<p>The <code>%n</code> conversion is the only mechanism for determining the
success of literal matches or conversions with suppressed assignments. 
If the <code>%n</code> follows the locus of a matching failure, then no value
is stored for it since <code>scanf</code> returns before processing the
<code>%n</code>.  If you store <code>-1</code> in that argument slot before calling
<code>scanf</code>, the presence of <code>-1</code> after <code>scanf</code> indicates an
error occurred before the <code>%n</code> was reached.

<p>Finally, the <code>%%</code> conversion matches a literal <code>%</code> character
in the input stream, without using an argument.  This conversion does
not permit any flags, field width, or type modifier to be specified.

<p><hr>
Node:<a name="Formatted%20Input%20Functions">Formatted Input Functions</a>,
Next:<a rel=next accesskey=n href="#Variable%20Arguments%20Input">Variable Arguments Input</a>,
Previous:<a rel=previous accesskey=p href="#Other%20Input%20Conversions">Other Input Conversions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Formatted Input Functions</h4>

<p>Here are the descriptions of the functions for performing formatted
input. 
Prototypes for these functions are in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>scanf</b><i> (const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>scanf</code> function reads formatted input from the stream
<code>stdin</code> under the control of the template string <var>template</var>. 
The optional arguments are pointers to the places which receive the
resulting values.

<p>The return value is normally the number of successful assignments.  If
an end-of-file condition is detected before any matches are performed,
including matches against whitespace and literal characters in the
template, then <code>EOF</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>wscanf</b><i> (const wchar_t *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wscanf</code> function reads formatted input from the stream
<code>stdin</code> under the control of the template string <var>template</var>. 
The optional arguments are pointers to the places which receive the
resulting values.

<p>The return value is normally the number of successful assignments.  If
an end-of-file condition is detected before any matches are performed,
including matches against whitespace and literal characters in the
template, then <code>WEOF</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fscanf</b><i> (FILE *<var>stream</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is just like <code>scanf</code>, except that the input is read
from the stream <var>stream</var> instead of <code>stdin</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fwscanf</b><i> (FILE *<var>stream</var>, const wchar_t *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is just like <code>wscanf</code>, except that the input is read
from the stream <var>stream</var> instead of <code>stdin</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sscanf</b><i> (const char *<var>s</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>scanf</code>, except that the characters are taken from the
null-terminated string <var>s</var> instead of from a stream.  Reaching the
end of the string is treated as an end-of-file condition.

<p>The behavior of this function is undefined if copying takes place
between objects that overlap--for example, if <var>s</var> is also given
as an argument to receive a string read under control of the <code>%s</code>,
<code>%S</code>, or <code>%[</code> conversion. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>swscanf</b><i> (const wchar_t *<var>ws</var>, const char *<var>template</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>wscanf</code>, except that the characters are taken from the
null-terminated string <var>ws</var> instead of from a stream.  Reaching the
end of the string is treated as an end-of-file condition.

<p>The behavior of this function is undefined if copying takes place
between objects that overlap--for example, if <var>ws</var> is also given as
an argument to receive a string read under control of the <code>%s</code>,
<code>%S</code>, or <code>%[</code> conversion. 
</td></tr>
</table>

<p><hr>
Node:<a name="Variable%20Arguments%20Input">Variable Arguments Input</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Input%20Functions">Formatted Input Functions</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Input">Formatted Input</a>
<br>

<h4>Variable Arguments Input Functions</h4>

<p>The functions <code>vscanf</code> and friends are provided so that you can
define your own variadic <code>scanf</code>-like functions that make use of
the same internals as the built-in formatted output functions. 
These functions are analogous to the <code>vprintf</code> series of output
functions.  See <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>, for important
information on how to use them.

<p><strong>Portability Note:</strong> The functions listed in this section were
introduced in ISO&nbsp;C99 and were before available as GNU extensions.

<p>
<table width="100%">
<tr>
<td align="left">int <b>vscanf</b><i> (const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>scanf</code>, but instead of taking
a variable number of arguments directly, it takes an argument list
pointer <var>ap</var> of type <code>va_list</code> (see <a href="#Variadic%20Functions">Variadic Functions</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vwscanf</b><i> (const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>wscanf</code>, but instead of taking
a variable number of arguments directly, it takes an argument list
pointer <var>ap</var> of type <code>va_list</code> (see <a href="#Variadic%20Functions">Variadic Functions</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vfscanf</b><i> (FILE *<var>stream</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>fscanf</code> with the variable argument list
specified directly as for <code>vscanf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vfwscanf</b><i> (FILE *<var>stream</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>fwscanf</code> with the variable argument list
specified directly as for <code>vwscanf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vsscanf</b><i> (const char *<var>s</var>, const char *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>sscanf</code> with the variable argument list
specified directly as for <code>vscanf</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>vswscanf</b><i> (const wchar_t *<var>s</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the equivalent of <code>swscanf</code> with the variable argument list
specified directly as for <code>vwscanf</code>. 
</td></tr>
</table>

<p>In GNU C, there is a special construct you can use to let the compiler
know that a function uses a <code>scanf</code>-style format string.  Then it
can check the number and types of arguments in each call to the
function, and warn you when they do not match the format string. 
For details, See <a href="gcc.info.html#Function%20Attributes">Declaring Attributes of Functions</a>.

<p><hr>
Node:<a name="EOF%20and%20Errors">EOF and Errors</a>,
Next:<a rel=next accesskey=n href="#Error%20Recovery">Error Recovery</a>,
Previous:<a rel=previous accesskey=p href="#Formatted%20Input">Formatted Input</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>End-Of-File and Errors</h3>

<p>Many of the functions described in this chapter return the value of the
macro <code>EOF</code> to indicate unsuccessful completion of the operation. 
Since <code>EOF</code> is used to report both end of file and random errors,
it's often better to use the <code>feof</code> function to check explicitly
for end of file and <code>ferror</code> to check for errors.  These functions
check indicators that are part of the internal state of the stream
object, indicators set if the appropriate condition was detected by a
previous I/O operation on that stream.

<p>
<table width="100%">
<tr>
<td align="left">int <b>EOF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is an integer value that is returned by a number of narrow
stream functions to indicate an end-of-file condition, or some other
error situation.  With the GNU library, <code>EOF</code> is <code>-1</code>.  In
other libraries, its value may be some other negative number.

<p>This symbol is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WEOF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is an integer value that is returned by a number of wide
stream functions to indicate an end-of-file condition, or some other
error situation.  With the GNU library, <code>WEOF</code> is <code>-1</code>.  In
other libraries, its value may be some other negative number.

<p>This symbol is declared in <code>wchar.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>feof</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>feof</code> function returns nonzero if and only if the end-of-file
indicator for the stream <var>stream</var> is set.

<p>This symbol is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>feof_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>feof_unlocked</code> function is equivalent to the <code>feof</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension.

<p>This symbol is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ferror</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ferror</code> function returns nonzero if and only if the error
indicator for the stream <var>stream</var> is set, indicating that an error
has occurred on a previous operation on the stream.

<p>This symbol is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ferror_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ferror_unlocked</code> function is equivalent to the <code>ferror</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension.

<p>This symbol is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p>In addition to setting the error indicator associated with the stream,
the functions that operate on streams also set <code>errno</code> in the same
way as the corresponding low-level functions that operate on file
descriptors.  For example, all of the functions that perform output to a
stream--such as <code>fputc</code>, <code>printf</code>, and <code>fflush</code>--are
implemented in terms of <code>write</code>, and all of the <code>errno</code> error
conditions defined for <code>write</code> are meaningful for these functions. 
For more information about the descriptor-level I/O functions, see
<a href="#Low-Level%20I%2fO">Low-Level I/O</a>.

<p><hr>
Node:<a name="Error%20Recovery">Error Recovery</a>,
Next:<a rel=next accesskey=n href="#Binary%20Streams">Binary Streams</a>,
Previous:<a rel=previous accesskey=p href="#EOF%20and%20Errors">EOF and Errors</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Recovering from errors</h3>

<p>You may explicitly clear the error and EOF flags with the <code>clearerr</code>
function.

<p>
<table width="100%">
<tr>
<td align="left">void <b>clearerr</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function clears the end-of-file and error indicators for the
stream <var>stream</var>.

<p>The file positioning functions (see <a href="#File%20Positioning">File Positioning</a>) also clear the
end-of-file indicator for the stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>clearerr_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>clearerr_unlocked</code> function is equivalent to the <code>clearerr</code>
function except that it does not implicitly lock the stream.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>Note that it is <em>not</em> correct to just clear the error flag and retry
a failed stream operation.  After a failed write, any number of
characters since the last buffer flush may have been committed to the
file, while some buffered data may have been discarded.  Merely retrying
can thus cause lost or repeated data.

<p>A failed read may leave the file pointer in an inappropriate position for
a second try.  In both cases, you should seek to a known position before
retrying.

<p>Most errors that can happen are not recoverable -- a second try will
always fail again in the same way.  So usually it is best to give up and
report the error to the user, rather than install complicated recovery
logic.

<p>One important exception is <code>EINTR</code> (see <a href="#Interrupted%20Primitives">Interrupted Primitives</a>). 
Many stream I/O implementations will treat it as an ordinary error, which
can be quite inconvenient.  You can avoid this hassle by installing all
signals with the <code>SA_RESTART</code> flag.

<p>For similar reasons, setting nonblocking I/O on a stream's file
descriptor is not usually advisable.

<p><hr>
Node:<a name="Binary%20Streams">Binary Streams</a>,
Next:<a rel=next accesskey=n href="#File%20Positioning">File Positioning</a>,
Previous:<a rel=previous accesskey=p href="#Error%20Recovery">Error Recovery</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Text and Binary Streams</h3>

<p>The GNU system and other POSIX-compatible operating systems organize all
files as uniform sequences of characters.  However, some other systems
make a distinction between files containing text and files containing
binary data, and the input and output facilities of ISO&nbsp;C provide for
this distinction.  This section tells you how to write programs portable
to such systems.

<p>When you open a stream, you can specify either a <dfn>text stream</dfn> or a
<dfn>binary stream</dfn>.  You indicate that you want a binary stream by
specifying the <code>b</code> modifier in the <var>opentype</var> argument to
<code>fopen</code>; see <a href="#Opening%20Streams">Opening Streams</a>.  Without this
option, <code>fopen</code> opens the file as a text stream.

<p>Text and binary streams differ in several ways:

<ul>
<li>The data read from a text stream is divided into <dfn>lines</dfn> which are
terminated by newline (<code>'\n'</code>) characters, while a binary stream is
simply a long series of characters.  A text stream might on some systems
fail to handle lines more than 254 characters long (including the
terminating newline character).

<li>On some systems, text files can contain only printing characters,
horizontal tab characters, and newlines, and so text streams may not
support other characters.  However, binary streams can handle any
character value.

<li>Space characters that are written immediately preceding a newline
character in a text stream may disappear when the file is read in again.

<li>More generally, there need not be a one-to-one mapping between
characters that are read from or written to a text stream, and the
characters in the actual file. 
</ul>

<p>Since a binary stream is always more capable and more predictable than a
text stream, you might wonder what purpose text streams serve.  Why not
simply always use binary streams?  The answer is that on these operating
systems, text and binary streams use different file formats, and the
only way to read or write "an ordinary file of text" that can work
with other text-oriented programs is through a text stream.

<p>In the GNU library, and on all POSIX systems, there is no difference
between text streams and binary streams.  When you open a stream, you
get the same kind of stream regardless of whether you ask for binary. 
This stream can handle any file content, and has none of the
restrictions that text streams sometimes have.

<p><hr>
Node:<a name="File%20Positioning">File Positioning</a>,
Next:<a rel=next accesskey=n href="#Portable%20Positioning">Portable Positioning</a>,
Previous:<a rel=previous accesskey=p href="#Binary%20Streams">Binary Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>File Positioning</h3>

<p>The <dfn>file position</dfn> of a stream describes where in the file the
stream is currently reading or writing.  I/O on the stream advances the
file position through the file.  In the GNU system, the file position is
represented as an integer, which counts the number of bytes from the
beginning of the file.  See <a href="#File%20Position">File Position</a>.

<p>During I/O to an ordinary disk file, you can change the file position
whenever you wish, so as to read or write any portion of the file.  Some
other kinds of files may also permit this.  Files which support changing
the file position are sometimes referred to as <dfn>random-access</dfn>
files.

<p>You can use the functions in this section to examine or modify the file
position indicator associated with a stream.  The symbols listed below
are declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>ftell</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the current file position of the stream
<var>stream</var>.

<p>This function can fail if the stream doesn't support file positioning,
or if the file position can't be represented in a <code>long int</code>, and
possibly for other reasons as well.  If a failure occurs, a value of
<code>-1</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">off_t <b>ftello</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ftello</code> function is similar to <code>ftell</code>, except that it
returns a value of type <code>off_t</code>.  Systems which support this type
use it to describe all file positions, unlike the POSIX specification
which uses a long int.  The two are not necessarily the same size. 
Therefore, using ftell can lead to problems if the implementation is
written on top of a POSIX compliant low-level I/O implementation, and using
<code>ftello</code> is preferable whenever it is available.

<p>If this function fails it returns <code>(off_t) -1</code>.  This can happen due
to missing support for file positioning or internal errors.  Otherwise
the return value is the current file position.

<p>The function is an extension defined in the Unix Single Specification
version 2.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit system this function is in fact <code>ftello64</code>.  I.e., the
LFS interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">off64_t <b>ftello64</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>ftello</code> with the only difference that
the return value is of type <code>off64_t</code>.  This also requires that the
stream <var>stream</var> was opened using either <code>fopen64</code>,
<code>freopen64</code>, or <code>tmpfile64</code> since otherwise the underlying
file operations to position the file pointer beyond the 2^31
bytes limit might fail.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>ftello</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fseek</b><i> (FILE *<var>stream</var>, long int <var>offset</var>, int <var>whence</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fseek</code> function is used to change the file position of the
stream <var>stream</var>.  The value of <var>whence</var> must be one of the
constants <code>SEEK_SET</code>, <code>SEEK_CUR</code>, or <code>SEEK_END</code>, to
indicate whether the <var>offset</var> is relative to the beginning of the
file, the current file position, or the end of the file, respectively.

<p>This function returns a value of zero if the operation was successful,
and a nonzero value to indicate failure.  A successful call also clears
the end-of-file indicator of <var>stream</var> and discards any characters
that were "pushed back" by the use of <code>ungetc</code>.

<p><code>fseek</code> either flushes any buffered output before setting the file
position or else remembers it so it will be written later in its proper
place in the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fseeko</b><i> (FILE *<var>stream</var>, off_t <var>offset</var>, int <var>whence</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fseek</code> but it corrects a problem with
<code>fseek</code> in a system with POSIX types.  Using a value of type
<code>long int</code> for the offset is not compatible with POSIX. 
<code>fseeko</code> uses the correct type <code>off_t</code> for the <var>offset</var>
parameter.

<p>For this reason it is a good idea to prefer <code>ftello</code> whenever it is
available since its functionality is (if different at all) closer the
underlying definition.

<p>The functionality and return value is the same as for <code>fseek</code>.

<p>The function is an extension defined in the Unix Single Specification
version 2.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit system this function is in fact <code>fseeko64</code>.  I.e., the
LFS interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fseeko64</b><i> (FILE *<var>stream</var>, off64_t <var>offset</var>, int <var>whence</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fseeko</code> with the only difference that
the <var>offset</var> parameter is of type <code>off64_t</code>.  This also
requires that the stream <var>stream</var> was opened using either
<code>fopen64</code>, <code>freopen64</code>, or <code>tmpfile64</code> since otherwise
the underlying file operations to position the file pointer beyond the
2^31 bytes limit might fail.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>fseeko</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> In non-POSIX systems, <code>ftell</code>,
<code>ftello</code>, <code>fseek</code> and <code>fseeko</code> might work reliably only
on binary streams.  See <a href="#Binary%20Streams">Binary Streams</a>.

<p>The following symbolic constants are defined for use as the <var>whence</var>
argument to <code>fseek</code>.  They are also used with the <code>lseek</code>
function (see <a href="#I%2fO%20Primitives">I/O Primitives</a>) and to specify offsets for file locks
(see <a href="#Control%20Operations">Control Operations</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>SEEK_SET</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer constant which, when used as the <var>whence</var>
argument to the <code>fseek</code> or <code>fseeko</code> function, specifies that
the offset provided is relative to the beginning of the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SEEK_CUR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer constant which, when used as the <var>whence</var>
argument to the <code>fseek</code> or <code>fseeko</code> function, specifies that
the offset provided is relative to the current file position. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SEEK_END</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer constant which, when used as the <var>whence</var>
argument to the <code>fseek</code> or <code>fseeko</code> function, specifies that
the offset provided is relative to the end of the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>rewind</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rewind</code> function positions the stream <var>stream</var> at the
beginning of the file.  It is equivalent to calling <code>fseek</code> or
<code>fseeko</code> on the <var>stream</var> with an <var>offset</var> argument of
<code>0L</code> and a <var>whence</var> argument of <code>SEEK_SET</code>, except that
the return value is discarded and the error indicator for the stream is
reset. 
</td></tr>
</table>

<p>These three aliases for the <code>SEEK_<small>...</small></code> constants exist for the
sake of compatibility with older BSD systems.  They are defined in two
different header files: <code>fcntl.h</code> and <code>sys/file.h</code>.

<dl>
<dt><code>L_SET</code>
<dd>An alias for <code>SEEK_SET</code>.

<br><dt><code>L_INCR</code>
<dd>An alias for <code>SEEK_CUR</code>.

<br><dt><code>L_XTND</code>
<dd>An alias for <code>SEEK_END</code>. 
</dl>

<p><hr>
Node:<a name="Portable%20Positioning">Portable Positioning</a>,
Next:<a rel=next accesskey=n href="#Stream%20Buffering">Stream Buffering</a>,
Previous:<a rel=previous accesskey=p href="#File%20Positioning">File Positioning</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Portable File-Position Functions</h3>

<p>On the GNU system, the file position is truly a character count.  You
can specify any character count value as an argument to <code>fseek</code> or
<code>fseeko</code> and get reliable results for any random access file. 
However, some ISO&nbsp;C systems do not represent file positions in this
way.

<p>On some systems where text streams truly differ from binary streams, it
is impossible to represent the file position of a text stream as a count
of characters from the beginning of the file.  For example, the file
position on some systems must encode both a record offset within the
file, and a character offset within the record.

<p>As a consequence, if you want your programs to be portable to these
systems, you must observe certain rules:

<ul>
<li>The value returned from <code>ftell</code> on a text stream has no predictable
relationship to the number of characters you have read so far.  The only
thing you can rely on is that you can use it subsequently as the
<var>offset</var> argument to <code>fseek</code> or <code>fseeko</code> to move back to
the same file position.

<li>In a call to <code>fseek</code> or <code>fseeko</code> on a text stream, either the
<var>offset</var> must be zero, or <var>whence</var> must be <code>SEEK_SET</code> and
and the <var>offset</var> must be the result of an earlier call to <code>ftell</code>
on the same stream.

<li>The value of the file position indicator of a text stream is undefined
while there are characters that have been pushed back with <code>ungetc</code>
that haven't been read or discarded.  See <a href="#Unreading">Unreading</a>. 
</ul>

<p>But even if you observe these rules, you may still have trouble for long
files, because <code>ftell</code> and <code>fseek</code> use a <code>long int</code> value
to represent the file position.  This type may not have room to encode
all the file positions in a large file.  Using the <code>ftello</code> and
<code>fseeko</code> functions might help here since the <code>off_t</code> type is
expected to be able to hold all file position values but this still does
not help to handle additional information which must be associated with
a file position.

<p>So if you do want to support systems with peculiar encodings for the
file positions, it is better to use the functions <code>fgetpos</code> and
<code>fsetpos</code> instead.  These functions represent the file position
using the data type <code>fpos_t</code>, whose internal representation varies
from system to system.

<p>These symbols are declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>fpos_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the type of an object that can encode information about the
file position of a stream, for use by the functions <code>fgetpos</code> and
<code>fsetpos</code>.

<p>In the GNU system, <code>fpos_t</code> is an opaque data structure that
contains internal data to represent file offset and conversion state
information.  In other systems, it might have a different internal
representation.

<p>When compiling with <code>_FILE_OFFSET_BITS == 64</code> on a 32 bit machine
this type is in fact equivalent to <code>fpos64_t</code> since the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>fpos64_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the type of an object that can encode information about the
file position of a stream, for use by the functions <code>fgetpos64</code> and
<code>fsetpos64</code>.

<p>In the GNU system, <code>fpos64_t</code> is an opaque data structure that
contains internal data to represent file offset and conversion state
information.  In other systems, it might have a different internal
representation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetpos</b><i> (FILE *<var>stream</var>, fpos_t *<var>position</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores the value of the file position indicator for the
stream <var>stream</var> in the <code>fpos_t</code> object pointed to by
<var>position</var>.  If successful, <code>fgetpos</code> returns zero; otherwise
it returns a nonzero value and stores an implementation-defined positive
value in <code>errno</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit system the function is in fact <code>fgetpos64</code>.  I.e., the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetpos64</b><i> (FILE *<var>stream</var>, fpos64_t *<var>position</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fgetpos</code> but the file position is
returned in a variable of type <code>fpos64_t</code> to which <var>position</var>
points.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>fgetpos</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fsetpos</b><i> (FILE *<var>stream</var>, const fpos_t *<var>position</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the file position indicator for the stream <var>stream</var>
to the position <var>position</var>, which must have been set by a previous
call to <code>fgetpos</code> on the same stream.  If successful, <code>fsetpos</code>
clears the end-of-file indicator on the stream, discards any characters
that were "pushed back" by the use of <code>ungetc</code>, and returns a value
of zero.  Otherwise, <code>fsetpos</code> returns a nonzero value and stores
an implementation-defined positive value in <code>errno</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit system the function is in fact <code>fsetpos64</code>.  I.e., the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fsetpos64</b><i> (FILE *<var>stream</var>, const fpos64_t *<var>position</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fsetpos</code> but the file position used
for positioning is provided in a variable of type <code>fpos64_t</code> to
which <var>position</var> points.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>fsetpos</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p><hr>
Node:<a name="Stream%20Buffering">Stream Buffering</a>,
Next:<a rel=next accesskey=n href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>,
Previous:<a rel=previous accesskey=p href="#Portable%20Positioning">Portable Positioning</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Stream Buffering</h3>

<p>Characters that are written to a stream are normally accumulated and
transmitted asynchronously to the file in a block, instead of appearing
as soon as they are output by the application program.  Similarly,
streams often retrieve input from the host environment in blocks rather
than on a character-by-character basis.  This is called <dfn>buffering</dfn>.

<p>If you are writing programs that do interactive input and output using
streams, you need to understand how buffering works when you design the
user interface to your program.  Otherwise, you might find that output
(such as progress or prompt messages) doesn't appear when you intended
it to, or displays some other unexpected behavior.

<p>This section deals only with controlling when characters are transmitted
between the stream and the file or device, and <em>not</em> with how
things like echoing, flow control, and the like are handled on specific
classes of devices.  For information on common control operations on
terminal devices, see <a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>.

<p>You can bypass the stream buffering facilities altogether by using the
low-level input and output functions that operate on file descriptors
instead.  See <a href="#Low-Level%20I%2fO">Low-Level I/O</a>.

<ul>
<li><a accesskey=1 href="#Buffering%20Concepts">Buffering Concepts</a>:           Terminology is defined here. 
<li><a accesskey=2 href="#Flushing%20Buffers">Flushing Buffers</a>:             How to ensure that output buffers are flushed. 
<li><a accesskey=3 href="#Controlling%20Buffering">Controlling Buffering</a>:        How to specify what kind of buffering to use. 
</ul>

<p><hr>
Node:<a name="Buffering%20Concepts">Buffering Concepts</a>,
Next:<a rel=next accesskey=n href="#Flushing%20Buffers">Flushing Buffers</a>,
Up:<a rel=up accesskey=u href="#Stream%20Buffering">Stream Buffering</a>
<br>

<h4>Buffering Concepts</h4>

<p>There are three different kinds of buffering strategies:

<ul>
<li>Characters written to or read from an <dfn>unbuffered</dfn> stream are
transmitted individually to or from the file as soon as possible.

<li>Characters written to a <dfn>line buffered</dfn> stream are transmitted to
the file in blocks when a newline character is encountered.

<li>Characters written to or read from a <dfn>fully buffered</dfn> stream are
transmitted to or from the file in blocks of arbitrary size. 
</ul>

<p>Newly opened streams are normally fully buffered, with one exception: a
stream connected to an interactive device such as a terminal is
initially line buffered.  See <a href="#Controlling%20Buffering">Controlling Buffering</a>, for information
on how to select a different kind of buffering.  Usually the automatic
selection gives you the most convenient kind of buffering for the file
or device you open.

<p>The use of line buffering for interactive devices implies that output
messages ending in a newline will appear immediately--which is usually
what you want.  Output that doesn't end in a newline might or might not
show up immediately, so if you want them to appear immediately, you
should flush buffered output explicitly with <code>fflush</code>, as described
in <a href="#Flushing%20Buffers">Flushing Buffers</a>.

<p><hr>
Node:<a name="Flushing%20Buffers">Flushing Buffers</a>,
Next:<a rel=next accesskey=n href="#Controlling%20Buffering">Controlling Buffering</a>,
Previous:<a rel=previous accesskey=p href="#Buffering%20Concepts">Buffering Concepts</a>,
Up:<a rel=up accesskey=u href="#Stream%20Buffering">Stream Buffering</a>
<br>

<h4>Flushing Buffers</h4>

<p><dfn>Flushing</dfn> output on a buffered stream means transmitting all
accumulated characters to the file.  There are many circumstances when
buffered output on a stream is flushed automatically:

<ul>
<li>When you try to do output and the output buffer is full.

<li>When the stream is closed.  See <a href="#Closing%20Streams">Closing Streams</a>.

<li>When the program terminates by calling <code>exit</code>. 
See <a href="#Normal%20Termination">Normal Termination</a>.

<li>When a newline is written, if the stream is line buffered.

<li>Whenever an input operation on <em>any</em> stream actually reads data
from its file. 
</ul>

<p>If you want to flush the buffered output at another time, call
<code>fflush</code>, which is declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fflush</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function causes any buffered output on <var>stream</var> to be delivered
to the file.  If <var>stream</var> is a null pointer, then
<code>fflush</code> causes buffered output on <em>all</em> open output streams
to be flushed.

<p>This function returns <code>EOF</code> if a write error occurs, or zero
otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fflush_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fflush_unlocked</code> function is equivalent to the <code>fflush</code>
function except that it does not implicitly lock the stream. 
</td></tr>
</table>

<p>The <code>fflush</code> function can be used to flush all streams currently
opened.  While this is useful in some situations it does often more than
necessary since it might be done in situations when terminal input is
required and the program wants to be sure that all output is visible on
the terminal.  But this means that only line buffered streams have to be
flushed.  Solaris introduced a function especially for this.  It was
always available in the GNU C library in some form but never officially
exported.

<p>
<table width="100%">
<tr>
<td align="left">void <b>_flushlbf</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>_flushlbf</code> function flushes all line buffered streams
currently opened.

<p>This function is declared in the <code>stdio_ext.h</code> header. 
</td></tr>
</table>

<p><strong>Compatibility Note:</strong> Some brain-damaged operating systems have
been known to be so thoroughly fixated on line-oriented input and output
that flushing a line buffered stream causes a newline to be written! 
Fortunately, this "feature" seems to be becoming less common.  You do
not need to worry about this in the GNU system.

<p>In some situations it might be useful to not flush the output pending
for a stream but instead simply forget it.  If transmission is costly
and the output is not needed anymore this is valid reasoning.  In this
situation a non-standard function introduced in Solaris and available in
the GNU C library can be used.

<p>
<table width="100%">
<tr>
<td align="left">void <b>__fpurge</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__fpurge</code> function causes the buffer of the stream
<var>stream</var> to be emptied.  If the stream is currently in read mode all
input in the buffer is lost.  If the stream is in output mode the
buffered output is not written to the device (or whatever other
underlying storage) and the buffer the cleared.

<p>This function is declared in <code>stdio_ext.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Controlling%20Buffering">Controlling Buffering</a>,
Previous:<a rel=previous accesskey=p href="#Flushing%20Buffers">Flushing Buffers</a>,
Up:<a rel=up accesskey=u href="#Stream%20Buffering">Stream Buffering</a>
<br>

<h4>Controlling Which Kind of Buffering</h4>

<p>After opening a stream (but before any other operations have been
performed on it), you can explicitly specify what kind of buffering you
want it to have using the <code>setvbuf</code> function.

<p>The facilities listed in this section are declared in the header
file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setvbuf</b><i> (FILE *<var>stream</var>, char *<var>buf</var>, int <var>mode</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to specify that the stream <var>stream</var> should
have the buffering mode <var>mode</var>, which can be either <code>_IOFBF</code>
(for full buffering), <code>_IOLBF</code> (for line buffering), or
<code>_IONBF</code> (for unbuffered input/output).

<p>If you specify a null pointer as the <var>buf</var> argument, then <code>setvbuf</code>
allocates a buffer itself using <code>malloc</code>.  This buffer will be freed
when you close the stream.

<p>Otherwise, <var>buf</var> should be a character array that can hold at least
<var>size</var> characters.  You should not free the space for this array as
long as the stream remains open and this array remains its buffer.  You
should usually either allocate it statically, or <code>malloc</code>
(see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>) the buffer.  Using an automatic array
is not a good idea unless you close the file before exiting the block
that declares the array.

<p>While the array remains a stream buffer, the stream I/O functions will
use the buffer for their internal purposes.  You shouldn't try to access
the values in the array directly while the stream is using it for
buffering.

<p>The <code>setvbuf</code> function returns zero on success, or a nonzero value
if the value of <var>mode</var> is not valid or if the request could not
be honored. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_IOFBF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that can be
used as the <var>mode</var> argument to the <code>setvbuf</code> function to
specify that the stream should be fully buffered. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_IOLBF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that can be
used as the <var>mode</var> argument to the <code>setvbuf</code> function to
specify that the stream should be line buffered. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_IONBF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that can be
used as the <var>mode</var> argument to the <code>setvbuf</code> function to
specify that the stream should be unbuffered. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>BUFSIZ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that is good
to use for the <var>size</var> argument to <code>setvbuf</code>.  This value is
guaranteed to be at least <code>256</code>.

<p>The value of <code>BUFSIZ</code> is chosen on each system so as to make stream
I/O efficient.  So it is a good idea to use <code>BUFSIZ</code> as the size
for the buffer when you call <code>setvbuf</code>.

<p>Actually, you can get an even better value to use for the buffer size
by means of the <code>fstat</code> system call: it is found in the
<code>st_blksize</code> field of the file attributes.  See <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<p>Sometimes people also use <code>BUFSIZ</code> as the allocation size of
buffers used for related purposes, such as strings used to receive a
line of input with <code>fgets</code> (see <a href="#Character%20Input">Character Input</a>).  There is no
particular reason to use <code>BUFSIZ</code> for this instead of any other
integer, except that it might lead to doing I/O in chunks of an
efficient size. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>setbuf</b><i> (FILE *<var>stream</var>, char *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>buf</var> is a null pointer, the effect of this function is
equivalent to calling <code>setvbuf</code> with a <var>mode</var> argument of
<code>_IONBF</code>.  Otherwise, it is equivalent to calling <code>setvbuf</code>
with <var>buf</var>, and a <var>mode</var> of <code>_IOFBF</code> and a <var>size</var>
argument of <code>BUFSIZ</code>.

<p>The <code>setbuf</code> function is provided for compatibility with old code;
use <code>setvbuf</code> in all new programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>setbuffer</b><i> (FILE *<var>stream</var>, char *<var>buf</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>buf</var> is a null pointer, this function makes <var>stream</var> unbuffered. 
Otherwise, it makes <var>stream</var> fully buffered using <var>buf</var> as the
buffer.  The <var>size</var> argument specifies the length of <var>buf</var>.

<p>This function is provided for compatibility with old BSD code.  Use
<code>setvbuf</code> instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>setlinebuf</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function makes <var>stream</var> be line buffered, and allocates the
buffer for you.

<p>This function is provided for compatibility with old BSD code.  Use
<code>setvbuf</code> instead. 
</td></tr>
</table>

<p>It is possible to query whether a given stream is line buffered or not
using a non-standard function introduced in Solaris and available in the
GNU C library.

<p>
<table width="100%">
<tr>
<td align="left">int <b>__flbf</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__flbf</code> function will return a nonzero value in case the
stream <var>stream</var> is line buffered.  Otherwise the return value is
zero.

<p>This function is declared in the <code>stdio_ext.h</code> header. 
</td></tr>
</table>

<p>Two more extensions allow to determine the size of the buffer and how
much of it is used.  These functions were also introduced in Solaris.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>__fbufsize</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__fbufsize</code> function return the size of the buffer in the
stream <var>stream</var>.  This value can be used to optimize the use of the
stream.

<p>This function is declared in the <code>stdio_ext.h</code> header. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>__fpending</b><i> (FILE *<var>stream</var>) The <code>__fpending</code>
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
function returns the number of bytes currently in the output buffer. 
For wide-oriented stream the measuring unit is wide characters.  This
function should not be used on buffers in read mode or opened read-only.

<p>This function is declared in the <code>stdio_ext.h</code> header. 
</td></tr>
</table>

<p><hr>
Node:<a name="Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>,
Next:<a rel=next accesskey=n href="#Formatted%20Messages">Formatted Messages</a>,
Previous:<a rel=previous accesskey=p href="#Stream%20Buffering">Stream Buffering</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Other Kinds of Streams</h3>

<p>The GNU library provides ways for you to define additional kinds of
streams that do not necessarily correspond to an open file.

<p>One such type of stream takes input from or writes output to a string. 
These kinds of streams are used internally to implement the
<code>sprintf</code> and <code>sscanf</code> functions.  You can also create such a
stream explicitly, using the functions described in <a href="#String%20Streams">String Streams</a>.

<p>More generally, you can define streams that do input/output to arbitrary
objects using functions supplied by your program.  This protocol is
discussed in <a href="#Custom%20Streams">Custom Streams</a>.

<p><strong>Portability Note:</strong> The facilities described in this section are
specific to GNU.  Other systems or C implementations might or might not
provide equivalent functionality.

<ul>
<li><a accesskey=1 href="#String%20Streams">String Streams</a>:               Streams that get data from or put data in
                                 a string or memory buffer. 
<li><a accesskey=2 href="#Obstack%20Streams">Obstack Streams</a>: 		Streams that store data in an obstack. 
<li><a accesskey=3 href="#Custom%20Streams">Custom Streams</a>:               Defining your own streams with an arbitrary
                                 input data source and/or output data sink. 
</ul>

<p><hr>
Node:<a name="String%20Streams">String Streams</a>,
Next:<a rel=next accesskey=n href="#Obstack%20Streams">Obstack Streams</a>,
Up:<a rel=up accesskey=u href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>
<br>

<h4>String Streams</h4>

<p>The <code>fmemopen</code> and <code>open_memstream</code> functions allow you to do
I/O to a string or memory buffer.  These facilities are declared in
<code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>fmemopen</b><i> (void *<var>buf</var>, size_t <var>size</var>, const char *<var>opentype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens a stream that allows the access specified by the
<var>opentype</var> argument, that reads from or writes to the buffer specified
by the argument <var>buf</var>.  This array must be at least <var>size</var> bytes long.

<p>If you specify a null pointer as the <var>buf</var> argument, <code>fmemopen</code>
dynamically allocates an array <var>size</var> bytes long (as with <code>malloc</code>;
see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>).  This is really only useful
if you are going to write things to the buffer and then read them back
in again, because you have no way of actually getting a pointer to the
buffer (for this, try <code>open_memstream</code>, below).  The buffer is
freed when the stream is closed.

<p>The argument <var>opentype</var> is the same as in <code>fopen</code>
(see <a href="#Opening%20Streams">Opening Streams</a>).  If the <var>opentype</var> specifies
append mode, then the initial file position is set to the first null
character in the buffer.  Otherwise the initial file position is at the
beginning of the buffer.

<p>When a stream open for writing is flushed or closed, a null character
(zero byte) is written at the end of the buffer if it fits.  You
should add an extra byte to the <var>size</var> argument to account for this. 
Attempts to write more than <var>size</var> bytes to the buffer result
in an error.

<p>For a stream open for reading, null characters (zero bytes) in the
buffer do not count as "end of file".  Read operations indicate end of
file only when the file position advances past <var>size</var> bytes.  So, if
you want to read characters from a null-terminated string, you should
supply the length of the string as the <var>size</var> argument. 
</td></tr>
</table>

<p>Here is an example of using <code>fmemopen</code> to create a stream for
reading from a string:

<br><pre>

#include &lt;stdio.h&gt;

static char buffer[] = "foobar";

int
main (void)
{
  int ch;
  FILE *stream;

  stream = fmemopen (buffer, strlen (buffer), "r");
  while ((ch = fgetc (stream)) != EOF)
    printf ("Got %c\n", ch);
  fclose (stream);

  return 0;
}
</pre>

<p>This program produces the following output:

<br><pre>Got f
Got o
Got o
Got b
Got a
Got r
</pre>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>open_memstream</b><i> (char **<var>ptr</var>, size_t *<var>sizeloc</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens a stream for writing to a buffer.  The buffer is
allocated dynamically (as with <code>malloc</code>; see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>) and grown as necessary.

<p>When the stream is closed with <code>fclose</code> or flushed with
<code>fflush</code>, the locations <var>ptr</var> and <var>sizeloc</var> are updated to
contain the pointer to the buffer and its size.  The values thus stored
remain valid only as long as no further output on the stream takes
place.  If you do more output, you must flush the stream again to store
new values before you use them again.

<p>A null character is written at the end of the buffer.  This null character
is <em>not</em> included in the size value stored at <var>sizeloc</var>.

<p>You can move the stream's file position with <code>fseek</code> or
<code>fseeko</code> (see <a href="#File%20Positioning">File Positioning</a>).  Moving the file position past
the end of the data already written fills the intervening space with
zeroes. 
</td></tr>
</table>

<p>Here is an example of using <code>open_memstream</code>:

<br><pre>

#include &lt;stdio.h&gt;

int
main (void)
{
  char *bp;
  size_t size;
  FILE *stream;

  stream = open_memstream (&amp;bp, &amp;size);
  fprintf (stream, "hello");
  fflush (stream);
  printf ("buf = `%s', size = %d\n", bp, size);
  fprintf (stream, ", world");
  fclose (stream);
  printf ("buf = `%s', size = %d\n", bp, size);

  return 0;
}
</pre>

<p>This program produces the following output:

<br><pre>buf = `hello', size = 5
buf = `hello, world', size = 12
</pre>

<p><hr>
Node:<a name="Obstack%20Streams">Obstack Streams</a>,
Next:<a rel=next accesskey=n href="#Custom%20Streams">Custom Streams</a>,
Previous:<a rel=previous accesskey=p href="#String%20Streams">String Streams</a>,
Up:<a rel=up accesskey=u href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>
<br>

<h4>Obstack Streams</h4>

<p>You can open an output stream that puts it data in an obstack. 
See <a href="#Obstacks">Obstacks</a>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>open_obstack_stream</b><i> (struct obstack *<var>obstack</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens a stream for writing data into the obstack <var>obstack</var>. 
This starts an object in the obstack and makes it grow as data is
written (see <a href="#Growing%20Objects">Growing Objects</a>).

<p>Calling <code>fflush</code> on this stream updates the current size of the
object to match the amount of data that has been written.  After a call
to <code>fflush</code>, you can examine the object temporarily.

<p>You can move the file position of an obstack stream with <code>fseek</code> or
<code>fseeko</code> (see <a href="#File%20Positioning">File Positioning</a>).  Moving the file position past
the end of the data written fills the intervening space with zeros.

<p>To make the object permanent, update the obstack with <code>fflush</code>, and
then use <code>obstack_finish</code> to finalize the object and get its address. 
The following write to the stream starts a new object in the obstack,
and later writes add to that object until you do another <code>fflush</code>
and <code>obstack_finish</code>.

<p>But how do you find out how long the object is?  You can get the length
in bytes by calling <code>obstack_object_size</code> (see <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>), or you can null-terminate the object like this:

<br><pre>obstack_1grow (<var>obstack</var>, 0);
</pre>

<p>Whichever one you do, you must do it <em>before</em> calling
<code>obstack_finish</code>.  (You can do both if you wish.) 
</td></tr>
</table>

<p>Here is a sample function that uses <code>open_obstack_stream</code>:

<br><pre>char *
make_message_string (const char *a, int b)
{
  FILE *stream = open_obstack_stream (&amp;message_obstack);
  output_task (stream);
  fprintf (stream, ": ");
  fprintf (stream, a, b);
  fprintf (stream, "\n");
  fclose (stream);
  obstack_1grow (&amp;message_obstack, 0);
  return obstack_finish (&amp;message_obstack);
}
</pre>

<p><hr>
Node:<a name="Custom%20Streams">Custom Streams</a>,
Previous:<a rel=previous accesskey=p href="#Obstack%20Streams">Obstack Streams</a>,
Up:<a rel=up accesskey=u href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>
<br>

<h4>Programming Your Own Custom Streams</h4>

<p>This section describes how you can make a stream that gets input from an
arbitrary data source or writes output to an arbitrary data sink
programmed by you.  We call these <dfn>custom streams</dfn>.  The functions
and types described here are all GNU extensions.

<ul>
<li><a accesskey=1 href="#Streams%20and%20Cookies">Streams and Cookies</a>:          The <dfn>cookie</dfn> records where to fetch or
                                 store data that is read or written. 
<li><a accesskey=2 href="#Hook%20Functions">Hook Functions</a>:               How you should define the four <dfn>hook
                                 functions</dfn> that a custom stream needs. 
</ul>

<p><hr>
Node:<a name="Streams%20and%20Cookies">Streams and Cookies</a>,
Next:<a rel=next accesskey=n href="#Hook%20Functions">Hook Functions</a>,
Up:<a rel=up accesskey=u href="#Custom%20Streams">Custom Streams</a>
<br>

<h5>Custom Streams and Cookies</h5>

<p>Inside every custom stream is a special object called the <dfn>cookie</dfn>. 
This is an object supplied by you which records where to fetch or store
the data read or written.  It is up to you to define a data type to use
for the cookie.  The stream functions in the library never refer
directly to its contents, and they don't even know what the type is;
they record its address with type <code>void *</code>.

<p>To implement a custom stream, you must specify <em>how</em> to fetch or
store the data in the specified place.  You do this by defining
<dfn>hook functions</dfn> to read, write, change "file position", and close
the stream.  All four of these functions will be passed the stream's
cookie so they can tell where to fetch or store the data.  The library
functions don't know what's inside the cookie, but your functions will
know.

<p>When you create a custom stream, you must specify the cookie pointer,
and also the four hook functions stored in a structure of type
<code>cookie_io_functions_t</code>.

<p>These facilities are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>cookie_io_functions_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type that holds the functions that define the
communications protocol between the stream and its cookie.  It has
the following members:

<dl>
<dt><code>cookie_read_function_t *read</code>
<dd>This is the function that reads data from the cookie.  If the value is a
null pointer instead of a function, then read operations on this stream
always return <code>EOF</code>.

<br><dt><code>cookie_write_function_t *write</code>
<dd>This is the function that writes data to the cookie.  If the value is a
null pointer instead of a function, then data written to the stream is
discarded.

<br><dt><code>cookie_seek_function_t *seek</code>
<dd>This is the function that performs the equivalent of file positioning on
the cookie.  If the value is a null pointer instead of a function, calls
to <code>fseek</code> or <code>fseeko</code> on this stream can only seek to
locations within the buffer; any attempt to seek outside the buffer will
return an <code>ESPIPE</code> error.

<br><dt><code>cookie_close_function_t *close</code>
<dd>This function performs any appropriate cleanup on the cookie when
closing the stream.  If the value is a null pointer instead of a
function, nothing special is done to close the cookie when the stream is
closed. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>fopencookie</b><i> (void *<var>cookie</var>, const char *<var>opentype</var>, cookie_io_functions_t <var>io-functions</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function actually creates the stream for communicating with the
<var>cookie</var> using the functions in the <var>io-functions</var> argument. 
The <var>opentype</var> argument is interpreted as for <code>fopen</code>;
see <a href="#Opening%20Streams">Opening Streams</a>.  (But note that the "truncate on
open" option is ignored.)  The new stream is fully buffered.

<p>The <code>fopencookie</code> function returns the newly created stream, or a null
pointer in case of an error. 
</td></tr>
</table>

<p><hr>
Node:<a name="Hook%20Functions">Hook Functions</a>,
Previous:<a rel=previous accesskey=p href="#Streams%20and%20Cookies">Streams and Cookies</a>,
Up:<a rel=up accesskey=u href="#Custom%20Streams">Custom Streams</a>
<br>

<h5>Custom Stream Hook Functions</h5>

<p>Here are more details on how you should define the four hook functions
that a custom stream needs.

<p>You should define the function to read data from the cookie as:

<br><pre>ssize_t <var>reader</var> (void *<var>cookie</var>, char *<var>buffer</var>, size_t <var>size</var>)
</pre>

<p>This is very similar to the <code>read</code> function; see <a href="#I%2fO%20Primitives">I/O Primitives</a>.  Your function should transfer up to <var>size</var> bytes into
the <var>buffer</var>, and return the number of bytes read, or zero to
indicate end-of-file.  You can return a value of <code>-1</code> to indicate
an error.

<p>You should define the function to write data to the cookie as:

<br><pre>ssize_t <var>writer</var> (void *<var>cookie</var>, const char *<var>buffer</var>, size_t <var>size</var>)
</pre>

<p>This is very similar to the <code>write</code> function; see <a href="#I%2fO%20Primitives">I/O Primitives</a>.  Your function should transfer up to <var>size</var> bytes from
the buffer, and return the number of bytes written.  You can return a
value of <code>-1</code> to indicate an error.

<p>You should define the function to perform seek operations on the cookie
as:

<br><pre>int <var>seeker</var> (void *<var>cookie</var>, fpos_t *<var>position</var>, int <var>whence</var>)
</pre>

<p>For this function, the <var>position</var> and <var>whence</var> arguments are
interpreted as for <code>fgetpos</code>; see <a href="#Portable%20Positioning">Portable Positioning</a>.  In
the GNU library, <code>fpos_t</code> is equivalent to <code>off_t</code> or
<code>long int</code>, and simply represents the number of bytes from the
beginning of the file.

<p>After doing the seek operation, your function should store the resulting
file position relative to the beginning of the file in <var>position</var>. 
Your function should return a value of <code>0</code> on success and <code>-1</code>
to indicate an error.

<p>You should define the function to do cleanup operations on the cookie
appropriate for closing the stream as:

<br><pre>int <var>cleaner</var> (void *<var>cookie</var>)
</pre>

<p>Your function should return <code>-1</code> to indicate an error, and <code>0</code>
otherwise.

<p>
<table width="100%">
<tr>
<td align="left"><b>cookie_read_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type that the read function for a custom stream should have. 
If you declare the function as shown above, this is the type it will have. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>cookie_write_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The data type of the write function for a custom stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>cookie_seek_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The data type of the seek function for a custom stream. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>cookie_close_function</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The data type of the close function for a custom stream. 
</td></tr>
</table>

<p><hr>
Node:<a name="Formatted%20Messages">Formatted Messages</a>,
Previous:<a rel=previous accesskey=p href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>,
Up:<a rel=up accesskey=u href="#I%2fO%20on%20Streams">I/O on Streams</a>
<br>

<h3>Formatted Messages</h3>

<p>On systems which are based on System V messages of programs (especially
the system tools) are printed in a strict form using the <code>fmtmsg</code>
function.  The uniformity sometimes helps the user to interpret messages
and the strictness tests of the <code>fmtmsg</code> function ensure that the
programmer follows some minimal requirements.

<ul>
<li><a accesskey=1 href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>:    The <code>fmtmsg</code> function. 
<li><a accesskey=2 href="#Adding%20Severity%20Classes">Adding Severity Classes</a>:        Add more severity classes. 
<li><a accesskey=3 href="#Example">Example</a>:                        How to use <code>fmtmsg</code> and <code>addseverity</code>. 
</ul>

<p><hr>
Node:<a name="Printing%20Formatted%20Messages">Printing Formatted Messages</a>,
Next:<a rel=next accesskey=n href="#Adding%20Severity%20Classes">Adding Severity Classes</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Messages">Formatted Messages</a>
<br>

<h4>Printing Formatted Messages</h4>

<p>Messages can be printed to standard error and/or to the console.  To
select the destination the programmer can use the following two values,
bitwise OR combined if wanted, for the <var>classification</var> parameter of
<code>fmtmsg</code>:

<dl>
<dt><code>MM_PRINT</code>
<dd>Display the message in standard error. 
<br><dt><code>MM_CONSOLE</code>
<dd>Display the message on the system console. 
</dl>

<p>The erroneous piece of the system can be signalled by exactly one of the
following values which also is bitwise ORed with the
<var>classification</var> parameter to <code>fmtmsg</code>:

<dl>
<dt><code>MM_HARD</code>
<dd>The source of the condition is some hardware. 
<br><dt><code>MM_SOFT</code>
<dd>The source of the condition is some software. 
<br><dt><code>MM_FIRM</code>
<dd>The source of the condition is some firmware. 
</dl>

<p>A third component of the <var>classification</var> parameter to <code>fmtmsg</code>
can describe the part of the system which detects the problem.  This is
done by using exactly one of the following values:

<dl>
<dt><code>MM_APPL</code>
<dd>The erroneous condition is detected by the application. 
<br><dt><code>MM_UTIL</code>
<dd>The erroneous condition is detected by a utility. 
<br><dt><code>MM_OPSYS</code>
<dd>The erroneous condition is detected by the operating system. 
</dl>

<p>A last component of <var>classification</var> can signal the results of this
message.  Exactly one of the following values can be used:

<dl>
<dt><code>MM_RECOVER</code>
<dd>It is a recoverable error. 
<br><dt><code>MM_NRECOV</code>
<dd>It is a non-recoverable error. 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fmtmsg</b><i> (long int <var>classification</var>, const char *<var>label</var>, int <var>severity</var>, const char *<var>text</var>, const char *<var>action</var>, const char *<var>tag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Display a message described by its parameters on the device(s) specified
in the <var>classification</var> parameter.  The <var>label</var> parameter
identifies the source of the message.  The string should consist of two
colon separated parts where the first part has not more than 10 and the
second part not more than 14 characters.  The <var>text</var> parameter
describes the condition of the error, the <var>action</var> parameter possible
steps to recover from the error and the <var>tag</var> parameter is a
reference to the online documentation where more information can be
found.  It should contain the <var>label</var> value and a unique
identification number.

<p>Each of the parameters can be a special value which means this value
is to be omitted.  The symbolic names for these values are:

<dl>
<dt><code>MM_NULLLBL</code>
<dd>Ignore <var>label</var> parameter. 
<br><dt><code>MM_NULLSEV</code>
<dd>Ignore <var>severity</var> parameter. 
<br><dt><code>MM_NULLMC</code>
<dd>Ignore <var>classification</var> parameter.  This implies that nothing is
actually printed. 
<br><dt><code>MM_NULLTXT</code>
<dd>Ignore <var>text</var> parameter. 
<br><dt><code>MM_NULLACT</code>
<dd>Ignore <var>action</var> parameter. 
<br><dt><code>MM_NULLTAG</code>
<dd>Ignore <var>tag</var> parameter. 
</dl>

<p>There is another way certain fields can be omitted from the output to
standard error.  This is described below in the description of
environment variables influencing the behavior.

<p>The <var>severity</var> parameter can have one of the values in the following
table:

<dl>
<dt><code>MM_NOSEV</code>
<dd>Nothing is printed, this value is the same as <code>MM_NULLSEV</code>. 
<br><dt><code>MM_HALT</code>
<dd>This value is printed as <code>HALT</code>. 
<br><dt><code>MM_ERROR</code>
<dd>This value is printed as <code>ERROR</code>. 
<br><dt><code>MM_WARNING</code>
<dd>This value is printed as <code>WARNING</code>. 
<br><dt><code>MM_INFO</code>
<dd>This value is printed as <code>INFO</code>. 
</dl>

<p>The numeric value of these five macros are between <code>0</code> and
<code>4</code>.  Using the environment variable <code>SEV_LEVEL</code> or using the
<code>addseverity</code> function one can add more severity levels with their
corresponding string to print.  This is described below
(see <a href="#Adding%20Severity%20Classes">Adding Severity Classes</a>).

<p>If no parameter is ignored the output looks like this:

<br><pre><var>label</var>: <var>severity-string</var>: <var>text</var>
TO FIX: <var>action</var> <var>tag</var>
</pre>

<p>The colons, new line characters and the <code>TO FIX</code> string are
inserted if necessary, i.e., if the corresponding parameter is not
ignored.

<p>This function is specified in the X/Open Portability Guide.  It is also
available on all systems derived from System V.

<p>The function returns the value <code>MM_OK</code> if no error occurred.  If
only the printing to standard error failed, it returns <code>MM_NOMSG</code>. 
If printing to the console fails, it returns <code>MM_NOCON</code>.  If
nothing is printed <code>MM_NOTOK</code> is returned.  Among situations where
all outputs fail this last value is also returned if a parameter value
is incorrect. 
</td></tr>
</table>

<p>There are two environment variables which influence the behavior of
<code>fmtmsg</code>.  The first is <code>MSGVERB</code>.  It is used to control the
output actually happening on standard error (<em>not</em> the console
output).  Each of the five fields can explicitly be enabled.  To do
this the user has to put the <code>MSGVERB</code> variable with a format like
the following in the environment before calling the <code>fmtmsg</code> function
the first time:

<br><pre>MSGVERB=<var>keyword</var>[:<var>keyword</var>[:...]]
</pre>

<p>Valid <var>keyword</var>s are <code>label</code>, <code>severity</code>, <code>text</code>,
<code>action</code>, and <code>tag</code>.  If the environment variable is not given
or is the empty string, a not supported keyword is given or the value is
somehow else invalid, no part of the message is masked out.

<p>The second environment variable which influences the behavior of
<code>fmtmsg</code> is <code>SEV_LEVEL</code>.  This variable and the change in the
behavior of <code>fmtmsg</code> is not specified in the X/Open Portability
Guide.  It is available in System V systems, though.  It can be used to
introduce new severity levels.  By default, only the five severity levels
described above are available.  Any other numeric value would make
<code>fmtmsg</code> print nothing.

<p>If the user puts <code>SEV_LEVEL</code> with a format like

<br><pre>SEV_LEVEL=[<var>description</var>[:<var>description</var>[:...]]]
</pre>

<p>in the environment of the process before the first call to
<code>fmtmsg</code>, where <var>description</var> has a value of the form

<br><pre><var>severity-keyword</var>,<var>level</var>,<var>printstring</var>
</pre>

<p>The <var>severity-keyword</var> part is not used by <code>fmtmsg</code> but it has
to be present.  The <var>level</var> part is a string representation of a
number.  The numeric value must be a number greater than 4.  This value
must be used in the <var>severity</var> parameter of <code>fmtmsg</code> to select
this class.  It is not possible to overwrite any of the predefined
classes.  The <var>printstring</var> is the string printed when a message of
this class is processed by <code>fmtmsg</code> (see above, <code>fmtsmg</code> does
not print the numeric value but instead the string representation).

<p><hr>
Node:<a name="Adding%20Severity%20Classes">Adding Severity Classes</a>,
Next:<a rel=next accesskey=n href="#Example">Example</a>,
Previous:<a rel=previous accesskey=p href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Messages">Formatted Messages</a>
<br>

<h4>Adding Severity Classes</h4>

<p>There is another possibility to introduce severity classes besides using
the environment variable <code>SEV_LEVEL</code>.  This simplifies the task of
introducing new classes in a running program.  One could use the
<code>setenv</code> or <code>putenv</code> function to set the environment variable,
but this is toilsome.

<p>
<table width="100%">
<tr>
<td align="left">int <b>addseverity</b><i> (int <var>severity</var>, const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function allows the introduction of new severity classes which can be
addressed by the <var>severity</var> parameter of the <code>fmtmsg</code> function. 
The <var>severity</var> parameter of <code>addseverity</code> must match the value
for the parameter with the same name of <code>fmtmsg</code>, and <var>string</var>
is the string printed in the actual messages instead of the numeric
value.

<p>If <var>string</var> is <code>NULL</code> the severity class with the numeric value
according to <var>severity</var> is removed.

<p>It is not possible to overwrite or remove one of the default severity
classes.  All calls to <code>addseverity</code> with <var>severity</var> set to one
of the values for the default classes will fail.

<p>The return value is <code>MM_OK</code> if the task was successfully performed. 
If the return value is <code>MM_NOTOK</code> something went wrong.  This could
mean that no more memory is available or a class is not available when
it has to be removed.

<p>This function is not specified in the X/Open Portability Guide although
the <code>fmtsmg</code> function is.  It is available on System V systems. 
</td></tr>
</table>

<p><hr>
Node:<a name="Example">Example</a>,
Previous:<a rel=previous accesskey=p href="#Adding%20Severity%20Classes">Adding Severity Classes</a>,
Up:<a rel=up accesskey=u href="#Formatted%20Messages">Formatted Messages</a>
<br>

<h4>How to use <code>fmtmsg</code> and <code>addseverity</code></h4>

<p>Here is a simple example program to illustrate the use of the both
functions described in this section.

<br><pre>

#include &lt;fmtmsg.h&gt;

int
main (void)
{
  addseverity (5, "NOTE2");
  fmtmsg (MM_PRINT, "only1field", MM_INFO, "text2", "action2", "tag2");
  fmtmsg (MM_PRINT, "UX:cat", 5, "invalid syntax", "refer to manual",
          "UX:cat:001");
  fmtmsg (MM_PRINT, "label:foo", 6, "text", "action", "tag");
  return 0;
}
</pre>

<p>The second call to <code>fmtmsg</code> illustrates a use of this function as
it usually occurs on System V systems, which heavily use this function. 
It seems worthwhile to give a short explanation here of how this system
works on System V.  The value of the
<var>label</var> field (<code>UX:cat</code>) says that the error occurred in the
Unix program <code>cat</code>.  The explanation of the error follows and the
value for the <var>action</var> parameter is <code>"refer to manual"</code>.  One
could be more specific here, if necessary.  The <var>tag</var> field contains,
as proposed above, the value of the string given for the <var>label</var>
parameter, and additionally a unique ID (<code>001</code> in this case).  For
a GNU environment this string could contain a reference to the
corresponding node in the Info page for the program.

<p>Running this program without specifying the <code>MSGVERB</code> and
<code>SEV_LEVEL</code> function produces the following output:

<br><pre>UX:cat: NOTE2: invalid syntax
TO FIX: refer to manual UX:cat:001
</pre>

<p>We see the different fields of the message and how the extra glue (the
colons and the <code>TO FIX</code> string) are printed.  But only one of the
three calls to <code>fmtmsg</code> produced output.  The first call does not
print anything because the <var>label</var> parameter is not in the correct
form.  The string must contain two fields, separated by a colon
(see <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>).  The third <code>fmtmsg</code> call
produced no output since the class with the numeric value <code>6</code> is
not defined.  Although a class with numeric value <code>5</code> is also not
defined by default, the call to <code>addseverity</code> introduces it and
the second call to <code>fmtmsg</code> produces the above output.

<p>When we change the environment of the program to contain
<code>SEV_LEVEL=XXX,6,NOTE</code> when running it we get a different result:

<br><pre>UX:cat: NOTE2: invalid syntax
TO FIX: refer to manual UX:cat:001
label:foo: NOTE: text
TO FIX: action tag
</pre>

<p>Now the third call to <code>fmtmsg</code> produced some output and we see how
the string <code>NOTE</code> from the environment variable appears in the
message.

<p>Now we can reduce the output by specifying which fields we are
interested in.  If we additionally set the environment variable
<code>MSGVERB</code> to the value <code>severity:label:action</code> we get the
following output:

<br><pre>UX:cat: NOTE2
TO FIX: refer to manual
label:foo: NOTE
TO FIX: action
</pre>

<p>I.e., the output produced by the <var>text</var> and the <var>tag</var> parameters
to <code>fmtmsg</code> vanished.  Please also note that now there is no colon
after the <code>NOTE</code> and <code>NOTE2</code> strings in the output.  This is
not necessary since there is no more output on this line because the text
is missing.

<p><hr>
Node:<a name="Low-Level%20I%2fO">Low-Level I/O</a>,
Next:<a rel=next accesskey=n href="#File%20System%20Interface">File System Interface</a>,
Previous:<a rel=previous accesskey=p href="#I%2fO%20on%20Streams">I/O on Streams</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Low-Level Input/Output</h2>

<p>This chapter describes functions for performing low-level input/output
operations on file descriptors.  These functions include the primitives
for the higher-level I/O functions described in <a href="#I%2fO%20on%20Streams">I/O on Streams</a>, as
well as functions for performing low-level control operations for which
there are no equivalents on streams.

<p>Stream-level I/O is more flexible and usually more convenient;
therefore, programmers generally use the descriptor-level functions only
when necessary.  These are some of the usual reasons:

<ul>
<li>For reading binary files in large chunks.

<li>For reading an entire file into core before parsing it.

<li>To perform operations other than data transfer, which can only be done
with a descriptor.  (You can use <code>fileno</code> to get the descriptor
corresponding to a stream.)

<li>To pass descriptors to a child process.  (The child can create its own
stream to use a descriptor that it inherits, but cannot inherit a stream
directly.) 
</ul>

<ul>
<li><a accesskey=1 href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>:            How to open and close file
                                         descriptors. 
<li><a accesskey=2 href="#I%2fO%20Primitives">I/O Primitives</a>:                       Reading and writing data. 
<li><a accesskey=3 href="#File%20Position%20Primitive">File Position Primitive</a>:              Setting a descriptor's file
                                         position. 
<li><a accesskey=4 href="#Descriptors%20and%20Streams">Descriptors and Streams</a>:              Converting descriptor to stream
                                         or vice-versa. 
<li><a accesskey=5 href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>:        Precautions needed if you use both
                                         descriptors and streams. 
<li><a accesskey=6 href="#Scatter-Gather">Scatter-Gather</a>:                       Fast I/O to discontinuous buffers. 
<li><a accesskey=7 href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>:                    Using files like memory. 
<li><a accesskey=8 href="#Waiting%20for%20I%2fO">Waiting for I/O</a>:                      How to check for input or output
					 on multiple file descriptors. 
<li><a accesskey=9 href="#Synchronizing%20I%2fO">Synchronizing I/O</a>:                    Making sure all I/O actions completed. 
<li><a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>:                     Perform I/O in parallel. 
<li><a href="#Control%20Operations">Control Operations</a>:                   Various other operations on file
					 descriptors. 
<li><a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>:              Fcntl commands for duplicating
                                         file descriptors. 
<li><a href="#Descriptor%20Flags">Descriptor Flags</a>:                     Fcntl commands for manipulating
                                         flags associated with file
                                         descriptors. 
<li><a href="#File%20Status%20Flags">File Status Flags</a>:                    Fcntl commands for manipulating
                                         flags associated with open files. 
<li><a href="#File%20Locks">File Locks</a>:                           Fcntl commands for implementing
                                         file locking. 
<li><a href="#Interrupt%20Input">Interrupt Input</a>:                      Getting an asynchronous signal when
                                         input arrives. 
<li><a href="#IOCTLs">IOCTLs</a>:                               Generic I/O Control operations. 
</ul>

<p><hr>
Node:<a name="Opening%20and%20Closing%20Files">Opening and Closing Files</a>,
Next:<a rel=next accesskey=n href="#I%2fO%20Primitives">I/O Primitives</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Opening and Closing Files</h3>

<p>This section describes the primitives for opening and closing files
using file descriptors.  The <code>open</code> and <code>creat</code> functions are
declared in the header file <code>fcntl.h</code>, while <code>close</code> is
declared in <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>open</b><i> (const char *<var>filename</var>, int <var>flags</var>[, mode_t <var>mode</var>])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>open</code> function creates and returns a new file descriptor
for the file named by <var>filename</var>.  Initially, the file position
indicator for the file is at the beginning of the file.  The argument
<var>mode</var> is used only when a file is created, but it doesn't hurt
to supply the argument in any case.

<p>The <var>flags</var> argument controls how the file is to be opened.  This is
a bit mask; you create the value by the bitwise OR of the appropriate
parameters (using the <code>|</code> operator in C). 
See <a href="#File%20Status%20Flags">File Status Flags</a>, for the parameters available.

<p>The normal return value from <code>open</code> is a non-negative integer file
descriptor.  In the case of an error, a value of -1 is returned
instead.  In addition to the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions are defined
for this function:

<dl>
<dt><code>EACCES</code>
<dd>The file exists but is not readable/writable as requested by the <var>flags</var>
argument, the file does not exist and the directory is unwritable so
it cannot be created.

<br><dt><code>EEXIST</code>
<dd>Both <code>O_CREAT</code> and <code>O_EXCL</code> are set, and the named file already
exists.

<br><dt><code>EINTR</code>
<dd>The <code>open</code> operation was interrupted by a signal. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>EISDIR</code>
<dd>The <var>flags</var> argument specified write access, and the file is a directory.

<br><dt><code>EMFILE</code>
<dd>The process has too many files open. 
The maximum number of file descriptors is controlled by the
<code>RLIMIT_NOFILE</code> resource limit; see <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>ENFILE</code>
<dd>The entire system, or perhaps the file system which contains the
directory, cannot support any additional open files at the moment. 
(This problem cannot happen on the GNU system.)

<br><dt><code>ENOENT</code>
<dd>The named file does not exist, and <code>O_CREAT</code> is not specified.

<br><dt><code>ENOSPC</code>
<dd>The directory or file system that would contain the new file cannot be
extended, because there is no disk space left.

<br><dt><code>ENXIO</code>
<dd><code>O_NONBLOCK</code> and <code>O_WRONLY</code> are both set in the <var>flags</var>
argument, the file named by <var>filename</var> is a FIFO (see <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>), and no process has the file open for reading.

<br><dt><code>EROFS</code>
<dd>The file resides on a read-only file system and any of <code>O_WRONLY</code>,
<code>O_RDWR</code>, and <code>O_TRUNC</code> are set in the <var>flags</var> argument,
or <code>O_CREAT</code> is set and the file does not already exist. 
</dl>

<p>If on a 32 bit machine the sources are translated with
<code>_FILE_OFFSET_BITS == 64</code> the function <code>open</code> returns a file
descriptor opened in the large file mode which enables the file handling
functions to use files up to 2^63 bytes in size and offset from
-2^63 to 2^63.  This happens transparently for the user
since all of the lowlevel file handling functions are equally replaced.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>open</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>open</code> should be
protected using cancellation handlers.

<p>The <code>open</code> function is the underlying primitive for the <code>fopen</code>
and <code>freopen</code> functions, that create streams. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>open64</b><i> (const char *<var>filename</var>, int <var>flags</var>[, mode_t <var>mode</var>])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>open</code>.  It returns a file descriptor
which can be used to access the file named by <var>filename</var>.  The only
difference is that on 32 bit systems the file is opened in the
large file mode.  I.e., file length and file offsets can exceed 31 bits.

<p>When the sources are translated with <code>_FILE_OFFSET_BITS == 64</code> this
function is actually available under the name <code>open</code>.  I.e., the
new, extended API using 64 bit file sizes and offsets transparently
replaces the old API. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>creat</b><i> (const char *<var>filename</var>, mode_t <var>mode</var>)
</i></td>
<td align="right">Obsolete function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is obsolete.  The call:

<br><pre>creat (<var>filename</var>, <var>mode</var>)
</pre>

<p>is equivalent to:

<br><pre>open (<var>filename</var>, O_WRONLY | O_CREAT | O_TRUNC, <var>mode</var>)
</pre>

<p>If on a 32 bit machine the sources are translated with
<code>_FILE_OFFSET_BITS == 64</code> the function <code>creat</code> returns a file
descriptor opened in the large file mode which enables the file handling
functions to use files up to 2^63 in size and offset from
-2^63 to 2^63.  This happens transparently for the user
since all of the lowlevel file handling functions are equally replaced. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>creat64</b><i> (const char *<var>filename</var>, mode_t <var>mode</var>)
</i></td>
<td align="right">Obsolete function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>creat</code>.  It returns a file descriptor
which can be used to access the file named by <var>filename</var>.  The only
the difference is that on 32 bit systems the file is opened in the
large file mode.  I.e., file length and file offsets can exceed 31 bits.

<p>To use this file descriptor one must not use the normal operations but
instead the counterparts named <code>*64</code>, e.g., <code>read64</code>.

<p>When the sources are translated with <code>_FILE_OFFSET_BITS == 64</code> this
function is actually available under the name <code>open</code>.  I.e., the
new, extended API using 64 bit file sizes and offsets transparently
replaces the old API. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>close</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>close</code> closes the file descriptor <var>filedes</var>. 
Closing a file has the following consequences:

<ul>
<li>The file descriptor is deallocated.

<li>Any record locks owned by the process on the file are unlocked.

<li>When all file descriptors associated with a pipe or FIFO have been closed,
any unread data is discarded. 
</ul>

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>close</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this, calls to <code>close</code> should be
protected using cancellation handlers.

<p>The normal return value from <code>close</code> is 0; a value of -1
is returned in case of failure.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINTR</code>
<dd>The <code>close</code> call was interrupted by a signal. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
Here is an example of how to handle <code>EINTR</code> properly:

<br><pre>TEMP_FAILURE_RETRY (close (desc));
</pre>

<br><dt><code>ENOSPC</code>
<dt><code>EIO</code>
<dt><code>EDQUOT</code>
<dd>When the file is accessed by NFS, these errors from <code>write</code> can sometimes
not be detected until <code>close</code>.  See <a href="#I%2fO%20Primitives">I/O Primitives</a>, for details
on their meaning. 
</dl>

<p>Please note that there is <em>no</em> separate <code>close64</code> function. 
This is not necessary since this function does not determine nor depend
on the mode of the file.  The kernel which performs the <code>close</code>
operation knows which mode the descriptor is used for and can handle
this situation. 
</td></tr>
</table>

<p>To close a stream, call <code>fclose</code> (see <a href="#Closing%20Streams">Closing Streams</a>) instead
of trying to close its underlying file descriptor with <code>close</code>. 
This flushes any buffered output and updates the stream object to
indicate that it is closed.

<p><hr>
Node:<a name="I%2fO%20Primitives">I/O Primitives</a>,
Next:<a rel=next accesskey=n href="#File%20Position%20Primitive">File Position Primitive</a>,
Previous:<a rel=previous accesskey=p href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Input and Output Primitives</h3>

<p>This section describes the functions for performing primitive input and
output operations on file descriptors: <code>read</code>, <code>write</code>, and
<code>lseek</code>.  These functions are declared in the header file
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>ssize_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to represent the sizes of blocks that can be
read or written in a single operation.  It is similar to <code>size_t</code>,
but must be a signed type. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>read</b><i> (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>read</code> function reads up to <var>size</var> bytes from the file
with descriptor <var>filedes</var>, storing the results in the <var>buffer</var>. 
(This is not necessarily a character string, and no terminating null
character is added.)

<p>The return value is the number of bytes actually read.  This might be
less than <var>size</var>; for example, if there aren't that many bytes left
in the file or if there aren't that many bytes immediately available. 
The exact behavior depends on what kind of file it is.  Note that
reading less than <var>size</var> bytes is not an error.

<p>A value of zero indicates end-of-file (except if the value of the
<var>size</var> argument is also zero).  This is not considered an error. 
If you keep calling <code>read</code> while at end-of-file, it will keep
returning zero and doing nothing else.

<p>If <code>read</code> returns at least one character, there is no way you can
tell whether end-of-file was reached.  But if you did reach the end, the
next read will return zero.

<p>In case of an error, <code>read</code> returns -1.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EAGAIN</code>
<dd>Normally, when no input is immediately available, <code>read</code> waits for
some input.  But if the <code>O_NONBLOCK</code> flag is set for the file
(see <a href="#File%20Status%20Flags">File Status Flags</a>), <code>read</code> returns immediately without
reading any data, and reports this error.

<p><strong>Compatibility Note:</strong> Most versions of BSD Unix use a different
error code for this: <code>EWOULDBLOCK</code>.  In the GNU library,
<code>EWOULDBLOCK</code> is an alias for <code>EAGAIN</code>, so it doesn't matter
which name you use.

<p>On some systems, reading a large amount of data from a character special
file can also fail with <code>EAGAIN</code> if the kernel cannot find enough
physical memory to lock down the user's pages.  This is limited to
devices that transfer with direct memory access into the user's memory,
which means it does not include terminals, since they always use
separate buffers inside the kernel.  This problem never happens in the
GNU system.

<p>Any condition that could result in <code>EAGAIN</code> can instead result in a
successful <code>read</code> which returns fewer bytes than requested. 
Calling <code>read</code> again immediately would result in <code>EAGAIN</code>.

<br><dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor,
or is not open for reading.

<br><dt><code>EINTR</code>
<dd><code>read</code> was interrupted by a signal while it was waiting for input. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.  A signal will not necessary cause
<code>read</code> to return <code>EINTR</code>; it may instead result in a
successful <code>read</code> which returns fewer bytes than requested.

<br><dt><code>EIO</code>
<dd>For many devices, and for disk files, this error code indicates
a hardware error.

<p><code>EIO</code> also occurs when a background process tries to read from the
controlling terminal, and the normal action of stopping the process by
sending it a <code>SIGTTIN</code> signal isn't working.  This might happen if
the signal is being blocked or ignored, or because the process group is
orphaned.  See <a href="#Job%20Control">Job Control</a>, for more information about job control,
and <a href="#Signal%20Handling">Signal Handling</a>, for information about signals. 
</dl>

<p>Please note that there is no function named <code>read64</code>.  This is not
necessary since this function does not directly modify or handle the
possibly wide file offset.  Since the kernel handles this state
internally, the <code>read</code> function can be used for all cases.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>read</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this, calls to <code>read</code> should be
protected using cancellation handlers.

<p>The <code>read</code> function is the underlying primitive for all of the
functions that read from streams, such as <code>fgetc</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>pread</b><i> (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>, off_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pread</code> function is similar to the <code>read</code> function.  The
first three arguments are identical, and the return values and error
codes also correspond.

<p>The difference is the fourth argument and its handling.  The data block
is not read from the current position of the file descriptor
<code>filedes</code>.  Instead the data is read from the file starting at
position <var>offset</var>.  The position of the file descriptor itself is
not affected by the operation.  The value is the same as before the call.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> the
<code>pread</code> function is in fact <code>pread64</code> and the type
<code>off_t</code> has 64 bits, which makes it possible to handle files up to
2^63 bytes in length.

<p>The return value of <code>pread</code> describes the number of bytes read. 
In the error case it returns -1 like <code>read</code> does and the
error codes are also the same, with these additions:

<dl>
<dt><code>EINVAL</code>
<dd>The value given for <var>offset</var> is negative and therefore illegal.

<br><dt><code>ESPIPE</code>
<dd>The file descriptor <var>filedes</var> is associate with a pipe or a FIFO and
this device does not allow positioning of the file pointer. 
</dl>

<p>The function is an extension defined in the Unix Single Specification
version 2. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>pread64</b><i> (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>, off64_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>pread</code> function.  The difference
is that the <var>offset</var> parameter is of type <code>off64_t</code> instead of
<code>off_t</code> which makes it possible on 32 bit machines to address
files larger than 2^31 bytes and up to 2^63 bytes.  The
file descriptor <code>filedes</code> must be opened using <code>open64</code> since
otherwise the large offsets possible with <code>off64_t</code> will lead to
errors with a descriptor in small file mode.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine this function is actually available under the name
<code>pread</code> and so transparently replaces the 32 bit interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>write</b><i> (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>write</code> function writes up to <var>size</var> bytes from
<var>buffer</var> to the file with descriptor <var>filedes</var>.  The data in
<var>buffer</var> is not necessarily a character string and a null character is
output like any other character.

<p>The return value is the number of bytes actually written.  This may be
<var>size</var>, but can always be smaller.  Your program should always call
<code>write</code> in a loop, iterating until all the data is written.

<p>Once <code>write</code> returns, the data is enqueued to be written and can be
read back right away, but it is not necessarily written out to permanent
storage immediately.  You can use <code>fsync</code> when you need to be sure
your data has been permanently stored before continuing.  (It is more
efficient for the system to batch up consecutive writes and do them all
at once when convenient.  Normally they will always be written to disk
within a minute or less.)  Modern systems provide another function
<code>fdatasync</code> which guarantees integrity only for the file data and
is therefore faster. 
You can use the <code>O_FSYNC</code> open mode to make <code>write</code> always
store the data to disk before returning; see <a href="#Operating%20Modes">Operating Modes</a>.

<p>In the case of an error, <code>write</code> returns -1.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EAGAIN</code>
<dd>Normally, <code>write</code> blocks until the write operation is complete. 
But if the <code>O_NONBLOCK</code> flag is set for the file (see <a href="#Control%20Operations">Control Operations</a>), it returns immediately without writing any data and
reports this error.  An example of a situation that might cause the
process to block on output is writing to a terminal device that supports
flow control, where output has been suspended by receipt of a STOP
character.

<p><strong>Compatibility Note:</strong> Most versions of BSD Unix use a different
error code for this: <code>EWOULDBLOCK</code>.  In the GNU library,
<code>EWOULDBLOCK</code> is an alias for <code>EAGAIN</code>, so it doesn't matter
which name you use.

<p>On some systems, writing a large amount of data from a character special
file can also fail with <code>EAGAIN</code> if the kernel cannot find enough
physical memory to lock down the user's pages.  This is limited to
devices that transfer with direct memory access into the user's memory,
which means it does not include terminals, since they always use
separate buffers inside the kernel.  This problem does not arise in the
GNU system.

<br><dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor,
or is not open for writing.

<br><dt><code>EFBIG</code>
<dd>The size of the file would become larger than the implementation can support.

<br><dt><code>EINTR</code>
<dd>The <code>write</code> operation was interrupted by a signal while it was
blocked waiting for completion.  A signal will not necessarily cause
<code>write</code> to return <code>EINTR</code>; it may instead result in a
successful <code>write</code> which writes fewer bytes than requested. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>EIO</code>
<dd>For many devices, and for disk files, this error code indicates
a hardware error.

<br><dt><code>ENOSPC</code>
<dd>The device containing the file is full.

<br><dt><code>EPIPE</code>
<dd>This error is returned when you try to write to a pipe or FIFO that
isn't open for reading by any process.  When this happens, a <code>SIGPIPE</code>
signal is also sent to the process; see <a href="#Signal%20Handling">Signal Handling</a>. 
</dl>

<p>Unless you have arranged to prevent <code>EINTR</code> failures, you should
check <code>errno</code> after each failing call to <code>write</code>, and if the
error was <code>EINTR</code>, you should simply repeat the call. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.  The easy way to do this is with the
macro <code>TEMP_FAILURE_RETRY</code>, as follows:

<br><pre>nbytes = TEMP_FAILURE_RETRY (write (desc, buffer, count));
</pre>

<p>Please note that there is no function named <code>write64</code>.  This is not
necessary since this function does not directly modify or handle the
possibly wide file offset.  Since the kernel handles this state
internally the <code>write</code> function can be used for all cases.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>write</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this, calls to <code>write</code> should be
protected using cancellation handlers.

<p>The <code>write</code> function is the underlying primitive for all of the
functions that write to streams, such as <code>fputc</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>pwrite</b><i> (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>, off_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pwrite</code> function is similar to the <code>write</code> function.  The
first three arguments are identical, and the return values and error codes
also correspond.

<p>The difference is the fourth argument and its handling.  The data block
is not written to the current position of the file descriptor
<code>filedes</code>.  Instead the data is written to the file starting at
position <var>offset</var>.  The position of the file descriptor itself is
not affected by the operation.  The value is the same as before the call.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> the
<code>pwrite</code> function is in fact <code>pwrite64</code> and the type
<code>off_t</code> has 64 bits, which makes it possible to handle files up to
2^63 bytes in length.

<p>The return value of <code>pwrite</code> describes the number of written bytes. 
In the error case it returns -1 like <code>write</code> does and the
error codes are also the same, with these additions:

<dl>
<dt><code>EINVAL</code>
<dd>The value given for <var>offset</var> is negative and therefore illegal.

<br><dt><code>ESPIPE</code>
<dd>The file descriptor <var>filedes</var> is associated with a pipe or a FIFO and
this device does not allow positioning of the file pointer. 
</dl>

<p>The function is an extension defined in the Unix Single Specification
version 2. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>pwrite64</b><i> (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>, off64_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>pwrite</code> function.  The difference
is that the <var>offset</var> parameter is of type <code>off64_t</code> instead of
<code>off_t</code> which makes it possible on 32 bit machines to address
files larger than 2^31 bytes and up to 2^63 bytes.  The
file descriptor <code>filedes</code> must be opened using <code>open64</code> since
otherwise the large offsets possible with <code>off64_t</code> will lead to
errors with a descriptor in small file mode.

<p>When the source file is compiled using <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine this function is actually available under the name
<code>pwrite</code> and so transparently replaces the 32 bit interface. 
</td></tr>
</table>

<p><hr>
Node:<a name="File%20Position%20Primitive">File Position Primitive</a>,
Next:<a rel=next accesskey=n href="#Descriptors%20and%20Streams">Descriptors and Streams</a>,
Previous:<a rel=previous accesskey=p href="#I%2fO%20Primitives">I/O Primitives</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Setting the File Position of a Descriptor</h3>

<p>Just as you can set the file position of a stream with <code>fseek</code>, you
can set the file position of a descriptor with <code>lseek</code>.  This
specifies the position in the file for the next <code>read</code> or
<code>write</code> operation.  See <a href="#File%20Positioning">File Positioning</a>, for more information
on the file position and what it means.

<p>To read the current file position value from a descriptor, use
<code>lseek (<var>desc</var>, 0, SEEK_CUR)</code>.

<p>
<table width="100%">
<tr>
<td align="left">off_t <b>lseek</b><i> (int <var>filedes</var>, off_t <var>offset</var>, int <var>whence</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lseek</code> function is used to change the file position of the
file with descriptor <var>filedes</var>.

<p>The <var>whence</var> argument specifies how the <var>offset</var> should be
interpreted, in the same way as for the <code>fseek</code> function, and it must
be one of the symbolic constants <code>SEEK_SET</code>, <code>SEEK_CUR</code>, or
<code>SEEK_END</code>.

<dl>
<dt><code>SEEK_SET</code>
<dd>Specifies that <var>whence</var> is a count of characters from the beginning
of the file.

<br><dt><code>SEEK_CUR</code>
<dd>Specifies that <var>whence</var> is a count of characters from the current
file position.  This count may be positive or negative.

<br><dt><code>SEEK_END</code>
<dd>Specifies that <var>whence</var> is a count of characters from the end of
the file.  A negative count specifies a position within the current
extent of the file; a positive count specifies a position past the
current end.  If you set the position past the current end, and
actually write data, you will extend the file with zeros up to that
position. 
</dl>

<p>The return value from <code>lseek</code> is normally the resulting file
position, measured in bytes from the beginning of the file. 
You can use this feature together with <code>SEEK_CUR</code> to read the
current file position.

<p>If you want to append to the file, setting the file position to the
current end of file with <code>SEEK_END</code> is not sufficient.  Another
process may write more data after you seek but before you write,
extending the file so the position you write onto clobbers their data. 
Instead, use the <code>O_APPEND</code> operating mode; see <a href="#Operating%20Modes">Operating Modes</a>.

<p>You can set the file position past the current end of the file.  This
does not by itself make the file longer; <code>lseek</code> never changes the
file.  But subsequent output at that position will extend the file. 
Characters between the previous end of file and the new position are
filled with zeros.  Extending the file in this way can create a
"hole": the blocks of zeros are not actually allocated on disk, so the
file takes up less space than it appears to; it is then called a
"sparse file".

<p>If the file position cannot be changed, or the operation is in some way
invalid, <code>lseek</code> returns a value of -1.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>whence</var> argument value is not valid, or the resulting
file offset is not valid.  A file offset is invalid.

<br><dt><code>ESPIPE</code>
<dd>The <var>filedes</var> corresponds to an object that cannot be positioned,
such as a pipe, FIFO or terminal device.  (POSIX.1 specifies this error
only for pipes and FIFOs, but in the GNU system, you always get
<code>ESPIPE</code> if the object is not seekable.) 
</dl>

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> the
<code>lseek</code> function is in fact <code>lseek64</code> and the type
<code>off_t</code> has 64 bits which makes it possible to handle files up to
2^63 bytes in length.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>lseek</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>lseek</code> should be
protected using cancellation handlers.

<p>The <code>lseek</code> function is the underlying primitive for the
<code>fseek</code>, <code>fseeko</code>, <code>ftell</code>, <code>ftello</code> and
<code>rewind</code> functions, which operate on streams instead of file
descriptors. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">off64_t <b>lseek64</b><i> (int <var>filedes</var>, off64_t <var>offset</var>, int <var>whence</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>lseek</code> function.  The difference
is that the <var>offset</var> parameter is of type <code>off64_t</code> instead of
<code>off_t</code> which makes it possible on 32 bit machines to address
files larger than 2^31 bytes and up to 2^63 bytes.  The
file descriptor <code>filedes</code> must be opened using <code>open64</code> since
otherwise the large offsets possible with <code>off64_t</code> will lead to
errors with a descriptor in small file mode.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bits machine this function is actually available under the name
<code>lseek</code> and so transparently replaces the 32 bit interface. 
</td></tr>
</table>

<p>You can have multiple descriptors for the same file if you open the file
more than once, or if you duplicate a descriptor with <code>dup</code>. 
Descriptors that come from separate calls to <code>open</code> have independent
file positions; using <code>lseek</code> on one descriptor has no effect on the
other.  For example,

<br><pre>{
  int d1, d2;
  char buf[4];
  d1 = open ("foo", O_RDONLY);
  d2 = open ("foo", O_RDONLY);
  lseek (d1, 1024, SEEK_SET);
  read (d2, buf, 4);
}
</pre>

<p>will read the first four characters of the file <code>foo</code>.  (The
error-checking code necessary for a real program has been omitted here
for brevity.)

<p>By contrast, descriptors made by duplication share a common file
position with the original descriptor that was duplicated.  Anything
which alters the file position of one of the duplicates, including
reading or writing data, affects all of them alike.  Thus, for example,

<br><pre>{
  int d1, d2, d3;
  char buf1[4], buf2[4];
  d1 = open ("foo", O_RDONLY);
  d2 = dup (d1);
  d3 = dup (d2);
  lseek (d3, 1024, SEEK_SET);
  read (d1, buf1, 4);
  read (d2, buf2, 4);
}
</pre>

<p>will read four characters starting with the 1024'th character of
<code>foo</code>, and then four more characters starting with the 1028'th
character.

<p>
<table width="100%">
<tr>
<td align="left"><b>off_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent file sizes. 
In the GNU system, this is equivalent to <code>fpos_t</code> or <code>long int</code>.

<p>If the source is compiled with <code>_FILE_OFFSET_BITS == 64</code> this type
is transparently replaced by <code>off64_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>off64_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This type is used similar to <code>off_t</code>.  The difference is that even
on 32 bit machines, where the <code>off_t</code> type would have 32 bits,
<code>off64_t</code> has 64 bits and so is able to address files up to
2^63 bytes in length.

<p>When compiling with <code>_FILE_OFFSET_BITS == 64</code> this type is
available under the name <code>off_t</code>. 
</td></tr>
</table>

<p>These aliases for the <code>SEEK_<small>...</small></code> constants exist for the sake
of compatibility with older BSD systems.  They are defined in two
different header files: <code>fcntl.h</code> and <code>sys/file.h</code>.

<dl>
<dt><code>L_SET</code>
<dd>An alias for <code>SEEK_SET</code>.

<br><dt><code>L_INCR</code>
<dd>An alias for <code>SEEK_CUR</code>.

<br><dt><code>L_XTND</code>
<dd>An alias for <code>SEEK_END</code>. 
</dl>

<p><hr>
Node:<a name="Descriptors%20and%20Streams">Descriptors and Streams</a>,
Next:<a rel=next accesskey=n href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>,
Previous:<a rel=previous accesskey=p href="#File%20Position%20Primitive">File Position Primitive</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Descriptors and Streams</h3>

<p>Given an open file descriptor, you can create a stream for it with the
<code>fdopen</code> function.  You can get the underlying file descriptor for
an existing stream with the <code>fileno</code> function.  These functions are
declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>fdopen</b><i> (int <var>filedes</var>, const char *<var>opentype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fdopen</code> function returns a new stream for the file descriptor
<var>filedes</var>.

<p>The <var>opentype</var> argument is interpreted in the same way as for the
<code>fopen</code> function (see <a href="#Opening%20Streams">Opening Streams</a>), except that
the <code>b</code> option is not permitted; this is because GNU makes no
distinction between text and binary files.  Also, <code>"w"</code> and
<code>"w+"</code> do not cause truncation of the file; these have an effect only
when opening a file, and in this case the file has already been opened. 
You must make sure that the <var>opentype</var> argument matches the actual
mode of the open file descriptor.

<p>The return value is the new stream.  If the stream cannot be created
(for example, if the modes for the file indicated by the file descriptor
do not permit the access specified by the <var>opentype</var> argument), a
null pointer is returned instead.

<p>In some other systems, <code>fdopen</code> may fail to detect that the modes
for file descriptor do not permit the access specified by
<code>opentype</code>.  The GNU C library always checks for this. 
</td></tr>
</table>

<p>For an example showing the use of the <code>fdopen</code> function,
see <a href="#Creating%20a%20Pipe">Creating a Pipe</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fileno</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the file descriptor associated with the stream
<var>stream</var>.  If an error is detected (for example, if the <var>stream</var>
is not valid) or if <var>stream</var> does not do I/O to a file,
<code>fileno</code> returns -1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fileno_unlocked</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fileno_unlocked</code> function is equivalent to the <code>fileno</code>
function except that it does not implicitly lock the stream if the state
is <code>FSETLOCKING_INTERNAL</code>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>There are also symbolic constants defined in <code>unistd.h</code> for the
file descriptors belonging to the standard streams <code>stdin</code>,
<code>stdout</code>, and <code>stderr</code>; see <a href="#Standard%20Streams">Standard Streams</a>.

<dl>
<dt><code>STDIN_FILENO</code>
<dd>This macro has value <code>0</code>, which is the file descriptor for
standard input.

<br><dt><code>STDOUT_FILENO</code>
<dd>This macro has value <code>1</code>, which is the file descriptor for
standard output.

<br><dt><code>STDERR_FILENO</code>
<dd>This macro has value <code>2</code>, which is the file descriptor for
standard error output. 
</dl>

<p><hr>
Node:<a name="Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>,
Next:<a rel=next accesskey=n href="#Scatter-Gather">Scatter-Gather</a>,
Previous:<a rel=previous accesskey=p href="#Descriptors%20and%20Streams">Descriptors and Streams</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Dangers of Mixing Streams and Descriptors</h3>

<p>You can have multiple file descriptors and streams (let's call both
streams and descriptors "channels" for short) connected to the same
file, but you must take care to avoid confusion between channels.  There
are two cases to consider: <dfn>linked</dfn> channels that share a single
file position value, and <dfn>independent</dfn> channels that have their own
file positions.

<p>It's best to use just one channel in your program for actual data
transfer to any given file, except when all the access is for input. 
For example, if you open a pipe (something you can only do at the file
descriptor level), either do all I/O with the descriptor, or construct a
stream from the descriptor with <code>fdopen</code> and then do all I/O with
the stream.

<ul>
<li><a accesskey=1 href="#Linked%20Channels">Linked Channels</a>: 	   Dealing with channels sharing a file position. 
<li><a accesskey=2 href="#Independent%20Channels">Independent Channels</a>:    Dealing with separately opened, unlinked channels. 
<li><a accesskey=3 href="#Cleaning%20Streams">Cleaning Streams</a>: 	   Cleaning a stream makes it safe to use
                            another channel. 
</ul>

<p><hr>
Node:<a name="Linked%20Channels">Linked Channels</a>,
Next:<a rel=next accesskey=n href="#Independent%20Channels">Independent Channels</a>,
Up:<a rel=up accesskey=u href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<br>

<h4>Linked Channels</h4>

<p>Channels that come from a single opening share the same file position;
we call them <dfn>linked</dfn> channels.  Linked channels result when you
make a stream from a descriptor using <code>fdopen</code>, when you get a
descriptor from a stream with <code>fileno</code>, when you copy a descriptor
with <code>dup</code> or <code>dup2</code>, and when descriptors are inherited
during <code>fork</code>.  For files that don't support random access, such as
terminals and pipes, <em>all</em> channels are effectively linked.  On
random-access files, all append-type output streams are effectively
linked to each other.

<p>If you have been using a stream for I/O, and you want to do I/O using
another channel (either a stream or a descriptor) that is linked to it,
you must first <dfn>clean up</dfn> the stream that you have been using. 
See <a href="#Cleaning%20Streams">Cleaning Streams</a>.

<p>Terminating a process, or executing a new program in the process,
destroys all the streams in the process.  If descriptors linked to these
streams persist in other processes, their file positions become
undefined as a result.  To prevent this, you must clean up the streams
before destroying them.

<p><hr>
Node:<a name="Independent%20Channels">Independent Channels</a>,
Next:<a rel=next accesskey=n href="#Cleaning%20Streams">Cleaning Streams</a>,
Previous:<a rel=previous accesskey=p href="#Linked%20Channels">Linked Channels</a>,
Up:<a rel=up accesskey=u href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<br>

<h4>Independent Channels</h4>

<p>When you open channels (streams or descriptors) separately on a seekable
file, each channel has its own file position.  These are called
<dfn>independent channels</dfn>.

<p>The system handles each channel independently.  Most of the time, this
is quite predictable and natural (especially for input): each channel
can read or write sequentially at its own place in the file.  However,
if some of the channels are streams, you must take these precautions:

<ul>
<li>You should clean an output stream after use, before doing anything else
that might read or write from the same part of the file.

<li>You should clean an input stream before reading data that may have been
modified using an independent channel.  Otherwise, you might read
obsolete data that had been in the stream's buffer. 
</ul>

<p>If you do output to one channel at the end of the file, this will
certainly leave the other independent channels positioned somewhere
before the new end.  You cannot reliably set their file positions to the
new end of file before writing, because the file can always be extended
by another process between when you set the file position and when you
write the data.  Instead, use an append-type descriptor or stream; they
always output at the current end of the file.  In order to make the
end-of-file position accurate, you must clean the output channel you
were using, if it is a stream.

<p>It's impossible for two channels to have separate file pointers for a
file that doesn't support random access.  Thus, channels for reading or
writing such files are always linked, never independent.  Append-type
channels are also always linked.  For these channels, follow the rules
for linked channels; see <a href="#Linked%20Channels">Linked Channels</a>.

<p><hr>
Node:<a name="Cleaning%20Streams">Cleaning Streams</a>,
Previous:<a rel=previous accesskey=p href="#Independent%20Channels">Independent Channels</a>,
Up:<a rel=up accesskey=u href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<br>

<h4>Cleaning Streams</h4>

<p>On the GNU system, you can clean up any stream with <code>fclean</code>:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fclean</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Clean up the stream <var>stream</var> so that its buffer is empty.  If
<var>stream</var> is doing output, force it out.  If <var>stream</var> is doing
input, give the data in the buffer back to the system, arranging to
reread it. 
</td></tr>
</table>

<p>On other systems, you can use <code>fflush</code> to clean a stream in most
cases.

<p>You can skip the <code>fclean</code> or <code>fflush</code> if you know the stream
is already clean.  A stream is clean whenever its buffer is empty.  For
example, an unbuffered stream is always clean.  An input stream that is
at end-of-file is clean.  A line-buffered stream is clean when the last
character output was a newline.

<p>There is one case in which cleaning a stream is impossible on most
systems.  This is when the stream is doing input from a file that is not
random-access.  Such streams typically read ahead, and when the file is
not random access, there is no way to give back the excess data already
read.  When an input stream reads from a random-access file,
<code>fflush</code> does clean the stream, but leaves the file pointer at an
unpredictable place; you must set the file pointer before doing any
further I/O.  On the GNU system, using <code>fclean</code> avoids both of
these problems.

<p>Closing an output-only stream also does <code>fflush</code>, so this is a
valid way of cleaning an output stream.  On the GNU system, closing an
input stream does <code>fclean</code>.

<p>You need not clean a stream before using its descriptor for control
operations such as setting terminal modes; these operations don't affect
the file position and are not affected by it.  You can use any
descriptor for these operations, and all channels are affected
simultaneously.  However, text already "output" to a stream but still
buffered by the stream will be subject to the new terminal modes when
subsequently flushed.  To make sure "past" output is covered by the
terminal settings that were in effect at the time, flush the output
streams for that terminal before setting the modes.  See <a href="#Terminal%20Modes">Terminal Modes</a>.

<p><hr>
Node:<a name="Scatter-Gather">Scatter-Gather</a>,
Next:<a rel=next accesskey=n href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>,
Previous:<a rel=previous accesskey=p href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Fast Scatter-Gather I/O</h3>

<p>Some applications may need to read or write data to multiple buffers,
which are separated in memory.  Although this can be done easily enough
with multiple calls to <code>read</code> and <code>write</code>, it is inefficient
because there is overhead associated with each kernel call.

<p>Instead, many platforms provide special high-speed primitives to perform
these <dfn>scatter-gather</dfn> operations in a single kernel call.  The GNU C
library will provide an emulation on any system that lacks these
primitives, so they are not a portability threat.  They are defined in
<code>sys/uio.h</code>.

<p>These functions are controlled with arrays of <code>iovec</code> structures,
which describe the location and size of each buffer.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct iovec</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>iovec</code> structure describes a buffer. It contains two fields:

<dl>

<br><dt><code>void *iov_base</code>
<dd>Contains the address of a buffer.

<br><dt><code>size_t iov_len</code>
<dd>Contains the length of the buffer.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>readv</b><i> (int <var>filedes</var>, const struct iovec *<var>vector</var>, int <var>count</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>readv</code> function reads data from <var>filedes</var> and scatters it
into the buffers described in <var>vector</var>, which is taken to be
<var>count</var> structures long.  As each buffer is filled, data is sent to the
next.

<p>Note that <code>readv</code> is not guaranteed to fill all the buffers. 
It may stop at any point, for the same reasons <code>read</code> would.

<p>The return value is a count of bytes (<em>not</em> buffers) read, 0
indicating end-of-file, or -1 indicating an error.  The possible
errors are the same as in <code>read</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>writev</b><i> (int <var>filedes</var>, const struct iovec *<var>vector</var>, int <var>count</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>writev</code> function gathers data from the buffers described in
<var>vector</var>, which is taken to be <var>count</var> structures long, and writes
them to <code>filedes</code>.  As each buffer is written, it moves on to the
next.

<p>Like <code>readv</code>, <code>writev</code> may stop midstream under the same
conditions <code>write</code> would.

<p>The return value is a count of bytes written, or -1 indicating an
error.  The possible errors are the same as in <code>write</code>.

</td></tr>
</table>

<p>Note that if the buffers are small (under about 1kB), high-level streams
may be easier to use than these functions.  However, <code>readv</code> and
<code>writev</code> are more efficient when the individual buffers themselves
(as opposed to the total output), are large.  In that case, a high-level
stream would not be able to cache the data effectively.

<p><hr>
Node:<a name="Memory-mapped%20I%2fO">Memory-mapped I/O</a>,
Next:<a rel=next accesskey=n href="#Waiting%20for%20I%2fO">Waiting for I/O</a>,
Previous:<a rel=previous accesskey=p href="#Scatter-Gather">Scatter-Gather</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Memory-mapped I/O</h3>

<p>On modern operating systems, it is possible to <dfn>mmap</dfn> (pronounced
"em-map") a file to a region of memory.  When this is done, the file can
be accessed just like an array in the program.

<p>This is more efficient than <code>read</code> or <code>write</code>, as only the regions
of the file that a program actually accesses are loaded.  Accesses to
not-yet-loaded parts of the mmapped region are handled in the same way as
swapped out pages.

<p>Since mmapped pages can be stored back to their file when physical
memory is low, it is possible to mmap files orders of magnitude larger
than both the physical memory <em>and</em> swap space.  The only limit is
address space.  The theoretical limit is 4GB on a 32-bit machine -
however, the actual limit will be smaller since some areas will be
reserved for other purposes.  If the LFS interface is used the file size
on 32-bit systems is not limited to 2GB (offsets are signed which
reduces the addressable area of 4GB by half); the full 64-bit are
available.

<p>Memory mapping only works on entire pages of memory.  Thus, addresses
for mapping must be page-aligned, and length values will be rounded up. 
To determine the size of a page the machine uses one should use

<br><pre>size_t page_size = (size_t) sysconf (_SC_PAGESIZE);
</pre>

<p>These functions are declared in <code>sys/mman.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>mmap</b><i> (void *<var>address</var>, size_t <var>length</var>,int <var>protect</var>, int <var>flags</var>, int <var>filedes</var>, off_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>mmap</code> function creates a new mapping, connected to bytes
(<var>offset</var>) to (<var>offset</var> + <var>length</var> - 1) in the file open on
<var>filedes</var>.  A new reference for the file specified by <var>filedes</var>
is created, which is not removed by closing the file.

<p><var>address</var> gives a preferred starting address for the mapping. 
<code>NULL</code> expresses no preference. Any previous mapping at that
address is automatically removed. The address you give may still be
changed, unless you use the <code>MAP_FIXED</code> flag.

<p><var>protect</var> contains flags that control what kind of access is
permitted.  They include <code>PROT_READ</code>, <code>PROT_WRITE</code>, and
<code>PROT_EXEC</code>, which permit reading, writing, and execution,
respectively.  Inappropriate access will cause a segfault (see <a href="#Program%20Error%20Signals">Program Error Signals</a>).

<p>Note that most hardware designs cannot support write permission without
read permission, and many do not distinguish read and execute permission. 
Thus, you may receive wider permissions than you ask for, and mappings of
write-only files may be denied even if you do not use <code>PROT_READ</code>.

<p><var>flags</var> contains flags that control the nature of the map. 
One of <code>MAP_SHARED</code> or <code>MAP_PRIVATE</code> must be specified.

<p>They include:

<dl>
<dt><code>MAP_PRIVATE</code>
<dd>This specifies that writes to the region should never be written back
to the attached file.  Instead, a copy is made for the process, and the
region will be swapped normally if memory runs low.  No other process will
see the changes.

<p>Since private mappings effectively revert to ordinary memory
when written to, you must have enough virtual memory for a copy of
the entire mmapped region if you use this mode with <code>PROT_WRITE</code>.

<br><dt><code>MAP_SHARED</code>
<dd>This specifies that writes to the region will be written back to the
file.  Changes made will be shared immediately with other processes
mmaping the same file.

<p>Note that actual writing may take place at any time.  You need to use
<code>msync</code>, described below, if it is important that other processes
using conventional I/O get a consistent view of the file.

<br><dt><code>MAP_FIXED</code>
<dd>This forces the system to use the exact mapping address specified in
<var>address</var> and fail if it can't.

<br><dt><code>MAP_ANONYMOUS</code>
<dt><code>MAP_ANON</code>
<dd>This flag tells the system to create an anonymous mapping, not connected
to a file.  <var>filedes</var> and <var>off</var> are ignored, and the region is
initialized with zeros.

<p>Anonymous maps are used as the basic primitive to extend the heap on some
systems.  They are also useful to share data between multiple tasks
without creating a file.

<p>On some systems using private anonymous mmaps is more efficient than using
<code>malloc</code> for large blocks.  This is not an issue with the GNU C library,
as the included <code>malloc</code> automatically uses <code>mmap</code> where appropriate.

</dl>

<p><code>mmap</code> returns the address of the new mapping, or -1 for an
error.

<p>Possible errors include:

<dl>

<br><dt><code>EINVAL</code>
<dd>
Either <var>address</var> was unusable, or inconsistent <var>flags</var> were
given.

<br><dt><code>EACCES</code>
<dd>
<var>filedes</var> was not open for the type of access specified in <var>protect</var>.

<br><dt><code>ENOMEM</code>
<dd>
Either there is not enough memory for the operation, or the process is
out of address space.

<br><dt><code>ENODEV</code>
<dd>
This file is of a type that doesn't support mapping.

<br><dt><code>ENOEXEC</code>
<dd>
The file is on a filesystem that doesn't support mapping.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>mmap64</b><i> (void *<var>address</var>, size_t <var>length</var>,int <var>protect</var>, int <var>flags</var>, int <var>filedes</var>, off64_t <var>offset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mmap64</code> function is equivalent to the <code>mmap</code> function but
the <var>offset</var> parameter is of type <code>off64_t</code>.  On 32-bit systems
this allows the file associated with the <var>filedes</var> descriptor to be
larger than 2GB.  <var>filedes</var> must be a descriptor returned from a
call to <code>open64</code> or <code>fopen64</code> and <code>freopen64</code> where the
descriptor is retrieved with <code>fileno</code>.

<p>When the sources are translated with <code>_FILE_OFFSET_BITS == 64</code> this
function is actually available under the name <code>mmap</code>.  I.e., the
new, extended API using 64 bit file sizes and offsets transparently
replaces the old API. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>munmap</b><i> (void *<var>addr</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>munmap</code> removes any memory maps from (<var>addr</var>) to (<var>addr</var> +
<var>length</var>).  <var>length</var> should be the length of the mapping.

<p>It is safe to unmap multiple mappings in one command, or include unmapped
space in the range.  It is also possible to unmap only part of an existing
mapping.  However, only entire pages can be removed.  If <var>length</var> is not
an even number of pages, it will be rounded up.

<p>It returns 0 for success and -1 for an error.

<p>One error is possible:

<dl>

<br><dt><code>EINVAL</code>
<dd>The memory range given was outside the user mmap range or wasn't page
aligned.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>msync</b><i> (void *<var>address</var>, size_t <var>length</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>When using shared mappings, the kernel can write the file at any time
before the mapping is removed.  To be certain data has actually been
written to the file and will be accessible to non-memory-mapped I/O, it
is necessary to use this function.

<p>It operates on the region <var>address</var> to (<var>address</var> + <var>length</var>). 
It may be used on part of a mapping or multiple mappings, however the
region given should not contain any unmapped space.

<p><var>flags</var> can contain some options:

<dl>

<br><dt><code>MS_SYNC</code>
<dd>
This flag makes sure the data is actually written <em>to disk</em>. 
Normally <code>msync</code> only makes sure that accesses to a file with
conventional I/O reflect the recent changes.

<br><dt><code>MS_ASYNC</code>
<dd>
This tells <code>msync</code> to begin the synchronization, but not to wait for
it to complete.

</dl>

<p><code>msync</code> returns 0 for success and -1 for
error.  Errors include:

<dl>

<br><dt><code>EINVAL</code>
<dd>An invalid region was given, or the <var>flags</var> were invalid.

<br><dt><code>EFAULT</code>
<dd>There is no existing mapping in at least part of the given region.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>mremap</b><i> (void *<var>address</var>, size_t <var>length</var>, size_t <var>new_length</var>, int <var>flag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function can be used to change the size of an existing memory
area. <var>address</var> and <var>length</var> must cover a region entirely mapped
in the same <code>mmap</code> statement. A new mapping with the same
characteristics will be returned with the length <var>new_length</var>.

<p>One option is possible, <code>MREMAP_MAYMOVE</code>. If it is given in
<var>flags</var>, the system may remove the existing mapping and create a new
one of the desired length in another location.

<p>The address of the resulting mapping is returned, or -1. Possible
error codes include:

<dl>

<br><dt><code>EFAULT</code>
<dd>There is no existing mapping in at least part of the original region, or
the region covers two or more distinct mappings.

<br><dt><code>EINVAL</code>
<dd>The address given is misaligned or inappropriate.

<br><dt><code>EAGAIN</code>
<dd>The region has pages locked, and if extended it would exceed the
process's resource limit for locked pages.  See <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>ENOMEM</code>
<dd>The region is private writable, and insufficient virtual memory is
available to extend it.  Also, this error will occur if
<code>MREMAP_MAYMOVE</code> is not given and the extension would collide with
another mapped region.

</dl>
</td></tr>
</table>

<p>This function is only available on a few systems.  Except for performing
optional optimizations one should not rely on this function.

<p>Not all file descriptors may be mapped.  Sockets, pipes, and most devices
only allow sequential access and do not fit into the mapping abstraction. 
In addition, some regular files may not be mmapable, and older kernels may
not support mapping at all.  Thus, programs using <code>mmap</code> should
have a fallback method to use should it fail. See <a href="standards.html#Mmap">Mmap</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>madvise</b><i> (void *<var>addr</var>, size_t <var>length</var>, int <var>advice</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function can be used to provide the system with <var>advice</var> about
the intended usage patterns of the memory region starting at <var>addr</var>
and extending <var>length</var> bytes.

<p>The valid BSD values for <var>advice</var> are:

<dl>

<br><dt><code>MADV_NORMAL</code>
<dd>The region should receive no further special treatment.

<br><dt><code>MADV_RANDOM</code>
<dd>The region will be accessed via random page references. The kernel
should page-in the minimal number of pages for each page fault.

<br><dt><code>MADV_SEQUENTIAL</code>
<dd>The region will be accessed via sequential page references. This
may cause the kernel to aggressively read-ahead, expecting further
sequential references after any page fault within this region.

<br><dt><code>MADV_WILLNEED</code>
<dd>The region will be needed.  The pages within this region may
be pre-faulted in by the kernel.

<br><dt><code>MADV_DONTNEED</code>
<dd>The region is no longer needed.  The kernel may free these pages,
causing any changes to the pages to be lost, as well as swapped
out pages to be discarded.

</dl>

<p>The POSIX names are slightly different, but with the same meanings:

<dl>

<br><dt><code>POSIX_MADV_NORMAL</code>
<dd>This corresponds with BSD's <code>MADV_NORMAL</code>.

<br><dt><code>POSIX_MADV_RANDOM</code>
<dd>This corresponds with BSD's <code>MADV_RANDOM</code>.

<br><dt><code>POSIX_MADV_SEQUENTIAL</code>
<dd>This corresponds with BSD's <code>MADV_SEQUENTIAL</code>.

<br><dt><code>POSIX_MADV_WILLNEED</code>
<dd>This corresponds with BSD's <code>MADV_WILLNEED</code>.

<br><dt><code>POSIX_MADV_DONTNEED</code>
<dd>This corresponds with BSD's <code>MADV_DONTNEED</code>.

</dl>

<p><code>msync</code> returns 0 for success and -1 for
error.  Errors include:
<dl>

<br><dt><code>EINVAL</code>
<dd>An invalid region was given, or the <var>advice</var> was invalid.

<br><dt><code>EFAULT</code>
<dd>There is no existing mapping in at least part of the given region.

</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Waiting%20for%20I%2fO">Waiting for I/O</a>,
Next:<a rel=next accesskey=n href="#Synchronizing%20I%2fO">Synchronizing I/O</a>,
Previous:<a rel=previous accesskey=p href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Waiting for Input or Output</h3>

<p>Sometimes a program needs to accept input on multiple input channels
whenever input arrives.  For example, some workstations may have devices
such as a digitizing tablet, function button box, or dial box that are
connected via normal asynchronous serial interfaces; good user interface
style requires responding immediately to input on any device.  Another
example is a program that acts as a server to several other processes
via pipes or sockets.

<p>You cannot normally use <code>read</code> for this purpose, because this
blocks the program until input is available on one particular file
descriptor; input on other channels won't wake it up.  You could set
nonblocking mode and poll each file descriptor in turn, but this is very
inefficient.

<p>A better solution is to use the <code>select</code> function.  This blocks the
program until input or output is ready on a specified set of file
descriptors, or until a timer expires, whichever comes first.  This
facility is declared in the header file <code>sys/types.h</code>.

<p>In the case of a server socket (see <a href="#Listening">Listening</a>), we say that
"input" is available when there are pending connections that could be
accepted (see <a href="#Accepting%20Connections">Accepting Connections</a>).  <code>accept</code> for server
sockets blocks and interacts with <code>select</code> just as <code>read</code> does
for normal input.

<p>The file descriptor sets for the <code>select</code> function are specified
as <code>fd_set</code> objects.  Here is the description of the data type
and some macros for manipulating these objects.

<p>
<table width="100%">
<tr>
<td align="left"><b>fd_set</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fd_set</code> data type represents file descriptor sets for the
<code>select</code> function.  It is actually a bit array. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>FD_SETSIZE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is the maximum number of file descriptors that a
<code>fd_set</code> object can hold information about.  On systems with a
fixed maximum number, <code>FD_SETSIZE</code> is at least that number.  On
some systems, including GNU, there is no absolute limit on the number of
descriptors open, but this macro still has a constant value which
controls the number of bits in an <code>fd_set</code>; if you get a file
descriptor with a value as high as <code>FD_SETSIZE</code>, you cannot put
that descriptor into an <code>fd_set</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>FD_ZERO</b><i> (fd_set *<var>set</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro initializes the file descriptor set <var>set</var> to be the
empty set. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>FD_SET</b><i> (int <var>filedes</var>, fd_set *<var>set</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro adds <var>filedes</var> to the file descriptor set <var>set</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>FD_CLR</b><i> (int <var>filedes</var>, fd_set *<var>set</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro removes <var>filedes</var> from the file descriptor set <var>set</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>FD_ISSET</b><i> (int <var>filedes</var>, fd_set *<var>set</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value (true) if <var>filedes</var> is a member
of the file descriptor set <var>set</var>, and zero (false) otherwise. 
</td></tr>
</table>

<p>Next, here is the description of the <code>select</code> function itself.

<p>
<table width="100%">
<tr>
<td align="left">int <b>select</b><i> (int <var>nfds</var>, fd_set *<var>read-fds</var>, fd_set *<var>write-fds</var>, fd_set *<var>except-fds</var>, struct timeval *<var>timeout</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>select</code> function blocks the calling process until there is
activity on any of the specified sets of file descriptors, or until the
timeout period has expired.

<p>The file descriptors specified by the <var>read-fds</var> argument are
checked to see if they are ready for reading; the <var>write-fds</var> file
descriptors are checked to see if they are ready for writing; and the
<var>except-fds</var> file descriptors are checked for exceptional
conditions.  You can pass a null pointer for any of these arguments if
you are not interested in checking for that kind of condition.

<p>A file descriptor is considered ready for reading if it is not at end of
file.  A server socket is considered ready for reading if there is a
pending connection which can be accepted with <code>accept</code>;
see <a href="#Accepting%20Connections">Accepting Connections</a>.  A client socket is ready for writing when
its connection is fully established; see <a href="#Connecting">Connecting</a>.

<p>"Exceptional conditions" does not mean errors--errors are reported
immediately when an erroneous system call is executed, and do not
constitute a state of the descriptor.  Rather, they include conditions
such as the presence of an urgent message on a socket.  (See <a href="#Sockets">Sockets</a>,
for information on urgent messages.)

<p>The <code>select</code> function checks only the first <var>nfds</var> file
descriptors.  The usual thing is to pass <code>FD_SETSIZE</code> as the value
of this argument.

<p>The <var>timeout</var> specifies the maximum time to wait.  If you pass a
null pointer for this argument, it means to block indefinitely until one
of the file descriptors is ready.  Otherwise, you should provide the
time in <code>struct timeval</code> format; see <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.  Specify zero as the time (a <code>struct timeval</code> containing
all zeros) if you want to find out which descriptors are ready without
waiting if none are ready.

<p>The normal return value from <code>select</code> is the total number of ready file
descriptors in all of the sets.  Each of the argument sets is overwritten
with information about the descriptors that are ready for the corresponding
operation.  Thus, to see if a particular descriptor <var>desc</var> has input,
use <code>FD_ISSET (<var>desc</var>, <var>read-fds</var>)</code> after <code>select</code> returns.

<p>If <code>select</code> returns because the timeout period expires, it returns
a value of zero.

<p>Any signal will cause <code>select</code> to return immediately.  So if your
program uses signals, you can't rely on <code>select</code> to keep waiting
for the full time specified.  If you want to be sure of waiting for a
particular amount of time, you must check for <code>EINTR</code> and repeat
the <code>select</code> with a newly calculated timeout based on the current
time.  See the example below.  See also <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<p>If an error occurs, <code>select</code> returns <code>-1</code> and does not modify
the argument file descriptor sets.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>One of the file descriptor sets specified an invalid file descriptor.

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by a signal.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>EINVAL</code>
<dd>The <var>timeout</var> argument is invalid; one of the components is negative
or too large. 
</dl>
</td></tr>
</table>

<p><strong>Portability Note:</strong>  The <code>select</code> function is a BSD Unix
feature.

<p>Here is an example showing how you can use <code>select</code> to establish a
timeout period for reading from a file descriptor.  The <code>input_timeout</code>
function blocks the calling process until input is available on the
file descriptor, or until the timeout period expires.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/time.h&gt;

int
input_timeout (int filedes, unsigned int seconds)
{
  fd_set set;
  struct timeval timeout;

  /* Initialize the file descriptor set. */
  FD_ZERO (&amp;set);
  FD_SET (filedes, &amp;set);

  /* Initialize the timeout data structure. */
  timeout.tv_sec = seconds;
  timeout.tv_usec = 0;

  /* <code>select</code> returns 0 if timeout, 1 if input available, -1 if error. */
  return TEMP_FAILURE_RETRY (select (FD_SETSIZE,
                                     &amp;set, NULL, NULL,
                                     &amp;timeout));
}

int
main (void)
{
  fprintf (stderr, "select returned %d.\n",
           input_timeout (STDIN_FILENO, 5));
  return 0;
}
</pre>

<p>There is another example showing the use of <code>select</code> to multiplex
input from multiple sockets in <a href="#Server%20Example">Server Example</a>.

<p><hr>
Node:<a name="Synchronizing%20I%2fO">Synchronizing I/O</a>,
Next:<a rel=next accesskey=n href="#Asynchronous%20I%2fO">Asynchronous I/O</a>,
Previous:<a rel=previous accesskey=p href="#Waiting%20for%20I%2fO">Waiting for I/O</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Synchronizing I/O operations</h3>

<p>In most modern operating systems, the normal I/O operations are not
executed synchronously.  I.e., even if a <code>write</code> system call
returns, this does not mean the data is actually written to the media,
e.g., the disk.

<p>In situations where synchronization points are necessary, you can use
special functions which ensure that all operations finish before
they return.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sync</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A call to this function will not return as long as there is data which
has not been written to the device.  All dirty buffers in the kernel will
be written and so an overall consistent system can be achieved (if no
other process in parallel writes data).

<p>A prototype for <code>sync</code> can be found in <code>unistd.h</code>.

<p>The return value is zero to indicate no error. 
</td></tr>
</table>

<p>Programs more often want to ensure that data written to a given file is
committed, rather than all data in the system.  For this, <code>sync</code> is overkill.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fsync</b><i> (int <var>fildes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fsync</code> function can be used to make sure all data associated with
the open file <var>fildes</var> is written to the device associated with the
descriptor.  The function call does not return unless all actions have
finished.

<p>A prototype for <code>fsync</code> can be found in <code>unistd.h</code>.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>fsync</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this, calls to <code>fsync</code> should be
protected using cancellation handlers.

<p>The return value of the function is zero if no error occurred.  Otherwise
it is -1 and the global variable <var>errno</var> is set to the
following values:
<dl>
<dt><code>EBADF</code>
<dd>The descriptor <var>fildes</var> is not valid.

<br><dt><code>EINVAL</code>
<dd>No synchronization is possible since the system does not implement this. 
</dl>
</td></tr>
</table>

<p>Sometimes it is not even necessary to write all data associated with a
file descriptor.  E.g., in database files which do not change in size it
is enough to write all the file content data to the device. 
Meta-information, like the modification time etc., are not that important
and leaving such information uncommitted does not prevent a successful
recovering of the file in case of a problem.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fdatasync</b><i> (int <var>fildes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When a call to the <code>fdatasync</code> function returns, it is ensured
that all of the file data is written to the device.  For all pending I/O
operations, the parts guaranteeing data integrity finished.

<p>Not all systems implement the <code>fdatasync</code> operation.  On systems
missing this functionality <code>fdatasync</code> is emulated by a call to
<code>fsync</code> since the performed actions are a superset of those
required by <code>fdatasync</code>.

<p>The prototype for <code>fdatasync</code> is in <code>unistd.h</code>.

<p>The return value of the function is zero if no error occurred.  Otherwise
it is -1 and the global variable <var>errno</var> is set to the
following values:
<dl>
<dt><code>EBADF</code>
<dd>The descriptor <var>fildes</var> is not valid.

<br><dt><code>EINVAL</code>
<dd>No synchronization is possible since the system does not implement this. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Asynchronous%20I%2fO">Asynchronous I/O</a>,
Next:<a rel=next accesskey=n href="#Control%20Operations">Control Operations</a>,
Previous:<a rel=previous accesskey=p href="#Synchronizing%20I%2fO">Synchronizing I/O</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Perform I/O Operations in Parallel</h3>

<p>The POSIX.1b standard defines a new set of I/O operations which can
significantly reduce the time an application spends waiting at I/O.  The
new functions allow a program to initiate one or more I/O operations and
then immediately resume normal work while the I/O operations are
executed in parallel.  This functionality is available if the
<code>unistd.h</code> file defines the symbol <code>_POSIX_ASYNCHRONOUS_IO</code>.

<p>These functions are part of the library with realtime functions named
<code>librt</code>.  They are not actually part of the <code>libc</code> binary. 
The implementation of these functions can be done using support in the
kernel (if available) or using an implementation based on threads at
userlevel.  In the latter case it might be necessary to link applications
with the thread library <code>libpthread</code> in addition to <code>librt</code>.

<p>All AIO operations operate on files which were opened previously.  There
might be arbitrarily many operations running for one file.  The
asynchronous I/O operations are controlled using a data structure named
<code>struct aiocb</code> (<dfn>AIO control block</dfn>).  It is defined in
<code>aio.h</code> as follows.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct aiocb</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The POSIX.1b standard mandates that the <code>struct aiocb</code> structure
contains at least the members described in the following table.  There
might be more elements which are used by the implementation, but
depending upon these elements is not portable and is highly deprecated.

<dl>
<dt><code>int aio_fildes</code>
<dd>This element specifies the file descriptor to be used for the
operation.  It must be a legal descriptor, otherwise the operation will
fail.

<p>The device on which the file is opened must allow the seek operation. 
I.e., it is not possible to use any of the AIO operations on devices
like terminals where an <code>lseek</code> call would lead to an error.

<br><dt><code>off_t aio_offset</code>
<dd>This element specifies the offset in the file at which the operation (input
or output) is performed.  Since the operations are carried out in arbitrary
order and more than one operation for one file descriptor can be
started, one cannot expect a current read/write position of the file
descriptor.

<br><dt><code>volatile void *aio_buf</code>
<dd>This is a pointer to the buffer with the data to be written or the place
where the read data is stored.

<br><dt><code>size_t aio_nbytes</code>
<dd>This element specifies the length of the buffer pointed to by <code>aio_buf</code>.

<br><dt><code>int aio_reqprio</code>
<dd>If the platform has defined <code>_POSIX_PRIORITIZED_IO</code> and
<code>_POSIX_PRIORITY_SCHEDULING</code>, the AIO requests are
processed based on the current scheduling priority.  The
<code>aio_reqprio</code> element can then be used to lower the priority of the
AIO operation.

<br><dt><code>struct sigevent aio_sigevent</code>
<dd>This element specifies how the calling process is notified once the
operation terminates.  If the <code>sigev_notify</code> element is
<code>SIGEV_NONE</code>, no notification is sent.  If it is <code>SIGEV_SIGNAL</code>,
the signal determined by <code>sigev_signo</code> is sent.  Otherwise,
<code>sigev_notify</code> must be <code>SIGEV_THREAD</code>.  In this case, a thread
is created which starts executing the function pointed to by
<code>sigev_notify_function</code>.

<br><dt><code>int aio_lio_opcode</code>
<dd>This element is only used by the <code>lio_listio</code> and
<code>lio_listio64</code> functions.  Since these functions allow an
arbitrary number of operations to start at once, and each operation can be
input or output (or nothing), the information must be stored in the
control block.  The possible values are:

<dl>
<dt><code>LIO_READ</code>
<dd>Start a read operation.  Read from the file at position
<code>aio_offset</code> and store the next <code>aio_nbytes</code> bytes in the
buffer pointed to by <code>aio_buf</code>.

<br><dt><code>LIO_WRITE</code>
<dd>Start a write operation.  Write <code>aio_nbytes</code> bytes starting at
<code>aio_buf</code> into the file starting at position <code>aio_offset</code>.

<br><dt><code>LIO_NOP</code>
<dd>Do nothing for this control block.  This value is useful sometimes when
an array of <code>struct aiocb</code> values contains holes, i.e., some of the
values must not be handled although the whole array is presented to the
<code>lio_listio</code> function. 
</dl>
</dl>

<p>When the sources are compiled using <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine, this type is in fact <code>struct aiocb64</code>, since the LFS
interface transparently replaces the <code>struct aiocb</code> definition. 
</td></tr>
</table>

<p>For use with the AIO functions defined in the LFS, there is a similar type
defined which replaces the types of the appropriate members with larger
types but otherwise is equivalent to <code>struct aiocb</code>.  Particularly,
all member names are the same.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct aiocb64</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<dl>
<dt><code>int aio_fildes</code>
<dd>This element specifies the file descriptor which is used for the
operation.  It must be a legal descriptor since otherwise the operation
fails for obvious reasons.

<p>The device on which the file is opened must allow the seek operation. 
I.e., it is not possible to use any of the AIO operations on devices
like terminals where an <code>lseek</code> call would lead to an error.

<br><dt><code>off64_t aio_offset</code>
<dd>This element specifies at which offset in the file the operation (input
or output) is performed.  Since the operation are carried in arbitrary
order and more than one operation for one file descriptor can be
started, one cannot expect a current read/write position of the file
descriptor.

<br><dt><code>volatile void *aio_buf</code>
<dd>This is a pointer to the buffer with the data to be written or the place
where the read data is stored.

<br><dt><code>size_t aio_nbytes</code>
<dd>This element specifies the length of the buffer pointed to by <code>aio_buf</code>.

<br><dt><code>int aio_reqprio</code>
<dd>If for the platform <code>_POSIX_PRIORITIZED_IO</code> and
<code>_POSIX_PRIORITY_SCHEDULING</code> are defined the AIO requests are
processed based on the current scheduling priority.  The
<code>aio_reqprio</code> element can then be used to lower the priority of the
AIO operation.

<br><dt><code>struct sigevent aio_sigevent</code>
<dd>This element specifies how the calling process is notified once the
operation terminates.  If the <code>sigev_notify</code>, element is
<code>SIGEV_NONE</code> no notification is sent.  If it is <code>SIGEV_SIGNAL</code>,
the signal determined by <code>sigev_signo</code> is sent.  Otherwise,
<code>sigev_notify</code> must be <code>SIGEV_THREAD</code> in which case a thread
which starts executing the function pointed to by
<code>sigev_notify_function</code>.

<br><dt><code>int aio_lio_opcode</code>
<dd>This element is only used by the <code>lio_listio</code> and
<code>[lio_listio64</code> functions.  Since these functions allow an
arbitrary number of operations to start at once, and since each operation can be
input or output (or nothing), the information must be stored in the
control block.  See the description of <code>struct aiocb</code> for a description
of the possible values. 
</dl>

<p>When the sources are compiled using <code>_FILE_OFFSET_BITS == 64</code> on a
32 bit machine, this type is available under the name <code>struct
aiocb64</code>, since the LFS transparently replaces the old interface. 
</td></tr>
</table>

<ul>
<li><a accesskey=1 href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>:     Asynchronous Read and Write Operations. 
<li><a accesskey=2 href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>:      Getting the Status of AIO Operations. 
<li><a accesskey=3 href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>:  Getting into a consistent state. 
<li><a accesskey=4 href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>:         Cancellation of AIO Operations. 
<li><a accesskey=5 href="#Configuration%20of%20AIO">Configuration of AIO</a>:          How to optimize the AIO implementation. 
</ul>

<p><hr>
Node:<a name="Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>,
Next:<a rel=next accesskey=n href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>,
Up:<a rel=up accesskey=u href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<br>

<h4>Asynchronous Read and Write Operations</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_read</b><i> (struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initiates an asynchronous read operation.  It
immediately returns after the operation was enqueued or when an
error was encountered.

<p>The first <code>aiocbp-&gt;aio_nbytes</code> bytes of the file for which
<code>aiocbp-&gt;aio_fildes</code> is a descriptor are written to the buffer
starting at <code>aiocbp-&gt;aio_buf</code>.  Reading starts at the absolute
position <code>aiocbp-&gt;aio_offset</code> in the file.

<p>If prioritized I/O is supported by the platform the
<code>aiocbp-&gt;aio_reqprio</code> value is used to adjust the priority before
the request is actually enqueued.

<p>The calling process is notified about the termination of the read
request according to the <code>aiocbp-&gt;aio_sigevent</code> value.

<p>When <code>aio_read</code> returns, the return value is zero if no error
occurred that can be found before the process is enqueued.  If such an
early error is found, the function returns -1 and sets
<code>errno</code> to one of the following values:

<dl>
<dt><code>EAGAIN</code>
<dd>The request was not enqueued due to (temporarily) exceeded resource
limitations. 
<br><dt><code>ENOSYS</code>
<dd>The <code>aio_read</code> function is not implemented. 
<br><dt><code>EBADF</code>
<dd>The <code>aiocbp-&gt;aio_fildes</code> descriptor is not valid.  This condition
need not be recognized before enqueueing the request and so this error
might also be signaled asynchronously. 
<br><dt><code>EINVAL</code>
<dd>The <code>aiocbp-&gt;aio_offset</code> or <code>aiocbp-&gt;aio_reqpiro</code> value is
invalid.  This condition need not be recognized before enqueueing the
request and so this error might also be signaled asynchronously. 
</dl>

<p>If <code>aio_read</code> returns zero, the current status of the request
can be queried using <code>aio_error</code> and <code>aio_return</code> functions. 
As long as the value returned by <code>aio_error</code> is <code>EINPROGRESS</code>
the operation has not yet completed.  If <code>aio_error</code> returns zero,
the operation successfully terminated, otherwise the value is to be
interpreted as an error code.  If the function terminated, the result of
the operation can be obtained using a call to <code>aio_return</code>.  The
returned value is the same as an equivalent call to <code>read</code> would
have returned.  Possible error codes returned by <code>aio_error</code> are:

<dl>
<dt><code>EBADF</code>
<dd>The <code>aiocbp-&gt;aio_fildes</code> descriptor is not valid. 
<br><dt><code>ECANCELED</code>
<dd>The operation was canceled before the operation was finished
(see <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>)
<br><dt><code>EINVAL</code>
<dd>The <code>aiocbp-&gt;aio_offset</code> value is invalid. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>aio_read64</code> since the LFS interface transparently
replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_read64</b><i> (struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>aio_read</code> function.  The only
difference is that on 32&nbsp;bit machines, the file descriptor should
be opened in the large file mode.  Internally, <code>aio_read64</code> uses
functionality equivalent to <code>lseek64</code> (see <a href="#File%20Position%20Primitive">File Position Primitive</a>) to position the file descriptor correctly for the reading,
as opposed to <code>lseek</code> functionality used in <code>aio_read</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is available under the name <code>aio_read</code> and so transparently
replaces the interface for small files on 32 bit machines. 
</td></tr>
</table>

<p>To write data asynchronously to a file, there exists an equivalent pair
of functions with a very similar interface.

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_write</b><i> (struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initiates an asynchronous write operation.  The function
call immediately returns after the operation was enqueued or if before
this happens an error was encountered.

<p>The first <code>aiocbp-&gt;aio_nbytes</code> bytes from the buffer starting at
<code>aiocbp-&gt;aio_buf</code> are written to the file for which
<code>aiocbp-&gt;aio_fildes</code> is an descriptor, starting at the absolute
position <code>aiocbp-&gt;aio_offset</code> in the file.

<p>If prioritized I/O is supported by the platform, the
<code>aiocbp-&gt;aio_reqprio</code> value is used to adjust the priority before
the request is actually enqueued.

<p>The calling process is notified about the termination of the read
request according to the <code>aiocbp-&gt;aio_sigevent</code> value.

<p>When <code>aio_write</code> returns, the return value is zero if no error
occurred that can be found before the process is enqueued.  If such an
early error is found the function returns -1 and sets
<code>errno</code> to one of the following values.

<dl>
<dt><code>EAGAIN</code>
<dd>The request was not enqueued due to (temporarily) exceeded resource
limitations. 
<br><dt><code>ENOSYS</code>
<dd>The <code>aio_write</code> function is not implemented. 
<br><dt><code>EBADF</code>
<dd>The <code>aiocbp-&gt;aio_fildes</code> descriptor is not valid.  This condition
may not be recognized before enqueueing the request, and so this error
might also be signaled asynchronously. 
<br><dt><code>EINVAL</code>
<dd>The <code>aiocbp-&gt;aio_offset</code> or <code>aiocbp-&gt;aio_reqprio</code> value is
invalid.  This condition may not be recognized before enqueueing the
request and so this error might also be signaled asynchronously. 
</dl>

<p>In the case <code>aio_write</code> returns zero, the current status of the
request can be queried using <code>aio_error</code> and <code>aio_return</code>
functions.  As long as the value returned by <code>aio_error</code> is
<code>EINPROGRESS</code> the operation has not yet completed.  If
<code>aio_error</code> returns zero, the operation successfully terminated,
otherwise the value is to be interpreted as an error code.  If the
function terminated, the result of the operation can be get using a call
to <code>aio_return</code>.  The returned value is the same as an equivalent
call to <code>read</code> would have returned.  Possible error codes returned
by <code>aio_error</code> are:

<dl>
<dt><code>EBADF</code>
<dd>The <code>aiocbp-&gt;aio_fildes</code> descriptor is not valid. 
<br><dt><code>ECANCELED</code>
<dd>The operation was canceled before the operation was finished. 
(see <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>)
<br><dt><code>EINVAL</code>
<dd>The <code>aiocbp-&gt;aio_offset</code> value is invalid. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is in fact <code>aio_write64</code> since the LFS interface transparently
replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_write64</b><i> (struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>aio_write</code> function.  The only
difference is that on 32&nbsp;bit machines the file descriptor should
be opened in the large file mode.  Internally <code>aio_write64</code> uses
functionality equivalent to <code>lseek64</code> (see <a href="#File%20Position%20Primitive">File Position Primitive</a>) to position the file descriptor correctly for the writing,
as opposed to <code>lseek</code> functionality used in <code>aio_write</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is available under the name <code>aio_write</code> and so transparently
replaces the interface for small files on 32 bit machines. 
</td></tr>
</table>

<p>Besides these functions with the more or less traditional interface,
POSIX.1b also defines a function which can initiate more than one
operation at a time, and which can handle freely mixed read and write
operations.  It is therefore similar to a combination of <code>readv</code> and
<code>writev</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>lio_listio</b><i> (int <var>mode</var>, struct aiocb *const <var>list</var>[], int <var>nent</var>, struct sigevent *<var>sig</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lio_listio</code> function can be used to enqueue an arbitrary
number of read and write requests at one time.  The requests can all be
meant for the same file, all for different files or every solution in
between.

<p><code>lio_listio</code> gets the <var>nent</var> requests from the array pointed to
by <var>list</var>.  The operation to be performed is determined by the
<code>aio_lio_opcode</code> member in each element of <var>list</var>.  If this
field is <code>LIO_READ</code> a read operation is enqueued, similar to a call
of <code>aio_read</code> for this element of the array (except that the way
the termination is signalled is different, as we will see below).  If
the <code>aio_lio_opcode</code> member is <code>LIO_WRITE</code> a write operation
is enqueued.  Otherwise the <code>aio_lio_opcode</code> must be <code>LIO_NOP</code>
in which case this element of <var>list</var> is simply ignored.  This
"operation" is useful in situations where one has a fixed array of
<code>struct aiocb</code> elements from which only a few need to be handled at
a time.  Another situation is where the <code>lio_listio</code> call was
canceled before all requests are processed (see <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>) and the remaining requests have to be reissued.

<p>The other members of each element of the array pointed to by
<code>list</code> must have values suitable for the operation as described in
the documentation for <code>aio_read</code> and <code>aio_write</code> above.

<p>The <var>mode</var> argument determines how <code>lio_listio</code> behaves after
having enqueued all the requests.  If <var>mode</var> is <code>LIO_WAIT</code> it
waits until all requests terminated.  Otherwise <var>mode</var> must be
<code>LIO_NOWAIT</code> and in this case the function returns immediately after
having enqueued all the requests.  In this case the caller gets a
notification of the termination of all requests according to the
<var>sig</var> parameter.  If <var>sig</var> is <code>NULL</code> no notification is
send.  Otherwise a signal is sent or a thread is started, just as
described in the description for <code>aio_read</code> or <code>aio_write</code>.

<p>If <var>mode</var> is <code>LIO_WAIT</code>, the return value of <code>lio_listio</code>
is 0 when all requests completed successfully.  Otherwise the
function return -1 and <code>errno</code> is set accordingly.  To find
out which request or requests failed one has to use the <code>aio_error</code>
function on all the elements of the array <var>list</var>.

<p>In case <var>mode</var> is <code>LIO_NOWAIT</code>, the function returns 0 if
all requests were enqueued correctly.  The current state of the requests
can be found using <code>aio_error</code> and <code>aio_return</code> as described
above.  If <code>lio_listio</code> returns -1 in this mode, the
global variable <code>errno</code> is set accordingly.  If a request did not
yet terminate, a call to <code>aio_error</code> returns <code>EINPROGRESS</code>.  If
the value is different, the request is finished and the error value (or
0) is returned and the result of the operation can be retrieved
using <code>aio_return</code>.

<p>Possible values for <code>errno</code> are:

<dl>
<dt><code>EAGAIN</code>
<dd>The resources necessary to queue all the requests are not available at
the moment.  The error status for each element of <var>list</var> must be
checked to determine which request failed.

<p>Another reason could be that the system wide limit of AIO requests is
exceeded.  This cannot be the case for the implementation on GNU systems
since no arbitrary limits exist. 
<br><dt><code>EINVAL</code>
<dd>The <var>mode</var> parameter is invalid or <var>nent</var> is larger than
<code>AIO_LISTIO_MAX</code>. 
<br><dt><code>EIO</code>
<dd>One or more of the request's I/O operations failed.  The error status of
each request should be checked to determine which one failed. 
<br><dt><code>ENOSYS</code>
<dd>The <code>lio_listio</code> function is not supported. 
</dl>

<p>If the <var>mode</var> parameter is <code>LIO_NOWAIT</code> and the caller cancels
a request, the error status for this request returned by
<code>aio_error</code> is <code>ECANCELED</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is in fact <code>lio_listio64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>lio_listio64</b><i> (int <var>mode</var>, struct aiocb *const <var>list</var>, int <var>nent</var>, struct sigevent *<var>sig</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>lio_listio</code> function.  The only
difference is that on 32&nbsp;bit machines, the file descriptor should
be opened in the large file mode.  Internally, <code>lio_listio64</code> uses
functionality equivalent to <code>lseek64</code> (see <a href="#File%20Position%20Primitive">File Position Primitive</a>) to position the file descriptor correctly for the reading or
writing, as opposed to <code>lseek</code> functionality used in
<code>lio_listio</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is available under the name <code>lio_listio</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p><hr>
Node:<a name="Status%20of%20AIO%20Operations">Status of AIO Operations</a>,
Next:<a rel=next accesskey=n href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>,
Previous:<a rel=previous accesskey=p href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>,
Up:<a rel=up accesskey=u href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<br>

<h4>Getting the Status of AIO Operations</h4>

<p>As already described in the documentation of the functions in the last
section, it must be possible to get information about the status of an I/O
request.  When the operation is performed truly asynchronously (as with
<code>aio_read</code> and <code>aio_write</code> and with <code>lio_listio</code> when the
mode is <code>LIO_NOWAIT</code>), one sometimes needs to know whether a
specific request already terminated and if so, what the result was. 
The following two functions allow you to get this kind of information.

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_error</b><i> (const struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function determines the error state of the request described by the
<code>struct aiocb</code> variable pointed to by <var>aiocbp</var>.  If the
request has not yet terminated the value returned is always
<code>EINPROGRESS</code>.  Once the request has terminated the value
<code>aio_error</code> returns is either 0 if the request completed
successfully or it returns the value which would be stored in the
<code>errno</code> variable if the request would have been done using
<code>read</code>, <code>write</code>, or <code>fsync</code>.

<p>The function can return <code>ENOSYS</code> if it is not implemented.  It
could also return <code>EINVAL</code> if the <var>aiocbp</var> parameter does not
refer to an asynchronous operation whose return status is not yet known.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>aio_error64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_error64</b><i> (const struct aiocb64 *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>aio_error</code> with the only difference
that the argument is a reference to a variable of type <code>struct
aiocb64</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>aio_error</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ssize_t <b>aio_return</b><i> (const struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function can be used to retrieve the return status of the operation
carried out by the request described in the variable pointed to by
<var>aiocbp</var>.  As long as the error status of this request as returned
by <code>aio_error</code> is <code>EINPROGRESS</code> the return of this function is
undefined.

<p>Once the request is finished this function can be used exactly once to
retrieve the return value.  Following calls might lead to undefined
behavior.  The return value itself is the value which would have been
returned by the <code>read</code>, <code>write</code>, or <code>fsync</code> call.

<p>The function can return <code>ENOSYS</code> if it is not implemented.  It
could also return <code>EINVAL</code> if the <var>aiocbp</var> parameter does not
refer to an asynchronous operation whose return status is not yet known.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>aio_return64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_return64</b><i> (const struct aiocb64 *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>aio_return</code> with the only difference
that the argument is a reference to a variable of type <code>struct
aiocb64</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>aio_return</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p><hr>
Node:<a name="Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>,
Next:<a rel=next accesskey=n href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>,
Previous:<a rel=previous accesskey=p href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>,
Up:<a rel=up accesskey=u href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<br>

<h4>Getting into a Consistent State</h4>

<p>When dealing with asynchronous operations it is sometimes necessary to
get into a consistent state.  This would mean for AIO that one wants to
know whether a certain request or a group of request were processed. 
This could be done by waiting for the notification sent by the system
after the operation terminated, but this sometimes would mean wasting
resources (mainly computation time).  Instead POSIX.1b defines two
functions which will help with most kinds of consistency.

<p>The <code>aio_fsync</code> and <code>aio_fsync64</code> functions are only available
if the symbol <code>_POSIX_SYNCHRONIZED_IO</code> is defined in <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_fsync</b><i> (int <var>op</var>, struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Calling this function forces all I/O operations operating queued at the
time of the function call operating on the file descriptor
<code>aiocbp-&gt;aio_fildes</code> into the synchronized I/O completion state
(see <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>).  The <code>aio_fsync</code> function returns
immediately but the notification through the method described in
<code>aiocbp-&gt;aio_sigevent</code> will happen only after all requests for this
file descriptor have terminated and the file is synchronized.  This also
means that requests for this very same file descriptor which are queued
after the synchronization request are not affected.

<p>If <var>op</var> is <code>O_DSYNC</code> the synchronization happens as with a call
to <code>fdatasync</code>.  Otherwise <var>op</var> should be <code>O_SYNC</code> and
the synchronization happens as with <code>fsync</code>.

<p>As long as the synchronization has not happened, a call to
<code>aio_error</code> with the reference to the object pointed to by
<var>aiocbp</var> returns <code>EINPROGRESS</code>.  Once the synchronization is
done <code>aio_error</code> return 0 if the synchronization was not
successful.  Otherwise the value returned is the value to which the
<code>fsync</code> or <code>fdatasync</code> function would have set the
<code>errno</code> variable.  In this case nothing can be assumed about the
consistency for the data written to this file descriptor.

<p>The return value of this function is 0 if the request was
successfully enqueued.  Otherwise the return value is -1 and
<code>errno</code> is set to one of the following values:

<dl>
<dt><code>EAGAIN</code>
<dd>The request could not be enqueued due to temporary lack of resources. 
<br><dt><code>EBADF</code>
<dd>The file descriptor <code>aiocbp-&gt;aio_fildes</code> is not valid or not open
for writing. 
<br><dt><code>EINVAL</code>
<dd>The implementation does not support I/O synchronization or the <var>op</var>
parameter is other than <code>O_DSYNC</code> and <code>O_SYNC</code>. 
<br><dt><code>ENOSYS</code>
<dd>This function is not implemented. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>aio_return64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_fsync64</b><i> (int <var>op</var>, struct aiocb64 *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>aio_fsync</code> with the only difference
that the argument is a reference to a variable of type <code>struct
aiocb64</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>aio_fsync</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p>Another method of synchronization is to wait until one or more requests of a
specific set terminated.  This could be achieved by the <code>aio_*</code>
functions to notify the initiating process about the termination but in
some situations this is not the ideal solution.  In a program which
constantly updates clients somehow connected to the server it is not
always the best solution to go round robin since some connections might
be slow.  On the other hand letting the <code>aio_*</code> function notify the
caller might also be not the best solution since whenever the process
works on preparing data for on client it makes no sense to be
interrupted by a notification since the new client will not be handled
before the current client is served.  For situations like this
<code>aio_suspend</code> should be used.

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_suspend</b><i> (const struct aiocb *const <var>list</var>[], int <var>nent</var>, const struct timespec *<var>timeout</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When calling this function, the calling thread is suspended until at
least one of the requests pointed to by the <var>nent</var> elements of the
array <var>list</var> has completed.  If any of the requests has already
completed at the time <code>aio_suspend</code> is called, the function returns
immediately.  Whether a request has terminated or not is determined by
comparing the error status of the request with <code>EINPROGRESS</code>.  If
an element of <var>list</var> is <code>NULL</code>, the entry is simply ignored.

<p>If no request has finished, the calling process is suspended.  If
<var>timeout</var> is <code>NULL</code>, the process is not woken until a request
has finished.  If <var>timeout</var> is not <code>NULL</code>, the process remains
suspended at least as long as specified in <var>timeout</var>.  In this case,
<code>aio_suspend</code> returns with an error.

<p>The return value of the function is 0 if one or more requests
from the <var>list</var> have terminated.  Otherwise the function returns
-1 and <code>errno</code> is set to one of the following values:

<dl>
<dt><code>EAGAIN</code>
<dd>None of the requests from the <var>list</var> completed in the time specified
by <var>timeout</var>. 
<br><dt><code>EINTR</code>
<dd>A signal interrupted the <code>aio_suspend</code> function.  This signal might
also be sent by the AIO implementation while signalling the termination
of one of the requests. 
<br><dt><code>ENOSYS</code>
<dd>The <code>aio_suspend</code> function is not implemented. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>aio_suspend64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_suspend64</b><i> (const struct aiocb64 *const <var>list</var>[], int <var>nent</var>, const struct timespec *<var>timeout</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>aio_suspend</code> with the only difference
that the argument is a reference to a variable of type <code>struct
aiocb64</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>aio_suspend</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p><hr>
Node:<a name="Cancel%20AIO%20Operations">Cancel AIO Operations</a>,
Next:<a rel=next accesskey=n href="#Configuration%20of%20AIO">Configuration of AIO</a>,
Previous:<a rel=previous accesskey=p href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>,
Up:<a rel=up accesskey=u href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<br>

<h4>Cancellation of AIO Operations</h4>

<p>When one or more requests are asynchronously processed, it might be
useful in some situations to cancel a selected operation, e.g., if it
becomes obvious that the written data is no longer accurate and would
have to be overwritten soon.  As an example, assume an application, which
writes data in files in a situation where new incoming data would have
to be written in a file which will be updated by an enqueued request. 
The POSIX AIO implementation provides such a function, but this function
is not capable of forcing the cancellation of the request.  It is up to the
implementation to decide whether it is possible to cancel the operation
or not.  Therefore using this function is merely a hint.

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_cancel</b><i> (int <var>fildes</var>, struct aiocb *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>aio_cancel</code> function can be used to cancel one or more
outstanding requests.  If the <var>aiocbp</var> parameter is <code>NULL</code>, the
function tries to cancel all of the outstanding requests which would process
the file descriptor <var>fildes</var> (i.e., whose <code>aio_fildes</code> member
is <var>fildes</var>).  If <var>aiocbp</var> is not <code>NULL</code>, <code>aio_cancel</code>
attempts to cancel the specific request pointed to by <var>aiocbp</var>.

<p>For requests which were successfully canceled, the normal notification
about the termination of the request should take place.  I.e., depending
on the <code>struct sigevent</code> object which controls this, nothing
happens, a signal is sent or a thread is started.  If the request cannot
be canceled, it terminates the usual way after performing the operation.

<p>After a request is successfully canceled, a call to <code>aio_error</code> with
a reference to this request as the parameter will return
<code>ECANCELED</code> and a call to <code>aio_return</code> will return -1. 
If the request wasn't canceled and is still running the error status is
still <code>EINPROGRESS</code>.

<p>The return value of the function is <code>AIO_CANCELED</code> if there were
requests which haven't terminated and which were successfully canceled. 
If there is one or more requests left which couldn't be canceled, the
return value is <code>AIO_NOTCANCELED</code>.  In this case <code>aio_error</code>
must be used to find out which of the, perhaps multiple, requests (in
<var>aiocbp</var> is <code>NULL</code>) weren't successfully canceled.  If all
requests already terminated at the time <code>aio_cancel</code> is called the
return value is <code>AIO_ALLDONE</code>.

<p>If an error occurred during the execution of <code>aio_cancel</code> the
function returns -1 and sets <code>errno</code> to one of the following
values.

<dl>
<dt><code>EBADF</code>
<dd>The file descriptor <var>fildes</var> is not valid. 
<br><dt><code>ENOSYS</code>
<dd><code>aio_cancel</code> is not implemented. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is in fact <code>aio_cancel64</code> since the LFS interface
transparently replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>aio_cancel64</b><i> (int <var>fildes</var>, struct aiocb64 *<var>aiocbp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>aio_cancel</code> with the only difference
that the argument is a reference to a variable of type <code>struct
aiocb64</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code>, this
function is available under the name <code>aio_cancel</code> and so
transparently replaces the interface for small files on 32 bit
machines. 
</td></tr>
</table>

<p><hr>
Node:<a name="Configuration%20of%20AIO">Configuration of AIO</a>,
Previous:<a rel=previous accesskey=p href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>,
Up:<a rel=up accesskey=u href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<br>

<h4>How to optimize the AIO implementation</h4>

<p>The POSIX standard does not specify how the AIO functions are
implemented.  They could be system calls, but it is also possible to
emulate them at userlevel.

<p>At the point of this writing, the available implementation is a userlevel
implementation which uses threads for handling the enqueued requests. 
While this implementation requires making some decisions about
limitations, hard limitations are something which is best avoided
in the GNU C library.  Therefore, the GNU C library provides a means
for tuning the AIO implementation according to the individual use.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct aioinit</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to pass the configuration or tunable parameters
to the implementation.  The program has to initialize the members of
this struct and pass it to the implementation using the <code>aio_init</code>
function.

<dl>
<dt><code>int aio_threads</code>
<dd>This member specifies the maximal number of threads which may be used
at any one time. 
<br><dt><code>int aio_num</code>
<dd>This number provides an estimate on the maximal number of simultaneously
enqueued requests. 
<br><dt><code>int aio_locks</code>
<dd>Unused. 
<br><dt><code>int aio_usedba</code>
<dd>Unused. 
<br><dt><code>int aio_debug</code>
<dd>Unused. 
<br><dt><code>int aio_numusers</code>
<dd>Unused. 
<br><dt><code>int aio_reserved[2]</code>
<dd>Unused. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>aio_init</b><i> (const struct aioinit *<var>init</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function must be called before any other AIO function.  Calling it
is completely voluntary, as it is only meant to help the AIO
implementation perform better.

<p>Before calling the <code>aio_init</code>, function the members of a variable of
type <code>struct aioinit</code> must be initialized.  Then a reference to
this variable is passed as the parameter to <code>aio_init</code> which itself
may or may not pay attention to the hints.

<p>The function has no return value and no error cases are defined.  It is
a extension which follows a proposal from the SGI implementation in
Irix&nbsp;6.  It is not covered by POSIX.1b or Unix98. 
</td></tr>
</table>

<p><hr>
Node:<a name="Control%20Operations">Control Operations</a>,
Next:<a rel=next accesskey=n href="#Duplicating%20Descriptors">Duplicating Descriptors</a>,
Previous:<a rel=previous accesskey=p href="#Asynchronous%20I%2fO">Asynchronous I/O</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Control Operations on Files</h3>

<p>This section describes how you can perform various other operations on
file descriptors, such as inquiring about or setting flags describing
the status of the file descriptor, manipulating record locks, and the
like.  All of these operations are performed by the function <code>fcntl</code>.

<p>The second argument to the <code>fcntl</code> function is a command that
specifies which operation to perform.  The function and macros that name
various flags that are used with it are declared in the header file
<code>fcntl.h</code>.  Many of these flags are also used by the <code>open</code>
function; see <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fcntl</b><i> (int <var>filedes</var>, int <var>command</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fcntl</code> function performs the operation specified by
<var>command</var> on the file descriptor <var>filedes</var>.  Some commands
require additional arguments to be supplied.  These additional arguments
and the return value and error conditions are given in the detailed
descriptions of the individual commands.

<p>Briefly, here is a list of what the various commands are.

<dl>
<dt><code>F_DUPFD</code>
<dd>Duplicate the file descriptor (return another file descriptor pointing
to the same open file).  See <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>.

<br><dt><code>F_GETFD</code>
<dd>Get flags associated with the file descriptor.  See <a href="#Descriptor%20Flags">Descriptor Flags</a>.

<br><dt><code>F_SETFD</code>
<dd>Set flags associated with the file descriptor.  See <a href="#Descriptor%20Flags">Descriptor Flags</a>.

<br><dt><code>F_GETFL</code>
<dd>Get flags associated with the open file.  See <a href="#File%20Status%20Flags">File Status Flags</a>.

<br><dt><code>F_SETFL</code>
<dd>Set flags associated with the open file.  See <a href="#File%20Status%20Flags">File Status Flags</a>.

<br><dt><code>F_GETLK</code>
<dd>Get a file lock.  See <a href="#File%20Locks">File Locks</a>.

<br><dt><code>F_SETLK</code>
<dd>Set or clear a file lock.  See <a href="#File%20Locks">File Locks</a>.

<br><dt><code>F_SETLKW</code>
<dd>Like <code>F_SETLK</code>, but wait for completion.  See <a href="#File%20Locks">File Locks</a>.

<br><dt><code>F_GETOWN</code>
<dd>Get process or process group ID to receive <code>SIGIO</code> signals. 
See <a href="#Interrupt%20Input">Interrupt Input</a>.

<br><dt><code>F_SETOWN</code>
<dd>Set process or process group ID to receive <code>SIGIO</code> signals. 
See <a href="#Interrupt%20Input">Interrupt Input</a>. 
</dl>

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>fcntl</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>fcntl</code> should be
protected using cancellation handlers. 
</td></tr>
</table>

<p><hr>
Node:<a name="Duplicating%20Descriptors">Duplicating Descriptors</a>,
Next:<a rel=next accesskey=n href="#Descriptor%20Flags">Descriptor Flags</a>,
Previous:<a rel=previous accesskey=p href="#Control%20Operations">Control Operations</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Duplicating Descriptors</h3>

<p>You can <dfn>duplicate</dfn> a file descriptor, or allocate another file
descriptor that refers to the same open file as the original.  Duplicate
descriptors share one file position and one set of file status flags
(see <a href="#File%20Status%20Flags">File Status Flags</a>), but each has its own set of file descriptor
flags (see <a href="#Descriptor%20Flags">Descriptor Flags</a>).

<p>The major use of duplicating a file descriptor is to implement
<dfn>redirection</dfn> of input or output:  that is, to change the
file or pipe that a particular file descriptor corresponds to.

<p>You can perform this operation using the <code>fcntl</code> function with the
<code>F_DUPFD</code> command, but there are also convenient functions
<code>dup</code> and <code>dup2</code> for duplicating descriptors.

<p>The <code>fcntl</code> function and flags are declared in <code>fcntl.h</code>,
while prototypes for <code>dup</code> and <code>dup2</code> are in the header file
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>dup</b><i> (int <var>old</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies descriptor <var>old</var> to the first available
descriptor number (the first number not currently open).  It is
equivalent to <code>fcntl (<var>old</var>, F_DUPFD, 0)</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>dup2</b><i> (int <var>old</var>, int <var>new</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function copies the descriptor <var>old</var> to descriptor number
<var>new</var>.

<p>If <var>old</var> is an invalid descriptor, then <code>dup2</code> does nothing; it
does not close <var>new</var>.  Otherwise, the new duplicate of <var>old</var>
replaces any previous meaning of descriptor <var>new</var>, as if <var>new</var>
were closed first.

<p>If <var>old</var> and <var>new</var> are different numbers, and <var>old</var> is a
valid descriptor number, then <code>dup2</code> is equivalent to:

<br><pre>close (<var>new</var>);
fcntl (<var>old</var>, F_DUPFD, <var>new</var>)
</pre>

<p>However, <code>dup2</code> does this atomically; there is no instant in the
middle of calling <code>dup2</code> at which <var>new</var> is closed and not yet a
duplicate of <var>old</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_DUPFD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
copy the file descriptor given as the first argument.

<p>The form of the call in this case is:

<br><pre>fcntl (<var>old</var>, F_DUPFD, <var>next-filedes</var>)
</pre>

<p>The <var>next-filedes</var> argument is of type <code>int</code> and specifies that
the file descriptor returned should be the next available one greater
than or equal to this value.

<p>The return value from <code>fcntl</code> with this command is normally the value
of the new file descriptor.  A return value of -1 indicates an
error.  The following <code>errno</code> error conditions are defined for
this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>old</var> argument is invalid.

<br><dt><code>EINVAL</code>
<dd>The <var>next-filedes</var> argument is invalid.

<br><dt><code>EMFILE</code>
<dd>There are no more file descriptors available--your program is already
using the maximum.  In BSD and GNU, the maximum is controlled by a
resource limit that can be changed; see <a href="#Limits%20on%20Resources">Limits on Resources</a>, for
more information about the <code>RLIMIT_NOFILE</code> limit. 
</dl>

<p><code>ENFILE</code> is not a possible error code for <code>dup2</code> because
<code>dup2</code> does not create a new opening of a file; duplicate
descriptors do not count toward the limit which <code>ENFILE</code>
indicates.  <code>EMFILE</code> is possible because it refers to the limit on
distinct descriptor numbers in use in one process. 
</td></tr>
</table>

<p>Here is an example showing how to use <code>dup2</code> to do redirection. 
Typically, redirection of the standard streams (like <code>stdin</code>) is
done by a shell or shell-like program before calling one of the
<code>exec</code> functions (see <a href="#Executing%20a%20File">Executing a File</a>) to execute a new
program in a child process.  When the new program is executed, it
creates and initializes the standard streams to point to the
corresponding file descriptors, before its <code>main</code> function is
invoked.

<p>So, to redirect standard input to a file, the shell could do something
like:

<br><pre>pid = fork ();
if (pid == 0)
  {
    char *filename;
    char *program;
    int file;
    <small>...</small>
    file = TEMP_FAILURE_RETRY (open (filename, O_RDONLY));
    dup2 (file, STDIN_FILENO);
    TEMP_FAILURE_RETRY (close (file));
    execv (program, NULL);
  }
</pre>

<p>There is also a more detailed example showing how to implement redirection
in the context of a pipeline of processes in <a href="#Launching%20Jobs">Launching Jobs</a>.

<p><hr>
Node:<a name="Descriptor%20Flags">Descriptor Flags</a>,
Next:<a rel=next accesskey=n href="#File%20Status%20Flags">File Status Flags</a>,
Previous:<a rel=previous accesskey=p href="#Duplicating%20Descriptors">Duplicating Descriptors</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>File Descriptor Flags</h3>

<p><dfn>File descriptor flags</dfn> are miscellaneous attributes of a file
descriptor.  These flags are associated with particular file
descriptors, so that if you have created duplicate file descriptors
from a single opening of a file, each descriptor has its own set of flags.

<p>Currently there is just one file descriptor flag: <code>FD_CLOEXEC</code>,
which causes the descriptor to be closed if you use any of the
<code>exec<small>...</small></code> functions (see <a href="#Executing%20a%20File">Executing a File</a>).

<p>The symbols in this section are defined in the header file
<code>fcntl.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_GETFD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should return the file descriptor flags associated
with the <var>filedes</var> argument.

<p>The normal return value from <code>fcntl</code> with this command is a
nonnegative number which can be interpreted as the bitwise OR of the
individual flags (except that currently there is only one flag to use).

<p>In case of an error, <code>fcntl</code> returns -1.  The following
<code>errno</code> error conditions are defined for this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is invalid. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_SETFD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should set the file descriptor flags associated with the
<var>filedes</var> argument.  This requires a third <code>int</code> argument to
specify the new flags, so the form of the call is:

<br><pre>fcntl (<var>filedes</var>, F_SETFD, <var>new-flags</var>)
</pre>

<p>The normal return value from <code>fcntl</code> with this command is an
unspecified value other than -1, which indicates an error. 
The flags and error conditions are the same as for the <code>F_GETFD</code>
command. 
</td></tr>
</table>

<p>The following macro is defined for use as a file descriptor flag with
the <code>fcntl</code> function.  The value is an integer constant usable
as a bit mask value.

<p>
<table width="100%">
<tr>
<td align="left">int <b>FD_CLOEXEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This flag specifies that the file descriptor should be closed when
an <code>exec</code> function is invoked; see <a href="#Executing%20a%20File">Executing a File</a>.  When
a file descriptor is allocated (as with <code>open</code> or <code>dup</code>),
this bit is initially cleared on the new file descriptor, meaning that
descriptor will survive into the new program after <code>exec</code>. 
</td></tr>
</table>

<p>If you want to modify the file descriptor flags, you should get the
current flags with <code>F_GETFD</code> and modify the value.  Don't assume
that the flags listed here are the only ones that are implemented; your
program may be run years from now and more flags may exist then.  For
example, here is a function to set or clear the flag <code>FD_CLOEXEC</code>
without altering any other flags:

<br><pre>/* Set the <code>FD_CLOEXEC</code> flag of <var>desc</var> if <var>value</var> is nonzero,
   or clear the flag if <var>value</var> is 0.
   Return 0 on success, or -1 on error with <code>errno</code> set. */

int
set_cloexec_flag (int desc, int value)
{
  int oldflags = fcntl (desc, F_GETFD, 0);
  /* If reading the flags failed, return error indication now.
  if (oldflags &lt; 0)
    return oldflags;
  /* Set just the flag we want to set. */
  if (value != 0)
    oldflags |= FD_CLOEXEC;
  else
    oldflags &amp;= ~FD_CLOEXEC;
  /* Store modified flag word in the descriptor. */
  return fcntl (desc, F_SETFD, oldflags);
}
</pre>

<p><hr>
Node:<a name="File%20Status%20Flags">File Status Flags</a>,
Next:<a rel=next accesskey=n href="#File%20Locks">File Locks</a>,
Previous:<a rel=previous accesskey=p href="#Descriptor%20Flags">Descriptor Flags</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>File Status Flags</h3>

<p><dfn>File status flags</dfn> are used to specify attributes of the opening of a
file.  Unlike the file descriptor flags discussed in <a href="#Descriptor%20Flags">Descriptor Flags</a>, the file status flags are shared by duplicated file descriptors
resulting from a single opening of the file.  The file status flags are
specified with the <var>flags</var> argument to <code>open</code>;
see <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<p>File status flags fall into three categories, which are described in the
following sections.

<ul>
<li><a href="#Access%20Modes">Access Modes</a>, specify what type of access is allowed to the
file: reading, writing, or both.  They are set by <code>open</code> and are
returned by <code>fcntl</code>, but cannot be changed.

<li><a href="#Open-time%20Flags">Open-time Flags</a>, control details of what <code>open</code> will do. 
These flags are not preserved after the <code>open</code> call.

<li><a href="#Operating%20Modes">Operating Modes</a>, affect how operations such as <code>read</code> and
<code>write</code> are done.  They are set by <code>open</code>, and can be fetched or
changed with <code>fcntl</code>. 
</ul>

<p>The symbols in this section are defined in the header file
<code>fcntl.h</code>.

<ul>
<li><a accesskey=1 href="#Access%20Modes">Access Modes</a>:                 Whether the descriptor can read or write. 
<li><a accesskey=2 href="#Open-time%20Flags">Open-time Flags</a>:              Details of <code>open</code>. 
<li><a accesskey=3 href="#Operating%20Modes">Operating Modes</a>:              Special modes to control I/O operations. 
<li><a accesskey=4 href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>:    Fetching and changing these flags. 
</ul>

<p><hr>
Node:<a name="Access%20Modes">Access Modes</a>,
Next:<a rel=next accesskey=n href="#Open-time%20Flags">Open-time Flags</a>,
Up:<a rel=up accesskey=u href="#File%20Status%20Flags">File Status Flags</a>
<br>

<h4>File Access Modes</h4>

<p>The file access modes allow a file descriptor to be used for reading,
writing, or both.  (In the GNU system, they can also allow none of these,
and allow execution of the file as a program.)  The access modes are chosen
when the file is opened, and never change.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_RDONLY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for read access. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_WRONLY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for write access. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_RDWR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for both reading and writing. 
</td></tr>
</table>

<p>In the GNU system (and not in other systems), <code>O_RDONLY</code> and
<code>O_WRONLY</code> are independent bits that can be bitwise-ORed together,
and it is valid for either bit to be set or clear.  This means that
<code>O_RDWR</code> is the same as <code>O_RDONLY|O_WRONLY</code>.  A file access
mode of zero is permissible; it allows no operations that do input or
output to the file, but does allow other operations such as
<code>fchmod</code>.  On the GNU system, since "read-only" or "write-only"
is a misnomer, <code>fcntl.h</code> defines additional names for the file
access modes.  These names are preferred when writing GNU-specific code. 
But most programs will want to be portable to other POSIX.1 systems and
should use the POSIX.1 names above instead.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_READ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for reading.  Same as <code>O_RDWR</code>; only defined on GNU. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_WRITE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for reading.  Same as <code>O_WRONLY</code>; only defined on GNU. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_EXEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Open the file for executing.  Only defined on GNU. 
</td></tr>
</table>

<p>To determine the file access mode with <code>fcntl</code>, you must extract
the access mode bits from the retrieved file status flags.  In the GNU
system, you can just test the <code>O_READ</code> and <code>O_WRITE</code> bits in
the flags word.  But in other POSIX.1 systems, reading and writing
access modes are not stored as distinct bit flags.  The portable way to
extract the file access mode bits is with <code>O_ACCMODE</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_ACCMODE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro stands for a mask that can be bitwise-ANDed with the file
status flag value to produce a value representing the file access mode. 
The mode will be <code>O_RDONLY</code>, <code>O_WRONLY</code>, or <code>O_RDWR</code>. 
(In the GNU system it could also be zero, and it never includes the
<code>O_EXEC</code> bit.) 
</td></tr>
</table>

<p><hr>
Node:<a name="Open-time%20Flags">Open-time Flags</a>,
Next:<a rel=next accesskey=n href="#Operating%20Modes">Operating Modes</a>,
Previous:<a rel=previous accesskey=p href="#Access%20Modes">Access Modes</a>,
Up:<a rel=up accesskey=u href="#File%20Status%20Flags">File Status Flags</a>
<br>

<h4>Open-time Flags</h4>

<p>The open-time flags specify options affecting how <code>open</code> will behave. 
These options are not preserved once the file is open.  The exception to
this is <code>O_NONBLOCK</code>, which is also an I/O operating mode and so it
<em>is</em> saved.  See <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>, for how to call
<code>open</code>.

<p>There are two sorts of options specified by open-time flags.

<ul>
<li><dfn>File name translation flags</dfn> affect how <code>open</code> looks up the
file name to locate the file, and whether the file can be created.

<li><dfn>Open-time action flags</dfn> specify extra operations that <code>open</code> will
perform on the file once it is open. 
</ul>

<p>Here are the file name translation flags.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_CREAT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If set, the file will be created if it doesn't already exist. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_EXCL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If both <code>O_CREAT</code> and <code>O_EXCL</code> are set, then <code>open</code> fails
if the specified file already exists.  This is guaranteed to never
clobber an existing file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NONBLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This prevents <code>open</code> from blocking for a "long time" to open the
file.  This is only meaningful for some kinds of files, usually devices
such as serial ports; when it is not meaningful, it is harmless and
ignored.  Often opening a port to a modem blocks until the modem reports
carrier detection; if <code>O_NONBLOCK</code> is specified, <code>open</code> will
return immediately without a carrier.

<p>Note that the <code>O_NONBLOCK</code> flag is overloaded as both an I/O operating
mode and a file name translation flag.  This means that specifying
<code>O_NONBLOCK</code> in <code>open</code> also sets nonblocking I/O mode;
see <a href="#Operating%20Modes">Operating Modes</a>.  To open the file without blocking but do normal
I/O that blocks, you must call <code>open</code> with <code>O_NONBLOCK</code> set and
then call <code>fcntl</code> to turn the bit off. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NOCTTY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the named file is a terminal device, don't make it the controlling
terminal for the process.  See <a href="#Job%20Control">Job Control</a>, for information about
what it means to be the controlling terminal.

<p>In the GNU system and 4.4 BSD, opening a file never makes it the
controlling terminal and <code>O_NOCTTY</code> is zero.  However, other
systems may use a nonzero value for <code>O_NOCTTY</code> and set the
controlling terminal when you open a file that is a terminal device; so
to be portable, use <code>O_NOCTTY</code> when it is important to avoid this. 
</td></tr>
</table>

<p>The following three file name translation flags exist only in the GNU system.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_IGNORE_CTTY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Do not recognize the named file as the controlling terminal, even if it
refers to the process's existing controlling terminal device.  Operations
on the new file descriptor will never induce job control signals. 
See <a href="#Job%20Control">Job Control</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NOLINK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the named file is a symbolic link, open the link itself instead of
the file it refers to.  (<code>fstat</code> on the new file descriptor will
return the information returned by <code>lstat</code> on the link's name.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NOTRANS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the named file is specially translated, do not invoke the translator. 
Open the bare file the translator itself sees. 
</td></tr>
</table>

<p>The open-time action flags tell <code>open</code> to do additional operations
which are not really related to opening the file.  The reason to do them
as part of <code>open</code> instead of in separate calls is that <code>open</code>
can do them <i>atomically</i>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_TRUNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Truncate the file to zero length.  This option is only useful for
regular files, not special files such as directories or FIFOs.  POSIX.1
requires that you open the file for writing to use <code>O_TRUNC</code>.  In
BSD and GNU you must have permission to write the file to truncate it,
but you need not open for write access.

<p>This is the only open-time action flag specified by POSIX.1.  There is
no good reason for truncation to be done by <code>open</code>, instead of by
calling <code>ftruncate</code> afterwards.  The <code>O_TRUNC</code> flag existed in
Unix before <code>ftruncate</code> was invented, and is retained for backward
compatibility. 
</td></tr>
</table>

<p>The remaining operating modes are BSD extensions.  They exist only
on some systems.  On other systems, these macros are not defined.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_SHLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Acquire a shared lock on the file, as with <code>flock</code>. 
See <a href="#File%20Locks">File Locks</a>.

<p>If <code>O_CREAT</code> is specified, the locking is done atomically when
creating the file.  You are guaranteed that no other process will get
the lock on the new file first. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_EXLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Acquire an exclusive lock on the file, as with <code>flock</code>. 
See <a href="#File%20Locks">File Locks</a>.  This is atomic like <code>O_SHLOCK</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Operating%20Modes">Operating Modes</a>,
Next:<a rel=next accesskey=n href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>,
Previous:<a rel=previous accesskey=p href="#Open-time%20Flags">Open-time Flags</a>,
Up:<a rel=up accesskey=u href="#File%20Status%20Flags">File Status Flags</a>
<br>

<h4>I/O Operating Modes</h4>

<p>The operating modes affect how input and output operations using a file
descriptor work.  These flags are set by <code>open</code> and can be fetched
and changed with <code>fcntl</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_APPEND</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The bit that enables append mode for the file.  If set, then all
<code>write</code> operations write the data at the end of the file, extending
it, regardless of the current file position.  This is the only reliable
way to append to a file.  In append mode, you are guaranteed that the
data you write will always go to the current end of the file, regardless
of other processes writing to the file.  Conversely, if you simply set
the file position to the end of file and write, then another process can
extend the file after you set the file position but before you write,
resulting in your data appearing someplace before the real end of file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NONBLOCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The bit that enables nonblocking mode for the file.  If this bit is set,
<code>read</code> requests on the file can return immediately with a failure
status if there is no input immediately available, instead of blocking. 
Likewise, <code>write</code> requests can also return immediately with a
failure status if the output can't be written immediately.

<p>Note that the <code>O_NONBLOCK</code> flag is overloaded as both an I/O
operating mode and a file name translation flag; see <a href="#Open-time%20Flags">Open-time Flags</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NDELAY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an obsolete name for <code>O_NONBLOCK</code>, provided for
compatibility with BSD.  It is not defined by the POSIX.1 standard. 
</td></tr>
</table>

<p>The remaining operating modes are BSD and GNU extensions.  They exist only
on some systems.  On other systems, these macros are not defined.

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_ASYNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The bit that enables asynchronous input mode.  If set, then <code>SIGIO</code>
signals will be generated when input is available.  See <a href="#Interrupt%20Input">Interrupt Input</a>.

<p>Asynchronous input mode is a BSD feature. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_FSYNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The bit that enables synchronous writing for the file.  If set, each
<code>write</code> call will make sure the data is reliably stored on disk before
returning. 
Synchronous writing is a BSD feature. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_SYNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is another name for <code>O_FSYNC</code>.  They have the same value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>O_NOATIME</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, <code>read</code> will not update the access time of the
file.  See <a href="#File%20Times">File Times</a>.  This is used by programs that do backups, so
that backing a file up does not count as reading it. 
Only the owner of the file or the superuser may use this bit.

<p>This is a GNU extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Getting%20File%20Status%20Flags">Getting File Status Flags</a>,
Previous:<a rel=previous accesskey=p href="#Operating%20Modes">Operating Modes</a>,
Up:<a rel=up accesskey=u href="#File%20Status%20Flags">File Status Flags</a>
<br>

<h4>Getting and Setting File Status Flags</h4>

<p>The <code>fcntl</code> function can fetch or change file status flags.

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_GETFL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
read the file status flags for the open file with descriptor
<var>filedes</var>.

<p>The normal return value from <code>fcntl</code> with this command is a
nonnegative number which can be interpreted as the bitwise OR of the
individual flags.  Since the file access modes are not single-bit values,
you can mask off other bits in the returned flags with <code>O_ACCMODE</code>
to compare them.

<p>In case of an error, <code>fcntl</code> returns -1.  The following
<code>errno</code> error conditions are defined for this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is invalid. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_SETFL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to set
the file status flags for the open file corresponding to the
<var>filedes</var> argument.  This command requires a third <code>int</code>
argument to specify the new flags, so the call looks like this:

<br><pre>fcntl (<var>filedes</var>, F_SETFL, <var>new-flags</var>)
</pre>

<p>You can't change the access mode for the file in this way; that is,
whether the file descriptor was opened for reading or writing.

<p>The normal return value from <code>fcntl</code> with this command is an
unspecified value other than -1, which indicates an error.  The
error conditions are the same as for the <code>F_GETFL</code> command. 
</td></tr>
</table>

<p>If you want to modify the file status flags, you should get the current
flags with <code>F_GETFL</code> and modify the value.  Don't assume that the
flags listed here are the only ones that are implemented; your program
may be run years from now and more flags may exist then.  For example,
here is a function to set or clear the flag <code>O_NONBLOCK</code> without
altering any other flags:

<br><pre>/* Set the <code>O_NONBLOCK</code> flag of <var>desc</var> if <var>value</var> is nonzero,
   or clear the flag if <var>value</var> is 0.
   Return 0 on success, or -1 on error with <code>errno</code> set. */

int
set_nonblock_flag (int desc, int value)
{
  int oldflags = fcntl (desc, F_GETFL, 0);
  /* If reading the flags failed, return error indication now. */
  if (oldflags == -1)
    return -1;
  /* Set just the flag we want to set. */
  if (value != 0)
    oldflags |= O_NONBLOCK;
  else
    oldflags &amp;= ~O_NONBLOCK;
  /* Store modified flag word in the descriptor. */
  return fcntl (desc, F_SETFL, oldflags);
}
</pre>

<p><hr>
Node:<a name="File%20Locks">File Locks</a>,
Next:<a rel=next accesskey=n href="#Interrupt%20Input">Interrupt Input</a>,
Previous:<a rel=previous accesskey=p href="#File%20Status%20Flags">File Status Flags</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>File Locks</h3>

<p>The remaining <code>fcntl</code> commands are used to support <dfn>record
locking</dfn>, which permits multiple cooperating programs to prevent each
other from simultaneously accessing parts of a file in error-prone
ways.

<p>An <dfn>exclusive</dfn> or <dfn>write</dfn> lock gives a process exclusive access
for writing to the specified part of the file.  While a write lock is in
place, no other process can lock that part of the file.

<p>A <dfn>shared</dfn> or <dfn>read</dfn> lock prohibits any other process from
requesting a write lock on the specified part of the file.  However,
other processes can request read locks.

<p>The <code>read</code> and <code>write</code> functions do not actually check to see
whether there are any locks in place.  If you want to implement a
locking protocol for a file shared by multiple processes, your application
must do explicit <code>fcntl</code> calls to request and clear locks at the
appropriate points.

<p>Locks are associated with processes.  A process can only have one kind
of lock set for each byte of a given file.  When any file descriptor for
that file is closed by the process, all of the locks that process holds
on that file are released, even if the locks were made using other
descriptors that remain open.  Likewise, locks are released when a
process exits, and are not inherited by child processes created using
<code>fork</code> (see <a href="#Creating%20a%20Process">Creating a Process</a>).

<p>When making a lock, use a <code>struct flock</code> to specify what kind of
lock and where.  This data type and the associated macros for the
<code>fcntl</code> function are declared in the header file <code>fcntl.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct flock</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used with the <code>fcntl</code> function to describe a file
lock.  It has these members:

<dl>
<dt><code>short int l_type</code>
<dd>Specifies the type of the lock; one of <code>F_RDLCK</code>, <code>F_WRLCK</code>, or
<code>F_UNLCK</code>.

<br><dt><code>short int l_whence</code>
<dd>This corresponds to the <var>whence</var> argument to <code>fseek</code> or
<code>lseek</code>, and specifies what the offset is relative to.  Its value
can be one of <code>SEEK_SET</code>, <code>SEEK_CUR</code>, or <code>SEEK_END</code>.

<br><dt><code>off_t l_start</code>
<dd>This specifies the offset of the start of the region to which the lock
applies, and is given in bytes relative to the point specified by
<code>l_whence</code> member.

<br><dt><code>off_t l_len</code>
<dd>This specifies the length of the region to be locked.  A value of
<code>0</code> is treated specially; it means the region extends to the end of
the file.

<br><dt><code>pid_t l_pid</code>
<dd>This field is the process ID (see <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>) of the
process holding the lock.  It is filled in by calling <code>fcntl</code> with
the <code>F_GETLK</code> command, but is ignored when making a lock. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_GETLK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should get information about a lock.  This command
requires a third argument of type <code>struct&nbsp;flock&nbsp;*</code> to be passed
to <code>fcntl</code>, so that the form of the call is:

<br><pre>fcntl (<var>filedes</var>, F_GETLK, <var>lockp</var>)
</pre>

<p>If there is a lock already in place that would block the lock described
by the <var>lockp</var> argument, information about that lock overwrites
<code>*<var>lockp</var></code>.  Existing locks are not reported if they are
compatible with making a new lock as specified.  Thus, you should
specify a lock type of <code>F_WRLCK</code> if you want to find out about both
read and write locks, or <code>F_RDLCK</code> if you want to find out about
write locks only.

<p>There might be more than one lock affecting the region specified by the
<var>lockp</var> argument, but <code>fcntl</code> only returns information about
one of them.  The <code>l_whence</code> member of the <var>lockp</var> structure is
set to <code>SEEK_SET</code> and the <code>l_start</code> and <code>l_len</code> fields
set to identify the locked region.

<p>If no lock applies, the only change to the <var>lockp</var> structure is to
update the <code>l_type</code> to a value of <code>F_UNLCK</code>.

<p>The normal return value from <code>fcntl</code> with this command is an
unspecified value other than -1, which is reserved to indicate an
error.  The following <code>errno</code> error conditions are defined for
this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is invalid.

<br><dt><code>EINVAL</code>
<dd>Either the <var>lockp</var> argument doesn't specify valid lock information,
or the file associated with <var>filedes</var> doesn't support locks. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_SETLK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should set or clear a lock.  This command requires a
third argument of type <code>struct&nbsp;flock&nbsp;*</code> to be passed to
<code>fcntl</code>, so that the form of the call is:

<br><pre>fcntl (<var>filedes</var>, F_SETLK, <var>lockp</var>)
</pre>

<p>If the process already has a lock on any part of the region, the old lock
on that part is replaced with the new lock.  You can remove a lock
by specifying a lock type of <code>F_UNLCK</code>.

<p>If the lock cannot be set, <code>fcntl</code> returns immediately with a value
of -1.  This function does not block waiting for other processes
to release locks.  If <code>fcntl</code> succeeds, it return a value other
than -1.

<p>The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EAGAIN</code>
<dt><code>EACCES</code>
<dd>The lock cannot be set because it is blocked by an existing lock on the
file.  Some systems use <code>EAGAIN</code> in this case, and other systems
use <code>EACCES</code>; your program should treat them alike, after
<code>F_SETLK</code>.  (The GNU system always uses <code>EAGAIN</code>.)

<br><dt><code>EBADF</code>
<dd>Either: the <var>filedes</var> argument is invalid; you requested a read lock
but the <var>filedes</var> is not open for read access; or, you requested a
write lock but the <var>filedes</var> is not open for write access.

<br><dt><code>EINVAL</code>
<dd>Either the <var>lockp</var> argument doesn't specify valid lock information,
or the file associated with <var>filedes</var> doesn't support locks.

<br><dt><code>ENOLCK</code>
<dd>The system has run out of file lock resources; there are already too
many file locks in place.

<p>Well-designed file systems never report this error, because they have no
limitation on the number of locks.  However, you must still take account
of the possibility of this error, as it could result from network access
to a file system on another machine. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_SETLKW</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should set or clear a lock.  It is just like the
<code>F_SETLK</code> command, but causes the process to block (or wait)
until the request can be specified.

<p>This command requires a third argument of type <code>struct flock *</code>, as
for the <code>F_SETLK</code> command.

<p>The <code>fcntl</code> return values and errors are the same as for the
<code>F_SETLK</code> command, but these additional <code>errno</code> error conditions
are defined for this command:

<dl>
<dt><code>EINTR</code>
<dd>The function was interrupted by a signal while it was waiting. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>EDEADLK</code>
<dd>The specified region is being locked by another process.  But that
process is waiting to lock a region which the current process has
locked, so waiting for the lock would result in deadlock.  The system
does not guarantee that it will detect all such conditions, but it lets
you know if it notices one. 
</dl>
</td></tr>
</table>

<p>The following macros are defined for use as values for the <code>l_type</code>
member of the <code>flock</code> structure.  The values are integer constants.

<dl>
<dt><code>F_RDLCK</code>
<dd>This macro is used to specify a read (or shared) lock.

<br><dt><code>F_WRLCK</code>
<dd>This macro is used to specify a write (or exclusive) lock.

<br><dt><code>F_UNLCK</code>
<dd>This macro is used to specify that the region is unlocked. 
</dl>

<p>As an example of a situation where file locking is useful, consider a
program that can be run simultaneously by several different users, that
logs status information to a common file.  One example of such a program
might be a game that uses a file to keep track of high scores.  Another
example might be a program that records usage or accounting information
for billing purposes.

<p>Having multiple copies of the program simultaneously writing to the
file could cause the contents of the file to become mixed up.  But
you can prevent this kind of problem by setting a write lock on the
file before actually writing to the file.

<p>If the program also needs to read the file and wants to make sure that
the contents of the file are in a consistent state, then it can also use
a read lock.  While the read lock is set, no other process can lock
that part of the file for writing.

<p>Remember that file locks are only a <em>voluntary</em> protocol for
controlling access to a file.  There is still potential for access to
the file by programs that don't use the lock protocol.

<p><hr>
Node:<a name="Interrupt%20Input">Interrupt Input</a>,
Next:<a rel=next accesskey=n href="#IOCTLs">IOCTLs</a>,
Previous:<a rel=previous accesskey=p href="#File%20Locks">File Locks</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Interrupt-Driven Input</h3>

<p>If you set the <code>O_ASYNC</code> status flag on a file descriptor
(see <a href="#File%20Status%20Flags">File Status Flags</a>), a <code>SIGIO</code> signal is sent whenever
input or output becomes possible on that file descriptor.  The process
or process group to receive the signal can be selected by using the
<code>F_SETOWN</code> command to the <code>fcntl</code> function.  If the file
descriptor is a socket, this also selects the recipient of <code>SIGURG</code>
signals that are delivered when out-of-band data arrives on that socket;
see <a href="#Out-of-Band%20Data">Out-of-Band Data</a>.  (<code>SIGURG</code> is sent in any situation
where <code>select</code> would report the socket as having an "exceptional
condition".  See <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.)

<p>If the file descriptor corresponds to a terminal device, then <code>SIGIO</code>
signals are sent to the foreground process group of the terminal. 
See <a href="#Job%20Control">Job Control</a>.

<p>The symbols in this section are defined in the header file
<code>fcntl.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_GETOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should get information about the process or process
group to which <code>SIGIO</code> signals are sent.  (For a terminal, this is
actually the foreground process group ID, which you can get using
<code>tcgetpgrp</code>; see <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>.)

<p>The return value is interpreted as a process ID; if negative, its
absolute value is the process group ID.

<p>The following <code>errno</code> error condition is defined for this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is invalid. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_SETOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used as the <var>command</var> argument to <code>fcntl</code>, to
specify that it should set the process or process group to which
<code>SIGIO</code> signals are sent.  This command requires a third argument
of type <code>pid_t</code> to be passed to <code>fcntl</code>, so that the form of
the call is:

<br><pre>fcntl (<var>filedes</var>, F_SETOWN, <var>pid</var>)
</pre>

<p>The <var>pid</var> argument should be a process ID.  You can also pass a
negative number whose absolute value is a process group ID.

<p>The return value from <code>fcntl</code> with this command is -1
in case of error and some other value if successful.  The following
<code>errno</code> error conditions are defined for this command:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is invalid.

<br><dt><code>ESRCH</code>
<dd>There is no process or process group corresponding to <var>pid</var>. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="IOCTLs">IOCTLs</a>,
Previous:<a rel=previous accesskey=p href="#Interrupt%20Input">Interrupt Input</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20I%2fO">Low-Level I/O</a>
<br>

<h3>Generic I/O Control operations</h3>

<p>The GNU system can handle most input/output operations on many different
devices and objects in terms of a few file primitives - <code>read</code>,
<code>write</code> and <code>lseek</code>.  However, most devices also have a few
peculiar operations which do not fit into this model. Such as:

<ul>

<li>Changing the character font used on a terminal.

<li>Telling a magnetic tape system to rewind or fast forward.  (Since they
cannot move in byte increments, <code>lseek</code> is inapplicable).

<li>Ejecting a disk from a drive.

<li>Playing an audio track from a CD-ROM drive.

<li>Maintaining routing tables for a network.

</ul>

<p>Although some such objects such as sockets and terminals
<a rel=footnote href="#fn-2"><sup>2</sup></a> have special functions of their own, it would
not be practical to create functions for all these cases.

<p>Instead these minor operations, known as <dfn>IOCTL</dfn>s, are assigned code
numbers and multiplexed through the <code>ioctl</code> function, defined in
<code>sys/ioctl.h</code>.  The code numbers themselves are defined in many
different headers.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ioctl</b><i> (int <var>filedes</var>, int <var>command</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>ioctl</code> function performs the generic I/O operation
<var>command</var> on <var>filedes</var>.

<p>A third argument is usually present, either a single number or a pointer
to a structure.  The meaning of this argument, the returned value, and
any error codes depends upon the command used.  Often -1 is
returned for a failure.

</td></tr>
</table>

<p>On some systems, IOCTLs used by different devices share the same numbers. 
Thus, although use of an inappropriate IOCTL <em>usually</em> only produces
an error, you should not attempt to use device-specific IOCTLs on an
unknown device.

<p>Most IOCTLs are OS-specific and/or only used in special system utilities,
and are thus beyond the scope of this document.  For an example of the use
of an IOCTL, see <a href="#Out-of-Band%20Data">Out-of-Band Data</a>.

<p><hr>
Node:<a name="File%20System%20Interface">File System Interface</a>,
Next:<a rel=next accesskey=n href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>,
Previous:<a rel=previous accesskey=p href="#Low-Level%20I%2fO">Low-Level I/O</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>File System Interface</h2>

<p>This chapter describes the GNU C library's functions for manipulating
files.  Unlike the input and output functions (see <a href="#I%2fO%20on%20Streams">I/O on Streams</a>;
see <a href="#Low-Level%20I%2fO">Low-Level I/O</a>), these functions are concerned with operating
on the files themselves rather than on their contents.

<p>Among the facilities described in this chapter are functions for
examining or modifying directories, functions for renaming and deleting
files, and functions for examining and setting file attributes such as
access permissions and modification times.

<ul>
<li><a accesskey=1 href="#Working%20Directory">Working Directory</a>:            This is used to resolve relative
				 file names. 
<li><a accesskey=2 href="#Accessing%20Directories">Accessing Directories</a>:        Finding out what files a directory
				 contains. 
<li><a accesskey=3 href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>:  Apply actions to all files or a selectable
                                 subset of a directory hierarchy. 
<li><a accesskey=4 href="#Hard%20Links">Hard Links</a>:                   Adding alternate names to a file. 
<li><a accesskey=5 href="#Symbolic%20Links">Symbolic Links</a>:               A file that ``points to'' a file name. 
<li><a accesskey=6 href="#Deleting%20Files">Deleting Files</a>:               How to delete a file, and what that means. 
<li><a accesskey=7 href="#Renaming%20Files">Renaming Files</a>:               Changing a file's name. 
<li><a accesskey=8 href="#Creating%20Directories">Creating Directories</a>:         A system call just for creating a directory. 
<li><a accesskey=9 href="#File%20Attributes">File Attributes</a>:              Attributes of individual files. 
<li><a href="#Making%20Special%20Files">Making Special Files</a>:         How to create special files. 
<li><a href="#Temporary%20Files">Temporary Files</a>:              Naming and creating temporary files. 
</ul>

<p><hr>
Node:<a name="Working%20Directory">Working Directory</a>,
Next:<a rel=next accesskey=n href="#Accessing%20Directories">Accessing Directories</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Working Directory</h3>

<p>Each process has associated with it a directory, called its <dfn>current
working directory</dfn> or simply <dfn>working directory</dfn>, that is used in
the resolution of relative file names (see <a href="#File%20Name%20Resolution">File Name Resolution</a>).

<p>When you log in and begin a new session, your working directory is
initially set to the home directory associated with your login account
in the system user database.  You can find any user's home directory
using the <code>getpwuid</code> or <code>getpwnam</code> functions; see <a href="#User%20Database">User Database</a>.

<p>Users can change the working directory using shell commands like
<code>cd</code>.  The functions described in this section are the primitives
used by those commands and by other programs for examining and changing
the working directory.

<p>Prototypes for these functions are declared in the header file
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getcwd</b><i> (char *<var>buffer</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getcwd</code> function returns an absolute file name representing
the current working directory, storing it in the character array
<var>buffer</var> that you provide.  The <var>size</var> argument is how you tell
the system the allocation size of <var>buffer</var>.

<p>The GNU library version of this function also permits you to specify a
null pointer for the <var>buffer</var> argument.  Then <code>getcwd</code>
allocates a buffer automatically, as with <code>malloc</code>
(see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>).  If the <var>size</var> is greater than
zero, then the buffer is that large; otherwise, the buffer is as large
as necessary to hold the result.

<p>The return value is <var>buffer</var> on success and a null pointer on failure. 
The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>size</var> argument is zero and <var>buffer</var> is not a null pointer.

<br><dt><code>ERANGE</code>
<dd>The <var>size</var> argument is less than the length of the working directory
name.  You need to allocate a bigger array and try again.

<br><dt><code>EACCES</code>
<dd>Permission to read or search a component of the file name was denied. 
</dl>
</td></tr>
</table>

<p>You could implement the behavior of GNU's <code>getcwd&nbsp;(NULL,&nbsp;0)</code>
using only the standard behavior of <code>getcwd</code>:

<br><pre>char *
gnu_getcwd ()
{
  size_t size = 100;

  while (1)
    {
      char *buffer = (char *) xmalloc (size);
      if (getcwd (buffer, size) == buffer)
        return buffer;
      free (buffer);
      if (errno != ERANGE)
        return 0;
      size *= 2;
    }
}
</pre>

<p>See <a href="#Malloc%20Examples">Malloc Examples</a>, for information about <code>xmalloc</code>, which is
not a library function but is a customary name used in most GNU
software.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getwd</b><i> (char *<var>buffer</var>)
</i></td>
<td align="right">Deprecated Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>getcwd</code>, but has no way to specify the size of
the buffer.  The GNU library provides <code>getwd</code> only
for backwards compatibility with BSD.

<p>The <var>buffer</var> argument should be a pointer to an array at least
<code>PATH_MAX</code> bytes long (see <a href="#Limits%20for%20Files">Limits for Files</a>).  In the GNU
system there is no limit to the size of a file name, so this is not
necessarily enough space to contain the directory name.  That is why
this function is deprecated. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>get_current_dir_name</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This <code>get_current_dir_name</code> function is bascially equivalent to
<code>getcwd&nbsp;(NULL,&nbsp;0)</code>.  The only difference is that the value of
the <code>PWD</code> variable is returned if this value is correct.  This is a
subtle difference which is visible if the path described by the
<code>PWD</code> value is using one or more symbol links in which case the
value returned by <code>getcwd</code> can resolve the symbol links and
therefore yield a different result.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>chdir</b><i> (const char *<var>filename</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to set the process's working directory to
<var>filename</var>.

<p>The normal, successful return value from <code>chdir</code> is <code>0</code>.  A
value of <code>-1</code> is returned to indicate an error.  The <code>errno</code>
error conditions defined for this function are the usual file name
syntax errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), plus <code>ENOTDIR</code> if the
file <var>filename</var> is not a directory. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fchdir</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to set the process's working directory to
directory associated with the file descriptor <var>filedes</var>.

<p>The normal, successful return value from <code>fchdir</code> is <code>0</code>.  A
value of <code>-1</code> is returned to indicate an error.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>Read permission is denied for the directory named by <code>dirname</code>.

<br><dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOTDIR</code>
<dd>The file descriptor <var>filedes</var> is not associated with a directory.

<br><dt><code>EINTR</code>
<dd>The function call was interrupt by a signal.

<br><dt><code>EIO</code>
<dd>An I/O error occurred. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Accessing%20Directories">Accessing Directories</a>,
Next:<a rel=next accesskey=n href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>,
Previous:<a rel=previous accesskey=p href="#Working%20Directory">Working Directory</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Accessing Directories</h3>

<p>The facilities described in this section let you read the contents of a
directory file.  This is useful if you want your program to list all the
files in a directory, perhaps as part of a menu.

<p>The <code>opendir</code> function opens a <dfn>directory stream</dfn> whose
elements are directory entries.  You use the <code>readdir</code> function on
the directory stream to retrieve these entries, represented as
<code>struct&nbsp;dirent</code> objects.  The name of the file for each entry is
stored in the <code>d_name</code> member of this structure.  There are obvious
parallels here to the stream facilities for ordinary files, described in
<a href="#I%2fO%20on%20Streams">I/O on Streams</a>.

<ul>
<li><a accesskey=1 href="#Directory%20Entries">Directory Entries</a>:            Format of one directory entry. 
<li><a accesskey=2 href="#Opening%20a%20Directory">Opening a Directory</a>:          How to open a directory stream. 
<li><a accesskey=3 href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>:    How to read directory entries from the stream. 
<li><a accesskey=4 href="#Simple%20Directory%20Lister">Simple Directory Lister</a>:      A very simple directory listing program. 
<li><a accesskey=5 href="#Random%20Access%20Directory">Random Access Directory</a>:      Rereading part of the directory
                                 already read with the same stream. 
<li><a accesskey=6 href="#Scanning%20Directory%20Content">Scanning Directory Content</a>:   Get entries for user selected subset of
                                 contents in given directory. 
<li><a accesskey=7 href="#Simple%20Directory%20Lister%20Mark%20II">Simple Directory Lister Mark II</a>:   Revised version of the program. 
</ul>

<p><hr>
Node:<a name="Directory%20Entries">Directory Entries</a>,
Next:<a rel=next accesskey=n href="#Opening%20a%20Directory">Opening a Directory</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Format of a Directory Entry</h4>

<p>This section describes what you find in a single directory entry, as you
might obtain it from a directory stream.  All the symbols are declared
in the header file <code>dirent.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct dirent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to return information about directory
entries.  It contains the following fields:

<dl>
<dt><code>char d_name[]</code>
<dd>This is the null-terminated file name component.  This is the only
field you can count on in all POSIX systems.

<br><dt><code>ino_t d_fileno</code>
<dd>This is the file serial number.  For BSD compatibility, you can also
refer to this member as <code>d_ino</code>.  In the GNU system and most POSIX
systems, for most files this the same as the <code>st_ino</code> member that
<code>stat</code> will return for the file.  See <a href="#File%20Attributes">File Attributes</a>.

<br><dt><code>unsigned char d_namlen</code>
<dd>This is the length of the file name, not including the terminating null
character.  Its type is <code>unsigned char</code> because that is the integer
type of the appropriate size

<br><dt><code>unsigned char d_type</code>
<dd>This is the type of the file, possibly unknown.  The following constants
are defined for its value:

<dl>
<dt><code>DT_UNKNOWN</code>
<dd>The type is unknown.  On some systems this is the only value returned.

<br><dt><code>DT_REG</code>
<dd>A regular file.

<br><dt><code>DT_DIR</code>
<dd>A directory.

<br><dt><code>DT_FIFO</code>
<dd>A named pipe, or FIFO.  See <a href="#FIFO%20Special%20Files">FIFO Special Files</a>.

<br><dt><code>DT_SOCK</code>
<dd>A local-domain socket.  
<br><dt><code>DT_CHR</code>
<dd>A character device.

<br><dt><code>DT_BLK</code>
<dd>A block device. 
</dl>

<p>This member is a BSD extension.  The symbol <code>_DIRENT_HAVE_D_TYPE</code>
is defined if this member is available.  On systems where it is used, it
corresponds to the file type bits in the <code>st_mode</code> member of
<code>struct statbuf</code>.  If the value cannot be determine the member
value is DT_UNKNOWN.  These two macros convert between <code>d_type</code>
values and <code>st_mode</code> values:

<p>
<table width="100%">
<tr>
<td align="left">int <b>IFTODT</b><i> (mode_t <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the <code>d_type</code> value corresponding to <var>mode</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">mode_t <b>DTTOIF</b><i> (int <var>dtype</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This returns the <code>st_mode</code> value corresponding to <var>dtype</var>. 
</td></tr>
</table>
</dl>

<p>This structure may contain additional members in the future.  Their
availability is always announced in the compilation environment by a
macro names <code>_DIRENT_HAVE_D_<var>xxx</var></code> where <var>xxx</var> is replaced
by the name of the new member.  For instance, the member <code>d_reclen</code>
available on some systems is announced through the macro
<code>_DIRENT_HAVE_D_RECLEN</code>.

<p>When a file has multiple names, each name has its own directory entry. 
The only way you can tell that the directory entries belong to a
single file is that they have the same value for the <code>d_fileno</code>
field.

<p>File attributes such as size, modification times etc., are part of the
file itself, not of any particular directory entry.  See <a href="#File%20Attributes">File Attributes</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Opening%20a%20Directory">Opening a Directory</a>,
Next:<a rel=next accesskey=n href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>,
Previous:<a rel=previous accesskey=p href="#Directory%20Entries">Directory Entries</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Opening a Directory Stream</h4>

<p>This section describes how to open a directory stream.  All the symbols
are declared in the header file <code>dirent.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>DIR</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>DIR</code> data type represents a directory stream. 
</td></tr>
</table>

<p>You shouldn't ever allocate objects of the <code>struct dirent</code> or
<code>DIR</code> data types, since the directory access functions do that for
you.  Instead, you refer to these objects using the pointers returned by
the following functions.

<p>
<table width="100%">
<tr>
<td align="left">DIR * <b>opendir</b><i> (const char *<var>dirname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>opendir</code> function opens and returns a directory stream for
reading the directory whose file name is <var>dirname</var>.  The stream has
type <code>DIR *</code>.

<p>If unsuccessful, <code>opendir</code> returns a null pointer.  In addition to
the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>Read permission is denied for the directory named by <code>dirname</code>.

<br><dt><code>EMFILE</code>
<dd>The process has too many files open.

<br><dt><code>ENFILE</code>
<dd>The entire system, or perhaps the file system which contains the
directory, cannot support any additional open files at the moment. 
(This problem cannot happen on the GNU system.) 
</dl>

<p>The <code>DIR</code> type is typically implemented using a file descriptor,
and the <code>opendir</code> function in terms of the <code>open</code> function. 
See <a href="#Low-Level%20I%2fO">Low-Level I/O</a>.  Directory streams and the underlying
file descriptors are closed on <code>exec</code> (see <a href="#Executing%20a%20File">Executing a File</a>). 
</td></tr>
</table>

<p>In some situations it can be desirable to get hold of the file
descriptor which is created by the <code>opendir</code> call.  For instance,
to switch the current working directory to the directory just read the
<code>fchdir</code> function could be used.  Historically the <code>DIR</code> type
was exposed and programs could access the fields.  This does not happen
in the GNU C library.  Instead a separate function is provided to allow
access.

<p>
<table width="100%">
<tr>
<td align="left">int <b>dirfd</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>dirfd</code> returns the file descriptor associated with
the directory stream <var>dirstream</var>.  This descriptor can be used until
the directory is closed with <code>closedir</code>.  If the directory stream
implementation is not using file descriptors the return value is
<code>-1</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Reading%2fClosing%20Directory">Reading/Closing Directory</a>,
Next:<a rel=next accesskey=n href="#Simple%20Directory%20Lister">Simple Directory Lister</a>,
Previous:<a rel=previous accesskey=p href="#Opening%20a%20Directory">Opening a Directory</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Reading and Closing a Directory Stream</h4>

<p>This section describes how to read directory entries from a directory
stream, and how to close the stream when you are done with it.  All the
symbols are declared in the header file <code>dirent.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">struct dirent * <b>readdir</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads the next entry from the directory.  It normally
returns a pointer to a structure containing information about the file. 
This structure is statically allocated and can be rewritten by a
subsequent call.

<p><strong>Portability Note:</strong> On some systems <code>readdir</code> may not
return entries for <code>.</code> and <code>..</code>, even though these are always
valid file names in any directory.  See <a href="#File%20Name%20Resolution">File Name Resolution</a>.

<p>If there are no more entries in the directory or an error is detected,
<code>readdir</code> returns a null pointer.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>dirstream</var> argument is not valid. 
</dl>

<p><code>readdir</code> is not thread safe.  Multiple threads using
<code>readdir</code> on the same <var>dirstream</var> may overwrite the return
value.  Use <code>readdir_r</code> when this is critical. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>readdir_r</b><i> (DIR *<var>dirstream</var>, struct dirent *<var>entry</var>, struct dirent **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the reentrant version of <code>readdir</code>.  Like
<code>readdir</code> it returns the next entry from the directory.  But to
prevent conflicts between simultaneously running threads the result is
not stored in statically allocated memory.  Instead the argument
<var>entry</var> points to a place to store the result.

<p>The return value is <code>0</code> in case the next entry was read
successfully.  In this case a pointer to the result is returned in
*<var>result</var>.  It is not required that *<var>result</var> is the same as
<var>entry</var>.  If something goes wrong while executing <code>readdir_r</code>
the function returns a value indicating the error (as described for
<code>readdir</code>).

<p>If there are no more directory entries, <code>readdir_r</code>'s return value is
<code>0</code>, and *<var>result</var> is set to <code>NULL</code>.

<p><strong>Portability Note:</strong> On some systems <code>readdir_r</code> may not
return a NUL terminated string for the file name, even when there is no
<code>d_reclen</code> field in <code>struct dirent</code> and the file
name is the maximum allowed size.  Modern systems all have the
<code>d_reclen</code> field, and on old systems multi-threading is not
critical.  In any case there is no such problem with the <code>readdir</code>
function, so that even on systems without the <code>d_reclen</code> member one
could use multiple threads by using external locking.

<p>It is also important to look at the definition of the <code>struct
dirent</code> type.  Simply passing a pointer to an object of this type for
the second parameter of <code>readdir_r</code> might not be enough.  Some
systems don't define the <code>d_name</code> element sufficiently long.  In
this case the user has to provide additional space.  There must be room
for at least <code>NAME_MAX + 1</code> characters in the <code>d_name</code> array. 
Code to call <code>readdir_r</code> could look like this:

<br><pre>  union
  {
    struct dirent d;
    char b[offsetof (struct dirent, d_name) + NAME_MAX + 1];
  } u;

  if (readdir_r (dir, &amp;u.d, &amp;res) == 0)
    ...
</pre>
</td></tr>
</table>

<p>To support large filesystems on 32-bit machines there are LFS variants
of the last two functions.

<p>
<table width="100%">
<tr>
<td align="left">struct dirent64 * <b>readdir64</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>readdir64</code> function is just like the <code>readdir</code> function
except that it returns a pointer to a record of type <code>struct
dirent64</code>.  Some of the members of this data type (notably <code>d_ino</code>)
might have a different size to allow large filesystems.

<p>In all other aspects this function is equivalent to <code>readdir</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>readdir64_r</b><i> (DIR *<var>dirstream</var>, struct dirent64 *<var>entry</var>, struct dirent64 **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>readdir64_r</code> function is equivalent to the <code>readdir_r</code>
function except that it takes parameters of base type <code>struct
dirent64</code> instead of <code>struct dirent</code> in the second and third
position.  The same precautions mentioned in the documentation of
<code>readdir_r</code> also apply here. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>closedir</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the directory stream <var>dirstream</var>.  It returns
<code>0</code> on success and <code>-1</code> on failure.

<p>The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>dirstream</var> argument is not valid. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Simple%20Directory%20Lister">Simple Directory Lister</a>,
Next:<a rel=next accesskey=n href="#Random%20Access%20Directory">Random Access Directory</a>,
Previous:<a rel=previous accesskey=p href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Simple Program to List a Directory</h4>

<p>Here's a simple program that prints the names of the files in
the current working directory:

<br><pre>

#include &lt;stddef.h&gt;
#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;dirent.h&gt;

int
main (void)
{
  DIR *dp;
  struct dirent *ep;

  dp = opendir ("./");
  if (dp != NULL)
    {
      while (ep = readdir (dp))
        puts (ep-&gt;d_name);
      (void) closedir (dp);
    }
  else
    perror ("Couldn't open the directory");

  return 0;
}
</pre>

<p>The order in which files appear in a directory tends to be fairly
random.  A more useful program would sort the entries (perhaps by
alphabetizing them) before printing them; see
<a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>, and <a href="#Array%20Sort%20Function">Array Sort Function</a>.

<p><hr>
Node:<a name="Random%20Access%20Directory">Random Access Directory</a>,
Next:<a rel=next accesskey=n href="#Scanning%20Directory%20Content">Scanning Directory Content</a>,
Previous:<a rel=previous accesskey=p href="#Simple%20Directory%20Lister">Simple Directory Lister</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Random Access in a Directory Stream</h4>

<p>This section describes how to reread parts of a directory that you have
already read from an open directory stream.  All the symbols are
declared in the header file <code>dirent.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>rewinddir</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rewinddir</code> function is used to reinitialize the directory
stream <var>dirstream</var>, so that if you call <code>readdir</code> it
returns information about the first entry in the directory again.  This
function also notices if files have been added or removed to the
directory since it was opened with <code>opendir</code>.  (Entries for these
files might or might not be returned by <code>readdir</code> if they were
added or removed since you last called <code>opendir</code> or
<code>rewinddir</code>.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">off_t <b>telldir</b><i> (DIR *<var>dirstream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>telldir</code> function returns the file position of the directory
stream <var>dirstream</var>.  You can use this value with <code>seekdir</code> to
restore the directory stream to that position. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>seekdir</b><i> (DIR *<var>dirstream</var>, off_t <var>pos</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>seekdir</code> function sets the file position of the directory
stream <var>dirstream</var> to <var>pos</var>.  The value <var>pos</var> must be the
result of a previous call to <code>telldir</code> on this particular stream;
closing and reopening the directory can invalidate values returned by
<code>telldir</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Scanning%20Directory%20Content">Scanning Directory Content</a>,
Next:<a rel=next accesskey=n href="#Simple%20Directory%20Lister%20Mark%20II">Simple Directory Lister Mark II</a>,
Previous:<a rel=previous accesskey=p href="#Random%20Access%20Directory">Random Access Directory</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Scanning the Content of a Directory</h4>

<p>A higher-level interface to the directory handling functions is the
<code>scandir</code> function.  With its help one can select a subset of the
entries in a directory, possibly sort them and get a list of names as
the result.

<p>
<table width="100%">
<tr>
<td align="left">int <b>scandir</b><i> (const char *<var>dir</var>, struct dirent ***<var>namelist</var>, int (*<var>selector</var>) (const struct dirent *), int (*<var>cmp</var>) (const void *, const void *))
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>scandir</code> function scans the contents of the directory selected
by <var>dir</var>.  The result in *<var>namelist</var> is an array of pointers to
structure of type <code>struct dirent</code> which describe all selected
directory entries and which is allocated using <code>malloc</code>.  Instead
of always getting all directory entries returned, the user supplied
function <var>selector</var> can be used to decide which entries are in the
result.  Only the entries for which <var>selector</var> returns a non-zero
value are selected.

<p>Finally the entries in *<var>namelist</var> are sorted using the
user-supplied function <var>cmp</var>.  The arguments passed to the <var>cmp</var>
function are of type <code>struct dirent **</code>, therefore one cannot
directly use the <code>strcmp</code> or <code>strcoll</code> functions; instead see
the functions <code>alphasort</code> and <code>versionsort</code> below.

<p>The return value of the function is the number of entries placed in
*<var>namelist</var>.  If it is <code>-1</code> an error occurred (either the
directory could not be opened for reading or the malloc call failed) and
the global variable <code>errno</code> contains more information on the error. 
</td></tr>
</table>

<p>As described above the fourth argument to the <code>scandir</code> function
must be a pointer to a sorting function.  For the convenience of the
programmer the GNU C library contains implementations of functions which
are very helpful for this purpose.

<p>
<table width="100%">
<tr>
<td align="left">int <b>alphasort</b><i> (const void *<var>a</var>, const void *<var>b</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>alphasort</code> function behaves like the <code>strcoll</code> function
(see <a href="#String%2fArray%20Comparison">String/Array Comparison</a>).  The difference is that the arguments
are not string pointers but instead they are of type
<code>struct dirent **</code>.

<p>The return value of <code>alphasort</code> is less than, equal to, or greater
than zero depending on the order of the two entries <var>a</var> and <var>b</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>versionsort</b><i> (const void *<var>a</var>, const void *<var>b</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>versionsort</code> function is like <code>alphasort</code> except that it
uses the <code>strverscmp</code> function internally. 
</td></tr>
</table>

<p>If the filesystem supports large files we cannot use the <code>scandir</code>
anymore since the <code>dirent</code> structure might not able to contain all
the information.  The LFS provides the new type <code>struct&nbsp;dirent64</code>.  To use this we need a new function.

<p>
<table width="100%">
<tr>
<td align="left">int <b>scandir64</b><i> (const char *<var>dir</var>, struct dirent64 ***<var>namelist</var>, int (*<var>selector</var>) (const struct dirent64 *), int (*<var>cmp</var>) (const void *, const void *))
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>scandir64</code> function works like the <code>scandir</code> function
except that the directory entries it returns are described by elements
of type <code>struct&nbsp;dirent64</code>.  The function pointed to by
<var>selector</var> is again used to select the desired entries, except that
<var>selector</var> now must point to a function which takes a
<code>struct&nbsp;dirent64&nbsp;*</code> parameter.

<p>Similarly the <var>cmp</var> function should expect its two arguments to be
of type <code>struct dirent64 **</code>. 
</td></tr>
</table>

<p>As <var>cmp</var> is now a function of a different type, the functions
<code>alphasort</code> and <code>versionsort</code> cannot be supplied for that
argument.  Instead we provide the two replacement functions below.

<p>
<table width="100%">
<tr>
<td align="left">int <b>alphasort64</b><i> (const void *<var>a</var>, const void *<var>b</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>alphasort64</code> function behaves like the <code>strcoll</code> function
(see <a href="#String%2fArray%20Comparison">String/Array Comparison</a>).  The difference is that the arguments
are not string pointers but instead they are of type
<code>struct dirent64 **</code>.

<p>Return value of <code>alphasort64</code> is less than, equal to, or greater
than zero depending on the order of the two entries <var>a</var> and <var>b</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>versionsort64</b><i> (const void *<var>a</var>, const void *<var>b</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>versionsort64</code> function is like <code>alphasort64</code>, excepted that it
uses the <code>strverscmp</code> function internally. 
</td></tr>
</table>

<p>It is important not to mix the use of <code>scandir</code> and the 64-bit
comparison functions or vice versa.  There are systems on which this
works but on others it will fail miserably.

<p><hr>
Node:<a name="Simple%20Directory%20Lister%20Mark%20II">Simple Directory Lister Mark II</a>,
Previous:<a rel=previous accesskey=p href="#Scanning%20Directory%20Content">Scanning Directory Content</a>,
Up:<a rel=up accesskey=u href="#Accessing%20Directories">Accessing Directories</a>
<br>

<h4>Simple Program to List a Directory, Mark II</h4>

<p>Here is a revised version of the directory lister found above
(see <a href="#Simple%20Directory%20Lister">Simple Directory Lister</a>).  Using the <code>scandir</code> function we
can avoid the functions which work directly with the directory contents. 
After the call the returned entries are available for direct use.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;dirent.h&gt;

static int
one (struct dirent *unused)
{
  return 1;
}

int
main (void)
{
  struct dirent **eps;
  int n;

  n = scandir ("./", &amp;eps, one, alphasort);
  if (n &gt;= 0)
    {
      int cnt;
      for (cnt = 0; cnt &lt; n; ++cnt)
        puts (eps[cnt]-&gt;d_name);
    }
  else
    perror ("Couldn't open the directory");

  return 0;
}
</pre>

<p>Note the simple selector function in this example.  Since we want to see
all directory entries we always return <code>1</code>.

<p><hr>
Node:<a name="Working%20with%20Directory%20Trees">Working with Directory Trees</a>,
Next:<a rel=next accesskey=n href="#Hard%20Links">Hard Links</a>,
Previous:<a rel=previous accesskey=p href="#Accessing%20Directories">Accessing Directories</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Working with Directory Trees</h3>

<p>The functions described so far for handling the files in a directory
have allowed you to either retrieve the information bit by bit, or to
process all the files as a group (see <code>scandir</code>).  Sometimes it is
useful to process whole hierarchies of directories and their contained
files.  The X/Open specification defines two functions to do this.  The
simpler form is derived from an early definition in System&nbsp;V systems
and therefore this function is available on SVID-derived systems.  The
prototypes and required definitions can be found in the <code>ftw.h</code>
header.

<p>There are four functions in this family: <code>ftw</code>, <code>nftw</code> and
their 64-bit counterparts <code>ftw64</code> and <code>nftw64</code>.  These
functions take as one of their arguments a pointer to a callback
function of the appropriate type.

<p>
<table width="100%">
<tr>
<td align="left"><b>__ftw_func_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<br><pre>int (*) (const char *, const struct stat *, int)
</pre>

<p>The type of callback functions given to the <code>ftw</code> function.  The
first parameter points to the file name, the second parameter to an
object of type <code>struct stat</code> which is filled in for the file named
in the first parameter.

<p>The last parameter is a flag giving more information about the current
file.  It can have the following values:

<dl>
<dt><code>FTW_F</code>
<dd>The item is either a normal file or a file which does not fit into one
of the following categories.  This could be special files, sockets etc. 
<br><dt><code>FTW_D</code>
<dd>The item is a directory. 
<br><dt><code>FTW_NS</code>
<dd>The <code>stat</code> call failed and so the information pointed to by the
second paramater is invalid. 
<br><dt><code>FTW_DNR</code>
<dd>The item is a directory which cannot be read. 
<br><dt><code>FTW_SL</code>
<dd>The item is a symbolic link.  Since symbolic links are normally followed
seeing this value in a <code>ftw</code> callback function means the referenced
file does not exist.  The situation for <code>nftw</code> is different.

<p>This value is only available if the program is compiled with
<code>_BSD_SOURCE</code> or <code>_XOPEN_EXTENDED</code> defined before including
the first header.  The original SVID systems do not have symbolic links. 
</dl>

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
type is in fact <code>__ftw64_func_t</code> since this mode changes
<code>struct stat</code> to be <code>struct stat64</code>. 
</td></tr>
</table>

<p>For the LFS interface and for use in the function <code>ftw64</code>, the
header <code>ftw.h</code> defines another function type.

<p>
<table width="100%">
<tr>
<td align="left"><b>__ftw64_func_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<br><pre>int (*) (const char *, const struct stat64 *, int)
</pre>

<p>This type is used just like <code>__ftw_func_t</code> for the callback
function, but this time is called from <code>ftw64</code>.  The second
parameter to the function is a pointer to a variable of type
<code>struct stat64</code> which is able to represent the larger values. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>__nftw_func_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<br><pre>int (*) (const char *, const struct stat *, int, struct FTW *)
</pre>

<p>The first three arguments are the same as for the <code>__ftw_func_t</code>
type.  However for the third argument some additional values are defined
to allow finer differentiation:
<dl>
<dt><code>FTW_DP</code>
<dd>The current item is a directory and all subdirectories have already been
visited and reported.  This flag is returned instead of <code>FTW_D</code> if
the <code>FTW_DEPTH</code> flag is passed to <code>nftw</code> (see below). 
<br><dt><code>FTW_SLN</code>
<dd>The current item is a stale symbolic link.  The file it points to does
not exist. 
</dl>

<p>The last parameter of the callback function is a pointer to a structure
with some extra information as described below.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
type is in fact <code>__nftw64_func_t</code> since this mode changes
<code>struct stat</code> to be <code>struct stat64</code>. 
</td></tr>
</table>

<p>For the LFS interface there is also a variant of this data type
available which has to be used with the <code>nftw64</code> function.

<p>
<table width="100%">
<tr>
<td align="left"><b>__nftw64_func_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<br><pre>int (*) (const char *, const struct stat64 *, int, struct FTW *)
</pre>

<p>This type is used just like <code>__nftw_func_t</code> for the callback
function, but this time is called from <code>nftw64</code>.  The second
parameter to the function is this time a pointer to a variable of type
<code>struct stat64</code> which is able to represent the larger values. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct FTW</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The information contained in this structure helps in interpreting the
name parameter and gives some information about the current state of the
traversal of the directory hierarchy.

<dl>
<dt><code>int base</code>
<dd>The value is the offset into the string passed in the first parameter to
the callback function of the beginning of the file name.  The rest of
the string is the path of the file.  This information is especially
important if the <code>FTW_CHDIR</code> flag was set in calling <code>nftw</code>
since then the current directory is the one the current item is found
in. 
<br><dt><code>int level</code>
<dd>Whilst processing, the code tracks how many directories down it has gone
to find the current file.  This nesting level starts at 0 for
files in the initial directory (or is zero for the initial file if a
file was passed). 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ftw</b><i> (const char *<var>filename</var>, __ftw_func_t <var>func</var>, int <var>descriptors</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ftw</code> function calls the callback function given in the
parameter <var>func</var> for every item which is found in the directory
specified by <var>filename</var> and all directories below.  The function
follows symbolic links if necessary but does not process an item twice. 
If <var>filename</var> is not a directory then it itself is the only object
returned to the callback function.

<p>The file name passed to the callback function is constructed by taking
the <var>filename</var> parameter and appending the names of all passed
directories and then the local file name.  So the callback function can
use this parameter to access the file.  <code>ftw</code> also calls
<code>stat</code> for the file and passes that information on to the callback
function.  If this <code>stat</code> call was not successful the failure is
indicated by setting the third argument of the callback function to
<code>FTW_NS</code>.  Otherwise it is set according to the description given
in the account of <code>__ftw_func_t</code> above.

<p>The callback function is expected to return 0 to indicate that no
error occurred and that processing should continue.  If an error
occurred in the callback function or it wants <code>ftw</code> to return
immediately, the callback function can return a value other than
0.  This is the only correct way to stop the function.  The
program must not use <code>setjmp</code> or similar techniques to continue
from another place.  This would leave resources allocated by the
<code>ftw</code> function unfreed.

<p>The <var>descriptors</var> parameter to <code>ftw</code> specifies how many file
descriptors it is allowed to consume.  The function runs faster the more
descriptors it can use.  For each level in the directory hierarchy at
most one descriptor is used, but for very deep ones any limit on open
file descriptors for the process or the system may be exceeded. 
Moreover, file descriptor limits in a multi-threaded program apply to
all the threads as a group, and therefore it is a good idea to supply a
reasonable limit to the number of open descriptors.

<p>The return value of the <code>ftw</code> function is 0 if all callback
function calls returned 0 and all actions performed by the
<code>ftw</code> succeeded.  If a function call failed (other than calling
<code>stat</code> on an item) the function returns -1.  If a callback
function returns a value other than 0 this value is returned as
the return value of <code>ftw</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is in fact <code>ftw64</code>, i.e. the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ftw64</b><i> (const char *<var>filename</var>, __ftw64_func_t <var>func</var>, int <var>descriptors</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>ftw</code> but it can work on filesystems
with large files.  File information is reported using a variable of type
<code>struct stat64</code> which is passed by reference to the callback
function.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is available under the name <code>ftw</code> and
transparently replaces the old implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>nftw</b><i> (const char *<var>filename</var>, __nftw_func_t <var>func</var>, int <var>descriptors</var>, int <var>flag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>nftw</code> function works like the <code>ftw</code> functions.  They call
the callback function <var>func</var> for all items found in the directory
<var>filename</var> and below.  At most <var>descriptors</var> file descriptors
are consumed during the <code>nftw</code> call.

<p>One difference is that the callback function is of a different type.  It
is of type <code>struct&nbsp;FTW&nbsp;*</code> and provides the callback function
with the extra information described above.

<p>A second difference is that <code>nftw</code> takes a fourth argument, which
is 0 or a bitwise-OR combination of any of the following values.

<dl>
<dt><code>FTW_PHYS</code>
<dd>While traversing the directory symbolic links are not followed.  Instead
symbolic links are reported using the <code>FTW_SL</code> value for the type
parameter to the callback function.  If the file referenced by a
symbolic link does not exist <code>FTW_SLN</code> is returned instead. 
<br><dt><code>FTW_MOUNT</code>
<dd>The callback function is only called for items which are on the same
mounted filesystem as the directory given by the <var>filename</var>
parameter to <code>nftw</code>. 
<br><dt><code>FTW_CHDIR</code>
<dd>If this flag is given the current working directory is changed to the
directory of the reported object before the callback function is called. 
When <code>ntfw</code> finally returns the current directory is restored to
its original value. 
<br><dt><code>FTW_DEPTH</code>
<dd>If this option is specified then all subdirectories and files within
them are processed before processing the top directory itself
(depth-first processing).  This also means the type flag given to the
callback function is <code>FTW_DP</code> and not <code>FTW_D</code>. 
</dl>

<p>The return value is computed in the same way as for <code>ftw</code>. 
<code>nftw</code> returns 0 if no failures occurred and all callback
functions returned 0.  In case of internal errors, such as memory
problems, the return value is -1 and <var>errno</var> is set
accordingly.  If the return value of a callback invocation was non-zero
then that value is returned.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is in fact <code>nftw64</code>, i.e. the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>nftw64</b><i> (const char *<var>filename</var>, __nftw64_func_t <var>func</var>, int <var>descriptors</var>, int <var>flag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>nftw</code> but it can work on filesystems
with large files.  File information is reported using a variable of type
<code>struct stat64</code> which is passed by reference to the callback
function.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is available under the name <code>nftw</code> and
transparently replaces the old implementation. 
</td></tr>
</table>

<p><hr>
Node:<a name="Hard%20Links">Hard Links</a>,
Next:<a rel=next accesskey=n href="#Symbolic%20Links">Symbolic Links</a>,
Previous:<a rel=previous accesskey=p href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Hard Links</h3>

<p>In POSIX systems, one file can have many names at the same time.  All of
the names are equally real, and no one of them is preferred to the
others.

<p>To add a name to a file, use the <code>link</code> function.  (The new name is
also called a <dfn>hard link</dfn> to the file.)  Creating a new link to a
file does not copy the contents of the file; it simply makes a new name
by which the file can be known, in addition to the file's existing name
or names.

<p>One file can have names in several directories, so the organization
of the file system is not a strict hierarchy or tree.

<p>In most implementations, it is not possible to have hard links to the
same file in multiple file systems.  <code>link</code> reports an error if you
try to make a hard link to the file from another file system when this
cannot be done.

<p>The prototype for the <code>link</code> function is declared in the header
file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>link</b><i> (const char *<var>oldname</var>, const char *<var>newname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>link</code> function makes a new link to the existing file named by
<var>oldname</var>, under the new name <var>newname</var>.

<p>This function returns a value of <code>0</code> if it is successful and
<code>-1</code> on failure.  In addition to the usual file name errors
(see <a href="#File%20Name%20Errors">File Name Errors</a>) for both <var>oldname</var> and <var>newname</var>, the
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>You are not allowed to write to the directory in which the new link is
to be written.

<br><dt><code>EEXIST</code>
<dd>There is already a file named <var>newname</var>.  If you want to replace
this link with a new link, you must remove the old link explicitly first.

<br><dt><code>EMLINK</code>
<dd>There are already too many links to the file named by <var>oldname</var>. 
(The maximum number of links to a file is <code>LINK_MAX</code>; see
<a href="#Limits%20for%20Files">Limits for Files</a>.)

<br><dt><code>ENOENT</code>
<dd>The file named by <var>oldname</var> doesn't exist.  You can't make a link to
a file that doesn't exist.

<br><dt><code>ENOSPC</code>
<dd>The directory or file system that would contain the new link is full
and cannot be extended.

<br><dt><code>EPERM</code>
<dd>In the GNU system and some others, you cannot make links to directories. 
Many systems allow only privileged users to do so.  This error
is used to report the problem.

<br><dt><code>EROFS</code>
<dd>The directory containing the new link can't be modified because it's on
a read-only file system.

<br><dt><code>EXDEV</code>
<dd>The directory specified in <var>newname</var> is on a different file system
than the existing file.

<br><dt><code>EIO</code>
<dd>A hardware error occurred while trying to read or write the to filesystem. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Symbolic%20Links">Symbolic Links</a>,
Next:<a rel=next accesskey=n href="#Deleting%20Files">Deleting Files</a>,
Previous:<a rel=previous accesskey=p href="#Hard%20Links">Hard Links</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Symbolic Links</h3>

<p>The GNU system supports <dfn>soft links</dfn> or <dfn>symbolic links</dfn>.  This
is a kind of "file" that is essentially a pointer to another file
name.  Unlike hard links, symbolic links can be made to directories or
across file systems with no restrictions.  You can also make a symbolic
link to a name which is not the name of any file.  (Opening this link
will fail until a file by that name is created.)  Likewise, if the
symbolic link points to an existing file which is later deleted, the
symbolic link continues to point to the same file name even though the
name no longer names any file.

<p>The reason symbolic links work the way they do is that special things
happen when you try to open the link.  The <code>open</code> function realizes
you have specified the name of a link, reads the file name contained in
the link, and opens that file name instead.  The <code>stat</code> function
likewise operates on the file that the symbolic link points to, instead
of on the link itself.

<p>By contrast, other operations such as deleting or renaming the file
operate on the link itself.  The functions <code>readlink</code> and
<code>lstat</code> also refrain from following symbolic links, because their
purpose is to obtain information about the link.  <code>link</code>, the
function that makes a hard link, does too.  It makes a hard link to the
symbolic link, which one rarely wants.

<p>Some systems have for some functions operating on files have a limit on
how many symbolic links are followed when resolving a path name.  The
limit if it exists is published in the <code>sys/param.h</code> header file.

<p>
<table width="100%">
<tr>
<td align="left">int <b>MAXSYMLINKS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The macro <code>MAXSYMLINKS</code> specifies how many symlinks some function
will follow before returning <code>ELOOP</code>.  Not all functions behave the
same and this value is not the same a that returned for
<code>_SC_SYMLOOP</code> by <code>sysconf</code>.  In fact, the <code>sysconf</code>
result can indicate that there is no fixed limit although
<code>MAXSYMLINKS</code> exists and has a finite value. 
</td></tr>
</table>

<p>Prototypes for most of the functions listed in this section are in
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>symlink</b><i> (const char *<var>oldname</var>, const char *<var>newname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>symlink</code> function makes a symbolic link to <var>oldname</var> named
<var>newname</var>.

<p>The normal return value from <code>symlink</code> is <code>0</code>.  A return value
of <code>-1</code> indicates an error.  In addition to the usual file name
syntax errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code>
error conditions are defined for this function:

<dl>
<dt><code>EEXIST</code>
<dd>There is already an existing file named <var>newname</var>.

<br><dt><code>EROFS</code>
<dd>The file <var>newname</var> would exist on a read-only file system.

<br><dt><code>ENOSPC</code>
<dd>The directory or file system cannot be extended to make the new link.

<br><dt><code>EIO</code>
<dd>A hardware error occurred while reading or writing data on the disk.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>readlink</b><i> (const char *<var>filename</var>, char *<var>buffer</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>readlink</code> function gets the value of the symbolic link
<var>filename</var>.  The file name that the link points to is copied into
<var>buffer</var>.  This file name string is <em>not</em> null-terminated;
<code>readlink</code> normally returns the number of characters copied.  The
<var>size</var> argument specifies the maximum number of characters to copy,
usually the allocation size of <var>buffer</var>.

<p>If the return value equals <var>size</var>, you cannot tell whether or not
there was room to return the entire name.  So make a bigger buffer and
call <code>readlink</code> again.  Here is an example:

<br><pre>char *
readlink_malloc (const char *filename)
{
  int size = 100;

  while (1)
    {
      char *buffer = (char *) xmalloc (size);
      int nchars = readlink (filename, buffer, size);
      if (nchars &lt; 0)
        return NULL;
      if (nchars &lt; size)
        return buffer;
      free (buffer);
      size *= 2;
    }
}
</pre>

<p>A value of <code>-1</code> is returned in case of error.  In addition to the
usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The named file is not a symbolic link.

<br><dt><code>EIO</code>
<dd>A hardware error occurred while reading or writing data on the disk. 
</dl>
</td></tr>
</table>

<p>In some situations it is desirable to resolve all the to get the real
name of a file where no prefix names a symbolic link which is followed
and no filename in the path is <code>.</code> or <code>..</code>.  This is for
instance desirable if files have to be compare in which case different
names can refer to the same inode.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>canonicalize_file_name</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>canonicalize_file_name</code> function returns the absolute name of
the file named by <var>name</var> which contains no <code>.</code>, <code>..</code>
components nor any repeated path separators (<code>/</code>) or symlinks.  The
result is passed back as the return value of the function in a block of
memory allocated with <code>malloc</code>.  If the result is not used anymore
the memory should be freed with a call to <code>free</code>.

<p>In any of the path components except the last one is missing the
function returns a NULL pointer.  This is also what is returned if the
length of the path reaches or exceeds <code>PATH_MAX</code> characters.  In
any case <code>errno</code> is set accordingly.

<dl>
<dt><code>ENAMETOOLONG</code>
<dd>The resulting path is too long.  This error only occurs on systems which
have a limit on the file name length.

<br><dt><code>EACCES</code>
<dd>At least one of the path components is not readable.

<br><dt><code>ENOENT</code>
<dd>The input file name is empty.

<br><dt><code>ENOENT</code>
<dd>At least one of the path components does not exist.

<br><dt><code>ELOOP</code>
<dd>More than <code>MAXSYMLINKS</code> many symlinks have been followed. 
</dl>

<p>This function is a GNU extension and is declared in <code>stdlib.h</code>. 
</td></tr>
</table>

<p>The Unix standard includes a similar function which differs from
<code>canonicalize_file_name</code> in that the user has to provide the buffer
where the result is placed in.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>realpath</b><i> (const char *restrict <var>name</var>, char *restrict <var>resolved</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>realpath</code> function behaves just like
<code>canonicalize_file_name</code> but instead of allocating a buffer for the
result it is placed in the buffer pointed to by <var>resolved</var>.

<p>One other difference is that the buffer <var>resolved</var> will contain the
part of the path component which does not exist or is not readable if
the function returns <code>NULL</code> and <code>errno</code> is set to
<code>EACCES</code> or <code>ENOENT</code>.

<p>This function is declared in <code>stdlib.h</code>. 
</td></tr>
</table>

<p>The advantage of using this function is that it is more widely
available.  The drawback is that it reports failures for long path on
systems which have no limits on the file name length.

<p><hr>
Node:<a name="Deleting%20Files">Deleting Files</a>,
Next:<a rel=next accesskey=n href="#Renaming%20Files">Renaming Files</a>,
Previous:<a rel=previous accesskey=p href="#Symbolic%20Links">Symbolic Links</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Deleting Files</h3>

<p>You can delete a file with <code>unlink</code> or <code>remove</code>.

<p>Deletion actually deletes a file name.  If this is the file's only name,
then the file is deleted as well.  If the file has other remaining names
(see <a href="#Hard%20Links">Hard Links</a>), it remains accessible under those names.

<p>
<table width="100%">
<tr>
<td align="left">int <b>unlink</b><i> (const char *<var>filename</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>unlink</code> function deletes the file name <var>filename</var>.  If
this is a file's sole name, the file itself is also deleted.  (Actually,
if any process has the file open when this happens, deletion is
postponed until all processes have closed the file.)

<p>The function <code>unlink</code> is declared in the header file <code>unistd.h</code>.

<p>This function returns <code>0</code> on successful completion, and <code>-1</code>
on error.  In addition to the usual file name errors
(see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>Write permission is denied for the directory from which the file is to be
removed, or the directory has the sticky bit set and you do not own the file.

<br><dt><code>EBUSY</code>
<dd>This error indicates that the file is being used by the system in such a
way that it can't be unlinked.  For example, you might see this error if
the file name specifies the root directory or a mount point for a file
system.

<br><dt><code>ENOENT</code>
<dd>The file name to be deleted doesn't exist.

<br><dt><code>EPERM</code>
<dd>On some systems <code>unlink</code> cannot be used to delete the name of a
directory, or at least can only be used this way by a privileged user. 
To avoid such problems, use <code>rmdir</code> to delete directories.  (In the
GNU system <code>unlink</code> can never delete the name of a directory.)

<br><dt><code>EROFS</code>
<dd>The directory containing the file name to be deleted is on a read-only
file system and can't be modified. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>rmdir</b><i> (const char *<var>filename</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rmdir</code> function deletes a directory.  The directory must be
empty before it can be removed; in other words, it can only contain
entries for <code>.</code> and <code>..</code>.

<p>In most other respects, <code>rmdir</code> behaves like <code>unlink</code>.  There
are two additional <code>errno</code> error conditions defined for
<code>rmdir</code>:

<dl>
<dt><code>ENOTEMPTY</code>
<dt><code>EEXIST</code>
<dd>The directory to be deleted is not empty. 
</dl>

<p>These two error codes are synonymous; some systems use one, and some use
the other.  The GNU system always uses <code>ENOTEMPTY</code>.

<p>The prototype for this function is declared in the header file
<code>unistd.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>remove</b><i> (const char *<var>filename</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the ISO&nbsp;C function to remove a file.  It works like
<code>unlink</code> for files and like <code>rmdir</code> for directories. 
<code>remove</code> is declared in <code>stdio.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Renaming%20Files">Renaming Files</a>,
Next:<a rel=next accesskey=n href="#Creating%20Directories">Creating Directories</a>,
Previous:<a rel=previous accesskey=p href="#Deleting%20Files">Deleting Files</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Renaming Files</h3>

<p>The <code>rename</code> function is used to change a file's name.

<p>
<table width="100%">
<tr>
<td align="left">int <b>rename</b><i> (const char *<var>oldname</var>, const char *<var>newname</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rename</code> function renames the file <var>oldname</var> to
<var>newname</var>.  The file formerly accessible under the name
<var>oldname</var> is afterwards accessible as <var>newname</var> instead.  (If
the file had any other names aside from <var>oldname</var>, it continues to
have those names.)

<p>The directory containing the name <var>newname</var> must be on the same file
system as the directory containing the name <var>oldname</var>.

<p>One special case for <code>rename</code> is when <var>oldname</var> and
<var>newname</var> are two names for the same file.  The consistent way to
handle this case is to delete <var>oldname</var>.  However, in this case
POSIX requires that <code>rename</code> do nothing and report success--which
is inconsistent.  We don't know what your operating system will do.

<p>If <var>oldname</var> is not a directory, then any existing file named
<var>newname</var> is removed during the renaming operation.  However, if
<var>newname</var> is the name of a directory, <code>rename</code> fails in this
case.

<p>If <var>oldname</var> is a directory, then either <var>newname</var> must not
exist or it must name a directory that is empty.  In the latter case,
the existing directory named <var>newname</var> is deleted first.  The name
<var>newname</var> must not specify a subdirectory of the directory
<code>oldname</code> which is being renamed.

<p>One useful feature of <code>rename</code> is that the meaning of <var>newname</var>
changes "atomically" from any previously existing file by that name to
its new meaning (i.e. the file that was called <var>oldname</var>).  There is
no instant at which <var>newname</var> is non-existent "in between" the old
meaning and the new meaning.  If there is a system crash during the
operation, it is possible for both names to still exist; but
<var>newname</var> will always be intact if it exists at all.

<p>If <code>rename</code> fails, it returns <code>-1</code>.  In addition to the usual
file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>One of the directories containing <var>newname</var> or <var>oldname</var>
refuses write permission; or <var>newname</var> and <var>oldname</var> are
directories and write permission is refused for one of them.

<br><dt><code>EBUSY</code>
<dd>A directory named by <var>oldname</var> or <var>newname</var> is being used by
the system in a way that prevents the renaming from working.  This includes
directories that are mount points for filesystems, and directories
that are the current working directories of processes.

<br><dt><code>ENOTEMPTY</code>
<dt><code>EEXIST</code>
<dd>The directory <var>newname</var> isn't empty.  The GNU system always returns
<code>ENOTEMPTY</code> for this, but some other systems return <code>EEXIST</code>.

<br><dt><code>EINVAL</code>
<dd><var>oldname</var> is a directory that contains <var>newname</var>.

<br><dt><code>EISDIR</code>
<dd><var>newname</var> is a directory but the <var>oldname</var> isn't.

<br><dt><code>EMLINK</code>
<dd>The parent directory of <var>newname</var> would have too many links
(entries).

<br><dt><code>ENOENT</code>
<dd>The file <var>oldname</var> doesn't exist.

<br><dt><code>ENOSPC</code>
<dd>The directory that would contain <var>newname</var> has no room for another
entry, and there is no space left in the file system to expand it.

<br><dt><code>EROFS</code>
<dd>The operation would involve writing to a directory on a read-only file
system.

<br><dt><code>EXDEV</code>
<dd>The two file names <var>newname</var> and <var>oldname</var> are on different
file systems. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Creating%20Directories">Creating Directories</a>,
Next:<a rel=next accesskey=n href="#File%20Attributes">File Attributes</a>,
Previous:<a rel=previous accesskey=p href="#Renaming%20Files">Renaming Files</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Creating Directories</h3>

<p>Directories are created with the <code>mkdir</code> function.  (There is also
a shell command <code>mkdir</code> which does the same thing.)

<p>
<table width="100%">
<tr>
<td align="left">int <b>mkdir</b><i> (const char *<var>filename</var>, mode_t <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mkdir</code> function creates a new, empty directory with name
<var>filename</var>.

<p>The argument <var>mode</var> specifies the file permissions for the new
directory file.  See <a href="#Permission%20Bits">Permission Bits</a>, for more information about
this.

<p>A return value of <code>0</code> indicates successful completion, and
<code>-1</code> indicates failure.  In addition to the usual file name syntax
errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>Write permission is denied for the parent directory in which the new
directory is to be added.

<br><dt><code>EEXIST</code>
<dd>A file named <var>filename</var> already exists.

<br><dt><code>EMLINK</code>
<dd>The parent directory has too many links (entries).

<p>Well-designed file systems never report this error, because they permit
more links than your disk could possibly hold.  However, you must still
take account of the possibility of this error, as it could result from
network access to a file system on another machine.

<br><dt><code>ENOSPC</code>
<dd>The file system doesn't have enough room to create the new directory.

<br><dt><code>EROFS</code>
<dd>The parent directory of the directory being created is on a read-only
file system and cannot be modified. 
</dl>

<p>To use this function, your program should include the header file
<code>sys/stat.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="File%20Attributes">File Attributes</a>,
Next:<a rel=next accesskey=n href="#Making%20Special%20Files">Making Special Files</a>,
Previous:<a rel=previous accesskey=p href="#Creating%20Directories">Creating Directories</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>File Attributes</h3>

<p>When you issue an <code>ls -l</code> shell command on a file, it gives you
information about the size of the file, who owns it, when it was last
modified, etc.  These are called the <dfn>file attributes</dfn>, and are
associated with the file itself and not a particular one of its names.

<p>This section contains information about how you can inquire about and
modify the attributes of a file.

<ul>
<li><a accesskey=1 href="#Attribute%20Meanings">Attribute Meanings</a>:           The names of the file attributes,
                                 and what their values mean. 
<li><a accesskey=2 href="#Reading%20Attributes">Reading Attributes</a>:           How to read the attributes of a file. 
<li><a accesskey=3 href="#Testing%20File%20Type">Testing File Type</a>:            Distinguishing ordinary files,
                                 directories, links... 
<li><a accesskey=4 href="#File%20Owner">File Owner</a>:                   How ownership for new files is determined,
			         and how to change it. 
<li><a accesskey=5 href="#Permission%20Bits">Permission Bits</a>:              How information about a file's access
                                 mode is stored. 
<li><a accesskey=6 href="#Access%20Permission">Access Permission</a>:            How the system decides who can access a file. 
<li><a accesskey=7 href="#Setting%20Permissions">Setting Permissions</a>:          How permissions for new files are assigned,
			         and how to change them. 
<li><a accesskey=8 href="#Testing%20File%20Access">Testing File Access</a>:          How to find out if your process can
                                 access a file. 
<li><a accesskey=9 href="#File%20Times">File Times</a>:                   About the time attributes of a file. 
<li><a href="#File%20Size">File Size</a>: 			Manually changing the size of a file. 
</ul>

<p><hr>
Node:<a name="Attribute%20Meanings">Attribute Meanings</a>,
Next:<a rel=next accesskey=n href="#Reading%20Attributes">Reading Attributes</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>The meaning of the File Attributes</h4>

<p>When you read the attributes of a file, they come back in a structure
called <code>struct stat</code>.  This section describes the names of the
attributes, their data types, and what they mean.  For the functions
to read the attributes of a file, see <a href="#Reading%20Attributes">Reading Attributes</a>.

<p>The header file <code>sys/stat.h</code> declares all the symbols defined
in this section.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct stat</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>stat</code> structure type is used to return information about the
attributes of a file.  It contains at least the following members:

<dl>
<dt><code>mode_t st_mode</code>
<dd>Specifies the mode of the file.  This includes file type information
(see <a href="#Testing%20File%20Type">Testing File Type</a>) and the file permission bits
(see <a href="#Permission%20Bits">Permission Bits</a>).

<br><dt><code>ino_t st_ino</code>
<dd>The file serial number, which distinguishes this file from all other
files on the same device.

<br><dt><code>dev_t st_dev</code>
<dd>Identifies the device containing the file.  The <code>st_ino</code> and
<code>st_dev</code>, taken together, uniquely identify the file.  The
<code>st_dev</code> value is not necessarily consistent across reboots or
system crashes, however.

<br><dt><code>nlink_t st_nlink</code>
<dd>The number of hard links to the file.  This count keeps track of how
many directories have entries for this file.  If the count is ever
decremented to zero, then the file itself is discarded as soon as no
process still holds it open.  Symbolic links are not counted in the
total.

<br><dt><code>uid_t st_uid</code>
<dd>The user ID of the file's owner.  See <a href="#File%20Owner">File Owner</a>.

<br><dt><code>gid_t st_gid</code>
<dd>The group ID of the file.  See <a href="#File%20Owner">File Owner</a>.

<br><dt><code>off_t st_size</code>
<dd>This specifies the size of a regular file in bytes.  For files that are
really devices this field isn't usually meaningful.  For symbolic links
this specifies the length of the file name the link refers to.

<br><dt><code>time_t st_atime</code>
<dd>This is the last access time for the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_atime_usec</code>
<dd>This is the fractional part of the last access time for the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>time_t st_mtime</code>
<dd>This is the time of the last modification to the contents of the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_mtime_usec</code>
<dd>This is the fractional part of the time of the last modification to the
contents of the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>time_t st_ctime</code>
<dd>This is the time of the last modification to the attributes of the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_ctime_usec</code>
<dd>This is the fractional part of the time of the last modification to the
attributes of the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>blkcnt_t st_blocks</code>
<dd>This is the amount of disk space that the file occupies, measured in
units of 512-byte blocks.

<p>The number of disk blocks is not strictly proportional to the size of
the file, for two reasons: the file system may use some blocks for
internal record keeping; and the file may be sparse--it may have
"holes" which contain zeros but do not actually take up space on the
disk.

<p>You can tell (approximately) whether a file is sparse by comparing this
value with <code>st_size</code>, like this:

<br><pre>(st.st_blocks * 512 &lt; st.st_size)
</pre>

<p>This test is not perfect because a file that is just slightly sparse
might not be detected as sparse at all.  For practical applications,
this is not a problem.

<br><dt><code>unsigned int st_blksize</code>
<dd>The optimal block size for reading of writing this file, in bytes.  You
might use this size for allocating the buffer space for reading of
writing the file.  (This is unrelated to <code>st_blocks</code>.) 
</dl>
</td></tr>
</table>

<p>The extensions for the Large File Support (LFS) require, even on 32-bit
machines, types which can handle file sizes up to 2^63. 
Therefore a new definition of <code>struct stat</code> is necessary.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct stat64</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The members of this type are the same and have the same names as those
in <code>struct stat</code>.  The only difference is that the members
<code>st_ino</code>, <code>st_size</code>, and <code>st_blocks</code> have a different
type to support larger values.

<dl>
<dt><code>mode_t st_mode</code>
<dd>Specifies the mode of the file.  This includes file type information
(see <a href="#Testing%20File%20Type">Testing File Type</a>) and the file permission bits
(see <a href="#Permission%20Bits">Permission Bits</a>).

<br><dt><code>ino64_t st_ino</code>
<dd>The file serial number, which distinguishes this file from all other
files on the same device.

<br><dt><code>dev_t st_dev</code>
<dd>Identifies the device containing the file.  The <code>st_ino</code> and
<code>st_dev</code>, taken together, uniquely identify the file.  The
<code>st_dev</code> value is not necessarily consistent across reboots or
system crashes, however.

<br><dt><code>nlink_t st_nlink</code>
<dd>The number of hard links to the file.  This count keeps track of how
many directories have entries for this file.  If the count is ever
decremented to zero, then the file itself is discarded as soon as no
process still holds it open.  Symbolic links are not counted in the
total.

<br><dt><code>uid_t st_uid</code>
<dd>The user ID of the file's owner.  See <a href="#File%20Owner">File Owner</a>.

<br><dt><code>gid_t st_gid</code>
<dd>The group ID of the file.  See <a href="#File%20Owner">File Owner</a>.

<br><dt><code>off64_t st_size</code>
<dd>This specifies the size of a regular file in bytes.  For files that are
really devices this field isn't usually meaningful.  For symbolic links
this specifies the length of the file name the link refers to.

<br><dt><code>time_t st_atime</code>
<dd>This is the last access time for the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_atime_usec</code>
<dd>This is the fractional part of the last access time for the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>time_t st_mtime</code>
<dd>This is the time of the last modification to the contents of the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_mtime_usec</code>
<dd>This is the fractional part of the time of the last modification to the
contents of the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>time_t st_ctime</code>
<dd>This is the time of the last modification to the attributes of the file. 
See <a href="#File%20Times">File Times</a>.

<br><dt><code>unsigned long int st_ctime_usec</code>
<dd>This is the fractional part of the time of the last modification to the
attributes of the file.  See <a href="#File%20Times">File Times</a>.

<br><dt><code>blkcnt64_t st_blocks</code>
<dd>This is the amount of disk space that the file occupies, measured in
units of 512-byte blocks.

<br><dt><code>unsigned int st_blksize</code>
<dd>The optimal block size for reading of writing this file, in bytes.  You
might use this size for allocating the buffer space for reading of
writing the file.  (This is unrelated to <code>st_blocks</code>.) 
</dl>
</td></tr>
</table>

<p>Some of the file attributes have special data type names which exist
specifically for those attributes.  (They are all aliases for well-known
integer types that you know and love.)  These typedef names are defined
in the header file <code>sys/types.h</code> as well as in <code>sys/stat.h</code>. 
Here is a list of them.

<p>
<table width="100%">
<tr>
<td align="left"><b>mode_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer data type used to represent file modes.  In the
GNU system, this is equivalent to <code>unsigned int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>ino_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent file serial numbers. 
(In Unix jargon, these are sometimes called <dfn>inode numbers</dfn>.) 
In the GNU system, this type is equivalent to <code>unsigned long int</code>.

<p>If the source is compiled with <code>_FILE_OFFSET_BITS == 64</code> this type
is transparently replaced by <code>ino64_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>ino64_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent file serial numbers
for the use in LFS.  In the GNU system, this type is equivalent to
<code>unsigned long longint</code>.

<p>When compiling with <code>_FILE_OFFSET_BITS == 64</code> this type is
available under the name <code>ino_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>dev_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent file device numbers. 
In the GNU system, this is equivalent to <code>int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>nlink_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent file link counts. 
In the GNU system, this is equivalent to <code>unsigned short int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>blkcnt_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent block counts. 
In the GNU system, this is equivalent to <code>unsigned long int</code>.

<p>If the source is compiled with <code>_FILE_OFFSET_BITS == 64</code> this type
is transparently replaced by <code>blkcnt64_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>blkcnt64_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an arithmetic data type used to represent block counts for the
use in LFS.  In the GNU system, this is equivalent to <code>unsigned
long long int</code>.

<p>When compiling with <code>_FILE_OFFSET_BITS == 64</code> this type is
available under the name <code>blkcnt_t</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Reading%20Attributes">Reading Attributes</a>,
Next:<a rel=next accesskey=n href="#Testing%20File%20Type">Testing File Type</a>,
Previous:<a rel=previous accesskey=p href="#Attribute%20Meanings">Attribute Meanings</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>Reading the Attributes of a File</h4>

<p>To examine the attributes of files, use the functions <code>stat</code>,
<code>fstat</code> and <code>lstat</code>.  They return the attribute information in
a <code>struct stat</code> object.  All three functions are declared in the
header file <code>sys/stat.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>stat</b><i> (const char *<var>filename</var>, struct stat *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>stat</code> function returns information about the attributes of the
file named by <var>filename</var> in the structure pointed to by <var>buf</var>.

<p>If <var>filename</var> is the name of a symbolic link, the attributes you get
describe the file that the link points to.  If the link points to a
nonexistent file name, then <code>stat</code> fails reporting a nonexistent
file.

<p>The return value is <code>0</code> if the operation is successful, or
<code>-1</code> on failure.  In addition to the usual file name errors
(see <a href="#File%20Name%20Errors">File Name Errors</a>, the following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>ENOENT</code>
<dd>The file named by <var>filename</var> doesn't exist. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>stat64</code> since the LFS interface transparently
replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>stat64</b><i> (const char *<var>filename</var>, struct stat64 *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>stat</code> but it is also able to work on
files larger then 2^31 bytes on 32-bit systems.  To be able to do
this the result is stored in a variable of type <code>struct stat64</code> to
which <var>buf</var> must point.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>stat</code> and so transparently
replaces the interface for small files on 32-bit machines. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fstat</b><i> (int <var>filedes</var>, struct stat *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fstat</code> function is like <code>stat</code>, except that it takes an
open file descriptor as an argument instead of a file name. 
See <a href="#Low-Level%20I%2fO">Low-Level I/O</a>.

<p>Like <code>stat</code>, <code>fstat</code> returns <code>0</code> on success and <code>-1</code>
on failure.  The following <code>errno</code> error conditions are defined for
<code>fstat</code>:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor. 
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>fstat64</code> since the LFS interface transparently
replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fstat64</b><i> (int <var>filedes</var>, struct stat64 *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fstat</code> but is able to work on large
files on 32-bit platforms.  For large files the file descriptor
<var>filedes</var> should be obtained by <code>open64</code> or <code>creat64</code>. 
The <var>buf</var> pointer points to a variable of type <code>struct stat64</code>
which is able to represent the larger values.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>fstat</code> and so transparently
replaces the interface for small files on 32-bit machines. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>lstat</b><i> (const char *<var>filename</var>, struct stat *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lstat</code> function is like <code>stat</code>, except that it does not
follow symbolic links.  If <var>filename</var> is the name of a symbolic
link, <code>lstat</code> returns information about the link itself; otherwise
<code>lstat</code> works like <code>stat</code>.  See <a href="#Symbolic%20Links">Symbolic Links</a>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is in fact <code>lstat64</code> since the LFS interface transparently
replaces the normal implementation. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>lstat64</b><i> (const char *<var>filename</var>, struct stat64 *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>lstat</code> but it is also able to work on
files larger then 2^31 bytes on 32-bit systems.  To be able to do
this the result is stored in a variable of type <code>struct stat64</code> to
which <var>buf</var> must point.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> this
function is available under the name <code>lstat</code> and so transparently
replaces the interface for small files on 32-bit machines. 
</td></tr>
</table>

<p><hr>
Node:<a name="Testing%20File%20Type">Testing File Type</a>,
Next:<a rel=next accesskey=n href="#File%20Owner">File Owner</a>,
Previous:<a rel=previous accesskey=p href="#Reading%20Attributes">Reading Attributes</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>Testing the Type of a File</h4>

<p>The <dfn>file mode</dfn>, stored in the <code>st_mode</code> field of the file
attributes, contains two kinds of information: the file type code, and
the access permission bits.  This section discusses only the type code,
which you can use to tell whether the file is a directory, socket,
symbolic link, and so on.  For details about access permissions see
<a href="#Permission%20Bits">Permission Bits</a>.

<p>There are two ways you can access the file type information in a file
mode.  Firstly, for each file type there is a <dfn>predicate macro</dfn>
which examines a given file mode and returns whether it is of that type
or not.  Secondly, you can mask out the rest of the file mode to leave
just the file type code, and compare this against constants for each of
the supported file types.

<p>All of the symbols listed in this section are defined in the header file
<code>sys/stat.h</code>.

<p>The following predicate macros test the type of a file, given the value
<var>m</var> which is the <code>st_mode</code> field returned by <code>stat</code> on
that file:

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISDIR</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a directory. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISCHR</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a character special file (a
device like a terminal). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISBLK</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a block special file (a device
like a disk). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISREG</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a regular file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISFIFO</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a FIFO special file, or a
pipe.  See <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISLNK</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a symbolic link. 
See <a href="#Symbolic%20Links">Symbolic Links</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_ISSOCK</b><i> (mode_t <var>m</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns non-zero if the file is a socket.  See <a href="#Sockets">Sockets</a>. 
</td></tr>
</table>

<p>An alternate non-POSIX method of testing the file type is supported for
compatibility with BSD.  The mode can be bitwise AND-ed with
<code>S_IFMT</code> to extract the file type code, and compared to the
appropriate constant.  For example,

<br><pre>S_ISCHR (<var>mode</var>)
</pre>

<p>is equivalent to:

<br><pre>((<var>mode</var> &amp; S_IFMT) == S_IFCHR)
</pre>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_IFMT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a bit mask used to extract the file type code from a mode value. 
</td></tr>
</table>

<p>These are the symbolic names for the different file type codes:

<dl>
<dt><code>S_IFDIR</code>
<dd>This is the file type constant of a directory file.

<br><dt><code>S_IFCHR</code>
<dd>This is the file type constant of a character-oriented device file.

<br><dt><code>S_IFBLK</code>
<dd>This is the file type constant of a block-oriented device file.

<br><dt><code>S_IFREG</code>
<dd>This is the file type constant of a regular file.

<br><dt><code>S_IFLNK</code>
<dd>This is the file type constant of a symbolic link.

<br><dt><code>S_IFSOCK</code>
<dd>This is the file type constant of a socket.

<br><dt><code>S_IFIFO</code>
<dd>This is the file type constant of a FIFO or pipe. 
</dl>

<p>The POSIX.1b standard introduced a few more objects which possibly can
be implemented as object in the filesystem.  These are message queues,
semaphores, and shared memory objects.  To allow differentiating these
objects from other files the POSIX standard introduces three new test
macros.  But unlike the other macros it does not take the value of the
<code>st_mode</code> field as the parameter.  Instead they expect a pointer to
the whole <code>struct stat</code> structure.

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_TYPEISMQ</b><i> (struct stat *<var>s</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the system implement POSIX message queues as distinct objects and the
file is a message queue object, this macro returns a non-zero value. 
In all other cases the result is zero. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_TYPEISSEM</b><i> (struct stat *<var>s</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the system implement POSIX semaphores as distinct objects and the
file is a semaphore object, this macro returns a non-zero value. 
In all other cases the result is zero. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>S_TYPEISSHM</b><i> (struct stat *<var>s</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the system implement POSIX shared memory objects as distinct objects
and the file is an shared memory object, this macro returns a non-zero
value.  In all other cases the result is zero. 
</td></tr>
</table>

<p><hr>
Node:<a name="File%20Owner">File Owner</a>,
Next:<a rel=next accesskey=n href="#Permission%20Bits">Permission Bits</a>,
Previous:<a rel=previous accesskey=p href="#Testing%20File%20Type">Testing File Type</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>File Owner</h4>

<p>Every file has an <dfn>owner</dfn> which is one of the registered user names
defined on the system.  Each file also has a <dfn>group</dfn> which is one of
the defined groups.  The file owner can often be useful for showing you
who edited the file (especially when you edit with GNU Emacs), but its
main purpose is for access control.

<p>The file owner and group play a role in determining access because the
file has one set of access permission bits for the owner, another set
that applies to users who belong to the file's group, and a third set of
bits that applies to everyone else.  See <a href="#Access%20Permission">Access Permission</a>, for the
details of how access is decided based on this data.

<p>When a file is created, its owner is set to the effective user ID of the
process that creates it (see <a href="#Process%20Persona">Process Persona</a>).  The file's group ID
may be set to either the effective group ID of the process, or the group
ID of the directory that contains the file, depending on the system
where the file is stored.  When you access a remote file system, it
behaves according to its own rules, not according to the system your
program is running on.  Thus, your program must be prepared to encounter
either kind of behavior no matter what kind of system you run it on.

<p>You can change the owner and/or group owner of an existing file using
the <code>chown</code> function.  This is the primitive for the <code>chown</code>
and <code>chgrp</code> shell commands.

<p>The prototype for this function is declared in <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>chown</b><i> (const char *<var>filename</var>, uid_t <var>owner</var>, gid_t <var>group</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>chown</code> function changes the owner of the file <var>filename</var> to
<var>owner</var>, and its group owner to <var>group</var>.

<p>Changing the owner of the file on certain systems clears the set-user-ID
and set-group-ID permission bits.  (This is because those bits may not
be appropriate for the new owner.)  Other file permission bits are not
changed.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
In addition to the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>),
the following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>This process lacks permission to make the requested change.

<p>Only privileged users or the file's owner can change the file's group. 
On most file systems, only privileged users can change the file owner;
some file systems allow you to change the owner if you are currently the
owner.  When you access a remote file system, the behavior you encounter
is determined by the system that actually holds the file, not by the
system your program is running on.

<p>See <a href="#Options%20for%20Files">Options for Files</a>, for information about the
<code>_POSIX_CHOWN_RESTRICTED</code> macro.

<br><dt><code>EROFS</code>
<dd>The file is on a read-only file system. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fchown</b><i> (int <var>filedes</var>, int <var>owner</var>, int <var>group</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>chown</code>, except that it changes the owner of the open
file with descriptor <var>filedes</var>.

<p>The return value from <code>fchown</code> is <code>0</code> on success and <code>-1</code>
on failure.  The following <code>errno</code> error codes are defined for this
function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>filedes</var> argument corresponds to a pipe or socket, not an ordinary
file.

<br><dt><code>EPERM</code>
<dd>This process lacks permission to make the requested change.  For details
see <code>chmod</code> above.

<br><dt><code>EROFS</code>
<dd>The file resides on a read-only file system. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Permission%20Bits">Permission Bits</a>,
Next:<a rel=next accesskey=n href="#Access%20Permission">Access Permission</a>,
Previous:<a rel=previous accesskey=p href="#File%20Owner">File Owner</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>The Mode Bits for Access Permission</h4>

<p>The <dfn>file mode</dfn>, stored in the <code>st_mode</code> field of the file
attributes, contains two kinds of information: the file type code, and
the access permission bits.  This section discusses only the access
permission bits, which control who can read or write the file. 
See <a href="#Testing%20File%20Type">Testing File Type</a>, for information about the file type code.

<p>All of the symbols listed in this section are defined in the header file
<code>sys/stat.h</code>.

<p>These symbolic constants are defined for the file mode bits that control
access permission for the file:

<dl>
<dt><code>S_IRUSR</code>
<dt><code>S_IREAD</code>
<dd>Read permission bit for the owner of the file.  On many systems this bit
is 0400.  <code>S_IREAD</code> is an obsolete synonym provided for BSD
compatibility.

<br><dt><code>S_IWUSR</code>
<dt><code>S_IWRITE</code>
<dd>Write permission bit for the owner of the file.  Usually 0200. 
<code>S_IWRITE</code> is an obsolete synonym provided for BSD compatibility.

<br><dt><code>S_IXUSR</code>
<dt><code>S_IEXEC</code>
<dd>Execute (for ordinary files) or search (for directories) permission bit
for the owner of the file.  Usually 0100.  <code>S_IEXEC</code> is an obsolete
synonym provided for BSD compatibility.

<br><dt><code>S_IRWXU</code>
<dd>This is equivalent to <code>(S_IRUSR | S_IWUSR | S_IXUSR)</code>.

<br><dt><code>S_IRGRP</code>
<dd>Read permission bit for the group owner of the file.  Usually 040.

<br><dt><code>S_IWGRP</code>
<dd>Write permission bit for the group owner of the file.  Usually 020.

<br><dt><code>S_IXGRP</code>
<dd>Execute or search permission bit for the group owner of the file. 
Usually 010.

<br><dt><code>S_IRWXG</code>
<dd>This is equivalent to <code>(S_IRGRP | S_IWGRP | S_IXGRP)</code>.

<br><dt><code>S_IROTH</code>
<dd>Read permission bit for other users.  Usually 04.

<br><dt><code>S_IWOTH</code>
<dd>Write permission bit for other users.  Usually 02.

<br><dt><code>S_IXOTH</code>
<dd>Execute or search permission bit for other users.  Usually 01.

<br><dt><code>S_IRWXO</code>
<dd>This is equivalent to <code>(S_IROTH | S_IWOTH | S_IXOTH)</code>.

<br><dt><code>S_ISUID</code>
<dd>This is the set-user-ID on execute bit, usually 04000. 
See <a href="#How%20Change%20Persona">How Change Persona</a>.

<br><dt><code>S_ISGID</code>
<dd>This is the set-group-ID on execute bit, usually 02000. 
See <a href="#How%20Change%20Persona">How Change Persona</a>.

<br><dt><code>S_ISVTX</code>
<dd>This is the <dfn>sticky</dfn> bit, usually 01000.

<p>For a directory it gives permission to delete a file in that directory
only if you own that file.  Ordinarily, a user can either delete all the
files in a directory or cannot delete any of them (based on whether the
user has write permission for the directory).  The same restriction
applies--you must have both write permission for the directory and own
the file you want to delete.  The one exception is that the owner of the
directory can delete any file in the directory, no matter who owns it
(provided the owner has given himself write permission for the
directory).  This is commonly used for the <code>/tmp</code> directory, where
anyone may create files but not delete files created by other users.

<p>Originally the sticky bit on an executable file modified the swapping
policies of the system.  Normally, when a program terminated, its pages
in core were immediately freed and reused.  If the sticky bit was set on
the executable file, the system kept the pages in core for a while as if
the program were still running.  This was advantageous for a program
likely to be run many times in succession.  This usage is obsolete in
modern systems.  When a program terminates, its pages always remain in
core as long as there is no shortage of memory in the system.  When the
program is next run, its pages will still be in core if no shortage
arose since the last run.

<p>On some modern systems where the sticky bit has no useful meaning for an
executable file, you cannot set the bit at all for a non-directory. 
If you try, <code>chmod</code> fails with <code>EFTYPE</code>;
see <a href="#Setting%20Permissions">Setting Permissions</a>.

<p>Some systems (particularly SunOS) have yet another use for the sticky
bit.  If the sticky bit is set on a file that is <em>not</em> executable,
it means the opposite: never cache the pages of this file at all.  The
main use of this is for the files on an NFS server machine which are
used as the swap area of diskless client machines.  The idea is that the
pages of the file will be cached in the client's memory, so it is a
waste of the server's memory to cache them a second time.  With this
usage the sticky bit also implies that the filesystem may fail to record
the file's modification time onto disk reliably (the idea being that
no-one cares for a swap file).

<p>This bit is only available on BSD systems (and those derived from
them).  Therefore one has to use the <code>_BSD_SOURCE</code> feature select
macro to get the definition (see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>). 
</dl>

<p>The actual bit values of the symbols are listed in the table above
so you can decode file mode values when debugging your programs. 
These bit values are correct for most systems, but they are not
guaranteed.

<p><strong>Warning:</strong> Writing explicit numbers for file permissions is bad
practice.  Not only is it not portable, it also requires everyone who
reads your program to remember what the bits mean.  To make your program
clean use the symbolic names.

<p><hr>
Node:<a name="Access%20Permission">Access Permission</a>,
Next:<a rel=next accesskey=n href="#Setting%20Permissions">Setting Permissions</a>,
Previous:<a rel=previous accesskey=p href="#Permission%20Bits">Permission Bits</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>How Your Access to a File is Decided</h4>

<p>Recall that the operating system normally decides access permission for
a file based on the effective user and group IDs of the process and its
supplementary group IDs, together with the file's owner, group and
permission bits.  These concepts are discussed in detail in <a href="#Process%20Persona">Process Persona</a>.

<p>If the effective user ID of the process matches the owner user ID of the
file, then permissions for read, write, and execute/search are
controlled by the corresponding "user" (or "owner") bits.  Likewise,
if any of the effective group ID or supplementary group IDs of the
process matches the group owner ID of the file, then permissions are
controlled by the "group" bits.  Otherwise, permissions are controlled
by the "other" bits.

<p>Privileged users, like <code>root</code>, can access any file regardless of
its permission bits.  As a special case, for a file to be executable
even by a privileged user, at least one of its execute bits must be set.

<p><hr>
Node:<a name="Setting%20Permissions">Setting Permissions</a>,
Next:<a rel=next accesskey=n href="#Testing%20File%20Access">Testing File Access</a>,
Previous:<a rel=previous accesskey=p href="#Access%20Permission">Access Permission</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>Assigning File Permissions</h4>

<p>The primitive functions for creating files (for example, <code>open</code> or
<code>mkdir</code>) take a <var>mode</var> argument, which specifies the file
permissions to give the newly created file.  This mode is modified by
the process's <dfn>file creation mask</dfn>, or <dfn>umask</dfn>, before it is
used.

<p>The bits that are set in the file creation mask identify permissions
that are always to be disabled for newly created files.  For example, if
you set all the "other" access bits in the mask, then newly created
files are not accessible at all to processes in the "other" category,
even if the <var>mode</var> argument passed to the create function would
permit such access.  In other words, the file creation mask is the
complement of the ordinary access permissions you want to grant.

<p>Programs that create files typically specify a <var>mode</var> argument that
includes all the permissions that make sense for the particular file. 
For an ordinary file, this is typically read and write permission for
all classes of users.  These permissions are then restricted as
specified by the individual user's own file creation mask.

<p>To change the permission of an existing file given its name, call
<code>chmod</code>.  This function uses the specified permission bits and
ignores the file creation mask.

<p>In normal use, the file creation mask is initialized by the user's login
shell (using the <code>umask</code> shell command), and inherited by all
subprocesses.  Application programs normally don't need to worry about
the file creation mask.  It will automatically do what it is supposed to
do.

<p>When your program needs to create a file and bypass the umask for its
access permissions, the easiest way to do this is to use <code>fchmod</code>
after opening the file, rather than changing the umask.  In fact,
changing the umask is usually done only by shells.  They use the
<code>umask</code> function.

<p>The functions in this section are declared in <code>sys/stat.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">mode_t <b>umask</b><i> (mode_t <var>mask</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>umask</code> function sets the file creation mask of the current
process to <var>mask</var>, and returns the previous value of the file
creation mask.

<p>Here is an example showing how to read the mask with <code>umask</code>
without changing it permanently:

<br><pre>mode_t
read_umask (void)
{
  mode_t mask = umask (0);
  umask (mask);
  return mask;
}
</pre>

<p>However, it is better to use <code>getumask</code> if you just want to read
the mask value, because it is reentrant (at least if you use the GNU
operating system). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">mode_t <b>getumask</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Return the current value of the file creation mask for the current
process.  This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>chmod</b><i> (const char *<var>filename</var>, mode_t <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>chmod</code> function sets the access permission bits for the file
named by <var>filename</var> to <var>mode</var>.

<p>If <var>filename</var> is a symbolic link, <code>chmod</code> changes the
permissions of the file pointed to by the link, not those of the link
itself.

<p>This function returns <code>0</code> if successful and <code>-1</code> if not.  In
addition to the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions are defined for
this function:

<dl>
<dt><code>ENOENT</code>
<dd>The named file doesn't exist.

<br><dt><code>EPERM</code>
<dd>This process does not have permission to change the access permissions
of this file.  Only the file's owner (as judged by the effective user ID
of the process) or a privileged user can change them.

<br><dt><code>EROFS</code>
<dd>The file resides on a read-only file system.

<br><dt><code>EFTYPE</code>
<dd><var>mode</var> has the <code>S_ISVTX</code> bit (the "sticky bit") set,
and the named file is not a directory.  Some systems do not allow setting the
sticky bit on non-directory files, and some do (and only some of those
assign a useful meaning to the bit for non-directory files).

<p>You only get <code>EFTYPE</code> on systems where the sticky bit has no useful
meaning for non-directory files, so it is always safe to just clear the
bit in <var>mode</var> and call <code>chmod</code> again.  See <a href="#Permission%20Bits">Permission Bits</a>,
for full details on the sticky bit. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fchmod</b><i> (int <var>filedes</var>, int <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is like <code>chmod</code>, except that it changes the permissions of the
currently open file given by <var>filedes</var>.

<p>The return value from <code>fchmod</code> is <code>0</code> on success and <code>-1</code>
on failure.  The following <code>errno</code> error codes are defined for this
function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>filedes</var> argument corresponds to a pipe or socket, or something
else that doesn't really have access permissions.

<br><dt><code>EPERM</code>
<dd>This process does not have permission to change the access permissions
of this file.  Only the file's owner (as judged by the effective user ID
of the process) or a privileged user can change them.

<br><dt><code>EROFS</code>
<dd>The file resides on a read-only file system. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Testing%20File%20Access">Testing File Access</a>,
Next:<a rel=next accesskey=n href="#File%20Times">File Times</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20Permissions">Setting Permissions</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>Testing Permission to Access a File</h4>

<p>In some situations it is desirable to allow programs to access files or
devices even if this is not possible with the permissions granted to the
user.  One possible solution is to set the setuid-bit of the program
file.  If such a program is started the <em>effective</em> user ID of the
process is changed to that of the owner of the program file.  So to
allow write access to files like <code>/etc/passwd</code>, which normally can
be written only by the super-user, the modifying program will have to be
owned by <code>root</code> and the setuid-bit must be set.

<p>But beside the files the program is intended to change the user should
not be allowed to access any file to which s/he would not have access
anyway.  The program therefore must explicitly check whether <em>the
user</em> would have the necessary access to a file, before it reads or
writes the file.

<p>To do this, use the function <code>access</code>, which checks for access
permission based on the process's <em>real</em> user ID rather than the
effective user ID.  (The setuid feature does not alter the real user ID,
so it reflects the user who actually ran the program.)

<p>There is another way you could check this access, which is easy to
describe, but very hard to use.  This is to examine the file mode bits
and mimic the system's own access computation.  This method is
undesirable because many systems have additional access control
features; your program cannot portably mimic them, and you would not
want to try to keep track of the diverse features that different systems
have.  Using <code>access</code> is simple and automatically does whatever is
appropriate for the system you are using.

<p><code>access</code> is <em>only</em> only appropriate to use in setuid programs. 
A non-setuid program will always use the effective ID rather than the
real ID.

<p>The symbols in this section are declared in <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>access</b><i> (const char *<var>filename</var>, int <var>how</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>access</code> function checks to see whether the file named by
<var>filename</var> can be accessed in the way specified by the <var>how</var>
argument.  The <var>how</var> argument either can be the bitwise OR of the
flags <code>R_OK</code>, <code>W_OK</code>, <code>X_OK</code>, or the existence test
<code>F_OK</code>.

<p>This function uses the <em>real</em> user and group IDs of the calling
process, rather than the <em>effective</em> IDs, to check for access
permission.  As a result, if you use the function from a <code>setuid</code>
or <code>setgid</code> program (see <a href="#How%20Change%20Persona">How Change Persona</a>), it gives
information relative to the user who actually ran the program.

<p>The return value is <code>0</code> if the access is permitted, and <code>-1</code>
otherwise.  (In other words, treated as a predicate function,
<code>access</code> returns true if the requested access is <em>denied</em>.)

<p>In addition to the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions are defined for
this function:

<dl>
<dt><code>EACCES</code>
<dd>The access specified by <var>how</var> is denied.

<br><dt><code>ENOENT</code>
<dd>The file doesn't exist.

<br><dt><code>EROFS</code>
<dd>Write permission was requested for a file on a read-only file system. 
</dl>
</td></tr>
</table>

<p>These macros are defined in the header file <code>unistd.h</code> for use
as the <var>how</var> argument to the <code>access</code> function.  The values
are integer constants.

<p>
<table width="100%">
<tr>
<td align="left">int <b>R_OK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Flag meaning test for read permission. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>W_OK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Flag meaning test for write permission. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>X_OK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Flag meaning test for execute/search permission. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>F_OK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Flag meaning test for existence of the file. 
</td></tr>
</table>

<p><hr>
Node:<a name="File%20Times">File Times</a>,
Next:<a rel=next accesskey=n href="#File%20Size">File Size</a>,
Previous:<a rel=previous accesskey=p href="#Testing%20File%20Access">Testing File Access</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>File Times</h4>

<p>Each file has three time stamps associated with it:  its access time,
its modification time, and its attribute modification time.  These
correspond to the <code>st_atime</code>, <code>st_mtime</code>, and <code>st_ctime</code>
members of the <code>stat</code> structure; see <a href="#File%20Attributes">File Attributes</a>.

<p>All of these times are represented in calendar time format, as
<code>time_t</code> objects.  This data type is defined in <code>time.h</code>. 
For more information about representation and manipulation of time
values, see <a href="#Calendar%20Time">Calendar Time</a>.

<p>Reading from a file updates its access time attribute, and writing
updates its modification time.  When a file is created, all three
time stamps for that file are set to the current time.  In addition, the
attribute change time and modification time fields of the directory that
contains the new entry are updated.

<p>Adding a new name for a file with the <code>link</code> function updates the
attribute change time field of the file being linked, and both the
attribute change time and modification time fields of the directory
containing the new name.  These same fields are affected if a file name
is deleted with <code>unlink</code>, <code>remove</code> or <code>rmdir</code>.  Renaming
a file with <code>rename</code> affects only the attribute change time and
modification time fields of the two parent directories involved, and not
the times for the file being renamed.

<p>Changing the attributes of a file (for example, with <code>chmod</code>)
updates its attribute change time field.

<p>You can also change some of the time stamps of a file explicitly using
the <code>utime</code> function--all except the attribute change time.  You
need to include the header file <code>utime.h</code> to use this facility.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct utimbuf</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utimbuf</code> structure is used with the <code>utime</code> function to
specify new access and modification times for a file.  It contains the
following members:

<dl>
<dt><code>time_t actime</code>
<dd>This is the access time for the file.

<br><dt><code>time_t modtime</code>
<dd>This is the modification time for the file. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>utime</b><i> (const char *<var>filename</var>, const struct utimbuf *<var>times</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to modify the file times associated with the file
named <var>filename</var>.

<p>If <var>times</var> is a null pointer, then the access and modification times
of the file are set to the current time.  Otherwise, they are set to the
values from the <code>actime</code> and <code>modtime</code> members (respectively)
of the <code>utimbuf</code> structure pointed to by <var>times</var>.

<p>The attribute modification time for the file is set to the current time
in either case (since changing the time stamps is itself a modification
of the file attributes).

<p>The <code>utime</code> function returns <code>0</code> if successful and <code>-1</code>
on failure.  In addition to the usual file name errors
(see <a href="#File%20Name%20Errors">File Name Errors</a>), the following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>There is a permission problem in the case where a null pointer was
passed as the <var>times</var> argument.  In order to update the time stamp on
the file, you must either be the owner of the file, have write
permission for the file, or be a privileged user.

<br><dt><code>ENOENT</code>
<dd>The file doesn't exist.

<br><dt><code>EPERM</code>
<dd>If the <var>times</var> argument is not a null pointer, you must either be
the owner of the file or be a privileged user.

<br><dt><code>EROFS</code>
<dd>The file lives on a read-only file system. 
</dl>
</td></tr>
</table>

<p>Each of the three time stamps has a corresponding microsecond part,
which extends its resolution.  These fields are called
<code>st_atime_usec</code>, <code>st_mtime_usec</code>, and <code>st_ctime_usec</code>;
each has a value between 0 and 999,999, which indicates the time in
microseconds.  They correspond to the <code>tv_usec</code> field of a
<code>timeval</code> structure; see <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<p>The <code>utimes</code> function is like <code>utime</code>, but also lets you specify
the fractional part of the file times.  The prototype for this function is
in the header file <code>sys/time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>utimes</b><i> (const char *<var>filename</var>, struct timeval <var>tvp</var><tt>[2]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the file access and modification times of the file
<var>filename</var>.  The new file access time is specified by
<code><var>tvp</var>[0]</code>, and the new modification time by
<code><var>tvp</var>[1]</code>.  This function comes from BSD.

<p>The return values and error conditions are the same as for the <code>utime</code>
function. 
</td></tr>
</table>

<p><hr>
Node:<a name="File%20Size">File Size</a>,
Previous:<a rel=previous accesskey=p href="#File%20Times">File Times</a>,
Up:<a rel=up accesskey=u href="#File%20Attributes">File Attributes</a>
<br>

<h4>File Size</h4>

<p>Normally file sizes are maintained automatically.  A file begins with a
size of 0 and is automatically extended when data is written past
its end.  It is also possible to empty a file completely by an
<code>open</code> or <code>fopen</code> call.

<p>However, sometimes it is necessary to <em>reduce</em> the size of a file. 
This can be done with the <code>truncate</code> and <code>ftruncate</code> functions. 
They were introduced in BSD Unix.  <code>ftruncate</code> was later added to
POSIX.1.

<p>Some systems allow you to extend a file (creating holes) with these
functions.  This is useful when using memory-mapped I/O
(see <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>), where files are not automatically extended. 
However, it is not portable but must be implemented if <code>mmap</code>
allows mapping of files (i.e., <code>_POSIX_MAPPED_FILES</code> is defined).

<p>Using these functions on anything other than a regular file gives
<em>undefined</em> results.  On many systems, such a call will appear to
succeed, without actually accomplishing anything.

<p>
<table width="100%">
<tr>
<td align="left">int <b>truncate</b><i> (const char *<var>filename</var>, off_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>truncate</code> function changes the size of <var>filename</var> to
<var>length</var>.  If <var>length</var> is shorter than the previous length, data
at the end will be lost.  The file must be writable by the user to
perform this operation.

<p>If <var>length</var> is longer, holes will be added to the end.  However, some
systems do not support this feature and will leave the file unchanged.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> the
<code>truncate</code> function is in fact <code>truncate64</code> and the type
<code>off_t</code> has 64 bits which makes it possible to handle files up to
2^63 bytes in length.

<p>The return value is 0 for success, or -1 for an error.  In
addition to the usual file name errors, the following errors may occur:

<dl>

<br><dt><code>EACCES</code>
<dd>The file is a directory or not writable.

<br><dt><code>EINVAL</code>
<dd><var>length</var> is negative.

<br><dt><code>EFBIG</code>
<dd>The operation would extend the file beyond the limits of the operating system.

<br><dt><code>EIO</code>
<dd>A hardware I/O error occurred.

<br><dt><code>EPERM</code>
<dd>The file is "append-only" or "immutable".

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by a signal.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>truncate64</b><i> (const char *<var>name</var>, off64_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>truncate</code> function.  The
difference is that the <var>length</var> argument is 64 bits wide even on 32
bits machines, which allows the handling of files with sizes up to
2^63 bytes.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bits machine this function is actually available under the name
<code>truncate</code> and so transparently replaces the 32 bits interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ftruncate</b><i> (int <var>fd</var>, off_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This is like <code>truncate</code>, but it works on a file descriptor <var>fd</var>
for an opened file instead of a file name to identify the object.  The
file must be opened for writing to successfully carry out the operation.

<p>The POSIX standard leaves it implementation defined what happens if the
specified new <var>length</var> of the file is bigger than the original size. 
The <code>ftruncate</code> function might simply leave the file alone and do
nothing or it can increase the size to the desired size.  In this later
case the extended area should be zero-filled.  So using <code>ftruncate</code>
is no reliable way to increase the file size but if it is possible it is
probably the fastest way.  The function also operates on POSIX shared
memory segments if these are implemented by the system.

<p><code>ftruncate</code> is especially useful in combination with <code>mmap</code>. 
Since the mapped region must have a fixed size one cannot enlarge the
file by writing something beyond the last mapped page.  Instead one has
to enlarge the file itself and then remap the file with the new size. 
The example below shows how this works.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> the
<code>ftruncate</code> function is in fact <code>ftruncate64</code> and the type
<code>off_t</code> has 64 bits which makes it possible to handle files up to
2^63 bytes in length.

<p>The return value is 0 for success, or -1 for an error.  The
following errors may occur:

<dl>

<br><dt><code>EBADF</code>
<dd><var>fd</var> does not correspond to an open file.

<br><dt><code>EACCES</code>
<dd><var>fd</var> is a directory or not open for writing.

<br><dt><code>EINVAL</code>
<dd><var>length</var> is negative.

<br><dt><code>EFBIG</code>
<dd>The operation would extend the file beyond the limits of the operating system.

<br><dt><code>EIO</code>
<dd>A hardware I/O error occurred.

<br><dt><code>EPERM</code>
<dd>The file is "append-only" or "immutable".

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by a signal.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ftruncate64</b><i> (int <var>id</var>, off64_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>ftruncate</code> function.  The
difference is that the <var>length</var> argument is 64 bits wide even on 32
bits machines which allows the handling of files with sizes up to
2^63 bytes.

<p>When the source file is compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32 bits machine this function is actually available under the name
<code>ftruncate</code> and so transparently replaces the 32 bits interface. 
</td></tr>
</table>

<p>As announced here is a little example of how to use <code>ftruncate</code> in
combination with <code>mmap</code>:

<br><pre>int fd;
void *start;
size_t len;

int
add (off_t at, void *block, size_t size)
{
  if (at + size &gt; len)
    {
      /* Resize the file and remap.  */
      size_t ps = sysconf (_SC_PAGESIZE);
      size_t ns = (at + size + ps - 1) &amp; ~(ps - 1);
      void *np;
      if (ftruncate (fd, ns) &lt; 0)
        return -1;
      np = mmap (NULL, ns, PROT_READ|PROT_WRITE, MAP_SHARED, fd, 0);
      if (np == MAP_FAILED)
        return -1;
      start = np;
      len = ns;
    }
  memcpy ((char *) start + at, block, size);
  return 0;
}
</pre>

<p>The function <code>add</code> writes a block of memory at an arbitrary
position in the file.  If the current size of the file is too small it
is extended.  Note the it is extended by a round number of pages.  This
is a requirement of <code>mmap</code>.  The program has to keep track of the
real size, and when it has finished a final <code>ftruncate</code> call should
set the real size of the file.

<p><hr>
Node:<a name="Making%20Special%20Files">Making Special Files</a>,
Next:<a rel=next accesskey=n href="#Temporary%20Files">Temporary Files</a>,
Previous:<a rel=previous accesskey=p href="#File%20Attributes">File Attributes</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Making Special Files</h3>

<p>The <code>mknod</code> function is the primitive for making special files,
such as files that correspond to devices.  The GNU library includes
this function for compatibility with BSD.

<p>The prototype for <code>mknod</code> is declared in <code>sys/stat.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mknod</b><i> (const char *<var>filename</var>, int <var>mode</var>, int <var>dev</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mknod</code> function makes a special file with name <var>filename</var>. 
The <var>mode</var> specifies the mode of the file, and may include the various
special file bits, such as <code>S_IFCHR</code> (for a character special file)
or <code>S_IFBLK</code> (for a block special file).  See <a href="#Testing%20File%20Type">Testing File Type</a>.

<p>The <var>dev</var> argument specifies which device the special file refers to. 
Its exact interpretation depends on the kind of special file being created.

<p>The return value is <code>0</code> on success and <code>-1</code> on error.  In addition
to the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>The calling process is not privileged.  Only the superuser can create
special files.

<br><dt><code>ENOSPC</code>
<dd>The directory or file system that would contain the new file is full
and cannot be extended.

<br><dt><code>EROFS</code>
<dd>The directory containing the new file can't be modified because it's on
a read-only file system.

<br><dt><code>EEXIST</code>
<dd>There is already a file named <var>filename</var>.  If you want to replace
this file, you must remove the old file explicitly first. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Temporary%20Files">Temporary Files</a>,
Previous:<a rel=previous accesskey=p href="#Making%20Special%20Files">Making Special Files</a>,
Up:<a rel=up accesskey=u href="#File%20System%20Interface">File System Interface</a>
<br>

<h3>Temporary Files</h3>

<p>If you need to use a temporary file in your program, you can use the
<code>tmpfile</code> function to open it.  Or you can use the <code>tmpnam</code>
(better: <code>tmpnam_r</code>) function to provide a name for a temporary
file and then you can open it in the usual way with <code>fopen</code>.

<p>The <code>tempnam</code> function is like <code>tmpnam</code> but lets you choose
what directory temporary files will go in, and something about what
their file names will look like.  Important for multi-threaded programs
is that <code>tempnam</code> is reentrant, while <code>tmpnam</code> is not since it
returns a pointer to a static buffer.

<p>These facilities are declared in the header file <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>tmpfile</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function creates a temporary binary file for update mode, as if by
calling <code>fopen</code> with mode <code>"wb+"</code>.  The file is deleted
automatically when it is closed or when the program terminates.  (On
some other ISO&nbsp;C systems the file may fail to be deleted if the program
terminates abnormally).

<p>This function is reentrant.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is in fact <code>tmpfile64</code>, i.e. the LFS
interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>tmpfile64</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>tmpfile</code>, but the stream it returns a
pointer to was opened using <code>tmpfile64</code>.  Therefore this stream can
be used for files larger then 2^31 bytes on 32-bit machines.

<p>Please note that the return type is still <code>FILE *</code>.  There is no
special <code>FILE</code> type for the LFS interface.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a 32
bits machine this function is available under the name <code>tmpfile</code>
and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>tmpnam</b><i> (char *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function constructs and returns a valid file name that does not
refer to any existing file.  If the <var>result</var> argument is a null
pointer, the return value is a pointer to an internal static string,
which might be modified by subsequent calls and therefore makes this
function non-reentrant.  Otherwise, the <var>result</var> argument should be
a pointer to an array of at least <code>L_tmpnam</code> characters, and the
result is written into that array.

<p>It is possible for <code>tmpnam</code> to fail if you call it too many times
without removing previously-created files.  This is because the limited
length of the temporary file names gives room for only a finite number
of different names.  If <code>tmpnam</code> fails it returns a null pointer.

<p><strong>Warning:</strong> Between the time the pathname is constructed and the
file is created another process might have created a file with the same
name using <code>tmpnam</code>, leading to a possible security hole.  The
implementation generates names which can hardly be predicted, but when
opening the file you should use the <code>O_EXCL</code> flag.  Using
<code>tmpfile</code> or <code>mkstemp</code> is a safe way to avoid this problem. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>tmpnam_r</b><i> (char *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is nearly identical to the <code>tmpnam</code> function, except
that if <var>result</var> is a null pointer it returns a null pointer.

<p>This guarantees reentrancy because the non-reentrant situation of
<code>tmpnam</code> cannot happen here.

<p><strong>Warning</strong>: This function has the same security problems as
<code>tmpnam</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>L_tmpnam</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that
represents the minimum size of a string large enough to hold a file name
generated by the <code>tmpnam</code> function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>TMP_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The macro <code>TMP_MAX</code> is a lower bound for how many temporary names
you can create with <code>tmpnam</code>.  You can rely on being able to call
<code>tmpnam</code> at least this many times before it might fail saying you
have made too many temporary file names.

<p>With the GNU library, you can create a very large number of temporary
file names.  If you actually created the files, you would probably run
out of disk space before you ran out of names.  Some other systems have
a fixed, small limit on the number of temporary files.  The limit is
never less than <code>25</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>tempnam</b><i> (const char *<var>dir</var>, const char *<var>prefix</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function generates a unique temporary file name.  If <var>prefix</var>
is not a null pointer, up to five characters of this string are used as
a prefix for the file name.  The return value is a string newly
allocated with <code>malloc</code>, so you should release its storage with
<code>free</code> when it is no longer needed.

<p>Because the string is dynamically allocated this function is reentrant.

<p>The directory prefix for the temporary file name is determined by
testing each of the following in sequence.  The directory must exist and
be writable.

<ul>
<li>The environment variable <code>TMPDIR</code>, if it is defined.  For security
reasons this only happens if the program is not SUID or SGID enabled.

<li>The <var>dir</var> argument, if it is not a null pointer.

<li>The value of the <code>P_tmpdir</code> macro.

<li>The directory <code>/tmp</code>. 
</ul>

<p>This function is defined for SVID compatibility.

<p><strong>Warning:</strong> Between the time the pathname is constructed and the
file is created another process might have created a file with the same
name using <code>tempnam</code>, leading to a possible security hole.  The
implementation generates names which can hardly be predicted, but when
opening the file you should use the <code>O_EXCL</code> flag.  Using
<code>tmpfile</code> or <code>mkstemp</code> is a safe way to avoid this problem. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>P_tmpdir</b><i>
</i></td>
<td align="right">SVID Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is the name of the default directory for temporary files. 
</td></tr>
</table>

<p>Older Unix systems did not have the functions just described.  Instead
they used <code>mktemp</code> and <code>mkstemp</code>.  Both of these functions
work by modifying a file name template string you pass.  The last six
characters of this string must be <code>XXXXXX</code>.  These six <code>X</code>s
are replaced with six characters which make the whole string a unique
file name.  Usually the template string is something like
<code>/tmp/<var>prefix</var>XXXXXX</code>, and each program uses a unique <var>prefix</var>.

<p><strong>Note:</strong> Because <code>mktemp</code> and <code>mkstemp</code> modify the
template string, you <em>must not</em> pass string constants to them. 
String constants are normally in read-only storage, so your program
would crash when <code>mktemp</code> or <code>mkstemp</code> tried to modify the
string.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>mktemp</b><i> (char *<var>template</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mktemp</code> function generates a unique file name by modifying
<var>template</var> as described above.  If successful, it returns
<var>template</var> as modified.  If <code>mktemp</code> cannot find a unique file
name, it makes <var>template</var> an empty string and returns that.  If
<var>template</var> does not end with <code>XXXXXX</code>, <code>mktemp</code> returns a
null pointer.

<p><strong>Warning:</strong> Between the time the pathname is constructed and the
file is created another process might have created a file with the same
name using <code>mktemp</code>, leading to a possible security hole.  The
implementation generates names which can hardly be predicted, but when
opening the file you should use the <code>O_EXCL</code> flag.  Using
<code>mkstemp</code> is a safe way to avoid this problem. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>mkstemp</b><i> (char *<var>template</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mkstemp</code> function generates a unique file name just as
<code>mktemp</code> does, but it also opens the file for you with <code>open</code>
(see <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>).  If successful, it modifies
<var>template</var> in place and returns a file descriptor for that file open
for reading and writing.  If <code>mkstemp</code> cannot create a
uniquely-named file, it returns <code>-1</code>.  If <var>template</var> does not
end with <code>XXXXXX</code>, <code>mkstemp</code> returns <code>-1</code> and does not
modify <var>template</var>.

<p>The file is opened using mode <code>0600</code>.  If the file is meant to be
used by other users this mode must be changed explicitly. 
</td></tr>
</table>

<p>Unlike <code>mktemp</code>, <code>mkstemp</code> is actually guaranteed to create a
unique file that cannot possibly clash with any other program trying to
create a temporary file.  This is because it works by calling
<code>open</code> with the <code>O_EXCL</code> flag, which says you want to create a
new file and get an error if the file already exists.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>mkdtemp</b><i> (char *<var>template</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mkdtemp</code> function creates a directory with a unique name.  If
it succeeds, it overwrites <var>template</var> with the name of the
directory, and returns <var>template</var>.  As with <code>mktemp</code> and
<code>mkstemp</code>, <var>template</var> should be a string ending with
<code>XXXXXX</code>.

<p>If <code>mkdtemp</code> cannot create an uniquely named directory, it returns
<code>NULL</code> and sets <var>errno</var> appropriately.  If <var>template</var> does
not end with <code>XXXXXX</code>, <code>mkdtemp</code> returns <code>NULL</code> and does
not modify <var>template</var>.  <var>errno</var> will be set to <code>EINVAL</code> in
this case.

<p>The directory is created using mode <code>0700</code>. 
</td></tr>
</table>

<p>The directory created by <code>mkdtemp</code> cannot clash with temporary
files or directories created by other users.  This is because directory
creation always works like <code>open</code> with <code>O_EXCL</code>. 
See <a href="#Creating%20Directories">Creating Directories</a>.

<p>The <code>mkdtemp</code> function comes from OpenBSD.

<p><hr>
Node:<a name="Pipes%20and%20FIFOs">Pipes and FIFOs</a>,
Next:<a rel=next accesskey=n href="#Sockets">Sockets</a>,
Previous:<a rel=previous accesskey=p href="#File%20System%20Interface">File System Interface</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Pipes and FIFOs</h2>

<p>A <dfn>pipe</dfn> is a mechanism for interprocess communication; data written
to the pipe by one process can be read by another process.  The data is
handled in a first-in, first-out (FIFO) order.  The pipe has no name; it
is created for one use and both ends must be inherited from the single
process which created the pipe.

<p>A <dfn>FIFO special file</dfn> is similar to a pipe, but instead of being an
anonymous, temporary connection, a FIFO has a name or names like any
other file.  Processes open the FIFO by name in order to communicate
through it.

<p>A pipe or FIFO has to be open at both ends simultaneously.  If you read
from a pipe or FIFO file that doesn't have any processes writing to it
(perhaps because they have all closed the file, or exited), the read
returns end-of-file.  Writing to a pipe or FIFO that doesn't have a
reading process is treated as an error condition; it generates a
<code>SIGPIPE</code> signal, and fails with error code <code>EPIPE</code> if the
signal is handled or blocked.

<p>Neither pipes nor FIFO special files allow file positioning.  Both
reading and writing operations happen sequentially; reading from the
beginning of the file and writing at the end.

<ul>
<li><a accesskey=1 href="#Creating%20a%20Pipe">Creating a Pipe</a>:              Making a pipe with the <code>pipe</code> function. 
<li><a accesskey=2 href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>:         Using a pipe to communicate with a
				 child process. 
<li><a accesskey=3 href="#FIFO%20Special%20Files">FIFO Special Files</a>:           Making a FIFO special file. 
<li><a accesskey=4 href="#Pipe%20Atomicity">Pipe Atomicity</a>: 		When pipe (or FIFO) I/O is atomic. 
</ul>

<p><hr>
Node:<a name="Creating%20a%20Pipe">Creating a Pipe</a>,
Next:<a rel=next accesskey=n href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>,
Up:<a rel=up accesskey=u href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<br>

<h3>Creating a Pipe</h3>

<p>The primitive for creating a pipe is the <code>pipe</code> function.  This
creates both the reading and writing ends of the pipe.  It is not very
useful for a single process to use a pipe to talk to itself.  In typical
use, a process creates a pipe just before it forks one or more child
processes (see <a href="#Creating%20a%20Process">Creating a Process</a>).  The pipe is then used for
communication either between the parent or child processes, or between
two sibling processes.

<p>The <code>pipe</code> function is declared in the header file
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>pipe</b><i> (int <var>filedes</var><tt>[2]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pipe</code> function creates a pipe and puts the file descriptors
for the reading and writing ends of the pipe (respectively) into
<code><var>filedes</var>[0]</code> and <code><var>filedes</var>[1]</code>.

<p>An easy way to remember that the input end comes first is that file
descriptor <code>0</code> is standard input, and file descriptor <code>1</code> is
standard output.

<p>If successful, <code>pipe</code> returns a value of <code>0</code>.  On failure,
<code>-1</code> is returned.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EMFILE</code>
<dd>The process has too many files open.

<br><dt><code>ENFILE</code>
<dd>There are too many open files in the entire system.  See <a href="#Error%20Codes">Error Codes</a>,
for more information about <code>ENFILE</code>.  This error never occurs in
the GNU system. 
</dl>
</td></tr>
</table>

<p>Here is an example of a simple program that creates a pipe.  This program
uses the <code>fork</code> function (see <a href="#Creating%20a%20Process">Creating a Process</a>) to create
a child process.  The parent process writes data to the pipe, which is
read by the child process.

<br><pre>

#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/* Read characters from the pipe and echo them to <code>stdout</code>. */

void
read_from_pipe (int file)
{
  FILE *stream;
  int c;
  stream = fdopen (file, "r");
  while ((c = fgetc (stream)) != EOF)
    putchar (c);
  fclose (stream);
}

/* Write some random text to the pipe. */

void
write_to_pipe (int file)
{
  FILE *stream;
  stream = fdopen (file, "w");
  fprintf (stream, "hello, world!\n");
  fprintf (stream, "goodbye, world!\n");
  fclose (stream);
}

int
main (void)
{
  pid_t pid;
  int mypipe[2];

  /* Create the pipe. */
  if (pipe (mypipe))
    {
      fprintf (stderr, "Pipe failed.\n");
      return EXIT_FAILURE;
    }

  /* Create the child process. */
  pid = fork ();
  if (pid == (pid_t) 0)
    {
      /* This is the child process.
         Close other end first. */
      close (mypipe[1]);
      read_from_pipe (mypipe[0]);
      return EXIT_SUCCESS;
    }
  else if (pid &lt; (pid_t) 0)
    {
      /* The fork failed. */
      fprintf (stderr, "Fork failed.\n");
      return EXIT_FAILURE;
    }
  else
    {
      /* This is the parent process.
         Close other end first. */
      close (mypipe[0]);
      write_to_pipe (mypipe[1]);
      return EXIT_SUCCESS;
    }
}
</pre>

<p><hr>
Node:<a name="Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>,
Next:<a rel=next accesskey=n href="#FIFO%20Special%20Files">FIFO Special Files</a>,
Previous:<a rel=previous accesskey=p href="#Creating%20a%20Pipe">Creating a Pipe</a>,
Up:<a rel=up accesskey=u href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<br>

<h3>Pipe to a Subprocess</h3>

<p>A common use of pipes is to send data to or receive data from a program
being run as a subprocess.  One way of doing this is by using a combination of
<code>pipe</code> (to create the pipe), <code>fork</code> (to create the subprocess),
<code>dup2</code> (to force the subprocess to use the pipe as its standard input
or output channel), and <code>exec</code> (to execute the new program).  Or,
you can use <code>popen</code> and <code>pclose</code>.

<p>The advantage of using <code>popen</code> and <code>pclose</code> is that the
interface is much simpler and easier to use.  But it doesn't offer as
much flexibility as using the low-level functions directly.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>popen</b><i> (const char *<var>command</var>, const char *<var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>popen</code> function is closely related to the <code>system</code>
function; see <a href="#Running%20a%20Command">Running a Command</a>.  It executes the shell command
<var>command</var> as a subprocess.  However, instead of waiting for the
command to complete, it creates a pipe to the subprocess and returns a
stream that corresponds to that pipe.

<p>If you specify a <var>mode</var> argument of <code>"r"</code>, you can read from the
stream to retrieve data from the standard output channel of the subprocess. 
The subprocess inherits its standard input channel from the parent process.

<p>Similarly, if you specify a <var>mode</var> argument of <code>"w"</code>, you can
write to the stream to send data to the standard input channel of the
subprocess.  The subprocess inherits its standard output channel from
the parent process.

<p>In the event of an error <code>popen</code> returns a null pointer.  This
might happen if the pipe or stream cannot be created, if the subprocess
cannot be forked, or if the program cannot be executed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>pclose</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pclose</code> function is used to close a stream created by <code>popen</code>. 
It waits for the child process to terminate and returns its status value,
as for the <code>system</code> function. 
</td></tr>
</table>

<p>Here is an example showing how to use <code>popen</code> and <code>pclose</code> to
filter output through another program, in this case the paging program
<code>more</code>.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

void
write_data (FILE * stream)
{
  int i;
  for (i = 0; i &lt; 100; i++)
    fprintf (stream, "%d\n", i);
  if (ferror (stream))
    {
      fprintf (stderr, "Output to stream failed.\n");
      exit (EXIT_FAILURE);
    }
}

int
main (void)
{
  FILE *output;

  output = popen ("more", "w");
  if (!output)
    {
      fprintf (stderr,
               "incorrect parameters or too many files.\n");
      return EXIT_FAILURE;
    }
  write_data (output);
  if (pclose (output) != 0)
    {
      fprintf (stderr,
               "Could not run more or other error.\n");
    }
  return EXIT_SUCCESS;
}
</pre>

<p><hr>
Node:<a name="FIFO%20Special%20Files">FIFO Special Files</a>,
Next:<a rel=next accesskey=n href="#Pipe%20Atomicity">Pipe Atomicity</a>,
Previous:<a rel=previous accesskey=p href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>,
Up:<a rel=up accesskey=u href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<br>

<h3>FIFO Special Files</h3>

<p>A FIFO special file is similar to a pipe, except that it is created in a
different way.  Instead of being an anonymous communications channel, a
FIFO special file is entered into the file system by calling
<code>mkfifo</code>.

<p>Once you have created a FIFO special file in this way, any process can
open it for reading or writing, in the same way as an ordinary file. 
However, it has to be open at both ends simultaneously before you can
proceed to do any input or output operations on it.  Opening a FIFO for
reading normally blocks until some other process opens the same FIFO for
writing, and vice versa.

<p>The <code>mkfifo</code> function is declared in the header file
<code>sys/stat.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mkfifo</b><i> (const char *<var>filename</var>, mode_t <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mkfifo</code> function makes a FIFO special file with name
<var>filename</var>.  The <var>mode</var> argument is used to set the file's
permissions; see <a href="#Setting%20Permissions">Setting Permissions</a>.

<p>The normal, successful return value from <code>mkfifo</code> is <code>0</code>.  In
the case of an error, <code>-1</code> is returned.  In addition to the usual
file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EEXIST</code>
<dd>The named file already exists.

<br><dt><code>ENOSPC</code>
<dd>The directory or file system cannot be extended.

<br><dt><code>EROFS</code>
<dd>The directory that would contain the file resides on a read-only file
system. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Pipe%20Atomicity">Pipe Atomicity</a>,
Previous:<a rel=previous accesskey=p href="#FIFO%20Special%20Files">FIFO Special Files</a>,
Up:<a rel=up accesskey=u href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<br>

<h3>Atomicity of Pipe I/O</h3>

<p>Reading or writing pipe data is <dfn>atomic</dfn> if the size of data written
is not greater than <code>PIPE_BUF</code>.  This means that the data transfer
seems to be an instantaneous unit, in that nothing else in the system
can observe a state in which it is partially complete.  Atomic I/O may
not begin right away (it may need to wait for buffer space or for data),
but once it does begin it finishes immediately.

<p>Reading or writing a larger amount of data may not be atomic; for
example, output data from other processes sharing the descriptor may be
interspersed.  Also, once <code>PIPE_BUF</code> characters have been written,
further writes will block until some characters are read.

<p>See <a href="#Limits%20for%20Files">Limits for Files</a>, for information about the <code>PIPE_BUF</code>
parameter.

<p><hr>
Node:<a name="Sockets">Sockets</a>,
Next:<a rel=next accesskey=n href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>,
Previous:<a rel=previous accesskey=p href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Sockets</h2>

<p>This chapter describes the GNU facilities for interprocess
communication using sockets.

<p>A <dfn>socket</dfn> is a generalized interprocess communication channel. 
Like a pipe, a socket is represented as a file descriptor.  Unlike pipes
sockets support communication between unrelated processes, and even
between processes running on different machines that communicate over a
network.  Sockets are the primary means of communicating with other
machines; <code>telnet</code>, <code>rlogin</code>, <code>ftp</code>, <code>talk</code> and the
other familiar network programs use sockets.

<p>Not all operating systems support sockets.  In the GNU library, the
header file <code>sys/socket.h</code> exists regardless of the operating
system, and the socket functions always exist, but if the system does
not really support sockets these functions always fail.

<p><strong>Incomplete:</strong> We do not currently document the facilities for
broadcast messages or for configuring Internet interfaces.  The
reentrant functions and some newer functions that are related to IPv6
aren't documented either so far.

<ul>
<li><a accesskey=1 href="#Socket%20Concepts">Socket Concepts</a>: 	Basic concepts you need to know about. 
<li><a accesskey=2 href="#Communication%20Styles">Communication Styles</a>: Stream communication, datagrams and other styles. 
<li><a accesskey=3 href="#Socket%20Addresses">Socket Addresses</a>: 	How socket names (``addresses'') work. 
<li><a accesskey=4 href="#Interface%20Naming">Interface Naming</a>: 	Identifying specific network interfaces. 
<li><a accesskey=5 href="#Local%20Namespace">Local Namespace</a>: 	Details about the local namespace. 
<li><a accesskey=6 href="#Internet%20Namespace">Internet Namespace</a>: 	Details about the Internet namespace. 
<li><a accesskey=7 href="#Misc%20Namespaces">Misc Namespaces</a>: 	Other namespaces not documented fully here. 
<li><a accesskey=8 href="#Open%2fClose%20Sockets">Open/Close Sockets</a>:   Creating sockets and destroying them. 
<li><a accesskey=9 href="#Connections">Connections</a>: 		Operations on sockets with connection state. 
<li><a href="#Datagrams">Datagrams</a>: 		Operations on datagram sockets. 
<li><a href="#Inetd">Inetd</a>: 		Inetd is a daemon that starts servers on request. 
			   The most convenient way to write a server
			   is to make it work with Inetd. 
<li><a href="#Socket%20Options">Socket Options</a>: 	Miscellaneous low-level socket options. 
<li><a href="#Networks%20Database">Networks Database</a>:    Accessing the database of network names. 
</ul>

<p><hr>
Node:<a name="Socket%20Concepts">Socket Concepts</a>,
Next:<a rel=next accesskey=n href="#Communication%20Styles">Communication Styles</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Socket Concepts</h3>

<p>When you create a socket, you must specify the style of communication
you want to use and the type of protocol that should implement it. 
The <dfn>communication style</dfn> of a socket defines the user-level
semantics of sending and receiving data on the socket.  Choosing a
communication style specifies the answers to questions such as these:

<ul>
<li><strong>What are the units of data transmission?</strong>  Some communication
styles regard the data as a sequence of bytes with no larger
structure; others group the bytes into records (which are known in
this context as <dfn>packets</dfn>).

<li><strong>Can data be lost during normal operation?</strong>  Some communication
styles guarantee that all the data sent arrives in the order it was
sent (barring system or network crashes); other styles occasionally
lose data as a normal part of operation, and may sometimes deliver
packets more than once or in the wrong order.

<p>Designing a program to use unreliable communication styles usually
involves taking precautions to detect lost or misordered packets and
to retransmit data as needed.

</p><li><strong>Is communication entirely with one partner?</strong>  Some
communication styles are like a telephone call--you make a
<dfn>connection</dfn> with one remote socket and then exchange data
freely.  Other styles are like mailing letters--you specify a
destination address for each message you send. 
</ul>

<p>You must also choose a <dfn>namespace</dfn> for naming the socket.  A socket
name ("address") is meaningful only in the context of a particular
namespace.  In fact, even the data type to use for a socket name may
depend on the namespace.  Namespaces are also called "domains", but we
avoid that word as it can be confused with other usage of the same
term.  Each namespace has a symbolic name that starts with <code>PF_</code>. 
A corresponding symbolic name starting with <code>AF_</code> designates the
address format for that namespace.

<p>Finally you must choose the <dfn>protocol</dfn> to carry out the
communication.  The protocol determines what low-level mechanism is used
to transmit and receive data.  Each protocol is valid for a particular
namespace and communication style; a namespace is sometimes called a
<dfn>protocol family</dfn> because of this, which is why the namespace names
start with <code>PF_</code>.

<p>The rules of a protocol apply to the data passing between two programs,
perhaps on different computers; most of these rules are handled by the
operating system and you need not know about them.  What you do need to
know about protocols is this:

<ul>
<li>In order to have communication between two sockets, they must specify
the <em>same</em> protocol.

<li>Each protocol is meaningful with particular style/namespace
combinations and cannot be used with inappropriate combinations.  For
example, the TCP protocol fits only the byte stream style of
communication and the Internet namespace.

<li>For each combination of style and namespace there is a <dfn>default
protocol</dfn>, which you can request by specifying 0 as the protocol
number.  And that's what you should normally do--use the default. 
</ul>

<p>Throughout the following description at various places
variables/parameters to denote sizes are required.  And here the trouble
starts.  In the first implementations the type of these variables was
simply <code>int</code>.  On most machines at that time an <code>int</code> was 32
bits wide, which created a <em>de facto</em> standard requiring 32-bit
variables.  This is important since references to variables of this type
are passed to the kernel.

<p>Then the POSIX people came and unified the interface with the words "all
size values are of type <code>size_t</code>".  On 64-bit machines
<code>size_t</code> is 64 bits wide, so pointers to variables were no longer
possible.

<p>The Unix98 specification provides a solution by introducing a type
<code>socklen_t</code>.  This type is used in all of the cases that POSIX
changed to use <code>size_t</code>.  The only requirement of this type is that
it be an unsigned type of at least 32 bits.  Therefore, implementations
which require that references to 32-bit variables be passed can be as
happy as implementations which use 64-bit values.

<p><hr>
Node:<a name="Communication%20Styles">Communication Styles</a>,
Next:<a rel=next accesskey=n href="#Socket%20Addresses">Socket Addresses</a>,
Previous:<a rel=previous accesskey=p href="#Socket%20Concepts">Socket Concepts</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Communication Styles</h3>

<p>The GNU library includes support for several different kinds of sockets,
each with different characteristics.  This section describes the
supported socket types.  The symbolic constants listed here are
defined in <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SOCK_STREAM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SOCK_STREAM</code> style is like a pipe (see <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>). 
It operates over a connection with a particular remote socket and
transmits data reliably as a stream of bytes.

<p>Use of this style is covered in detail in <a href="#Connections">Connections</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SOCK_DGRAM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SOCK_DGRAM</code> style is used for sending
individually-addressed packets unreliably. 
It is the diametrical opposite of <code>SOCK_STREAM</code>.

<p>Each time you write data to a socket of this kind, that data becomes
one packet.  Since <code>SOCK_DGRAM</code> sockets do not have connections,
you must specify the recipient address with each packet.

<p>The only guarantee that the system makes about your requests to
transmit data is that it will try its best to deliver each packet you
send.  It may succeed with the sixth packet after failing with the
fourth and fifth packets; the seventh packet may arrive before the
sixth, and may arrive a second time after the sixth.

<p>The typical use for <code>SOCK_DGRAM</code> is in situations where it is
acceptable to simply re-send a packet if no response is seen in a
reasonable amount of time.

<p>See <a href="#Datagrams">Datagrams</a>, for detailed information about how to use datagram
sockets. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SOCK_RAW</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This style provides access to low-level network protocols and
interfaces.  Ordinary user programs usually have no need to use this
style. 
</td></tr>
</table>

<p><hr>
Node:<a name="Socket%20Addresses">Socket Addresses</a>,
Next:<a rel=next accesskey=n href="#Interface%20Naming">Interface Naming</a>,
Previous:<a rel=previous accesskey=p href="#Communication%20Styles">Communication Styles</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Socket Addresses</h3>

<p>The name of a socket is normally called an <dfn>address</dfn>.  The
functions and symbols for dealing with socket addresses were named
inconsistently, sometimes using the term "name" and sometimes using
"address".  You can regard these terms as synonymous where sockets
are concerned.

<p>A socket newly created with the <code>socket</code> function has no
address.  Other processes can find it for communication only if you
give it an address.  We call this <dfn>binding</dfn> the address to the
socket, and the way to do it is with the <code>bind</code> function.

<p>You need be concerned with the address of a socket if other processes
are to find it and start communicating with it.  You can specify an
address for other sockets, but this is usually pointless; the first time
you send data from a socket, or use it to initiate a connection, the
system assigns an address automatically if you have not specified one.

<p>Occasionally a client needs to specify an address because the server
discriminates based on address; for example, the rsh and rlogin
protocols look at the client's socket address and only bypass password
checking if it is less than <code>IPPORT_RESERVED</code> (see <a href="#Ports">Ports</a>).

<p>The details of socket addresses vary depending on what namespace you are
using.  See <a href="#Local%20Namespace">Local Namespace</a>, or <a href="#Internet%20Namespace">Internet Namespace</a>, for specific
information.

<p>Regardless of the namespace, you use the same functions <code>bind</code> and
<code>getsockname</code> to set and examine a socket's address.  These
functions use a phony data type, <code>struct sockaddr *</code>, to accept the
address.  In practice, the address lives in a structure of some other
data type appropriate to the address format you are using, but you cast
its address to <code>struct sockaddr *</code> when you pass it to
<code>bind</code>.

<ul>
<li><a accesskey=1 href="#Address%20Formats">Address Formats</a>: 		About <code>struct sockaddr</code>. 
<li><a accesskey=2 href="#Setting%20Address">Setting Address</a>: 		Binding an address to a socket. 
<li><a accesskey=3 href="#Reading%20Address">Reading Address</a>: 		Reading the address of a socket. 
</ul>

<p><hr>
Node:<a name="Address%20Formats">Address Formats</a>,
Next:<a rel=next accesskey=n href="#Setting%20Address">Setting Address</a>,
Up:<a rel=up accesskey=u href="#Socket%20Addresses">Socket Addresses</a>
<br>

<h4>Address Formats</h4>

<p>The functions <code>bind</code> and <code>getsockname</code> use the generic data
type <code>struct sockaddr *</code> to represent a pointer to a socket
address.  You can't use this data type effectively to interpret an
address or construct one; for that, you must use the proper data type
for the socket's namespace.

<p>Thus, the usual practice is to construct an address of the proper
namespace-specific type, then cast a pointer to <code>struct sockaddr *</code>
when you call <code>bind</code> or <code>getsockname</code>.

<p>The one piece of information that you can get from the <code>struct
sockaddr</code> data type is the <dfn>address format designator</dfn>.  This tells
you which data type to use to understand the address fully.

<p>The symbols in this section are defined in the header file
<code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sockaddr</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>struct sockaddr</code> type itself has the following members:

<dl>
<dt><code>short int sa_family</code>
<dd>This is the code for the address format of this address.  It
identifies the format of the data which follows.

<br><dt><code>char sa_data[14]</code>
<dd>This is the actual socket address data, which is format-dependent.  Its
length also depends on the format, and may well be more than 14.  The
length 14 of <code>sa_data</code> is essentially arbitrary. 
</dl>
</td></tr>
</table>

<p>Each address format has a symbolic name which starts with <code>AF_</code>. 
Each of them corresponds to a <code>PF_</code> symbol which designates the
corresponding namespace.  Here is a list of address format names:

<dl>
<dt><code>AF_LOCAL</code>
<dd>This designates the address format that goes with the local namespace. 
(<code>PF_LOCAL</code> is the name of that namespace.)  See <a href="#Local%20Namespace%20Details">Local Namespace Details</a>, for information about this address format.

<br><dt><code>AF_UNIX</code>
<dd>This is a synonym for <code>AF_LOCAL</code>.  Although <code>AF_LOCAL</code> is
mandated by POSIX.1g, <code>AF_UNIX</code> is portable to more systems. 
<code>AF_UNIX</code> was the traditional name stemming from BSD, so even most
POSIX systems support it.  It is also the name of choice in the Unix98
specification. (The same is true for <code>PF_UNIX</code>
vs. <code>PF_LOCAL</code>).

<br><dt><code>AF_FILE</code>
<dd>This is another synonym for <code>AF_LOCAL</code>, for compatibility. 
(<code>PF_FILE</code> is likewise a synonym for <code>PF_LOCAL</code>.)

<br><dt><code>AF_INET</code>
<dd>This designates the address format that goes with the Internet
namespace.  (<code>PF_INET</code> is the name of that namespace.) 
See <a href="#Internet%20Address%20Formats">Internet Address Formats</a>.

<br><dt><code>AF_INET6</code>
<dd>This is similar to <code>AF_INET</code>, but refers to the IPv6 protocol. 
(<code>PF_INET6</code> is the name of the corresponding namespace.)

<br><dt><code>AF_UNSPEC</code>
<dd>This designates no particular address format.  It is used only in rare
cases, such as to clear out the default destination address of a
"connected" datagram socket.  See <a href="#Sending%20Datagrams">Sending Datagrams</a>.

<p>The corresponding namespace designator symbol <code>PF_UNSPEC</code> exists
for completeness, but there is no reason to use it in a program. 
</dl>

<p><code>sys/socket.h</code> defines symbols starting with <code>AF_</code> for many
different kinds of networks, most or all of which are not actually
implemented.  We will document those that really work as we receive
information about how to use them.

<p><hr>
Node:<a name="Setting%20Address">Setting Address</a>,
Next:<a rel=next accesskey=n href="#Reading%20Address">Reading Address</a>,
Previous:<a rel=previous accesskey=p href="#Address%20Formats">Address Formats</a>,
Up:<a rel=up accesskey=u href="#Socket%20Addresses">Socket Addresses</a>
<br>

<h4>Setting the Address of a Socket</h4>

<p>Use the <code>bind</code> function to assign an address to a socket.  The
prototype for <code>bind</code> is in the header file <code>sys/socket.h</code>. 
For examples of use, see <a href="#Local%20Socket%20Example">Local Socket Example</a>, or see <a href="#Inet%20Example">Inet Example</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>bind</b><i> (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>bind</code> function assigns an address to the socket
<var>socket</var>.  The <var>addr</var> and <var>length</var> arguments specify the
address; the detailed format of the address depends on the namespace. 
The first part of the address is always the format designator, which
specifies a namespace, and says that the address is in the format of
that namespace.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>EADDRNOTAVAIL</code>
<dd>The specified address is not available on this machine.

<br><dt><code>EADDRINUSE</code>
<dd>Some other socket is already using the specified address.

<br><dt><code>EINVAL</code>
<dd>The socket <var>socket</var> already has an address.

<br><dt><code>EACCES</code>
<dd>You do not have permission to access the requested address.  (In the
Internet domain, only the super-user is allowed to specify a port number
in the range 0 through <code>IPPORT_RESERVED</code> minus one; see
<a href="#Ports">Ports</a>.) 
</dl>

<p>Additional conditions may be possible depending on the particular namespace
of the socket. 
</td></tr>
</table>

<p><hr>
Node:<a name="Reading%20Address">Reading Address</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20Address">Setting Address</a>,
Up:<a rel=up accesskey=u href="#Socket%20Addresses">Socket Addresses</a>
<br>

<h4>Reading the Address of a Socket</h4>

<p>Use the function <code>getsockname</code> to examine the address of an
Internet socket.  The prototype for this function is in the header file
<code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getsockname</b><i> (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getsockname</code> function returns information about the
address of the socket <var>socket</var> in the locations specified by the
<var>addr</var> and <var>length-ptr</var> arguments.  Note that the
<var>length-ptr</var> is a pointer; you should initialize it to be the
allocation size of <var>addr</var>, and on return it contains the actual
size of the address data.

<p>The format of the address data depends on the socket namespace.  The
length of the information is usually fixed for a given namespace, so
normally you can know exactly how much space is needed and can provide
that much.  The usual practice is to allocate a place for the value
using the proper data type for the socket's namespace, then cast its
address to <code>struct sockaddr *</code> to pass it to <code>getsockname</code>.

<p>The return value is <code>0</code> on success and <code>-1</code> on error.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>ENOBUFS</code>
<dd>There are not enough internal buffers available for the operation. 
</dl>
</td></tr>
</table>

<p>You can't read the address of a socket in the file namespace.  This is
consistent with the rest of the system; in general, there's no way to
find a file's name from a descriptor for that file.

<p><hr>
Node:<a name="Interface%20Naming">Interface Naming</a>,
Next:<a rel=next accesskey=n href="#Local%20Namespace">Local Namespace</a>,
Previous:<a rel=previous accesskey=p href="#Socket%20Addresses">Socket Addresses</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Interface Naming</h3>

<p>Each network interface has a name.  This usually consists of a few
letters that relate to the type of interface, which may be followed by a
number if there is more than one interface of that type.  Examples
might be <code>lo</code> (the loopback interface) and <code>eth0</code> (the first
Ethernet interface).

<p>Although such names are convenient for humans, it would be clumsy to
have to use them whenever a program needs to refer to an interface.  In
such situations an interface is referred to by its <dfn>index</dfn>, which is
an arbitrarily-assigned small positive integer.

<p>The following functions, constants and data types are declared in the
header file <code>net/if.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>IFNAMSIZ</b><i>
</i></td>
<td align="right">Constant</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant defines the maximum buffer size needed to hold an
interface name, including its terminating zero byte. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned int <b>if_nametoindex</b><i> (const char *ifname)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function yields the interface index corresponding to a particular
name.  If no interface exists with the name given, it returns 0. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>if_indextoname</b><i> (unsigned int ifindex, char *ifname)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function maps an interface index to its corresponding name.  The
returned name is placed in the buffer pointed to by <code>ifname</code>, which
must be at least <code>IFNAMSIZ</code> bytes in length.  If the index was
invalid, the function's return value is a null pointer, otherwise it is
<code>ifname</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct if_nameindex</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to hold the information about a single
interface.  It has the following members:

<dl>
<dt><code>unsigned int if_index;</code>
<dd>This is the interface index.

<br><dt><code>char *if_name</code>
<dd>This is the null-terminated index name.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct if_nameindex * <b>if_nameindex</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns an array of <code>if_nameindex</code> structures, one
for every interface that is present.  The end of the list is indicated
by a structure with an interface of 0 and a null name pointer.  If an
error occurs, this function returns a null pointer.

<p>The returned structure must be freed with <code>if_freenameindex</code> after
use. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>if_freenameindex</b><i> (struct if_nameindex *ptr)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function frees the structure returned by an earlier call to
<code>if_nameindex</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Local%20Namespace">Local Namespace</a>,
Next:<a rel=next accesskey=n href="#Internet%20Namespace">Internet Namespace</a>,
Previous:<a rel=previous accesskey=p href="#Interface%20Naming">Interface Naming</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>The Local Namespace</h3>

<p>This section describes the details of the local namespace, whose
symbolic name (required when you create a socket) is <code>PF_LOCAL</code>. 
The local namespace is also known as "Unix domain sockets".  Another
name is file namespace since socket addresses are normally implemented
as file names.

<ul>
<li><a accesskey=1 href="#Local%20Namespace%20Concepts">Concepts</a>:  What you need to understand. 
<li><a accesskey=2 href="#Local%20Namespace%20Details">Details</a>:    Address format, symbolic names, etc. 
<li><a accesskey=3 href="#Local%20Socket%20Example">Example</a>:       Example of creating a socket. 
</ul>

<p><hr>
Node:<a name="Local%20Namespace%20Concepts">Local Namespace Concepts</a>,
Next:<a rel=next accesskey=n href="#Local%20Namespace%20Details">Local Namespace Details</a>,
Up:<a rel=up accesskey=u href="#Local%20Namespace">Local Namespace</a>
<br>

<h4>Local Namespace Concepts</h4>

<p>In the local namespace socket addresses are file names.  You can specify
any file name you want as the address of the socket, but you must have
write permission on the directory containing it. 
It's common to put these files in the <code>/tmp</code> directory.

<p>One peculiarity of the local namespace is that the name is only used
when opening the connection; once open the address is not meaningful and
may not exist.

<p>Another peculiarity is that you cannot connect to such a socket from
another machine-not even if the other machine shares the file system
which contains the name of the socket.  You can see the socket in a
directory listing, but connecting to it never succeeds.  Some programs
take advantage of this, such as by asking the client to send its own
process ID, and using the process IDs to distinguish between clients. 
However, we recommend you not use this method in protocols you design,
as we might someday permit connections from other machines that mount
the same file systems.  Instead, send each new client an identifying
number if you want it to have one.

<p>After you close a socket in the local namespace, you should delete the
file name from the file system.  Use <code>unlink</code> or <code>remove</code> to
do this; see <a href="#Deleting%20Files">Deleting Files</a>.

<p>The local namespace supports just one protocol for any communication
style; it is protocol number <code>0</code>.

<p><hr>
Node:<a name="Local%20Namespace%20Details">Local Namespace Details</a>,
Next:<a rel=next accesskey=n href="#Local%20Socket%20Example">Local Socket Example</a>,
Previous:<a rel=previous accesskey=p href="#Local%20Namespace%20Concepts">Local Namespace Concepts</a>,
Up:<a rel=up accesskey=u href="#Local%20Namespace">Local Namespace</a>
<br>

<h4>Details of Local Namespace</h4>

<p>To create a socket in the local namespace, use the constant
<code>PF_LOCAL</code> as the <var>namespace</var> argument to <code>socket</code> or
<code>socketpair</code>.  This constant is defined in <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>PF_LOCAL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This designates the local namespace, in which socket addresses are local
names, and its associated family of protocols.  <code>PF_Local</code> is the
macro used by Posix.1g. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>PF_UNIX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a synonym for <code>PF_LOCAL</code>, for compatibility's sake. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>PF_FILE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a synonym for <code>PF_LOCAL</code>, for compatibility's sake. 
</td></tr>
</table>

<p>The structure for specifying socket names in the local namespace is
defined in the header file <code>sys/un.h</code>:

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sockaddr_un</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used to specify local namespace socket addresses.  It has
the following members:

<dl>
<dt><code>short int sun_family</code>
<dd>This identifies the address family or format of the socket address. 
You should store the value <code>AF_LOCAL</code> to designate the local
namespace.  See <a href="#Socket%20Addresses">Socket Addresses</a>.

<br><dt><code>char sun_path[108]</code>
<dd>This is the file name to use.

<p><strong>Incomplete:</strong>  Why is 108 a magic number?  RMS suggests making
this a zero-length array and tweaking the following example to use
<code>alloca</code> to allocate an appropriate amount of storage based on
the length of the filename. 
</dl>
</td></tr>
</table>

<p>You should compute the <var>length</var> parameter for a socket address in
the local namespace as the sum of the size of the <code>sun_family</code>
component and the string length (<em>not</em> the allocation size!) of
the file name string.  This can be done using the macro <code>SUN_LEN</code>:

<p>
<table width="100%">
<tr>
<td align="left">int <b>SUN_LEN</b><i> (<em>struct sockaddr_un *</em> <var>ptr</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The macro computes the length of socket address in the local namespace. 
</td></tr>
</table>

<p><hr>
Node:<a name="Local%20Socket%20Example">Local Socket Example</a>,
Previous:<a rel=previous accesskey=p href="#Local%20Namespace%20Details">Local Namespace Details</a>,
Up:<a rel=up accesskey=u href="#Local%20Namespace">Local Namespace</a>
<br>

<h4>Example of Local-Namespace Sockets</h4>

<p>Here is an example showing how to create and name a socket in the local
namespace.

<br><pre>

#include &lt;stddef.h&gt;
#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;sys/un.h&gt;

int
make_named_socket (const char *filename)
{
  struct sockaddr_un name;
  int sock;
  size_t size;

  /* Create the socket. */
  sock = socket (PF_LOCAL, SOCK_DGRAM, 0);
  if (sock &lt; 0)
    {
      perror ("socket");
      exit (EXIT_FAILURE);
    }

  /* Bind a name to the socket. */
  name.sun_family = AF_LOCAL;
  strncpy (name.sun_path, filename, sizeof (name.sun_path));

  /* The size of the address is
     the offset of the start of the filename,
     plus its length,
     plus one for the terminating null byte.
     Alternatively you can just do:
     size = SUN_LEN (&amp;name);
 */
  size = (offsetof (struct sockaddr_un, sun_path)
          + strlen (name.sun_path) + 1);

  if (bind (sock, (struct sockaddr *) &amp;name, size) &lt; 0)
    {
      perror ("bind");
      exit (EXIT_FAILURE);
    }

  return sock;
}
</pre>

<p><hr>
Node:<a name="Internet%20Namespace">Internet Namespace</a>,
Next:<a rel=next accesskey=n href="#Misc%20Namespaces">Misc Namespaces</a>,
Previous:<a rel=previous accesskey=p href="#Local%20Namespace">Local Namespace</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>The Internet Namespace</h3>

<p>This section describes the details of the protocols and socket naming
conventions used in the Internet namespace.

<p>Originally the Internet namespace used only IP version 4 (IPv4).  With
the growing number of hosts on the Internet, a new protocol with a
larger address space was necessary: IP version 6 (IPv6).  IPv6
introduces 128-bit addresses (IPv4 has 32-bit addresses) and other
features, and will eventually replace IPv4.

<p>To create a socket in the IPv4 Internet namespace, use the symbolic name
<code>PF_INET</code> of this namespace as the <var>namespace</var> argument to
<code>socket</code> or <code>socketpair</code>.  For IPv6 addresses you need the
macro <code>PF_INET6</code>. These macros are defined in <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>PF_INET</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This designates the IPv4 Internet namespace and associated family of
protocols. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>PF_INET6</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This designates the IPv6 Internet namespace and associated family of
protocols. 
</td></tr>
</table>

<p>A socket address for the Internet namespace includes the following components:

<ul>
<li>The address of the machine you want to connect to.  Internet addresses
can be specified in several ways; these are discussed in <a href="#Internet%20Address%20Formats">Internet Address Formats</a>, <a href="#Host%20Addresses">Host Addresses</a> and <a href="#Host%20Names">Host Names</a>.

<li>A port number for that machine.  See <a href="#Ports">Ports</a>. 
</ul>

<p>You must ensure that the address and port number are represented in a
canonical format called <dfn>network byte order</dfn>.  See <a href="#Byte%20Order">Byte Order</a>,
for information about this.

<ul>
<li><a accesskey=1 href="#Internet%20Address%20Formats">Internet Address Formats</a>:     How socket addresses are specified in the
                                 Internet namespace. 
<li><a accesskey=2 href="#Host%20Addresses">Host Addresses</a>: 	        All about host addresses of Internet host. 
<li><a accesskey=3 href="#Protocols%20Database">Protocols Database</a>: 		Referring to protocols by name. 
<li><a accesskey=4 href="#Ports">Ports</a>: 			Internet port numbers. 
<li><a accesskey=5 href="#Services%20Database">Services Database</a>:            Ports may have symbolic names. 
<li><a accesskey=6 href="#Byte%20Order">Byte Order</a>: 		        Different hosts may use different byte
                                 ordering conventions; you need to
                                 canonicalize host address and port number. 
<li><a accesskey=7 href="#Inet%20Example">Inet Example</a>: 	        Putting it all together. 
</ul>

<p><hr>
Node:<a name="Internet%20Address%20Formats">Internet Address Formats</a>,
Next:<a rel=next accesskey=n href="#Host%20Addresses">Host Addresses</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Internet Socket Address Formats</h4>

<p>In the Internet namespace, for both IPv4 (<code>AF_INET</code>) and IPv6
(<code>AF_INET6</code>), a socket address consists of a host address
and a port on that host.  In addition, the protocol you choose serves
effectively as a part of the address because local port numbers are
meaningful only within a particular protocol.

<p>The data types for representing socket addresses in the Internet namespace
are defined in the header file <code>netinet/in.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sockaddr_in</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type used to represent socket addresses in the
Internet namespace.  It has the following members:

<dl>
<dt><code>sa_family_t sin_family</code>
<dd>This identifies the address family or format of the socket address. 
You should store the value <code>AF_INET</code> in this member. 
See <a href="#Socket%20Addresses">Socket Addresses</a>.

<br><dt><code>struct in_addr sin_addr</code>
<dd>This is the Internet address of the host machine.  See <a href="#Host%20Addresses">Host Addresses</a>, and <a href="#Host%20Names">Host Names</a>, for how to get a value to store
here.

<br><dt><code>unsigned short int sin_port</code>
<dd>This is the port number.  See <a href="#Ports">Ports</a>. 
</dl>
</td></tr>
</table>

<p>When you call <code>bind</code> or <code>getsockname</code>, you should specify
<code>sizeof (struct sockaddr_in)</code> as the <var>length</var> parameter if
you are using an IPv4 Internet namespace socket address.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sockaddr_in6</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type used to represent socket addresses in the IPv6
namespace.  It has the following members:

<dl>
<dt><code>sa_family_t sin6_family</code>
<dd>This identifies the address family or format of the socket address. 
You should store the value of <code>AF_INET6</code> in this member. 
See <a href="#Socket%20Addresses">Socket Addresses</a>.

<br><dt><code>struct in6_addr sin6_addr</code>
<dd>This is the IPv6 address of the host machine.  See <a href="#Host%20Addresses">Host Addresses</a>, and <a href="#Host%20Names">Host Names</a>, for how to get a value to store
here.

<br><dt><code>uint32_t sin6_flowinfo</code>
<dd>This is a currently unimplemented field.

<br><dt><code>uint16_t sin6_port</code>
<dd>This is the port number.  See <a href="#Ports">Ports</a>.

</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Host%20Addresses">Host Addresses</a>,
Next:<a rel=next accesskey=n href="#Protocols%20Database">Protocols Database</a>,
Previous:<a rel=previous accesskey=p href="#Internet%20Address%20Formats">Internet Address Formats</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Host Addresses</h4>

<p>Each computer on the Internet has one or more <dfn>Internet addresses</dfn>,
numbers which identify that computer among all those on the Internet. 
Users typically write IPv4 numeric host addresses as sequences of four
numbers, separated by periods, as in <code>128.52.46.32</code>, and IPv6
numeric host addresses as sequences of up to eight numbers separated by
colons, as in <code>5f03:1200:836f:c100::1</code>.

<p>Each computer also has one or more <dfn>host names</dfn>, which are strings
of words separated by periods, as in <code>mescaline.gnu.org</code>.

<p>Programs that let the user specify a host typically accept both numeric
addresses and host names.  To open a connection a program needs a
numeric address, and so must convert a host name to the numeric address
it stands for.

<ul>
<li><a accesskey=1 href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>: 	What a host number consists of. 
<li><a accesskey=2 href="#Host%20Address%20Data%20Type">Data type</a>: 	Data type for a host number. 
<li><a accesskey=3 href="#Host%20Address%20Functions">Functions</a>: 	Functions to operate on them. 
<li><a accesskey=4 href="#Host%20Names">Names</a>: 		Translating host names to host numbers. 
</ul>

<p><hr>
Node:<a name="Abstract%20Host%20Addresses">Abstract Host Addresses</a>,
Next:<a rel=next accesskey=n href="#Host%20Address%20Data%20Type">Host Address Data Type</a>,
Up:<a rel=up accesskey=u href="#Host%20Addresses">Host Addresses</a>
<br>

<h5>Internet Host Addresses</h5>

<p>An IPv4 Internet host address is a number containing four bytes of data. 
Historically these are divided into two parts, a <dfn>network number</dfn> and a
<dfn>local network address number</dfn> within that network.  In the
mid-1990s classless addresses were introduced which changed this
behavior.  Since some functions implicitly expect the old definitions,
we first describe the class-based network and will then describe
classless addresses.  IPv6 uses only classless addresses and therefore
the following paragraphs don't apply.

<p>The class-based IPv4 network number consists of the first one, two or
three bytes; the rest of the bytes are the local address.

<p>IPv4 network numbers are registered with the Network Information Center
(NIC), and are divided into three classes--A, B and C.  The local
network address numbers of individual machines are registered with the
administrator of the particular network.

<p>Class A networks have single-byte numbers in the range 0 to 127.  There
are only a small number of Class A networks, but they can each support a
very large number of hosts.  Medium-sized Class B networks have two-byte
network numbers, with the first byte in the range 128 to 191.  Class C
networks are the smallest; they have three-byte network numbers, with
the first byte in the range 192-255.  Thus, the first 1, 2, or 3 bytes
of an Internet address specify a network.  The remaining bytes of the
Internet address specify the address within that network.

<p>The Class A network 0 is reserved for broadcast to all networks.  In
addition, the host number 0 within each network is reserved for broadcast
to all hosts in that network.  These uses are obsolete now but for
compatibility reasons you shouldn't use network 0 and host number 0.

<p>The Class A network 127 is reserved for loopback; you can always use
the Internet address <code>127.0.0.1</code> to refer to the host machine.

<p>Since a single machine can be a member of multiple networks, it can
have multiple Internet host addresses.  However, there is never
supposed to be more than one machine with the same host address.

<p>There are four forms of the <dfn>standard numbers-and-dots notation</dfn>
for Internet addresses:

<dl>
<dt><code><var>a</var>.<var>b</var>.<var>c</var>.<var>d</var></code>
<dd>This specifies all four bytes of the address individually and is the
commonly used representation.

<br><dt><code><var>a</var>.<var>b</var>.<var>c</var></code>
<dd>The last part of the address, <var>c</var>, is interpreted as a 2-byte quantity. 
This is useful for specifying host addresses in a Class B network with
network address number <code><var>a</var>.<var>b</var></code>.

<br><dt><code><var>a</var>.<var>b</var></code>
<dd>The last part of the address, <var>b</var>, is interpreted as a 3-byte quantity. 
This is useful for specifying host addresses in a Class A network with
network address number <var>a</var>.

<br><dt><code><var>a</var></code>
<dd>If only one part is given, this corresponds directly to the host address
number. 
</dl>

<p>Within each part of the address, the usual C conventions for specifying
the radix apply.  In other words, a leading <code>0x</code> or <code>0X</code> implies
hexadecimal radix; a leading <code>0</code> implies octal; and otherwise decimal
radix is assumed.

<h5>Classless Addresses</h5>

<p>IPv4 addresses (and IPv6 addresses also) are now considered classless;
the distinction between classes A, B and C can be ignored.  Instead an
IPv4 host address consists of a 32-bit address and a 32-bit mask.  The
mask contains set bits for the network part and cleared bits for the
host part.  The network part is contiguous from the left, with the
remaining bits representing the host.  As a consequence, the netmask can
simply be specified as the number of set bits.  Classes A, B and C are
just special cases of this general rule.  For example, class A addresses
have a netmask of <code>255.0.0.0</code> or a prefix length of 8.

<p>Classless IPv4 network addresses are written in numbers-and-dots
notation with the prefix length appended and a slash as separator.  For
example the class A network 10 is written as <code>10.0.0.0/8</code>.

<h5>IPv6 Addresses</h5>

<p>IPv6 addresses contain 128 bits (IPv4 has 32 bits) of data.  A host
address is usually written as eight 16-bit hexadecimal numbers that are
separated by colons.  Two colons are used to abbreviate strings of
consecutive zeros.  For example, the IPv6 loopback address
<code>0:0:0:0:0:0:0:1</code> can just be written as <code>::1</code>.

<p><hr>
Node:<a name="Host%20Address%20Data%20Type">Host Address Data Type</a>,
Next:<a rel=next accesskey=n href="#Host%20Address%20Functions">Host Address Functions</a>,
Previous:<a rel=previous accesskey=p href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>,
Up:<a rel=up accesskey=u href="#Host%20Addresses">Host Addresses</a>
<br>

<h5>Host Address Data Type</h5>

<p>IPv4 Internet host addresses are represented in some contexts as integers
(type <code>uint32_t</code>).  In other contexts, the integer is
packaged inside a structure of type <code>struct in_addr</code>.  It would
be better if the usage were made consistent, but it is not hard to extract
the integer from the structure or put the integer into a structure.

<p>You will find older code that uses <code>unsigned long int</code> for
IPv4 Internet host addresses instead of <code>uint32_t</code> or <code>struct
in_addr</code>.  Historically <code>unsigned long int</code> was a 32-bit number but
with 64-bit machines this has changed.  Using <code>unsigned long int</code>
might break the code if it is used on machines where this type doesn't
have 32 bits.  <code>uint32_t</code> is specified by Unix98 and guaranteed to have
32 bits.

<p>IPv6 Internet host addresses have 128 bits and are packaged inside a
structure of type <code>struct in6_addr</code>.

<p>The following basic definitions for Internet addresses are declared in
the header file <code>netinet/in.h</code>:

<p>
<table width="100%">
<tr>
<td align="left"><b>struct in_addr</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used in certain contexts to contain an IPv4 Internet
host address.  It has just one field, named <code>s_addr</code>, which records
the host address number as an <code>uint32_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>INADDR_LOOPBACK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You can use this constant to stand for "the address of this machine,"
instead of finding its actual address.  It is the IPv4 Internet address
<code>127.0.0.1</code>, which is usually called <code>localhost</code>.  This
special constant saves you the trouble of looking up the address of your
own machine.  Also, the system usually implements <code>INADDR_LOOPBACK</code>
specially, avoiding any network traffic for the case of one machine
talking to itself. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>INADDR_ANY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You can use this constant to stand for "any incoming address" when
binding to an address.  See <a href="#Setting%20Address">Setting Address</a>.  This is the usual
address to give in the <code>sin_addr</code> member of <code>struct&nbsp;sockaddr_in</code> when you want to accept Internet connections. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>INADDR_BROADCAST</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant is the address you use to send a broadcast message. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>INADDR_NONE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant is returned by some functions to indicate an error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct in6_addr</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to store an IPv6 address.  It stores 128 bits of
data, which can be accessed (via a union) in a variety of ways. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct in6_addr <b>in6addr_loopback</b><i>
</i></td>
<td align="right">Constant</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant is the IPv6 address <code>::1</code>, the loopback address.  See
above for a description of what this means.  The macro
<code>IN6ADDR_LOOPBACK_INIT</code> is provided to allow you to initialize your
own variables to this value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct in6_addr <b>in6addr_any</b><i>
</i></td>
<td align="right">Constant</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant is the IPv6 address <code>::</code>, the unspecified address.  See
above for a description of what this means.  The macro
<code>IN6ADDR_ANY_INIT</code> is provided to allow you to initialize your
own variables to this value. 
</td></tr>
</table>

<p><hr>
Node:<a name="Host%20Address%20Functions">Host Address Functions</a>,
Next:<a rel=next accesskey=n href="#Host%20Names">Host Names</a>,
Previous:<a rel=previous accesskey=p href="#Host%20Address%20Data%20Type">Host Address Data Type</a>,
Up:<a rel=up accesskey=u href="#Host%20Addresses">Host Addresses</a>
<br>

<h5>Host Address Functions</h5>

<p>These additional functions for manipulating Internet addresses are
declared in the header file <code>arpa/inet.h</code>.  They represent Internet
addresses in network byte order, and network numbers and
local-address-within-network numbers in host byte order.  See <a href="#Byte%20Order">Byte Order</a>, for an explanation of network and host byte order.

<p>
<table width="100%">
<tr>
<td align="left">int <b>inet_aton</b><i> (const char *<var>name</var>, struct in_addr *<var>addr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the IPv4 Internet host address <var>name</var>
from the standard numbers-and-dots notation into binary data and stores
it in the <code>struct in_addr</code> that <var>addr</var> points to. 
<code>inet_aton</code> returns nonzero if the address is valid, zero if not. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>inet_addr</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the IPv4 Internet host address <var>name</var> from the
standard numbers-and-dots notation into binary data.  If the input is
not valid, <code>inet_addr</code> returns <code>INADDR_NONE</code>.  This is an
obsolete interface to <code>inet_aton</code>, described immediately above. It
is obsolete because <code>INADDR_NONE</code> is a valid address
(255.255.255.255), and <code>inet_aton</code> provides a cleaner way to
indicate error return. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>inet_network</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function extracts the network number from the address <var>name</var>,
given in the standard numbers-and-dots notation. The returned address is
in host order. If the input is not valid, <code>inet_network</code> returns
<code>-1</code>.

<p>The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>inet_ntoa</b><i> (struct in_addr <var>addr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the IPv4 Internet host address <var>addr</var> to a
string in the standard numbers-and-dots notation.  The return value is
a pointer into a statically-allocated buffer.  Subsequent calls will
overwrite the same buffer, so you should copy the string if you need
to save it.

<p>In multi-threaded programs each thread has an own statically-allocated
buffer.  But still subsequent calls of <code>inet_ntoa</code> in the same
thread will overwrite the result of the last call.

<p>Instead of <code>inet_ntoa</code> the newer function <code>inet_ntop</code> which is
described below should be used since it handles both IPv4 and IPv6
addresses. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct in_addr <b>inet_makeaddr</b><i> (uint32_t <var>net</var>, uint32_t <var>local</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function makes an IPv4 Internet host address by combining the network
number <var>net</var> with the local-address-within-network number
<var>local</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>inet_lnaof</b><i> (struct in_addr <var>addr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the local-address-within-network part of the
Internet host address <var>addr</var>.

<p>The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>inet_netof</b><i> (struct in_addr <var>addr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the network number part of the Internet host
address <var>addr</var>.

<p>The function works only with traditional IPv4 class A, B and C network
types.  It doesn't work with classless addresses and shouldn't be used
anymore. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>inet_pton</b><i> (int <var>af</var>, const char *<var>cp</var>, void *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts an Internet address (either IPv4 or IPv6) from
presentation (textual) to network (binary) format.  <var>af</var> should be
either <code>AF_INET</code> or <code>AF_INET6</code>, as appropriate for the type of
address being converted.  <var>cp</var> is a pointer to the input string, and
<var>buf</var> is a pointer to a buffer for the result.  It is the caller's
responsibility to make sure the buffer is large enough. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">const char * <b>inet_ntop</b><i> (int <var>af</var>, const void *<var>cp</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts an Internet address (either IPv4 or IPv6) from
network (binary) to presentation (textual) form.  <var>af</var> should be
either <code>AF_INET</code> or <code>AF_INET6</code>, as appropriate.  <var>cp</var> is a
pointer to the address to be converted.  <var>buf</var> should be a pointer
to a buffer to hold the result, and <var>len</var> is the length of this
buffer.  The return value from the function will be this buffer address. 
</td></tr>
</table>

<p><hr>
Node:<a name="Host%20Names">Host Names</a>,
Previous:<a rel=previous accesskey=p href="#Host%20Address%20Functions">Host Address Functions</a>,
Up:<a rel=up accesskey=u href="#Host%20Addresses">Host Addresses</a>
<br>

<h5>Host Names</h5>

<p>Besides the standard numbers-and-dots notation for Internet addresses,
you can also refer to a host by a symbolic name.  The advantage of a
symbolic name is that it is usually easier to remember.  For example,
the machine with Internet address <code>158.121.106.19</code> is also known as
<code>alpha.gnu.org</code>; and other machines in the <code>gnu.org</code>
domain can refer to it simply as <code>alpha</code>.

<p>Internally, the system uses a database to keep track of the mapping
between host names and host numbers.  This database is usually either
the file <code>/etc/hosts</code> or an equivalent provided by a name server. 
The functions and other symbols for accessing this database are declared
in <code>netdb.h</code>.  They are BSD features, defined unconditionally if
you include <code>netdb.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct hostent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to represent an entry in the hosts database.  It
has the following members:

<dl>
<dt><code>char *h_name</code>
<dd>This is the "official" name of the host.

<br><dt><code>char **h_aliases</code>
<dd>These are alternative names for the host, represented as a null-terminated
vector of strings.

<br><dt><code>int h_addrtype</code>
<dd>This is the host address type; in practice, its value is always either
<code>AF_INET</code> or <code>AF_INET6</code>, with the latter being used for IPv6
hosts.  In principle other kinds of addresses could be represented in
the database as well as Internet addresses; if this were done, you
might find a value in this field other than <code>AF_INET</code> or
<code>AF_INET6</code>.  See <a href="#Socket%20Addresses">Socket Addresses</a>.

<br><dt><code>int h_length</code>
<dd>This is the length, in bytes, of each address.

<br><dt><code>char **h_addr_list</code>
<dd>This is the vector of addresses for the host.  (Recall that the host
might be connected to multiple networks and have different addresses on
each one.)  The vector is terminated by a null pointer.

<br><dt><code>char *h_addr</code>
<dd>This is a synonym for <code>h_addr_list[0]</code>; in other words, it is the
first host address. 
</dl>
</td></tr>
</table>

<p>As far as the host database is concerned, each address is just a block
of memory <code>h_length</code> bytes long.  But in other contexts there is an
implicit assumption that you can convert IPv4 addresses to a
<code>struct in_addr</code> or an <code>uint32_t</code>.  Host addresses in
a <code>struct hostent</code> structure are always given in network byte
order; see <a href="#Byte%20Order">Byte Order</a>.

<p>You can use <code>gethostbyname</code>, <code>gethostbyname2</code> or
<code>gethostbyaddr</code> to search the hosts database for information about
a particular host.  The information is returned in a
statically-allocated structure; you must copy the information if you
need to save it across calls.  You can also use <code>getaddrinfo</code> and
<code>getnameinfo</code> to obtain this information.

<p>
<table width="100%">
<tr>
<td align="left">struct hostent * <b>gethostbyname</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyname</code> function returns information about the host
named <var>name</var>.  If the lookup fails, it returns a null pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct hostent * <b>gethostbyname2</b><i> (const char *<var>name</var>, int <var>af</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyname2</code> function is like <code>gethostbyname</code>, but
allows the caller to specify the desired address family (e.g. 
<code>AF_INET</code> or <code>AF_INET6</code>) of the result. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct hostent * <b>gethostbyaddr</b><i> (const char *<var>addr</var>, size_t <var>length</var>, int <var>format</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyaddr</code> function returns information about the host
with Internet address <var>addr</var>.  The parameter <var>addr</var> is not
really a pointer to char - it can be a pointer to an IPv4 or an IPv6
address. The <var>length</var> argument is the size (in bytes) of the address
at <var>addr</var>.  <var>format</var> specifies the address format; for an IPv4
Internet address, specify a value of <code>AF_INET</code>; for an IPv6
Internet address, use <code>AF_INET6</code>.

<p>If the lookup fails, <code>gethostbyaddr</code> returns a null pointer. 
</td></tr>
</table>

<p>If the name lookup by <code>gethostbyname</code> or <code>gethostbyaddr</code>
fails, you can find out the reason by looking at the value of the
variable <code>h_errno</code>.  (It would be cleaner design for these
functions to set <code>errno</code>, but use of <code>h_errno</code> is compatible
with other systems.)

<p>Here are the error codes that you may find in <code>h_errno</code>:

<dl>
<dt><code>HOST_NOT_FOUND</code>
<dd>No such host is known in the database.

<br><dt><code>TRY_AGAIN</code>
<dd>This condition happens when the name server could not be contacted.  If
you try again later, you may succeed then.

<br><dt><code>NO_RECOVERY</code>
<dd>A non-recoverable error occurred.

<br><dt><code>NO_ADDRESS</code>
<dd>The host database contains an entry for the name, but it doesn't have an
associated Internet address. 
</dl>

<p>The lookup functions above all have one in common: they are not
reentrant and therefore unusable in multi-threaded applications. 
Therefore provides the GNU C library a new set of functions which can be
used in this context.

<p>
<table width="100%">
<tr>
<td align="left">int <b>gethostbyname_r</b><i> (const char *restrict <var>name</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyname_r</code> function returns information about the host
named <var>name</var>.  The caller must pass a pointer to an object of type
<code>struct hostent</code> in the <var>result_buf</var> parameter.  In addition
the function may need extra buffer space and the caller must pass an
pointer and the size of the buffer in the <var>buf</var> and <var>buflen</var>
parameters.

<p>A pointer to the buffer, in which the result is stored, is available in
<code>*<var>result</var></code> after the function call successfully returned.  If
an error occurs or if no entry is found, the pointer <code>*<var>result</var></code>
is a null pointer.  Success is signalled by a zero return value.  If the
function failed the return value is an error number.  In addition to the
errors defined for <code>gethostbyname</code> it can also be <code>ERANGE</code>. 
In this case the call should be repeated with a larger buffer. 
Additional error information is not stored in the global variable
<code>h_errno</code> but instead in the object pointed to by <var>h_errnop</var>.

<p>Here's a small example:
<br><pre>struct hostent *
gethostname (char *host)
{
  struct hostent hostbuf, *hp;
  size_t hstbuflen;
  char *tmphstbuf;
  int res;
  int herr;

  hstbuflen = 1024;
  /* Allocate buffer, remember to free it to avoid memory leakage.  */
  tmphstbuf = malloc (hstbuflen);

  while ((res = gethostbyname_r (host, &amp;hostbuf, tmphstbuf, hstbuflen,
                                 &amp;hp, &amp;herr)) == ERANGE)
    {
      /* Enlarge the buffer.  */
      hstbuflen *= 2;
      tmphstbuf = realloc (tmphstbuf, hstbuflen);
    }
  /*  Check for errors.  */
  if (res || hp == NULL)
    return NULL;
  return hp;
}
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gethostbyname2_r</b><i> (const char *<var>name</var>, int <var>af</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyname2_r</code> function is like <code>gethostbyname_r</code>, but
allows the caller to specify the desired address family (e.g. 
<code>AF_INET</code> or <code>AF_INET6</code>) for the result. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gethostbyaddr_r</b><i> (const char *<var>addr</var>, size_t <var>length</var>, int <var>format</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gethostbyaddr_r</code> function returns information about the host
with Internet address <var>addr</var>.  The parameter <var>addr</var> is not
really a pointer to char - it can be a pointer to an IPv4 or an IPv6
address. The <var>length</var> argument is the size (in bytes) of the address
at <var>addr</var>.  <var>format</var> specifies the address format; for an IPv4
Internet address, specify a value of <code>AF_INET</code>; for an IPv6
Internet address, use <code>AF_INET6</code>.

<p>Similar to the <code>gethostbyname_r</code> function, the caller must provide
buffers for the result and memory used internally.  In case of success
the function returns zero.  Otherwise the value is an error number where
<code>ERANGE</code> has the special meaning that the caller-provided buffer is
too small. 
</td></tr>
</table>

<p>You can also scan the entire hosts database one entry at a time using
<code>sethostent</code>, <code>gethostent</code> and <code>endhostent</code>.  Be careful
when using these functions because they are not reentrant.

<p>
<table width="100%">
<tr>
<td align="left">void <b>sethostent</b><i> (int <var>stayopen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens the hosts database to begin scanning it.  You can
then call <code>gethostent</code> to read the entries.

<p>If the <var>stayopen</var> argument is nonzero, this sets a flag so that
subsequent calls to <code>gethostbyname</code> or <code>gethostbyaddr</code> will
not close the database (as they usually would).  This makes for more
efficiency if you call those functions several times, by avoiding
reopening the database for each call. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct hostent * <b>gethostent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry in the hosts database.  It
returns a null pointer if there are no more entries. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endhostent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the hosts database. 
</td></tr>
</table>

<p><hr>
Node:<a name="Ports">Ports</a>,
Next:<a rel=next accesskey=n href="#Services%20Database">Services Database</a>,
Previous:<a rel=previous accesskey=p href="#Protocols%20Database">Protocols Database</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Internet Ports</h4>

<p>A socket address in the Internet namespace consists of a machine's
Internet address plus a <dfn>port number</dfn> which distinguishes the
sockets on a given machine (for a given protocol).  Port numbers range
from 0 to 65,535.

<p>Port numbers less than <code>IPPORT_RESERVED</code> are reserved for standard
servers, such as <code>finger</code> and <code>telnet</code>.  There is a database
that keeps track of these, and you can use the <code>getservbyname</code>
function to map a service name onto a port number; see <a href="#Services%20Database">Services Database</a>.

<p>If you write a server that is not one of the standard ones defined in
the database, you must choose a port number for it.  Use a number
greater than <code>IPPORT_USERRESERVED</code>; such numbers are reserved for
servers and won't ever be generated automatically by the system. 
Avoiding conflicts with servers being run by other users is up to you.

<p>When you use a socket without specifying its address, the system
generates a port number for it.  This number is between
<code>IPPORT_RESERVED</code> and <code>IPPORT_USERRESERVED</code>.

<p>On the Internet, it is actually legitimate to have two different
sockets with the same port number, as long as they never both try to
communicate with the same socket address (host address plus port
number).  You shouldn't duplicate a port number except in special
circumstances where a higher-level protocol requires it.  Normally,
the system won't let you do it; <code>bind</code> normally insists on
distinct port numbers.  To reuse a port number, you must set the
socket option <code>SO_REUSEADDR</code>.  See <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<p>These macros are defined in the header file <code>netinet/in.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>IPPORT_RESERVED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Port numbers less than <code>IPPORT_RESERVED</code> are reserved for
superuser use. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>IPPORT_USERRESERVED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Port numbers greater than or equal to <code>IPPORT_USERRESERVED</code> are
reserved for explicit use; they will never be allocated automatically. 
</td></tr>
</table>

<p><hr>
Node:<a name="Services%20Database">Services Database</a>,
Next:<a rel=next accesskey=n href="#Byte%20Order">Byte Order</a>,
Previous:<a rel=previous accesskey=p href="#Ports">Ports</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>The Services Database</h4>

<p>The database that keeps track of "well-known" services is usually
either the file <code>/etc/services</code> or an equivalent from a name server. 
You can use these utilities, declared in <code>netdb.h</code>, to access
the services database.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct servent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type holds information about entries from the services database. 
It has the following members:

<dl>
<dt><code>char *s_name</code>
<dd>This is the "official" name of the service.

<br><dt><code>char **s_aliases</code>
<dd>These are alternate names for the service, represented as an array of
strings.  A null pointer terminates the array.

<br><dt><code>int s_port</code>
<dd>This is the port number for the service.  Port numbers are given in
network byte order; see <a href="#Byte%20Order">Byte Order</a>.

<br><dt><code>char *s_proto</code>
<dd>This is the name of the protocol to use with this service. 
See <a href="#Protocols%20Database">Protocols Database</a>. 
</dl>
</td></tr>
</table>

<p>To get information about a particular service, use the
<code>getservbyname</code> or <code>getservbyport</code> functions.  The information
is returned in a statically-allocated structure; you must copy the
information if you need to save it across calls.

<p>
<table width="100%">
<tr>
<td align="left">struct servent * <b>getservbyname</b><i> (const char *<var>name</var>, const char *<var>proto</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getservbyname</code> function returns information about the
service named <var>name</var> using protocol <var>proto</var>.  If it can't find
such a service, it returns a null pointer.

<p>This function is useful for servers as well as for clients; servers
use it to determine which port they should listen on (see <a href="#Listening">Listening</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct servent * <b>getservbyport</b><i> (int <var>port</var>, const char *<var>proto</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getservbyport</code> function returns information about the
service at port <var>port</var> using protocol <var>proto</var>.  If it can't
find such a service, it returns a null pointer. 
</td></tr>
</table>

<p>You can also scan the services database using <code>setservent</code>,
<code>getservent</code> and <code>endservent</code>.  Be careful when using these
functions because they are not reentrant.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setservent</b><i> (int <var>stayopen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens the services database to begin scanning it.

<p>If the <var>stayopen</var> argument is nonzero, this sets a flag so that
subsequent calls to <code>getservbyname</code> or <code>getservbyport</code> will
not close the database (as they usually would).  This makes for more
efficiency if you call those functions several times, by avoiding
reopening the database for each call. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct servent * <b>getservent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry in the services database.  If
there are no more entries, it returns a null pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endservent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the services database. 
</td></tr>
</table>

<p><hr>
Node:<a name="Byte%20Order">Byte Order</a>,
Next:<a rel=next accesskey=n href="#Inet%20Example">Inet Example</a>,
Previous:<a rel=previous accesskey=p href="#Services%20Database">Services Database</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Byte Order Conversion</h4>

<p>Different kinds of computers use different conventions for the
ordering of bytes within a word.  Some computers put the most
significant byte within a word first (this is called "big-endian"
order), and others put it last ("little-endian" order).

<p>So that machines with different byte order conventions can
communicate, the Internet protocols specify a canonical byte order
convention for data transmitted over the network.  This is known
as <dfn>network byte order</dfn>.

<p>When establishing an Internet socket connection, you must make sure that
the data in the <code>sin_port</code> and <code>sin_addr</code> members of the
<code>sockaddr_in</code> structure are represented in network byte order. 
If you are encoding integer data in the messages sent through the
socket, you should convert this to network byte order too.  If you don't
do this, your program may fail when running on or talking to other kinds
of machines.

<p>If you use <code>getservbyname</code> and <code>gethostbyname</code> or
<code>inet_addr</code> to get the port number and host address, the values are
already in network byte order, and you can copy them directly into
the <code>sockaddr_in</code> structure.

<p>Otherwise, you have to convert the values explicitly.  Use <code>htons</code>
and <code>ntohs</code> to convert values for the <code>sin_port</code> member.  Use
<code>htonl</code> and <code>ntohl</code> to convert IPv4 addresses for the
<code>sin_addr</code> member.  (Remember, <code>struct in_addr</code> is equivalent
to <code>uint32_t</code>.)  These functions are declared in
<code>netinet/in.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">uint16_t <b>htons</b><i> (uint16_t <var>hostshort</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the <code>uint16_t</code> integer <var>hostshort</var> from
host byte order to network byte order. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint16_t <b>ntohs</b><i> (uint16_t <var>netshort</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the <code>uint16_t</code> integer <var>netshort</var> from
network byte order to host byte order. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>htonl</b><i> (uint32_t <var>hostlong</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the <code>uint32_t</code> integer <var>hostlong</var> from
host byte order to network byte order.

<p>This is used for IPv4 Internet addresses. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uint32_t <b>ntohl</b><i> (uint32_t <var>netlong</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function converts the <code>uint32_t</code> integer <var>netlong</var> from
network byte order to host byte order.

<p>This is used for IPv4 Internet addresses. 
</td></tr>
</table>

<p><hr>
Node:<a name="Protocols%20Database">Protocols Database</a>,
Next:<a rel=next accesskey=n href="#Ports">Ports</a>,
Previous:<a rel=previous accesskey=p href="#Host%20Addresses">Host Addresses</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Protocols Database</h4>

<p>The communications protocol used with a socket controls low-level
details of how data are exchanged.  For example, the protocol implements
things like checksums to detect errors in transmissions, and routing
instructions for messages.  Normal user programs have little reason to
mess with these details directly.

<p>The default communications protocol for the Internet namespace depends on
the communication style.  For stream communication, the default is TCP
("transmission control protocol").  For datagram communication, the
default is UDP ("user datagram protocol").  For reliable datagram
communication, the default is RDP ("reliable datagram protocol"). 
You should nearly always use the default.

<p>Internet protocols are generally specified by a name instead of a
number.  The network protocols that a host knows about are stored in a
database.  This is usually either derived from the file
<code>/etc/protocols</code>, or it may be an equivalent provided by a name
server.  You look up the protocol number associated with a named
protocol in the database using the <code>getprotobyname</code> function.

<p>Here are detailed descriptions of the utilities for accessing the
protocols database.  These are declared in <code>netdb.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct protoent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to represent entries in the network protocols
database.  It has the following members:

<dl>
<dt><code>char *p_name</code>
<dd>This is the official name of the protocol.

<br><dt><code>char **p_aliases</code>
<dd>These are alternate names for the protocol, specified as an array of
strings.  The last element of the array is a null pointer.

<br><dt><code>int p_proto</code>
<dd>This is the protocol number (in host byte order); use this member as the
<var>protocol</var> argument to <code>socket</code>. 
</dl>
</td></tr>
</table>

<p>You can use <code>getprotobyname</code> and <code>getprotobynumber</code> to search
the protocols database for a specific protocol.  The information is
returned in a statically-allocated structure; you must copy the
information if you need to save it across calls.

<p>
<table width="100%">
<tr>
<td align="left">struct protoent * <b>getprotobyname</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getprotobyname</code> function returns information about the
network protocol named <var>name</var>.  If there is no such protocol, it
returns a null pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct protoent * <b>getprotobynumber</b><i> (int <var>protocol</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getprotobynumber</code> function returns information about the
network protocol with number <var>protocol</var>.  If there is no such
protocol, it returns a null pointer. 
</td></tr>
</table>

<p>You can also scan the whole protocols database one protocol at a time by
using <code>setprotoent</code>, <code>getprotoent</code> and <code>endprotoent</code>. 
Be careful when using these functions because they are not reentrant.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setprotoent</b><i> (int <var>stayopen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens the protocols database to begin scanning it.

<p>If the <var>stayopen</var> argument is nonzero, this sets a flag so that
subsequent calls to <code>getprotobyname</code> or <code>getprotobynumber</code> will
not close the database (as they usually would).  This makes for more
efficiency if you call those functions several times, by avoiding
reopening the database for each call. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct protoent * <b>getprotoent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry in the protocols database.  It
returns a null pointer if there are no more entries. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endprotoent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the protocols database. 
</td></tr>
</table>

<p><hr>
Node:<a name="Inet%20Example">Inet Example</a>,
Previous:<a rel=previous accesskey=p href="#Byte%20Order">Byte Order</a>,
Up:<a rel=up accesskey=u href="#Internet%20Namespace">Internet Namespace</a>
<br>

<h4>Internet Socket Example</h4>

<p>Here is an example showing how to create and name a socket in the
Internet namespace.  The newly created socket exists on the machine that
the program is running on.  Rather than finding and using the machine's
Internet address, this example specifies <code>INADDR_ANY</code> as the host
address; the system replaces that with the machine's actual address.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;

int
make_socket (uint16_t port)
{
  int sock;
  struct sockaddr_in name;

  /* Create the socket. */
  sock = socket (PF_INET, SOCK_STREAM, 0);
  if (sock &lt; 0)
    {
      perror ("socket");
      exit (EXIT_FAILURE);
    }

  /* Give the socket a name. */
  name.sin_family = AF_INET;
  name.sin_port = htons (port);
  name.sin_addr.s_addr = htonl (INADDR_ANY);
  if (bind (sock, (struct sockaddr *) &amp;name, sizeof (name)) &lt; 0)
    {
      perror ("bind");
      exit (EXIT_FAILURE);
    }

  return sock;
}
</pre>

<p>Here is another example, showing how you can fill in a <code>sockaddr_in</code>
structure, given a host name string and a port number:

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;netdb.h&gt;

void
init_sockaddr (struct sockaddr_in *name,
               const char *hostname,
               uint16_t port)
{
  struct hostent *hostinfo;

  name-&gt;sin_family = AF_INET;
  name-&gt;sin_port = htons (port);
  hostinfo = gethostbyname (hostname);
  if (hostinfo == NULL)
    {
      fprintf (stderr, "Unknown host %s.\n", hostname);
      exit (EXIT_FAILURE);
    }
  name-&gt;sin_addr = *(struct in_addr *) hostinfo-&gt;h_addr;
}
</pre>

<p><hr>
Node:<a name="Misc%20Namespaces">Misc Namespaces</a>,
Next:<a rel=next accesskey=n href="#Open%2fClose%20Sockets">Open/Close Sockets</a>,
Previous:<a rel=previous accesskey=p href="#Internet%20Namespace">Internet Namespace</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Other Namespaces</h3>

<p>Certain other namespaces and associated protocol families are supported
but not documented yet because they are not often used.  <code>PF_NS</code>
refers to the Xerox Network Software protocols.  <code>PF_ISO</code> stands
for Open Systems Interconnect.  <code>PF_CCITT</code> refers to protocols from
CCITT.  <code>socket.h</code> defines these symbols and others naming protocols
not actually implemented.

<p><code>PF_IMPLINK</code> is used for communicating between hosts and Internet
Message Processors.  For information on this and <code>PF_ROUTE</code>, an
occasionally-used local area routing protocol, see the GNU Hurd Manual
(to appear in the future).

<p><hr>
Node:<a name="Open%2fClose%20Sockets">Open/Close Sockets</a>,
Next:<a rel=next accesskey=n href="#Connections">Connections</a>,
Previous:<a rel=previous accesskey=p href="#Misc%20Namespaces">Misc Namespaces</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Opening and Closing Sockets</h3>

<p>This section describes the actual library functions for opening and
closing sockets.  The same functions work for all namespaces and
connection styles.

<ul>
<li><a accesskey=1 href="#Creating%20a%20Socket">Creating a Socket</a>:            How to open a socket. 
<li><a accesskey=2 href="#Closing%20a%20Socket">Closing a Socket</a>:             How to close a socket. 
<li><a accesskey=3 href="#Socket%20Pairs">Socket Pairs</a>:                 These are created like pipes. 
</ul>

<p><hr>
Node:<a name="Creating%20a%20Socket">Creating a Socket</a>,
Next:<a rel=next accesskey=n href="#Closing%20a%20Socket">Closing a Socket</a>,
Up:<a rel=up accesskey=u href="#Open%2fClose%20Sockets">Open/Close Sockets</a>
<br>

<h4>Creating a Socket</h4>

<p>The primitive for creating a socket is the <code>socket</code> function,
declared in <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>socket</b><i> (int <var>namespace</var>, int <var>style</var>, int <var>protocol</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function creates a socket and specifies communication style
<var>style</var>, which should be one of the socket styles listed in
<a href="#Communication%20Styles">Communication Styles</a>.  The <var>namespace</var> argument specifies
the namespace; it must be <code>PF_LOCAL</code> (see <a href="#Local%20Namespace">Local Namespace</a>) or
<code>PF_INET</code> (see <a href="#Internet%20Namespace">Internet Namespace</a>).  <var>protocol</var>
designates the specific protocol (see <a href="#Socket%20Concepts">Socket Concepts</a>); zero is
usually right for <var>protocol</var>.

<p>The return value from <code>socket</code> is the file descriptor for the new
socket, or <code>-1</code> in case of error.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EPROTONOSUPPORT</code>
<dd>The <var>protocol</var> or <var>style</var> is not supported by the
<var>namespace</var> specified.

<br><dt><code>EMFILE</code>
<dd>The process already has too many file descriptors open.

<br><dt><code>ENFILE</code>
<dd>The system already has too many file descriptors open.

<br><dt><code>EACCES</code>
<dd>The process does not have the privilege to create a socket of the specified
<var>style</var> or <var>protocol</var>.

<br><dt><code>ENOBUFS</code>
<dd>The system ran out of internal buffer space. 
</dl>

<p>The file descriptor returned by the <code>socket</code> function supports both
read and write operations.  However, like pipes, sockets do not support file
positioning operations. 
</td></tr>
</table>

<p>For examples of how to call the <code>socket</code> function,
see <a href="#Local%20Socket%20Example">Local Socket Example</a>, or <a href="#Inet%20Example">Inet Example</a>.

<p><hr>
Node:<a name="Closing%20a%20Socket">Closing a Socket</a>,
Next:<a rel=next accesskey=n href="#Socket%20Pairs">Socket Pairs</a>,
Previous:<a rel=previous accesskey=p href="#Creating%20a%20Socket">Creating a Socket</a>,
Up:<a rel=up accesskey=u href="#Open%2fClose%20Sockets">Open/Close Sockets</a>
<br>

<h4>Closing a Socket</h4>

<p>When you have finished using a socket, you can simply close its
file descriptor with <code>close</code>; see <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>. 
If there is still data waiting to be transmitted over the connection,
normally <code>close</code> tries to complete this transmission.  You
can control this behavior using the <code>SO_LINGER</code> socket option to
specify a timeout period; see <a href="#Socket%20Options">Socket Options</a>.

<p>You can also shut down only reception or transmission on a
connection by calling <code>shutdown</code>, which is declared in
<code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>shutdown</b><i> (int <var>socket</var>, int <var>how</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>shutdown</code> function shuts down the connection of socket
<var>socket</var>.  The argument <var>how</var> specifies what action to
perform:

<dl>
<dt><code>0</code>
<dd>Stop receiving data for this socket.  If further data arrives,
reject it.

<br><dt><code>1</code>
<dd>Stop trying to transmit data from this socket.  Discard any data
waiting to be sent.  Stop looking for acknowledgement of data already
sent; don't retransmit it if it is lost.

<br><dt><code>2</code>
<dd>Stop both reception and transmission. 
</dl>

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd><var>socket</var> is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd><var>socket</var> is not a socket.

<br><dt><code>ENOTCONN</code>
<dd><var>socket</var> is not connected. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Socket%20Pairs">Socket Pairs</a>,
Previous:<a rel=previous accesskey=p href="#Closing%20a%20Socket">Closing a Socket</a>,
Up:<a rel=up accesskey=u href="#Open%2fClose%20Sockets">Open/Close Sockets</a>
<br>

<h4>Socket Pairs</h4>

<p>A <dfn>socket pair</dfn> consists of a pair of connected (but unnamed)
sockets.  It is very similar to a pipe and is used in much the same
way.  Socket pairs are created with the <code>socketpair</code> function,
declared in <code>sys/socket.h</code>.  A socket pair is much like a pipe; the
main difference is that the socket pair is bidirectional, whereas the
pipe has one input-only end and one output-only end (see <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>socketpair</b><i> (int <var>namespace</var>, int <var>style</var>, int <var>protocol</var>, int <var>filedes</var><tt>[2]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function creates a socket pair, returning the file descriptors in
<code><var>filedes</var>[0]</code> and <code><var>filedes</var>[1]</code>.  The socket pair
is a full-duplex communications channel, so that both reading and writing
may be performed at either end.

<p>The <var>namespace</var>, <var>style</var> and <var>protocol</var> arguments are
interpreted as for the <code>socket</code> function.  <var>style</var> should be
one of the communication styles listed in <a href="#Communication%20Styles">Communication Styles</a>. 
The <var>namespace</var> argument specifies the namespace, which must be
<code>AF_LOCAL</code> (see <a href="#Local%20Namespace">Local Namespace</a>); <var>protocol</var> specifies the
communications protocol, but zero is the only meaningful value.

<p>If <var>style</var> specifies a connectionless communication style, then
the two sockets you get are not <em>connected</em>, strictly speaking,
but each of them knows the other as the default destination address,
so they can send packets to each other.

<p>The <code>socketpair</code> function returns <code>0</code> on success and <code>-1</code>
on failure.  The following <code>errno</code> error conditions are defined
for this function:

<dl>
<dt><code>EMFILE</code>
<dd>The process has too many file descriptors open.

<br><dt><code>EAFNOSUPPORT</code>
<dd>The specified namespace is not supported.

<br><dt><code>EPROTONOSUPPORT</code>
<dd>The specified protocol is not supported.

<br><dt><code>EOPNOTSUPP</code>
<dd>The specified protocol does not support the creation of socket pairs. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Connections">Connections</a>,
Next:<a rel=next accesskey=n href="#Datagrams">Datagrams</a>,
Previous:<a rel=previous accesskey=p href="#Open%2fClose%20Sockets">Open/Close Sockets</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Using Sockets with Connections</h3>

<p>The most common communication styles involve making a connection to a
particular other socket, and then exchanging data with that socket
over and over.  Making a connection is asymmetric; one side (the
<dfn>client</dfn>) acts to request a connection, while the other side (the
<dfn>server</dfn>) makes a socket and waits for the connection request.

<ul>
<li><a accesskey=1 href="#Connecting">Connecting</a>:     	     What the client program must do. 
<li><a accesskey=2 href="#Listening">Listening</a>: 		     How a server program waits for requests. 
<li><a accesskey=3 href="#Accepting%20Connections">Accepting Connections</a>:     What the server does when it gets a request. 
<li><a accesskey=4 href="#Who%20is%20Connected">Who is Connected</a>: 	     Getting the address of the
				other side of a connection. 
<li><a accesskey=5 href="#Transferring%20Data">Transferring Data</a>:         How to send and receive data. 
<li><a accesskey=6 href="#Byte%20Stream%20Example">Byte Stream Example</a>: 	     An example program: a client for communicating
			      over a byte stream socket in the Internet namespace. 
<li><a accesskey=7 href="#Server%20Example">Server Example</a>: 	     A corresponding server program. 
<li><a accesskey=8 href="#Out-of-Band%20Data">Out-of-Band Data</a>:          This is an advanced feature. 
</ul>

<p><hr>
Node:<a name="Connecting">Connecting</a>,
Next:<a rel=next accesskey=n href="#Listening">Listening</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Making a Connection</h4>

<p>In making a connection, the client makes a connection while the server
waits for and accepts the connection.  Here we discuss what the client
program must do with the <code>connect</code> function, which is declared in
<code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>connect</b><i> (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>connect</code> function initiates a connection from the socket
with file descriptor <var>socket</var> to the socket whose address is
specified by the <var>addr</var> and <var>length</var> arguments.  (This socket
is typically on another machine, and it must be already set up as a
server.)  See <a href="#Socket%20Addresses">Socket Addresses</a>, for information about how these
arguments are interpreted.

<p>Normally, <code>connect</code> waits until the server responds to the request
before it returns.  You can set nonblocking mode on the socket
<var>socket</var> to make <code>connect</code> return immediately without waiting
for the response.  See <a href="#File%20Status%20Flags">File Status Flags</a>, for information about
nonblocking mode.

<p>The normal return value from <code>connect</code> is <code>0</code>.  If an error
occurs, <code>connect</code> returns <code>-1</code>.  The following <code>errno</code>
error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The socket <var>socket</var> is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>File descriptor <var>socket</var> is not a socket.

<br><dt><code>EADDRNOTAVAIL</code>
<dd>The specified address is not available on the remote machine.

<br><dt><code>EAFNOSUPPORT</code>
<dd>The namespace of the <var>addr</var> is not supported by this socket.

<br><dt><code>EISCONN</code>
<dd>The socket <var>socket</var> is already connected.

<br><dt><code>ETIMEDOUT</code>
<dd>The attempt to establish the connection timed out.

<br><dt><code>ECONNREFUSED</code>
<dd>The server has actively refused to establish the connection.

<br><dt><code>ENETUNREACH</code>
<dd>The network of the given <var>addr</var> isn't reachable from this host.

<br><dt><code>EADDRINUSE</code>
<dd>The socket address of the given <var>addr</var> is already in use.

<br><dt><code>EINPROGRESS</code>
<dd>The socket <var>socket</var> is non-blocking and the connection could not be
established immediately.  You can determine when the connection is
completely established with <code>select</code>; see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>. 
Another <code>connect</code> call on the same socket, before the connection is
completely established, will fail with <code>EALREADY</code>.

<br><dt><code>EALREADY</code>
<dd>The socket <var>socket</var> is non-blocking and already has a pending
connection in progress (see <code>EINPROGRESS</code> above). 
</dl>

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p><hr>
Node:<a name="Listening">Listening</a>,
Next:<a rel=next accesskey=n href="#Accepting%20Connections">Accepting Connections</a>,
Previous:<a rel=previous accesskey=p href="#Connecting">Connecting</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Listening for Connections</h4>

<p>Now let us consider what the server process must do to accept
connections on a socket.  First it must use the <code>listen</code> function
to enable connection requests on the socket, and then accept each
incoming connection with a call to <code>accept</code> (see <a href="#Accepting%20Connections">Accepting Connections</a>).  Once connection requests are enabled on a server socket,
the <code>select</code> function reports when the socket has a connection
ready to be accepted (see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>).

<p>The <code>listen</code> function is not allowed for sockets using
connectionless communication styles.

<p>You can write a network server that does not even start running until a
connection to it is requested.  See <a href="#Inetd%20Servers">Inetd Servers</a>.

<p>In the Internet namespace, there are no special protection mechanisms
for controlling access to a port; any process on any machine
can make a connection to your server.  If you want to restrict access to
your server, make it examine the addresses associated with connection
requests or implement some other handshaking or identification
protocol.

<p>In the local namespace, the ordinary file protection bits control who has
access to connect to the socket.

<p>
<table width="100%">
<tr>
<td align="left">int <b>listen</b><i> (int <var>socket</var>, unsigned int <var>n</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>listen</code> function enables the socket <var>socket</var> to accept
connections, thus making it a server socket.

<p>The argument <var>n</var> specifies the length of the queue for pending
connections.  When the queue fills, new clients attempting to connect
fail with <code>ECONNREFUSED</code> until the server calls <code>accept</code> to
accept a connection from the queue.

<p>The <code>listen</code> function returns <code>0</code> on success and <code>-1</code>
on failure.  The following <code>errno</code> error conditions are defined
for this function:

<dl>
<dt><code>EBADF</code>
<dd>The argument <var>socket</var> is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The argument <var>socket</var> is not a socket.

<br><dt><code>EOPNOTSUPP</code>
<dd>The socket <var>socket</var> does not support this operation. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Accepting%20Connections">Accepting Connections</a>,
Next:<a rel=next accesskey=n href="#Who%20is%20Connected">Who is Connected</a>,
Previous:<a rel=previous accesskey=p href="#Listening">Listening</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Accepting Connections</h4>

<p>When a server receives a connection request, it can complete the
connection by accepting the request.  Use the function <code>accept</code>
to do this.

<p>A socket that has been established as a server can accept connection
requests from multiple clients.  The server's original socket
<em>does not become part of the connection</em>; instead, <code>accept</code>
makes a new socket which participates in the connection. 
<code>accept</code> returns the descriptor for this socket.  The server's
original socket remains available for listening for further connection
requests.

<p>The number of pending connection requests on a server socket is finite. 
If connection requests arrive from clients faster than the server can
act upon them, the queue can fill up and additional requests are refused
with an <code>ECONNREFUSED</code> error.  You can specify the maximum length of
this queue as an argument to the <code>listen</code> function, although the
system may also impose its own internal limit on the length of this
queue.

<p>
<table width="100%">
<tr>
<td align="left">int <b>accept</b><i> (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length_ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to accept a connection request on the server
socket <var>socket</var>.

<p>The <code>accept</code> function waits if there are no connections pending,
unless the socket <var>socket</var> has nonblocking mode set.  (You can use
<code>select</code> to wait for a pending connection, with a nonblocking
socket.)  See <a href="#File%20Status%20Flags">File Status Flags</a>, for information about nonblocking
mode.

<p>The <var>addr</var> and <var>length-ptr</var> arguments are used to return
information about the name of the client socket that initiated the
connection.  See <a href="#Socket%20Addresses">Socket Addresses</a>, for information about the format
of the information.

<p>Accepting a connection does not make <var>socket</var> part of the
connection.  Instead, it creates a new socket which becomes
connected.  The normal return value of <code>accept</code> is the file
descriptor for the new socket.

<p>After <code>accept</code>, the original socket <var>socket</var> remains open and
unconnected, and continues listening until you close it.  You can
accept further connections with <var>socket</var> by calling <code>accept</code>
again.

<p>If an error occurs, <code>accept</code> returns <code>-1</code>.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> argument is not a socket.

<br><dt><code>EOPNOTSUPP</code>
<dd>The descriptor <var>socket</var> does not support this operation.

<br><dt><code>EWOULDBLOCK</code>
<dd><var>socket</var> has nonblocking mode set, and there are no pending
connections immediately available. 
</dl>

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p>The <code>accept</code> function is not allowed for sockets using
connectionless communication styles.

<p><hr>
Node:<a name="Who%20is%20Connected">Who is Connected</a>,
Next:<a rel=next accesskey=n href="#Transferring%20Data">Transferring Data</a>,
Previous:<a rel=previous accesskey=p href="#Accepting%20Connections">Accepting Connections</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Who is Connected to Me?</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpeername</b><i> (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getpeername</code> function returns the address of the socket that
<var>socket</var> is connected to; it stores the address in the memory space
specified by <var>addr</var> and <var>length-ptr</var>.  It stores the length of
the address in <code>*<var>length-ptr</var></code>.

<p>See <a href="#Socket%20Addresses">Socket Addresses</a>, for information about the format of the
address.  In some operating systems, <code>getpeername</code> works only for
sockets in the Internet domain.

<p>The return value is <code>0</code> on success and <code>-1</code> on error.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The argument <var>socket</var> is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>ENOTCONN</code>
<dd>The socket <var>socket</var> is not connected.

<br><dt><code>ENOBUFS</code>
<dd>There are not enough internal buffers available. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Transferring%20Data">Transferring Data</a>,
Next:<a rel=next accesskey=n href="#Byte%20Stream%20Example">Byte Stream Example</a>,
Previous:<a rel=previous accesskey=p href="#Who%20is%20Connected">Who is Connected</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Transferring Data</h4>

<p>Once a socket has been connected to a peer, you can use the ordinary
<code>read</code> and <code>write</code> operations (see <a href="#I%2fO%20Primitives">I/O Primitives</a>) to
transfer data.  A socket is a two-way communications channel, so read
and write operations can be performed at either end.

<p>There are also some I/O modes that are specific to socket operations. 
In order to specify these modes, you must use the <code>recv</code> and
<code>send</code> functions instead of the more generic <code>read</code> and
<code>write</code> functions.  The <code>recv</code> and <code>send</code> functions take
an additional argument which you can use to specify various flags to
control special I/O modes.  For example, you can specify the
<code>MSG_OOB</code> flag to read or write out-of-band data, the
<code>MSG_PEEK</code> flag to peek at input, or the <code>MSG_DONTROUTE</code> flag
to control inclusion of routing information on output.

<ul>
<li><a accesskey=1 href="#Sending%20Data">Sending Data</a>: 		Sending data with <code>send</code>. 
<li><a accesskey=2 href="#Receiving%20Data">Receiving Data</a>: 		Reading data with <code>recv</code>. 
<li><a accesskey=3 href="#Socket%20Data%20Options">Socket Data Options</a>: 		Using <code>send</code> and <code>recv</code>. 
</ul>

<p><hr>
Node:<a name="Sending%20Data">Sending Data</a>,
Next:<a rel=next accesskey=n href="#Receiving%20Data">Receiving Data</a>,
Up:<a rel=up accesskey=u href="#Transferring%20Data">Transferring Data</a>
<br>

<h5>Sending Data</h5>

<p>The <code>send</code> function is declared in the header file
<code>sys/socket.h</code>.  If your <var>flags</var> argument is zero, you can just
as well use <code>write</code> instead of <code>send</code>; see <a href="#I%2fO%20Primitives">I/O Primitives</a>.  If the socket was connected but the connection has broken,
you get a <code>SIGPIPE</code> signal for any use of <code>send</code> or
<code>write</code> (see <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>send</b><i> (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>send</code> function is like <code>write</code>, but with the additional
flags <var>flags</var>.  The possible values of <var>flags</var> are described
in <a href="#Socket%20Data%20Options">Socket Data Options</a>.

<p>This function returns the number of bytes transmitted, or <code>-1</code> on
failure.  If the socket is nonblocking, then <code>send</code> (like
<code>write</code>) can return after sending just part of the data. 
See <a href="#File%20Status%20Flags">File Status Flags</a>, for information about nonblocking mode.

<p>Note, however, that a successful return value merely indicates that
the message has been sent without error, not necessarily that it has
been received without error.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by a signal before any data was sent. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>EMSGSIZE</code>
<dd>The socket type requires that the message be sent atomically, but the
message is too large for this to be possible.

<br><dt><code>EWOULDBLOCK</code>
<dd>Nonblocking mode has been set on the socket, and the write operation
would block.  (Normally <code>send</code> blocks until the operation can be
completed.)

<br><dt><code>ENOBUFS</code>
<dd>There is not enough internal buffer space available.

<br><dt><code>ENOTCONN</code>
<dd>You never connected this socket.

<br><dt><code>EPIPE</code>
<dd>This socket was connected but the connection is now broken.  In this
case, <code>send</code> generates a <code>SIGPIPE</code> signal first; if that
signal is ignored or blocked, or if its handler returns, then
<code>send</code> fails with <code>EPIPE</code>. 
</dl>

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p><hr>
Node:<a name="Receiving%20Data">Receiving Data</a>,
Next:<a rel=next accesskey=n href="#Socket%20Data%20Options">Socket Data Options</a>,
Previous:<a rel=previous accesskey=p href="#Sending%20Data">Sending Data</a>,
Up:<a rel=up accesskey=u href="#Transferring%20Data">Transferring Data</a>
<br>

<h5>Receiving Data</h5>

<p>The <code>recv</code> function is declared in the header file
<code>sys/socket.h</code>.  If your <var>flags</var> argument is zero, you can
just as well use <code>read</code> instead of <code>recv</code>; see <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>recv</b><i> (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>recv</code> function is like <code>read</code>, but with the additional
flags <var>flags</var>.  The possible values of <var>flags</var> are described
in <a href="#Socket%20Data%20Options">Socket Data Options</a>.

<p>If nonblocking mode is set for <var>socket</var>, and no data are available to
be read, <code>recv</code> fails immediately rather than waiting.  See <a href="#File%20Status%20Flags">File Status Flags</a>, for information about nonblocking mode.

<p>This function returns the number of bytes received, or <code>-1</code> on failure. 
The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>EWOULDBLOCK</code>
<dd>Nonblocking mode has been set on the socket, and the read operation
would block.  (Normally, <code>recv</code> blocks until there is input
available to be read.)

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by a signal before any data was read. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>ENOTCONN</code>
<dd>You never connected this socket. 
</dl>

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p><hr>
Node:<a name="Socket%20Data%20Options">Socket Data Options</a>,
Previous:<a rel=previous accesskey=p href="#Receiving%20Data">Receiving Data</a>,
Up:<a rel=up accesskey=u href="#Transferring%20Data">Transferring Data</a>
<br>

<h5>Socket Data Options</h5>

<p>The <var>flags</var> argument to <code>send</code> and <code>recv</code> is a bit
mask.  You can bitwise-OR the values of the following macros together
to obtain a value for this argument.  All are defined in the header
file <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>MSG_OOB</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Send or receive out-of-band data.  See <a href="#Out-of-Band%20Data">Out-of-Band Data</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>MSG_PEEK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Look at the data but don't remove it from the input queue.  This is
only meaningful with input functions such as <code>recv</code>, not with
<code>send</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>MSG_DONTROUTE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Don't include routing information in the message.  This is only
meaningful with output operations, and is usually only of interest for
diagnostic or routing programs.  We don't try to explain it here. 
</td></tr>
</table>

<p><hr>
Node:<a name="Byte%20Stream%20Example">Byte Stream Example</a>,
Next:<a rel=next accesskey=n href="#Server%20Example">Server Example</a>,
Previous:<a rel=previous accesskey=p href="#Transferring%20Data">Transferring Data</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Byte Stream Socket Example</h4>

<p>Here is an example client program that makes a connection for a byte
stream socket in the Internet namespace.  It doesn't do anything
particularly interesting once it has connected to the server; it just
sends a text string to the server and exits.

<p>This program uses <code>init_sockaddr</code> to set up the socket address; see
<a href="#Inet%20Example">Inet Example</a>.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;netdb.h&gt;

#define PORT            5555
#define MESSAGE         "Yow!!! Are we having fun yet?!?"
#define SERVERHOST      "mescaline.gnu.org"

void
write_to_server (int filedes)
{
  int nbytes;

  nbytes = write (filedes, MESSAGE, strlen (MESSAGE) + 1);
  if (nbytes &lt; 0)
    {
      perror ("write");
      exit (EXIT_FAILURE);
    }
}


int
main (void)
{
  extern void init_sockaddr (struct sockaddr_in *name,
                             const char *hostname,
                             uint16_t port);
  int sock;
  struct sockaddr_in servername;

  /* Create the socket. */
  sock = socket (PF_INET, SOCK_STREAM, 0);
  if (sock &lt; 0)
    {
      perror ("socket (client)");
      exit (EXIT_FAILURE);
    }

  /* Connect to the server. */
  init_sockaddr (&amp;servername, SERVERHOST, PORT);
  if (0 &gt; connect (sock,
                   (struct sockaddr *) &amp;servername,
                   sizeof (servername)))
    {
      perror ("connect (client)");
      exit (EXIT_FAILURE);
    }

  /* Send data to the server. */
  write_to_server (sock);
  close (sock);
  exit (EXIT_SUCCESS);
}
</pre>

<p><hr>
Node:<a name="Server%20Example">Server Example</a>,
Next:<a rel=next accesskey=n href="#Out-of-Band%20Data">Out-of-Band Data</a>,
Previous:<a rel=previous accesskey=p href="#Byte%20Stream%20Example">Byte Stream Example</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Byte Stream Connection Server Example</h4>

<p>The server end is much more complicated.  Since we want to allow
multiple clients to be connected to the server at the same time, it
would be incorrect to wait for input from a single client by simply
calling <code>read</code> or <code>recv</code>.  Instead, the right thing to do is
to use <code>select</code> (see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>) to wait for input on
all of the open sockets.  This also allows the server to deal with
additional connection requests.

<p>This particular server doesn't do anything interesting once it has
gotten a message from a client.  It does close the socket for that
client when it detects an end-of-file condition (resulting from the
client shutting down its end of the connection).

<p>This program uses <code>make_socket</code> to set up the socket address; see
<a href="#Inet%20Example">Inet Example</a>.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;netdb.h&gt;

#define PORT    5555
#define MAXMSG  512

int
read_from_client (int filedes)
{
  char buffer[MAXMSG];
  int nbytes;

  nbytes = read (filedes, buffer, MAXMSG);
  if (nbytes &lt; 0)
    {
      /* Read error. */
      perror ("read");
      exit (EXIT_FAILURE);
    }
  else if (nbytes == 0)
    /* End-of-file. */
    return -1;
  else
    {
      /* Data read. */
      fprintf (stderr, "Server: got message: `%s'\n", buffer);
      return 0;
    }
}

int
main (void)
{
  extern int make_socket (uint16_t port);
  int sock;
  fd_set active_fd_set, read_fd_set;
  int i;
  struct sockaddr_in clientname;
  size_t size;

  /* Create the socket and set it up to accept connections. */
  sock = make_socket (PORT);
  if (listen (sock, 1) &lt; 0)
    {
      perror ("listen");
      exit (EXIT_FAILURE);
    }

  /* Initialize the set of active sockets. */
  FD_ZERO (&amp;active_fd_set);
  FD_SET (sock, &amp;active_fd_set);

  while (1)
    {
      /* Block until input arrives on one or more active sockets. */
      read_fd_set = active_fd_set;
      if (select (FD_SETSIZE, &amp;read_fd_set, NULL, NULL, NULL) &lt; 0)
        {
          perror ("select");
          exit (EXIT_FAILURE);
        }

      /* Service all the sockets with input pending. */
      for (i = 0; i &lt; FD_SETSIZE; ++i)
        if (FD_ISSET (i, &amp;read_fd_set))
          {
            if (i == sock)
              {
                /* Connection request on original socket. */
                int new;
                size = sizeof (clientname);
                new = accept (sock,
                              (struct sockaddr *) &amp;clientname,
                              &amp;size);
                if (new &lt; 0)
                  {
                    perror ("accept");
                    exit (EXIT_FAILURE);
                  }
                fprintf (stderr,
                         "Server: connect from host %s, port %hd.\n",
                         inet_ntoa (clientname.sin_addr),
                         ntohs (clientname.sin_port));
                FD_SET (new, &amp;active_fd_set);
              }
            else
              {
                /* Data arriving on an already-connected socket. */
                if (read_from_client (i) &lt; 0)
                  {
                    close (i);
                    FD_CLR (i, &amp;active_fd_set);
                  }
              }
          }
    }
}
</pre>

<p><hr>
Node:<a name="Out-of-Band%20Data">Out-of-Band Data</a>,
Previous:<a rel=previous accesskey=p href="#Server%20Example">Server Example</a>,
Up:<a rel=up accesskey=u href="#Connections">Connections</a>
<br>

<h4>Out-of-Band Data</h4>

<p>Streams with connections permit <dfn>out-of-band</dfn> data that is
delivered with higher priority than ordinary data.  Typically the
reason for sending out-of-band data is to send notice of an
exceptional condition.  To send out-of-band data use
<code>send</code>, specifying the flag <code>MSG_OOB</code> (see <a href="#Sending%20Data">Sending Data</a>).

<p>Out-of-band data are received with higher priority because the
receiving process need not read it in sequence; to read the next
available out-of-band data, use <code>recv</code> with the <code>MSG_OOB</code>
flag (see <a href="#Receiving%20Data">Receiving Data</a>).  Ordinary read operations do not read
out-of-band data; they read only ordinary data.

<p>When a socket finds that out-of-band data are on their way, it sends a
<code>SIGURG</code> signal to the owner process or process group of the
socket.  You can specify the owner using the <code>F_SETOWN</code> command
to the <code>fcntl</code> function; see <a href="#Interrupt%20Input">Interrupt Input</a>.  You must
also establish a handler for this signal, as described in <a href="#Signal%20Handling">Signal Handling</a>, in order to take appropriate action such as reading the
out-of-band data.

<p>Alternatively, you can test for pending out-of-band data, or wait
until there is out-of-band data, using the <code>select</code> function; it
can wait for an exceptional condition on the socket.  See <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>, for more information about <code>select</code>.

<p>Notification of out-of-band data (whether with <code>SIGURG</code> or with
<code>select</code>) indicates that out-of-band data are on the way; the data
may not actually arrive until later.  If you try to read the
out-of-band data before it arrives, <code>recv</code> fails with an
<code>EWOULDBLOCK</code> error.

<p>Sending out-of-band data automatically places a "mark" in the stream
of ordinary data, showing where in the sequence the out-of-band data
"would have been".  This is useful when the meaning of out-of-band
data is "cancel everything sent so far".  Here is how you can test,
in the receiving process, whether any ordinary data was sent before
the mark:

<br><pre>success = ioctl (socket, SIOCATMARK, &amp;atmark);
</pre>

<p>The <code>integer</code> variable <var>atmark</var> is set to a nonzero value if
the socket's read pointer has reached the "mark".

<p>Here's a function to discard any ordinary data preceding the
out-of-band mark:

<br><pre>int
discard_until_mark (int socket)
{
  while (1)
    {
      /* This is not an arbitrary limit; any size will do.  */
      char buffer[1024];
      int atmark, success;

      /* If we have reached the mark, return.  */
      success = ioctl (socket, SIOCATMARK, &amp;atmark);
      if (success &lt; 0)
        perror ("ioctl");
      if (result)
        return;

      /* Otherwise, read a bunch of ordinary data and discard it.
         This is guaranteed not to read past the mark
         if it starts before the mark.  */
      success = read (socket, buffer, sizeof buffer);
      if (success &lt; 0)
        perror ("read");
    }
}
</pre>

<p>If you don't want to discard the ordinary data preceding the mark, you
may need to read some of it anyway, to make room in internal system
buffers for the out-of-band data.  If you try to read out-of-band data
and get an <code>EWOULDBLOCK</code> error, try reading some ordinary data
(saving it so that you can use it when you want it) and see if that
makes room.  Here is an example:

<br><pre>struct buffer
{
  char *buf;
  int size;
  struct buffer *next;
};

/* Read the out-of-band data from SOCKET and return it
   as a `struct buffer', which records the address of the data
   and its size.

   It may be necessary to read some ordinary data
   in order to make room for the out-of-band data.
   If so, the ordinary data are saved as a chain of buffers
   found in the `next' field of the value.  */

struct buffer *
read_oob (int socket)
{
  struct buffer *tail = 0;
  struct buffer *list = 0;

  while (1)
    {
      /* This is an arbitrary limit.
         Does anyone know how to do this without a limit?  */
#define BUF_SZ 1024
      char *buf = (char *) xmalloc (BUF_SZ);
      int success;
      int atmark;

      /* Try again to read the out-of-band data.  */
      success = recv (socket, buf, BUF_SZ, MSG_OOB);
      if (success &gt;= 0)
        {
          /* We got it, so return it.  */
          struct buffer *link
            = (struct buffer *) xmalloc (sizeof (struct buffer));
          link-&gt;buf = buf;
          link-&gt;size = success;
          link-&gt;next = list;
          return link;
        }

      /* If we fail, see if we are at the mark.  */
      success = ioctl (socket, SIOCATMARK, &amp;atmark);
      if (success &lt; 0)
        perror ("ioctl");
      if (atmark)
        {
          /* At the mark; skipping past more ordinary data cannot help.
             So just wait a while.  */
          sleep (1);
          continue;
        }

      /* Otherwise, read a bunch of ordinary data and save it.
         This is guaranteed not to read past the mark
         if it starts before the mark.  */
      success = read (socket, buf, BUF_SZ);
      if (success &lt; 0)
        perror ("read");

      /* Save this data in the buffer list.  */
      {
        struct buffer *link
          = (struct buffer *) xmalloc (sizeof (struct buffer));
        link-&gt;buf = buf;
        link-&gt;size = success;

        /* Add the new link to the end of the list.  */
        if (tail)
          tail-&gt;next = link;
        else
          list = link;
        tail = link;
      }
    }
}
</pre>

<p><hr>
Node:<a name="Datagrams">Datagrams</a>,
Next:<a rel=next accesskey=n href="#Inetd">Inetd</a>,
Previous:<a rel=previous accesskey=p href="#Connections">Connections</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Datagram Socket Operations</h3>

<p>This section describes how to use communication styles that don't use
connections (styles <code>SOCK_DGRAM</code> and <code>SOCK_RDM</code>).  Using
these styles, you group data into packets and each packet is an
independent communication.  You specify the destination for each
packet individually.

<p>Datagram packets are like letters: you send each one independently
with its own destination address, and they may arrive in the wrong
order or not at all.

<p>The <code>listen</code> and <code>accept</code> functions are not allowed for
sockets using connectionless communication styles.

<ul>
<li><a accesskey=1 href="#Sending%20Datagrams">Sending Datagrams</a>:     Sending packets on a datagram socket. 
<li><a accesskey=2 href="#Receiving%20Datagrams">Receiving Datagrams</a>:   Receiving packets on a datagram socket. 
<li><a accesskey=3 href="#Datagram%20Example">Datagram Example</a>:      An example program: packets sent over a
                           datagram socket in the local namespace. 
<li><a accesskey=4 href="#Example%20Receiver">Example Receiver</a>: 	 Another program, that receives those packets. 
</ul>

<p><hr>
Node:<a name="Sending%20Datagrams">Sending Datagrams</a>,
Next:<a rel=next accesskey=n href="#Receiving%20Datagrams">Receiving Datagrams</a>,
Up:<a rel=up accesskey=u href="#Datagrams">Datagrams</a>
<br>

<h4>Sending Datagrams</h4>

<p>The normal way of sending data on a datagram socket is by using the
<code>sendto</code> function, declared in <code>sys/socket.h</code>.

<p>You can call <code>connect</code> on a datagram socket, but this only
specifies a default destination for further data transmission on the
socket.  When a socket has a default destination you can use
<code>send</code> (see <a href="#Sending%20Data">Sending Data</a>) or even <code>write</code> (see <a href="#I%2fO%20Primitives">I/O Primitives</a>) to send a packet there.  You can cancel the default
destination by calling <code>connect</code> using an address format of
<code>AF_UNSPEC</code> in the <var>addr</var> argument.  See <a href="#Connecting">Connecting</a>, for
more information about the <code>connect</code> function.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sendto</b><i> (int <var>socket</var>, void *<var>buffer</var>. size_t <var>size</var>, int <var>flags</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sendto</code> function transmits the data in the <var>buffer</var>
through the socket <var>socket</var> to the destination address specified
by the <var>addr</var> and <var>length</var> arguments.  The <var>size</var> argument
specifies the number of bytes to be transmitted.

<p>The <var>flags</var> are interpreted the same way as for <code>send</code>; see
<a href="#Socket%20Data%20Options">Socket Data Options</a>.

<p>The return value and error conditions are also the same as for
<code>send</code>, but you cannot rely on the system to detect errors and
report them; the most common error is that the packet is lost or there
is no-one at the specified address to receive it, and the operating
system on your machine usually does not know this.

<p>It is also possible for one call to <code>sendto</code> to report an error
owing to a problem related to a previous call.

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p><hr>
Node:<a name="Receiving%20Datagrams">Receiving Datagrams</a>,
Next:<a rel=next accesskey=n href="#Datagram%20Example">Datagram Example</a>,
Previous:<a rel=previous accesskey=p href="#Sending%20Datagrams">Sending Datagrams</a>,
Up:<a rel=up accesskey=u href="#Datagrams">Datagrams</a>
<br>

<h4>Receiving Datagrams</h4>

<p>The <code>recvfrom</code> function reads a packet from a datagram socket and
also tells you where it was sent from.  This function is declared in
<code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>recvfrom</b><i> (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>recvfrom</code> function reads one packet from the socket
<var>socket</var> into the buffer <var>buffer</var>.  The <var>size</var> argument
specifies the maximum number of bytes to be read.

<p>If the packet is longer than <var>size</var> bytes, then you get the first
<var>size</var> bytes of the packet and the rest of the packet is lost. 
There's no way to read the rest of the packet.  Thus, when you use a
packet protocol, you must always know how long a packet to expect.

<p>The <var>addr</var> and <var>length-ptr</var> arguments are used to return the
address where the packet came from.  See <a href="#Socket%20Addresses">Socket Addresses</a>.  For a
socket in the local domain the address information won't be meaningful,
since you can't read the address of such a socket (see <a href="#Local%20Namespace">Local Namespace</a>).  You can specify a null pointer as the <var>addr</var> argument
if you are not interested in this information.

<p>The <var>flags</var> are interpreted the same way as for <code>recv</code>
(see <a href="#Socket%20Data%20Options">Socket Data Options</a>).  The return value and error conditions
are also the same as for <code>recv</code>.

<p>This function is defined as a cancellation point in multi-threaded
programs, so one has to be prepared for this and make sure that
allocated resources (like memory, files descriptors, semaphores or
whatever) are freed even if the thread is canceled. 
</td></tr>
</table>

<p>You can use plain <code>recv</code> (see <a href="#Receiving%20Data">Receiving Data</a>) instead of
<code>recvfrom</code> if you don't need to find out who sent the packet
(either because you know where it should come from or because you
treat all possible senders alike).  Even <code>read</code> can be used if
you don't want to specify <var>flags</var> (see <a href="#I%2fO%20Primitives">I/O Primitives</a>).

<p><hr>
Node:<a name="Datagram%20Example">Datagram Example</a>,
Next:<a rel=next accesskey=n href="#Example%20Receiver">Example Receiver</a>,
Previous:<a rel=previous accesskey=p href="#Receiving%20Datagrams">Receiving Datagrams</a>,
Up:<a rel=up accesskey=u href="#Datagrams">Datagrams</a>
<br>

<h4>Datagram Socket Example</h4>

<p>Here is a set of example programs that send messages over a datagram
stream in the local namespace.  Both the client and server programs use
the <code>make_named_socket</code> function that was presented in <a href="#Local%20Socket%20Example">Local Socket Example</a>, to create and name their sockets.

<p>First, here is the server program.  It sits in a loop waiting for
messages to arrive, bouncing each message back to the sender. 
Obviously this isn't a particularly useful program, but it does show
the general ideas involved.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;sys/un.h&gt;

#define SERVER  "/tmp/serversocket"
#define MAXMSG  512

int
main (void)
{
  int sock;
  char message[MAXMSG];
  struct sockaddr_un name;
  size_t size;
  int nbytes;

  /* Remove the filename first, it's ok if the call fails */
  unlink (SERVER);

  /* Make the socket, then loop endlessly. */
  sock = make_named_socket (SERVER);
  while (1)
    {
      /* Wait for a datagram. */
      size = sizeof (name);
      nbytes = recvfrom (sock, message, MAXMSG, 0,
                         (struct sockaddr *) &amp; name, &amp;size);
      if (nbytes &lt; 0)
        {
          perror ("recfrom (server)");
          exit (EXIT_FAILURE);
        }

      /* Give a diagnostic message. */
      fprintf (stderr, "Server: got message: %s\n", message);

      /* Bounce the message back to the sender. */
      nbytes = sendto (sock, message, nbytes, 0,
                       (struct sockaddr *) &amp; name, size);
      if (nbytes &lt; 0)
        {
          perror ("sendto (server)");
          exit (EXIT_FAILURE);
        }
    }
}
</pre>

<p><hr>
Node:<a name="Example%20Receiver">Example Receiver</a>,
Previous:<a rel=previous accesskey=p href="#Datagram%20Example">Datagram Example</a>,
Up:<a rel=up accesskey=u href="#Datagrams">Datagrams</a>
<br>

<h4>Example of Reading Datagrams</h4>

<p>Here is the client program corresponding to the server above.

<p>It sends a datagram to the server and then waits for a reply.  Notice
that the socket for the client (as well as for the server) in this
example has to be given a name.  This is so that the server can direct
a message back to the client.  Since the socket has no associated
connection state, the only way the server can do this is by
referencing the name of the client.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;sys/un.h&gt;

#define SERVER  "/tmp/serversocket"
#define CLIENT  "/tmp/mysocket"
#define MAXMSG  512
#define MESSAGE "Yow!!! Are we having fun yet?!?"

int
main (void)
{
  extern int make_named_socket (const char *name);
  int sock;
  char message[MAXMSG];
  struct sockaddr_un name;
  size_t size;
  int nbytes;

  /* Make the socket. */
  sock = make_named_socket (CLIENT);

  /* Initialize the server socket address. */
  name.sun_family = AF_LOCAL;
  strcpy (name.sun_path, SERVER);
  size = strlen (name.sun_path) + sizeof (name.sun_family);

  /* Send the datagram. */
  nbytes = sendto (sock, MESSAGE, strlen (MESSAGE) + 1, 0,
                   (struct sockaddr *) &amp; name, size);
  if (nbytes &lt; 0)
    {
      perror ("sendto (client)");
      exit (EXIT_FAILURE);
    }

  /* Wait for a reply. */
  nbytes = recvfrom (sock, message, MAXMSG, 0, NULL, 0);
  if (nbytes &lt; 0)
    {
      perror ("recfrom (client)");
      exit (EXIT_FAILURE);
    }

  /* Print a diagnostic message. */
  fprintf (stderr, "Client: got message: %s\n", message);

  /* Clean up. */
  remove (CLIENT);
  close (sock);
}
</pre>

<p>Keep in mind that datagram socket communications are unreliable.  In
this example, the client program waits indefinitely if the message
never reaches the server or if the server's response never comes
back.  It's up to the user running the program to kill and restart
it if desired.  A more automatic solution could be to use
<code>select</code> (see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>) to establish a timeout period
for the reply, and in case of timeout either re-send the message or
shut down the socket and exit.

<p><hr>
Node:<a name="Inetd">Inetd</a>,
Next:<a rel=next accesskey=n href="#Socket%20Options">Socket Options</a>,
Previous:<a rel=previous accesskey=p href="#Datagrams">Datagrams</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>The <code>inetd</code> Daemon</h3>

<p>We've explained above how to write a server program that does its own
listening.  Such a server must already be running in order for anyone
to connect to it.

<p>Another way to provide a service on an Internet port is to let the daemon
program <code>inetd</code> do the listening.  <code>inetd</code> is a program that
runs all the time and waits (using <code>select</code>) for messages on a
specified set of ports.  When it receives a message, it accepts the
connection (if the socket style calls for connections) and then forks a
child process to run the corresponding server program.  You specify the
ports and their programs in the file <code>/etc/inetd.conf</code>.

<ul>
<li><a accesskey=1 href="#Inetd%20Servers">Inetd Servers</a>: 
<li><a accesskey=2 href="#Configuring%20Inetd">Configuring Inetd</a>: 
</ul>

<p><hr>
Node:<a name="Inetd%20Servers">Inetd Servers</a>,
Next:<a rel=next accesskey=n href="#Configuring%20Inetd">Configuring Inetd</a>,
Up:<a rel=up accesskey=u href="#Inetd">Inetd</a>
<br>

<h4><code>inetd</code> Servers</h4>

<p>Writing a server program to be run by <code>inetd</code> is very simple.  Each time
someone requests a connection to the appropriate port, a new server
process starts.  The connection already exists at this time; the
socket is available as the standard input descriptor and as the
standard output descriptor (descriptors 0 and 1) in the server
process.  Thus the server program can begin reading and writing data
right away.  Often the program needs only the ordinary I/O facilities;
in fact, a general-purpose filter program that knows nothing about
sockets can work as a byte stream server run by <code>inetd</code>.

<p>You can also use <code>inetd</code> for servers that use connectionless
communication styles.  For these servers, <code>inetd</code> does not try to accept
a connection since no connection is possible.  It just starts the
server program, which can read the incoming datagram packet from
descriptor 0.  The server program can handle one request and then
exit, or you can choose to write it to keep reading more requests
until no more arrive, and then exit.  You must specify which of these
two techniques the server uses when you configure <code>inetd</code>.

<p><hr>
Node:<a name="Configuring%20Inetd">Configuring Inetd</a>,
Previous:<a rel=previous accesskey=p href="#Inetd%20Servers">Inetd Servers</a>,
Up:<a rel=up accesskey=u href="#Inetd">Inetd</a>
<br>

<h4>Configuring <code>inetd</code></h4>

<p>The file <code>/etc/inetd.conf</code> tells <code>inetd</code> which ports to listen to
and what server programs to run for them.  Normally each entry in the
file is one line, but you can split it onto multiple lines provided
all but the first line of the entry start with whitespace.  Lines that
start with <code>#</code> are comments.

<p>Here are two standard entries in <code>/etc/inetd.conf</code>:

<br><pre>ftp	stream	tcp	nowait	root	/libexec/ftpd	ftpd
talk	dgram	udp	wait	root	/libexec/talkd	talkd
</pre>

<p>An entry has this format:

<br><pre><var>service</var> <var>style</var> <var>protocol</var> <var>wait</var> <var>username</var> <var>program</var> <var>arguments</var>
</pre>

<p>The <var>service</var> field says which service this program provides.  It
should be the name of a service defined in <code>/etc/services</code>. 
<code>inetd</code> uses <var>service</var> to decide which port to listen on for
this entry.

<p>The fields <var>style</var> and <var>protocol</var> specify the communication
style and the protocol to use for the listening socket.  The style
should be the name of a communication style, converted to lower case
and with <code>SOCK_</code> deleted--for example, <code>stream</code> or
<code>dgram</code>.  <var>protocol</var> should be one of the protocols listed in
<code>/etc/protocols</code>.  The typical protocol names are <code>tcp</code> for
byte stream connections and <code>udp</code> for unreliable datagrams.

<p>The <var>wait</var> field should be either <code>wait</code> or <code>nowait</code>. 
Use <code>wait</code> if <var>style</var> is a connectionless style and the
server, once started, handles multiple requests as they come in. 
Use <code>nowait</code> if <code>inetd</code> should start a new process for each message
or request that comes in.  If <var>style</var> uses connections, then
<var>wait</var> <strong>must</strong> be <code>nowait</code>.

<p><var>user</var> is the user name that the server should run as.  <code>inetd</code> runs
as root, so it can set the user ID of its children arbitrarily.  It's
best to avoid using <code>root</code> for <var>user</var> if you can; but some
servers, such as Telnet and FTP, read a username and password
themselves.  These servers need to be root initially so they can log
in as commanded by the data coming over the network.

<p><var>program</var> together with <var>arguments</var> specifies the command to
run to start the server.  <var>program</var> should be an absolute file
name specifying the executable file to run.  <var>arguments</var> consists
of any number of whitespace-separated words, which become the
command-line arguments of <var>program</var>.  The first word in
<var>arguments</var> is argument zero, which should by convention be the
program name itself (sans directories).

<p>If you edit <code>/etc/inetd.conf</code>, you can tell <code>inetd</code> to reread the
file and obey its new contents by sending the <code>inetd</code> process the
<code>SIGHUP</code> signal.  You'll have to use <code>ps</code> to determine the
process ID of the <code>inetd</code> process as it is not fixed.

<p><hr>
Node:<a name="Socket%20Options">Socket Options</a>,
Next:<a rel=next accesskey=n href="#Networks%20Database">Networks Database</a>,
Previous:<a rel=previous accesskey=p href="#Inetd">Inetd</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Socket Options</h3>

<p>This section describes how to read or set various options that modify
the behavior of sockets and their underlying communications protocols.

<p>When you are manipulating a socket option, you must specify which
<dfn>level</dfn> the option pertains to.  This describes whether the option
applies to the socket interface, or to a lower-level communications
protocol interface.

<ul>
<li><a accesskey=1 href="#Socket%20Option%20Functions">Socket Option Functions</a>:      The basic functions for setting and getting
                                 socket options. 
<li><a accesskey=2 href="#Socket-Level%20Options">Socket-Level Options</a>:         Details of the options at the socket level. 
</ul>

<p><hr>
Node:<a name="Socket%20Option%20Functions">Socket Option Functions</a>,
Next:<a rel=next accesskey=n href="#Socket-Level%20Options">Socket-Level Options</a>,
Up:<a rel=up accesskey=u href="#Socket%20Options">Socket Options</a>
<br>

<h4>Socket Option Functions</h4>

<p>Here are the functions for examining and modifying socket options. 
They are declared in <code>sys/socket.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getsockopt</b><i> (int <var>socket</var>, int <var>level</var>, int <var>optname</var>, void *<var>optval</var>, socklen_t *<var>optlen-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getsockopt</code> function gets information about the value of
option <var>optname</var> at level <var>level</var> for socket <var>socket</var>.

<p>The option value is stored in a buffer that <var>optval</var> points to. 
Before the call, you should supply in <code>*<var>optlen-ptr</var></code> the
size of this buffer; on return, it contains the number of bytes of
information actually stored in the buffer.

<p>Most options interpret the <var>optval</var> buffer as a single <code>int</code>
value.

<p>The actual return value of <code>getsockopt</code> is <code>0</code> on success
and <code>-1</code> on failure.  The following <code>errno</code> error conditions
are defined:

<dl>
<dt><code>EBADF</code>
<dd>The <var>socket</var> argument is not a valid file descriptor.

<br><dt><code>ENOTSOCK</code>
<dd>The descriptor <var>socket</var> is not a socket.

<br><dt><code>ENOPROTOOPT</code>
<dd>The <var>optname</var> doesn't make sense for the given <var>level</var>. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setsockopt</b><i> (int <var>socket</var>, int <var>level</var>, int <var>optname</var>, void *<var>optval</var>, socklen_t <var>optlen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to set the socket option <var>optname</var> at level
<var>level</var> for socket <var>socket</var>.  The value of the option is passed
in the buffer <var>optval</var> of size <var>optlen</var>.

</td></tr>
</table>

<p><hr>
Node:<a name="Socket-Level%20Options">Socket-Level Options</a>,
Previous:<a rel=previous accesskey=p href="#Socket%20Option%20Functions">Socket Option Functions</a>,
Up:<a rel=up accesskey=u href="#Socket%20Options">Socket Options</a>
<br>

<h4>Socket-Level Options</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SOL_SOCKET</b><i>
</i></td>
<td align="right">Constant</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Use this constant as the <var>level</var> argument to <code>getsockopt</code> or
<code>setsockopt</code> to manipulate the socket-level options described in
this section. 
</td></tr>
</table>

<p>Here is a table of socket-level option names; all are defined in the
header file <code>sys/socket.h</code>.

<dl>
<dt><code>SO_DEBUG</code>
<dd>
This option toggles recording of debugging information in the underlying
protocol modules.  The value has type <code>int</code>; a nonzero value means
"yes".

<br><dt><code>SO_REUSEADDR</code>
<dd>This option controls whether <code>bind</code> (see <a href="#Setting%20Address">Setting Address</a>)
should permit reuse of local addresses for this socket.  If you enable
this option, you can actually have two sockets with the same Internet
port number; but the system won't allow you to use the two
identically-named sockets in a way that would confuse the Internet.  The
reason for this option is that some higher-level Internet protocols,
including FTP, require you to keep reusing the same port number.

<p>The value has type <code>int</code>; a nonzero value means "yes".

<br><dt><code>SO_KEEPALIVE</code>
<dd>This option controls whether the underlying protocol should
periodically transmit messages on a connected socket.  If the peer
fails to respond to these messages, the connection is considered
broken.  The value has type <code>int</code>; a nonzero value means
"yes".

<br><dt><code>SO_DONTROUTE</code>
<dd>This option controls whether outgoing messages bypass the normal
message routing facilities.  If set, messages are sent directly to the
network interface instead.  The value has type <code>int</code>; a nonzero
value means "yes".

<br><dt><code>SO_LINGER</code>
<dd>This option specifies what should happen when the socket of a type
that promises reliable delivery still has untransmitted messages when
it is closed; see <a href="#Closing%20a%20Socket">Closing a Socket</a>.  The value has type
<code>struct linger</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct linger</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure type has the following members:

<dl>
<dt><code>int l_onoff</code>
<dd>This field is interpreted as a boolean.  If nonzero, <code>close</code>
blocks until the data are transmitted or the timeout period has expired.

<br><dt><code>int l_linger</code>
<dd>This specifies the timeout period, in seconds. 
</dl>
</td></tr>
</table>

<br><dt><code>SO_BROADCAST</code>
<dd>This option controls whether datagrams may be broadcast from the socket. 
The value has type <code>int</code>; a nonzero value means "yes".

<br><dt><code>SO_OOBINLINE</code>
<dd>If this option is set, out-of-band data received on the socket is
placed in the normal input queue.  This permits it to be read using
<code>read</code> or <code>recv</code> without specifying the <code>MSG_OOB</code>
flag.  See <a href="#Out-of-Band%20Data">Out-of-Band Data</a>.  The value has type <code>int</code>; a
nonzero value means "yes".

<br><dt><code>SO_SNDBUF</code>
<dd>This option gets or sets the size of the output buffer.  The value is a
<code>size_t</code>, which is the size in bytes.

<br><dt><code>SO_RCVBUF</code>
<dd>This option gets or sets the size of the input buffer.  The value is a
<code>size_t</code>, which is the size in bytes.

<br><dt><code>SO_STYLE</code>
<dt><code>SO_TYPE</code>
<dd>This option can be used with <code>getsockopt</code> only.  It is used to
get the socket's communication style.  <code>SO_TYPE</code> is the
historical name, and <code>SO_STYLE</code> is the preferred name in GNU. 
The value has type <code>int</code> and its value designates a communication
style; see <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>SO_ERROR</code>
<dd>
This option can be used with <code>getsockopt</code> only.  It is used to reset
the error status of the socket.  The value is an <code>int</code>, which represents
the previous error status. 
</dl>

<p><hr>
Node:<a name="Networks%20Database">Networks Database</a>,
Previous:<a rel=previous accesskey=p href="#Socket%20Options">Socket Options</a>,
Up:<a rel=up accesskey=u href="#Sockets">Sockets</a>
<br>

<h3>Networks Database</h3>

<p>Many systems come with a database that records a list of networks known
to the system developer.  This is usually kept either in the file
<code>/etc/networks</code> or in an equivalent from a name server.  This data
base is useful for routing programs such as <code>route</code>, but it is not
useful for programs that simply communicate over the network.  We
provide functions to access this database, which are declared in
<code>netdb.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct netent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is used to represent information about entries in the
networks database.  It has the following members:

<dl>
<dt><code>char *n_name</code>
<dd>This is the "official" name of the network.

<br><dt><code>char **n_aliases</code>
<dd>These are alternative names for the network, represented as a vector
of strings.  A null pointer terminates the array.

<br><dt><code>int n_addrtype</code>
<dd>This is the type of the network number; this is always equal to
<code>AF_INET</code> for Internet networks.

<br><dt><code>unsigned long int n_net</code>
<dd>This is the network number.  Network numbers are returned in host
byte order; see <a href="#Byte%20Order">Byte Order</a>. 
</dl>
</td></tr>
</table>

<p>Use the <code>getnetbyname</code> or <code>getnetbyaddr</code> functions to search
the networks database for information about a specific network.  The
information is returned in a statically-allocated structure; you must
copy the information if you need to save it.

<p>
<table width="100%">
<tr>
<td align="left">struct netent * <b>getnetbyname</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getnetbyname</code> function returns information about the network
named <var>name</var>.  It returns a null pointer if there is no such
network. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct netent * <b>getnetbyaddr</b><i> (unsigned long int <var>net</var>, int <var>type</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getnetbyaddr</code> function returns information about the network
of type <var>type</var> with number <var>net</var>.  You should specify a value of
<code>AF_INET</code> for the <var>type</var> argument for Internet networks.

<p><code>getnetbyaddr</code> returns a null pointer if there is no such
network. 
</td></tr>
</table>

<p>You can also scan the networks database using <code>setnetent</code>,
<code>getnetent</code> and <code>endnetent</code>.  Be careful when using these
functions because they are not reentrant.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setnetent</b><i> (int <var>stayopen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens and rewinds the networks database.

<p>If the <var>stayopen</var> argument is nonzero, this sets a flag so that
subsequent calls to <code>getnetbyname</code> or <code>getnetbyaddr</code> will
not close the database (as they usually would).  This makes for more
efficiency if you call those functions several times, by avoiding
reopening the database for each call. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct netent * <b>getnetent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry in the networks database.  It
returns a null pointer if there are no more entries. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endnetent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the networks database. 
</td></tr>
</table>

<p><hr>
Node:<a name="Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>,
Next:<a rel=next accesskey=n href="#Syslog">Syslog</a>,
Previous:<a rel=previous accesskey=p href="#Sockets">Sockets</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Low-Level Terminal Interface</h2>

<p>This chapter describes functions that are specific to terminal devices. 
You can use these functions to do things like turn off input echoing;
set serial line characteristics such as line speed and flow control; and
change which characters are used for end-of-file, command-line editing,
sending signals, and similar control functions.

<p>Most of the functions in this chapter operate on file descriptors. 
See <a href="#Low-Level%20I%2fO">Low-Level I/O</a>, for more information about what a file
descriptor is and how to open a file descriptor for a terminal device.

<ul>
<li><a accesskey=1 href="#Is%20It%20a%20Terminal">Is It a Terminal</a>:             How to determine if a file is a terminal
			         device, and what its name is. 
<li><a accesskey=2 href="#I%2fO%20Queues">I/O Queues</a>:                   About flow control and typeahead. 
<li><a accesskey=3 href="#Canonical%20or%20Not">Canonical or Not</a>:             Two basic styles of input processing. 
<li><a accesskey=4 href="#Terminal%20Modes">Terminal Modes</a>:               How to examine and modify flags controlling
			         details of terminal I/O: echoing,
                                 signals, editing.  Posix. 
<li><a accesskey=5 href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>:           BSD compatible terminal mode setting
<li><a accesskey=6 href="#Line%20Control">Line Control</a>:                 Sending break sequences, clearing
                                 terminal buffers <small>...</small>
<li><a accesskey=7 href="#Noncanon%20Example">Noncanon Example</a>:             How to read single characters without echo. 
<li><a accesskey=8 href="#Pseudo-Terminals">Pseudo-Terminals</a>:             How to open a pseudo-terminal. 
</ul>

<p><hr>
Node:<a name="Is%20It%20a%20Terminal">Is It a Terminal</a>,
Next:<a rel=next accesskey=n href="#I%2fO%20Queues">I/O Queues</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Identifying Terminals</h3>

<p>The functions described in this chapter only work on files that
correspond to terminal devices.  You can find out whether a file
descriptor is associated with a terminal by using the <code>isatty</code>
function.

<p>Prototypes for the functions in this section are declared in the header
file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>isatty</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns <code>1</code> if <var>filedes</var> is a file descriptor
associated with an open terminal device, and 0 otherwise. 
</td></tr>
</table>

<p>If a file descriptor is associated with a terminal, you can get its
associated file name using the <code>ttyname</code> function.  See also the
<code>ctermid</code> function, described in <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ttyname</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the file descriptor <var>filedes</var> is associated with a terminal
device, the <code>ttyname</code> function returns a pointer to a
statically-allocated, null-terminated string containing the file name of
the terminal file.  The value is a null pointer if the file descriptor
isn't associated with a terminal, or the file name cannot be determined. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ttyname_r</b><i> (int <var>filedes</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ttyname_r</code> function is similar to the <code>ttyname</code> function
except that it places its result into the user-specified buffer starting
at <var>buf</var> with length <var>len</var>.

<p>The normal return value from <code>ttyname_r</code> is 0.  Otherwise an
error number is returned to indicate the error.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal.

<br><dt><code>ERANGE</code>
<dd>The buffer length <var>len</var> is too small to store the string to be
returned. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="I%2fO%20Queues">I/O Queues</a>,
Next:<a rel=next accesskey=n href="#Canonical%20or%20Not">Canonical or Not</a>,
Previous:<a rel=previous accesskey=p href="#Is%20It%20a%20Terminal">Is It a Terminal</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>I/O Queues</h3>

<p>Many of the remaining functions in this section refer to the input and
output queues of a terminal device.  These queues implement a form of
buffering <em>within the kernel</em> independent of the buffering
implemented by I/O streams (see <a href="#I%2fO%20on%20Streams">I/O on Streams</a>).

<p>The <dfn>terminal input queue</dfn> is also sometimes referred to as its
<dfn>typeahead buffer</dfn>.  It holds the characters that have been received
from the terminal but not yet read by any process.

<p>The size of the input queue is described by the <code>MAX_INPUT</code> and
<code>_POSIX_MAX_INPUT</code> parameters; see <a href="#Limits%20for%20Files">Limits for Files</a>.  You
are guaranteed a queue size of at least <code>MAX_INPUT</code>, but the queue
might be larger, and might even dynamically change size.  If input flow
control is enabled by setting the <code>IXOFF</code> input mode bit
(see <a href="#Input%20Modes">Input Modes</a>), the terminal driver transmits STOP and START
characters to the terminal when necessary to prevent the queue from
overflowing.  Otherwise, input may be lost if it comes in too fast from
the terminal.  In canonical mode, all input stays in the queue until a
newline character is received, so the terminal input queue can fill up
when you type a very long line.  See <a href="#Canonical%20or%20Not">Canonical or Not</a>.

<p>The <dfn>terminal output queue</dfn> is like the input queue, but for output;
it contains characters that have been written by processes, but not yet
transmitted to the terminal.  If output flow control is enabled by
setting the <code>IXON</code> input mode bit (see <a href="#Input%20Modes">Input Modes</a>), the
terminal driver obeys START and STOP characters sent by the terminal to
stop and restart transmission of output.

<p><dfn>Clearing</dfn> the terminal input queue means discarding any characters
that have been received but not yet read.  Similarly, clearing the
terminal output queue means discarding any characters that have been
written but not yet transmitted.

<p><hr>
Node:<a name="Canonical%20or%20Not">Canonical or Not</a>,
Next:<a rel=next accesskey=n href="#Terminal%20Modes">Terminal Modes</a>,
Previous:<a rel=previous accesskey=p href="#I%2fO%20Queues">I/O Queues</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Two Styles of Input: Canonical or Not</h3>

<p>POSIX systems support two basic modes of input: canonical and
noncanonical.

<p>In <dfn>canonical input processing</dfn> mode, terminal input is processed in
lines terminated by newline (<code>'\n'</code>), EOF, or EOL characters.  No
input can be read until an entire line has been typed by the user, and
the <code>read</code> function (see <a href="#I%2fO%20Primitives">I/O Primitives</a>) returns at most a
single line of input, no matter how many bytes are requested.

<p>In canonical input mode, the operating system provides input editing
facilities: some characters are interpreted specially to perform editing
operations within the current line of text, such as ERASE and KILL. 
See <a href="#Editing%20Characters">Editing Characters</a>.

<p>The constants <code>_POSIX_MAX_CANON</code> and <code>MAX_CANON</code> parameterize
the maximum number of bytes which may appear in a single line of
canonical input.  See <a href="#Limits%20for%20Files">Limits for Files</a>.  You are guaranteed a maximum
line length of at least <code>MAX_CANON</code> bytes, but the maximum might be
larger, and might even dynamically change size.

<p>In <dfn>noncanonical input processing</dfn> mode, characters are not grouped
into lines, and ERASE and KILL processing is not performed.  The
granularity with which bytes are read in noncanonical input mode is
controlled by the MIN and TIME settings.  See <a href="#Noncanonical%20Input">Noncanonical Input</a>.

<p>Most programs use canonical input mode, because this gives the user a
way to edit input line by line.  The usual reason to use noncanonical
mode is when the program accepts single-character commands or provides
its own editing facilities.

<p>The choice of canonical or noncanonical input is controlled by the
<code>ICANON</code> flag in the <code>c_lflag</code> member of <code>struct termios</code>. 
See <a href="#Local%20Modes">Local Modes</a>.

<p><hr>
Node:<a name="Terminal%20Modes">Terminal Modes</a>,
Next:<a rel=next accesskey=n href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>,
Previous:<a rel=previous accesskey=p href="#Canonical%20or%20Not">Canonical or Not</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Terminal Modes</h3>

<p>This section describes the various terminal attributes that control how
input and output are done.  The functions, data structures, and symbolic
constants are all declared in the header file <code>termios.h</code>.

<p>Don't confuse terminal attributes with file attributes.  A device special
file which is associated with a terminal has file attributes as described
in <a href="#File%20Attributes">File Attributes</a>.  These are unrelated to the attributes of the
terminal device itself, which are discussed in this section.

<ul>
<li><a accesskey=1 href="#Mode%20Data%20Types">Mode Data Types</a>:              The data type <code>struct termios</code> and
                                 related types. 
<li><a accesskey=2 href="#Mode%20Functions">Mode Functions</a>:               Functions to read and set the terminal
                                 attributes. 
<li><a accesskey=3 href="#Setting%20Modes">Setting Modes</a>:                The right way to set terminal attributes
                                 reliably. 
<li><a accesskey=4 href="#Input%20Modes">Input Modes</a>:                  Flags controlling low-level input handling. 
<li><a accesskey=5 href="#Output%20Modes">Output Modes</a>:                 Flags controlling low-level output handling. 
<li><a accesskey=6 href="#Control%20Modes">Control Modes</a>:                Flags controlling serial port behavior. 
<li><a accesskey=7 href="#Local%20Modes">Local Modes</a>:                  Flags controlling high-level input handling. 
<li><a accesskey=8 href="#Line%20Speed">Line Speed</a>:                   How to read and set the terminal line speed. 
<li><a accesskey=9 href="#Special%20Characters">Special Characters</a>:           Characters that have special effects,
			         and how to change them. 
<li><a href="#Noncanonical%20Input">Noncanonical Input</a>:           Controlling how long to wait for input. 
</ul>

<p><hr>
Node:<a name="Mode%20Data%20Types">Mode Data Types</a>,
Next:<a rel=next accesskey=n href="#Mode%20Functions">Mode Functions</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Terminal Mode Data Types</h4>

<p>The entire collection of attributes of a terminal is stored in a
structure of type <code>struct termios</code>.  This structure is used
with the functions <code>tcgetattr</code> and <code>tcsetattr</code> to read
and set the attributes.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct termios</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Structure that records all the I/O attributes of a terminal.  The
structure includes at least the following members:

<dl>
<dt><code>tcflag_t c_iflag</code>
<dd>A bit mask specifying flags for input modes; see <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t c_oflag</code>
<dd>A bit mask specifying flags for output modes; see <a href="#Output%20Modes">Output Modes</a>.

<br><dt><code>tcflag_t c_cflag</code>
<dd>A bit mask specifying flags for control modes; see <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>tcflag_t c_lflag</code>
<dd>A bit mask specifying flags for local modes; see <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>cc_t c_cc[NCCS]</code>
<dd>An array specifying which characters are associated with various
control functions; see <a href="#Special%20Characters">Special Characters</a>. 
</dl>

<p>The <code>struct termios</code> structure also contains members which
encode input and output transmission speeds, but the representation is
not specified.  See <a href="#Line%20Speed">Line Speed</a>, for how to examine and store the
speed values. 
</td></tr>
</table>

<p>The following sections describe the details of the members of the
<code>struct termios</code> structure.

<p>
<table width="100%">
<tr>
<td align="left"><b>tcflag_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an unsigned integer type used to represent the various
bit masks for terminal flags. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>cc_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an unsigned integer type used to represent characters associated
with various terminal control functions. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>NCCS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is the number of elements in the <code>c_cc</code>
array. 
</td></tr>
</table>

<p><hr>
Node:<a name="Mode%20Functions">Mode Functions</a>,
Next:<a rel=next accesskey=n href="#Setting%20Modes">Setting Modes</a>,
Previous:<a rel=previous accesskey=p href="#Mode%20Data%20Types">Mode Data Types</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Terminal Mode Functions</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcgetattr</b><i> (int <var>filedes</var>, struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to examine the attributes of the terminal
device with file descriptor <var>filedes</var>.  The attributes are returned
in the structure that <var>termios-p</var> points to.

<p>If successful, <code>tcgetattr</code> returns 0.  A return value of -1
indicates an error.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcsetattr</b><i> (int <var>filedes</var>, int <var>when</var>, const struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the attributes of the terminal device with file
descriptor <var>filedes</var>.  The new attributes are taken from the
structure that <var>termios-p</var> points to.

<p>The <var>when</var> argument specifies how to deal with input and output
already queued.  It can be one of the following values:

<dl>
<dt><code>TCSANOW</code>
<dd>Make the change immediately.

<br><dt><code>TCSADRAIN</code>
<dd>Make the change after waiting until all queued output has been written. 
You should usually use this option when changing parameters that affect
output.

<br><dt><code>TCSAFLUSH</code>
<dd>This is like <code>TCSADRAIN</code>, but also discards any queued input.

<br><dt><code>TCSASOFT</code>
<dd>This is a flag bit that you can add to any of the above alternatives. 
Its meaning is to inhibit alteration of the state of the terminal
hardware.  It is a BSD extension; it is only supported on BSD systems
and the GNU system.

<p>Using <code>TCSASOFT</code> is exactly the same as setting the <code>CIGNORE</code>
bit in the <code>c_cflag</code> member of the structure <var>termios-p</var> points
to.  See <a href="#Control%20Modes">Control Modes</a>, for a description of <code>CIGNORE</code>. 
</dl>

<p>If this function is called from a background process on its controlling
terminal, normally all processes in the process group are sent a
<code>SIGTTOU</code> signal, in the same way as if the process were trying to
write to the terminal.  The exception is if the calling process itself
is ignoring or blocking <code>SIGTTOU</code> signals, in which case the
operation is performed and no signal is sent.  See <a href="#Job%20Control">Job Control</a>.

<p>If successful, <code>tcsetattr</code> returns 0.  A return value of
-1 indicates an error.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal.

<br><dt><code>EINVAL</code>
<dd>Either the value of the <code>when</code> argument is not valid, or there is
something wrong with the data in the <var>termios-p</var> argument. 
</dl>
</td></tr>
</table>

<p>Although <code>tcgetattr</code> and <code>tcsetattr</code> specify the terminal
device with a file descriptor, the attributes are those of the terminal
device itself and not of the file descriptor.  This means that the
effects of changing terminal attributes are persistent; if another
process opens the terminal file later on, it will see the changed
attributes even though it doesn't have anything to do with the open file
descriptor you originally specified in changing the attributes.

<p>Similarly, if a single process has multiple or duplicated file
descriptors for the same terminal device, changing the terminal
attributes affects input and output to all of these file
descriptors.  This means, for example, that you can't open one file
descriptor or stream to read from a terminal in the normal
line-buffered, echoed mode; and simultaneously have another file
descriptor for the same terminal that you use to read from it in
single-character, non-echoed mode.  Instead, you have to explicitly
switch the terminal back and forth between the two modes.

<p><hr>
Node:<a name="Setting%20Modes">Setting Modes</a>,
Next:<a rel=next accesskey=n href="#Input%20Modes">Input Modes</a>,
Previous:<a rel=previous accesskey=p href="#Mode%20Functions">Mode Functions</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Setting Terminal Modes Properly</h4>

<p>When you set terminal modes, you should call <code>tcgetattr</code> first to
get the current modes of the particular terminal device, modify only
those modes that you are really interested in, and store the result with
<code>tcsetattr</code>.

<p>It's a bad idea to simply initialize a <code>struct termios</code> structure
to a chosen set of attributes and pass it directly to <code>tcsetattr</code>. 
Your program may be run years from now, on systems that support members
not documented in this manual.  The way to avoid setting these members
to unreasonable values is to avoid changing them.

<p>What's more, different terminal devices may require different mode
settings in order to function properly.  So you should avoid blindly
copying attributes from one terminal device to another.

<p>When a member contains a collection of independent flags, as the
<code>c_iflag</code>, <code>c_oflag</code> and <code>c_cflag</code> members do, even
setting the entire member is a bad idea, because particular operating
systems have their own flags.  Instead, you should start with the
current value of the member and alter only the flags whose values matter
in your program, leaving any other flags unchanged.

<p>Here is an example of how to set one flag (<code>ISTRIP</code>) in the
<code>struct termios</code> structure while properly preserving all the other
data in the structure:

<br><pre>int
set_istrip (int desc, int value)
{
  struct termios settings;
  int result;

  result = tcgetattr (desc, &amp;settings);
  if (result &lt; 0)
    {
      perror ("error in tcgetattr");
      return 0;
    }
  settings.c_iflag &amp;= ~ISTRIP;
  if (value)
    settings.c_iflag |= ISTRIP;
  result = tcsetattr (desc, TCSANOW, &amp;settings);
  if (result &lt; 0)
    {
      perror ("error in tcgetattr");
      return;
   }
  return 1;
}
</pre>

<p><hr>
Node:<a name="Input%20Modes">Input Modes</a>,
Next:<a rel=next accesskey=n href="#Output%20Modes">Output Modes</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20Modes">Setting Modes</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Input Modes</h4>

<p>This section describes the terminal attribute flags that control
fairly low-level aspects of input processing: handling of parity errors,
break signals, flow control, and &lt;RET&gt; and &lt;LFD&gt; characters.

<p>All of these flags are bits in the <code>c_iflag</code> member of the
<code>struct termios</code> structure.  The member is an integer, and you
change flags using the operators <code>&amp;</code>, <code>|</code> and <code>^</code>.  Don't
try to specify the entire value for <code>c_iflag</code>--instead, change
only specific flags and leave the rest untouched (see <a href="#Setting%20Modes">Setting Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>INPCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, input parity checking is enabled.  If it is not set,
no checking at all is done for parity errors on input; the
characters are simply passed through to the application.

<p>Parity checking on input processing is independent of whether parity
detection and generation on the underlying terminal hardware is enabled;
see <a href="#Control%20Modes">Control Modes</a>.  For example, you could clear the <code>INPCK</code>
input mode flag and set the <code>PARENB</code> control mode flag to ignore
parity errors on input, but still generate parity on output.

<p>If this bit is set, what happens when a parity error is detected depends
on whether the <code>IGNPAR</code> or <code>PARMRK</code> bits are set.  If neither
of these bits are set, a byte with a parity error is passed to the
application as a <code>'\0'</code> character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IGNPAR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, any byte with a framing or parity error is ignored. 
This is only useful if <code>INPCK</code> is also set. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>PARMRK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, input bytes with parity or framing errors are marked
when passed to the program.  This bit is meaningful only when
<code>INPCK</code> is set and <code>IGNPAR</code> is not set.

<p>The way erroneous bytes are marked is with two preceding bytes,
<code>377</code> and <code>0</code>.  Thus, the program actually reads three bytes
for one erroneous byte received from the terminal.

<p>If a valid byte has the value <code>0377</code>, and <code>ISTRIP</code> (see below)
is not set, the program might confuse it with the prefix that marks a
parity error.  So a valid byte <code>0377</code> is passed to the program as
two bytes, <code>0377</code> <code>0377</code>, in this case. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ISTRIP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, valid input bytes are stripped to seven bits;
otherwise, all eight bits are available for programs to read. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IGNBRK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, break conditions are ignored.

<p>A <dfn>break condition</dfn> is defined in the context of asynchronous
serial data transmission as a series of zero-value bits longer than a
single byte. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>BRKINT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set and <code>IGNBRK</code> is not set, a break condition
clears the terminal input and output queues and raises a <code>SIGINT</code>
signal for the foreground process group associated with the terminal.

<p>If neither <code>BRKINT</code> nor <code>IGNBRK</code> are set, a break condition is
passed to the application as a single <code>'\0'</code> character if
<code>PARMRK</code> is not set, or otherwise as a three-character sequence
<code>'\377'</code>, <code>'\0'</code>, <code>'\0'</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IGNCR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, carriage return characters (<code>'\r'</code>) are
discarded on input.  Discarding carriage return may be useful on
terminals that send both carriage return and linefeed when you type the
&lt;RET&gt; key. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ICRNL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set and <code>IGNCR</code> is not set, carriage return characters
(<code>'\r'</code>) received as input are passed to the application as newline
characters (<code>'\n'</code>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>INLCR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, newline characters (<code>'\n'</code>) received as input
are passed to the application as carriage return characters (<code>'\r'</code>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IXOFF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, start/stop control on input is enabled.  In other
words, the computer sends STOP and START characters as necessary to
prevent input from coming in faster than programs are reading it.  The
idea is that the actual terminal hardware that is generating the input
data responds to a STOP character by suspending transmission, and to a
START character by resuming transmission.  See <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IXON</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, start/stop control on output is enabled.  In other
words, if the computer receives a STOP character, it suspends output
until a START character is received.  In this case, the STOP and START
characters are never passed to the application program.  If this bit is
not set, then START and STOP can be read as ordinary characters. 
See <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IXANY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, any input character restarts output when output has
been suspended with the STOP character.  Otherwise, only the START
character restarts output.

<p>This is a BSD extension; it exists only on BSD systems and the GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IMAXBEL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, then filling up the terminal input buffer sends a
BEL character (code <code>007</code>) to the terminal to ring the bell.

<p>This is a BSD extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Output%20Modes">Output Modes</a>,
Next:<a rel=next accesskey=n href="#Control%20Modes">Control Modes</a>,
Previous:<a rel=previous accesskey=p href="#Input%20Modes">Input Modes</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Output Modes</h4>

<p>This section describes the terminal flags and fields that control how
output characters are translated and padded for display.  All of these
are contained in the <code>c_oflag</code> member of the <code>struct&nbsp;termios</code>
structure.

<p>The <code>c_oflag</code> member itself is an integer, and you change the flags
and fields using the operators <code>&amp;</code>, <code>|</code>, and <code>^</code>.  Don't
try to specify the entire value for <code>c_oflag</code>--instead, change
only specific flags and leave the rest untouched (see <a href="#Setting%20Modes">Setting Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>OPOST</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, output data is processed in some unspecified way so
that it is displayed appropriately on the terminal device.  This
typically includes mapping newline characters (<code>'\n'</code>) onto
carriage return and linefeed pairs.

<p>If this bit isn't set, the characters are transmitted as-is. 
</td></tr>
</table>

<p>The following three bits are BSD features, and they exist only BSD
systems and the GNU system.  They are effective only if <code>OPOST</code> is
set.

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ONLCR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, convert the newline character on output into a pair
of characters, carriage return followed by linefeed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>OXTABS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, convert tab characters on output into the appropriate
number of spaces to emulate a tab stop every eight columns. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ONOEOT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, discard <kbd>C-d</kbd> characters (code <code>004</code>) on
output.  These characters cause many dial-up terminals to disconnect. 
</td></tr>
</table>

<p><hr>
Node:<a name="Control%20Modes">Control Modes</a>,
Next:<a rel=next accesskey=n href="#Local%20Modes">Local Modes</a>,
Previous:<a rel=previous accesskey=p href="#Output%20Modes">Output Modes</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Control Modes</h4>

<p>This section describes the terminal flags and fields that control
parameters usually associated with asynchronous serial data
transmission.  These flags may not make sense for other kinds of
terminal ports (such as a network connection pseudo-terminal).  All of
these are contained in the <code>c_cflag</code> member of the <code>struct
termios</code> structure.

<p>The <code>c_cflag</code> member itself is an integer, and you change the flags
and fields using the operators <code>&amp;</code>, <code>|</code>, and <code>^</code>.  Don't
try to specify the entire value for <code>c_cflag</code>--instead, change
only specific flags and leave the rest untouched (see <a href="#Setting%20Modes">Setting Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CLOCAL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, it indicates that the terminal is connected
"locally" and that the modem status lines (such as carrier detect)
should be ignored.

<p>On many systems if this bit is not set and you call <code>open</code> without
the <code>O_NONBLOCK</code> flag set, <code>open</code> blocks until a modem
connection is established.

<p>If this bit is not set and a modem disconnect is detected, a
<code>SIGHUP</code> signal is sent to the controlling process group for the
terminal (if it has one).  Normally, this causes the process to exit;
see <a href="#Signal%20Handling">Signal Handling</a>.  Reading from the terminal after a disconnect
causes an end-of-file condition, and writing causes an <code>EIO</code> error
to be returned.  The terminal device must be closed and reopened to
clear the condition. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>HUPCL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, a modem disconnect is generated when all processes
that have the terminal device open have either closed the file or exited. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CREAD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, input can be read from the terminal.  Otherwise,
input is discarded when it arrives. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CSTOPB</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, two stop bits are used.  Otherwise, only one stop bit
is used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>PARENB</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, generation and detection of a parity bit are enabled. 
See <a href="#Input%20Modes">Input Modes</a>, for information on how input parity errors are handled.

<p>If this bit is not set, no parity bit is added to output characters, and
input characters are not checked for correct parity. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>PARODD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit is only useful if <code>PARENB</code> is set.  If <code>PARODD</code> is set,
odd parity is used, otherwise even parity is used. 
</td></tr>
</table>

<p>The control mode flags also includes a field for the number of bits per
character.  You can use the <code>CSIZE</code> macro as a mask to extract the
value, like this: <code>settings.c_cflag &amp; CSIZE</code>.

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CSIZE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a mask for the number of bits per character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CS5</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This specifies five bits per byte. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CS6</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This specifies six bits per byte. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CS7</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This specifies seven bits per byte. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CS8</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This specifies eight bits per byte. 
</td></tr>
</table>

<p>The following four bits are BSD extensions; this exist only on BSD
systems and the GNU system.

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CCTS_OFLOW</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, enable flow control of output based on the CTS wire
(RS232 protocol). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CRTS_IFLOW</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, enable flow control of input based on the RTS wire
(RS232 protocol). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>MDMBUF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, enable carrier-based flow control of output. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>CIGNORE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, it says to ignore the control modes and line speed
values entirely.  This is only meaningful in a call to <code>tcsetattr</code>.

<p>The <code>c_cflag</code> member and the line speed values returned by
<code>cfgetispeed</code> and <code>cfgetospeed</code> will be unaffected by the
call.  <code>CIGNORE</code> is useful if you want to set all the software
modes in the other members, but leave the hardware details in
<code>c_cflag</code> unchanged.  (This is how the <code>TCSASOFT</code> flag to
<code>tcsettattr</code> works.)

<p>This bit is never set in the structure filled in by <code>tcgetattr</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Local%20Modes">Local Modes</a>,
Next:<a rel=next accesskey=n href="#Line%20Speed">Line Speed</a>,
Previous:<a rel=previous accesskey=p href="#Control%20Modes">Control Modes</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Local Modes</h4>

<p>This section describes the flags for the <code>c_lflag</code> member of the
<code>struct termios</code> structure.  These flags generally control
higher-level aspects of input processing than the input modes flags
described in <a href="#Input%20Modes">Input Modes</a>, such as echoing, signals, and the choice
of canonical or noncanonical input.

<p>The <code>c_lflag</code> member itself is an integer, and you change the flags
and fields using the operators <code>&amp;</code>, <code>|</code>, and <code>^</code>.  Don't
try to specify the entire value for <code>c_lflag</code>--instead, change
only specific flags and leave the rest untouched (see <a href="#Setting%20Modes">Setting Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ICANON</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit, if set, enables canonical input processing mode.  Otherwise,
input is processed in noncanonical mode.  See <a href="#Canonical%20or%20Not">Canonical or Not</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, echoing of input characters back to the terminal
is enabled. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHOE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, echoing indicates erasure of input with the ERASE
character by erasing the last character in the current line from the
screen.  Otherwise, the character erased is re-echoed to show what has
happened (suitable for a printing terminal).

<p>This bit only controls the display behavior; the <code>ICANON</code> bit by
itself controls actual recognition of the ERASE character and erasure of
input, without which <code>ECHOE</code> is simply irrelevant. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHOPRT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit is like <code>ECHOE</code>, enables display of the ERASE character in
a way that is geared to a hardcopy terminal.  When you type the ERASE
character, a <code>\</code> character is printed followed by the first
character erased.  Typing the ERASE character again just prints the next
character erased.  Then, the next time you type a normal character, a
<code>/</code> character is printed before the character echoes.

<p>This is a BSD extension, and exists only in BSD systems and the
GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHOK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit enables special display of the KILL character by moving to a
new line after echoing the KILL character normally.  The behavior of
<code>ECHOKE</code> (below) is nicer to look at.

<p>If this bit is not set, the KILL character echoes just as it would if it
were not the KILL character.  Then it is up to the user to remember that
the KILL character has erased the preceding input; there is no
indication of this on the screen.

<p>This bit only controls the display behavior; the <code>ICANON</code> bit by
itself controls actual recognition of the KILL character and erasure of
input, without which <code>ECHOK</code> is simply irrelevant. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHOKE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit is similar to <code>ECHOK</code>.  It enables special display of the
KILL character by erasing on the screen the entire line that has been
killed.  This is a BSD extension, and exists only in BSD systems and the
GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHONL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set and the <code>ICANON</code> bit is also set, then the
newline (<code>'\n'</code>) character is echoed even if the <code>ECHO</code> bit
is not set. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ECHOCTL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set and the <code>ECHO</code> bit is also set, echo control
characters with <code>^</code> followed by the corresponding text character. 
Thus, control-A echoes as <code>^A</code>.  This is usually the preferred mode
for interactive input, because echoing a control character back to the
terminal could have some undesired effect on the terminal.

<p>This is a BSD extension, and exists only in BSD systems and the
GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ISIG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit controls whether the INTR, QUIT, and SUSP characters are
recognized.  The functions associated with these characters are performed
if and only if this bit is set.  Being in canonical or noncanonical
input mode has no affect on the interpretation of these characters.

<p>You should use caution when disabling recognition of these characters. 
Programs that cannot be interrupted interactively are very
user-unfriendly.  If you clear this bit, your program should provide
some alternate interface that allows the user to interactively send the
signals associated with these characters, or to escape from the program.

<p>See <a href="#Signal%20Characters">Signal Characters</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>IEXTEN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
POSIX.1 gives <code>IEXTEN</code> implementation-defined meaning,
so you cannot rely on this interpretation on all systems.

<p>On BSD systems and the GNU system, it enables the LNEXT and DISCARD characters. 
See <a href="#Other%20Special">Other Special</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>NOFLSH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Normally, the INTR, QUIT, and SUSP characters cause input and output
queues for the terminal to be cleared.  If this bit is set, the queues
are not cleared. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>TOSTOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set and the system supports job control, then
<code>SIGTTOU</code> signals are generated by background processes that
attempt to write to the terminal.  See <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>. 
</td></tr>
</table>

<p>The following bits are BSD extensions; they exist only in BSD systems
and the GNU system.

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>ALTWERASE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This bit determines how far the WERASE character should erase.  The
WERASE character erases back to the beginning of a word; the question
is, where do words begin?

<p>If this bit is clear, then the beginning of a word is a nonwhitespace
character following a whitespace character.  If the bit is set, then the
beginning of a word is an alphanumeric character or underscore following
a character which is none of those.

<p>See <a href="#Editing%20Characters">Editing Characters</a>, for more information about the WERASE character. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>FLUSHO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the bit that toggles when the user types the DISCARD character. 
While this bit is set, all output is discarded.  See <a href="#Other%20Special">Other Special</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>NOKERNINFO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Setting this bit disables handling of the STATUS character. 
See <a href="#Other%20Special">Other Special</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">tcflag_t <b>PENDIN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set, it indicates that there is a line of input that
needs to be reprinted.  Typing the REPRINT character sets this bit; the
bit remains set until reprinting is finished.  See <a href="#Editing%20Characters">Editing Characters</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Line%20Speed">Line Speed</a>,
Next:<a rel=next accesskey=n href="#Special%20Characters">Special Characters</a>,
Previous:<a rel=previous accesskey=p href="#Local%20Modes">Local Modes</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Line Speed</h4>

<p>The terminal line speed tells the computer how fast to read and write
data on the terminal.

<p>If the terminal is connected to a real serial line, the terminal speed
you specify actually controls the line--if it doesn't match the
terminal's own idea of the speed, communication does not work.  Real
serial ports accept only certain standard speeds.  Also, particular
hardware may not support even all the standard speeds.  Specifying a
speed of zero hangs up a dialup connection and turns off modem control
signals.

<p>If the terminal is not a real serial line (for example, if it is a
network connection), then the line speed won't really affect data
transmission speed, but some programs will use it to determine the
amount of padding needed.  It's best to specify a line speed value that
matches the actual speed of the actual terminal, but you can safely
experiment with different values to vary the amount of padding.

<p>There are actually two line speeds for each terminal, one for input and
one for output.  You can set them independently, but most often
terminals use the same speed for both directions.

<p>The speed values are stored in the <code>struct termios</code> structure, but
don't try to access them in the <code>struct termios</code> structure
directly.  Instead, you should use the following functions to read and
store them:

<p>
<table width="100%">
<tr>
<td align="left">speed_t <b>cfgetospeed</b><i> (const struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the output line speed stored in the structure
<code>*<var>termios-p</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">speed_t <b>cfgetispeed</b><i> (const struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the input line speed stored in the structure
<code>*<var>termios-p</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetospeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as the output
speed.  The normal return value is 0; a value of -1
indicates an error.  If <var>speed</var> is not a speed, <code>cfsetospeed</code>
returns -1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetispeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as the input
speed.  The normal return value is 0; a value of -1
indicates an error.  If <var>speed</var> is not a speed, <code>cfsetospeed</code>
returns -1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfsetspeed</b><i> (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores <var>speed</var> in <code>*<var>termios-p</var></code> as both the
input and output speeds.  The normal return value is 0; a value
of -1 indicates an error.  If <var>speed</var> is not a speed,
<code>cfsetspeed</code> returns -1.  This function is an extension in
4.4 BSD. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>speed_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>speed_t</code> type is an unsigned integer data type used to
represent line speeds. 
</td></tr>
</table>

<p>The functions <code>cfsetospeed</code> and <code>cfsetispeed</code> report errors
only for speed values that the system simply cannot handle.  If you
specify a speed value that is basically acceptable, then those functions
will succeed.  But they do not check that a particular hardware device
can actually support the specified speeds--in fact, they don't know
which device you plan to set the speed for.  If you use <code>tcsetattr</code>
to set the speed of a particular device to a value that it cannot
handle, <code>tcsetattr</code> returns -1.

<p><strong>Portability note:</strong> In the GNU library, the functions above
accept speeds measured in bits per second as input, and return speed
values measured in bits per second.  Other libraries require speeds to
be indicated by special codes.  For POSIX.1 portability, you must use
one of the following symbols to represent the speed; their precise
numeric values are system-dependent, but each name has a fixed meaning:
<code>B110</code> stands for 110 bps, <code>B300</code> for 300 bps, and so on. 
There is no portable way to represent any speed but these, but these are
the only speeds that typical serial lines can support.

<br><pre>B0  B50  B75  B110  B134  B150  B200
B300  B600  B1200  B1800  B2400  B4800
B9600  B19200  B38400  B57600  B115200
B230400  B460800
</pre>

<p>BSD defines two additional speed symbols as aliases: <code>EXTA</code> is an
alias for <code>B19200</code> and <code>EXTB</code> is an alias for <code>B38400</code>. 
These aliases are obsolete.

<p><hr>
Node:<a name="Special%20Characters">Special Characters</a>,
Next:<a rel=next accesskey=n href="#Noncanonical%20Input">Noncanonical Input</a>,
Previous:<a rel=previous accesskey=p href="#Line%20Speed">Line Speed</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Special Characters</h4>

<p>In canonical input, the terminal driver recognizes a number of special
characters which perform various control functions.  These include the
ERASE character (usually &lt;DEL&gt;) for editing input, and other editing
characters.  The INTR character (normally <kbd>C-c</kbd>) for sending a
<code>SIGINT</code> signal, and other signal-raising characters, may be
available in either canonical or noncanonical input mode.  All these
characters are described in this section.

<p>The particular characters used are specified in the <code>c_cc</code> member
of the <code>struct termios</code> structure.  This member is an array; each
element specifies the character for a particular role.  Each element has
a symbolic constant that stands for the index of that element--for
example, <code>VINTR</code> is the index of the element that specifies the INTR
character, so storing <code>'='</code> in <code><var>termios</var>.c_cc[VINTR]</code>
specifies <code>=</code> as the INTR character.

<p>On some systems, you can disable a particular special character function
by specifying the value <code>_POSIX_VDISABLE</code> for that role.  This
value is unequal to any possible character code.  See <a href="#Options%20for%20Files">Options for Files</a>, for more information about how to tell whether the operating
system you are using supports <code>_POSIX_VDISABLE</code>.

<ul>
<li><a accesskey=1 href="#Editing%20Characters">Editing Characters</a>:           Special characters that terminate lines and
                                  delete text, and other editing functions. 
<li><a accesskey=2 href="#Signal%20Characters">Signal Characters</a>:            Special characters that send or raise signals
                                  to or for certain classes of processes. 
<li><a accesskey=3 href="#Start%2fStop%20Characters">Start/Stop Characters</a>:        Special characters that suspend or resume
                                  suspended output. 
<li><a accesskey=4 href="#Other%20Special">Other Special</a>: 		Other special characters for BSD systems:
				  they can discard output, and print status. 
</ul>

<p><hr>
Node:<a name="Editing%20Characters">Editing Characters</a>,
Next:<a rel=next accesskey=n href="#Signal%20Characters">Signal Characters</a>,
Up:<a rel=up accesskey=u href="#Special%20Characters">Special Characters</a>
<br>

<h5>Characters for Input Editing</h5>

<p>These special characters are active only in canonical input mode. 
See <a href="#Canonical%20or%20Not">Canonical or Not</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>VEOF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the EOF character in the special control
character array.  <code><var>termios</var>.c_cc[VEOF]</code> holds the character
itself.

<p>The EOF character is recognized only in canonical input mode.  It acts
as a line terminator in the same way as a newline character, but if the
EOF character is typed at the beginning of a line it causes <code>read</code>
to return a byte count of zero, indicating end-of-file.  The EOF
character itself is discarded.

<p>Usually, the EOF character is <kbd>C-d</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VEOL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the EOL character in the special control
character array.  <code><var>termios</var>.c_cc[VEOL]</code> holds the character
itself.

<p>The EOL character is recognized only in canonical input mode.  It acts
as a line terminator, just like a newline character.  The EOL character
is not discarded; it is read as the last character in the input line.

<p>You don't need to use the EOL character to make &lt;RET&gt; end a line. 
Just set the ICRNL flag.  In fact, this is the default state of
affairs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VEOL2</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the EOL2 character in the special control
character array.  <code><var>termios</var>.c_cc[VEOL2]</code> holds the character
itself.

<p>The EOL2 character works just like the EOL character (see above), but it
can be a different character.  Thus, you can specify two characters to
terminate an input line, by setting EOL to one of them and EOL2 to the
other.

<p>The EOL2 character is a BSD extension; it exists only on BSD systems
and the GNU system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VERASE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the ERASE character in the special control
character array.  <code><var>termios</var>.c_cc[VERASE]</code> holds the
character itself.

<p>The ERASE character is recognized only in canonical input mode.  When
the user types the erase character, the previous character typed is
discarded.  (If the terminal generates multibyte character sequences,
this may cause more than one byte of input to be discarded.)  This
cannot be used to erase past the beginning of the current line of text. 
The ERASE character itself is discarded.

<p>Usually, the ERASE character is &lt;DEL&gt;. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VWERASE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the WERASE character in the special control
character array.  <code><var>termios</var>.c_cc[VWERASE]</code> holds the character
itself.

<p>The WERASE character is recognized only in canonical mode.  It erases an
entire word of prior input, and any whitespace after it; whitespace
characters before the word are not erased.

<p>The definition of a "word" depends on the setting of the
<code>ALTWERASE</code> mode; see <a href="#Local%20Modes">Local Modes</a>.

<p>If the <code>ALTWERASE</code> mode is not set, a word is defined as a sequence
of any characters except space or tab.

<p>If the <code>ALTWERASE</code> mode is set, a word is defined as a sequence of
characters containing only letters, numbers, and underscores, optionally
followed by one character that is not a letter, number, or underscore.

<p>The WERASE character is usually <kbd>C-w</kbd>.

<p>This is a BSD extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VKILL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the KILL character in the special control
character array.  <code><var>termios</var>.c_cc[VKILL]</code> holds the character
itself.

<p>The KILL character is recognized only in canonical input mode.  When the
user types the kill character, the entire contents of the current line
of input are discarded.  The kill character itself is discarded too.

<p>The KILL character is usually <kbd>C-u</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VREPRINT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the REPRINT character in the special control
character array.  <code><var>termios</var>.c_cc[VREPRINT]</code> holds the character
itself.

<p>The REPRINT character is recognized only in canonical mode.  It reprints
the current input line.  If some asynchronous output has come while you
are typing, this lets you see the line you are typing clearly again.

<p>The REPRINT character is usually <kbd>C-r</kbd>.

<p>This is a BSD extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Signal%20Characters">Signal Characters</a>,
Next:<a rel=next accesskey=n href="#Start%2fStop%20Characters">Start/Stop Characters</a>,
Previous:<a rel=previous accesskey=p href="#Editing%20Characters">Editing Characters</a>,
Up:<a rel=up accesskey=u href="#Special%20Characters">Special Characters</a>
<br>

<h5>Characters that Cause Signals</h5>

<p>These special characters may be active in either canonical or noncanonical
input mode, but only when the <code>ISIG</code> flag is set (see <a href="#Local%20Modes">Local Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>VINTR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the INTR character in the special control
character array.  <code><var>termios</var>.c_cc[VINTR]</code> holds the character
itself.

<p>The INTR (interrupt) character raises a <code>SIGINT</code> signal for all
processes in the foreground job associated with the terminal.  The INTR
character itself is then discarded.  See <a href="#Signal%20Handling">Signal Handling</a>, for more
information about signals.

<p>Typically, the INTR character is <kbd>C-c</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VQUIT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the QUIT character in the special control
character array.  <code><var>termios</var>.c_cc[VQUIT]</code> holds the character
itself.

<p>The QUIT character raises a <code>SIGQUIT</code> signal for all processes in
the foreground job associated with the terminal.  The QUIT character
itself is then discarded.  See <a href="#Signal%20Handling">Signal Handling</a>, for more information
about signals.

<p>Typically, the QUIT character is <kbd>C-\</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VSUSP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the SUSP character in the special control
character array.  <code><var>termios</var>.c_cc[VSUSP]</code> holds the character
itself.

<p>The SUSP (suspend) character is recognized only if the implementation
supports job control (see <a href="#Job%20Control">Job Control</a>).  It causes a <code>SIGTSTP</code>
signal to be sent to all processes in the foreground job associated with
the terminal.  The SUSP character itself is then discarded. 
See <a href="#Signal%20Handling">Signal Handling</a>, for more information about signals.

<p>Typically, the SUSP character is <kbd>C-z</kbd>. 
</td></tr>
</table>

<p>Few applications disable the normal interpretation of the SUSP
character.  If your program does this, it should provide some other
mechanism for the user to stop the job.  When the user invokes this
mechanism, the program should send a <code>SIGTSTP</code> signal to the
process group of the process, not just to the process itself. 
See <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>VDSUSP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the DSUSP character in the special control
character array.  <code><var>termios</var>.c_cc[VDSUSP]</code> holds the character
itself.

<p>The DSUSP (suspend) character is recognized only if the implementation
supports job control (see <a href="#Job%20Control">Job Control</a>).  It sends a <code>SIGTSTP</code>
signal, like the SUSP character, but not right away--only when the
program tries to read it as input.  Not all systems with job control
support DSUSP; only BSD-compatible systems (including the GNU system).

<p>See <a href="#Signal%20Handling">Signal Handling</a>, for more information about signals.

<p>Typically, the DSUSP character is <kbd>C-y</kbd>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Start%2fStop%20Characters">Start/Stop Characters</a>,
Next:<a rel=next accesskey=n href="#Other%20Special">Other Special</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Characters">Signal Characters</a>,
Up:<a rel=up accesskey=u href="#Special%20Characters">Special Characters</a>
<br>

<h5>Special Characters for Flow Control</h5>

<p>These special characters may be active in either canonical or noncanonical
input mode, but their use is controlled by the flags <code>IXON</code> and
<code>IXOFF</code> (see <a href="#Input%20Modes">Input Modes</a>).

<p>
<table width="100%">
<tr>
<td align="left">int <b>VSTART</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the START character in the special control
character array.  <code><var>termios</var>.c_cc[VSTART]</code> holds the
character itself.

<p>The START character is used to support the <code>IXON</code> and <code>IXOFF</code>
input modes.  If <code>IXON</code> is set, receiving a START character resumes
suspended output; the START character itself is discarded.  If
<code>IXANY</code> is set, receiving any character at all resumes suspended
output; the resuming character is not discarded unless it is the START
character.  <code>IXOFF</code> is set, the system may also transmit START
characters to the terminal.

<p>The usual value for the START character is <kbd>C-q</kbd>.  You may not be
able to change this value--the hardware may insist on using <kbd>C-q</kbd>
regardless of what you specify. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VSTOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the STOP character in the special control
character array.  <code><var>termios</var>.c_cc[VSTOP]</code> holds the character
itself.

<p>The STOP character is used to support the <code>IXON</code> and <code>IXOFF</code>
input modes.  If <code>IXON</code> is set, receiving a STOP character causes
output to be suspended; the STOP character itself is discarded.  If
<code>IXOFF</code> is set, the system may also transmit STOP characters to the
terminal, to prevent the input queue from overflowing.

<p>The usual value for the STOP character is <kbd>C-s</kbd>.  You may not be
able to change this value--the hardware may insist on using <kbd>C-s</kbd>
regardless of what you specify. 
</td></tr>
</table>

<p><hr>
Node:<a name="Other%20Special">Other Special</a>,
Previous:<a rel=previous accesskey=p href="#Start%2fStop%20Characters">Start/Stop Characters</a>,
Up:<a rel=up accesskey=u href="#Special%20Characters">Special Characters</a>
<br>

<h5>Other Special Characters</h5>

<p>These special characters exist only in BSD systems and the GNU system.

<p>
<table width="100%">
<tr>
<td align="left">int <b>VLNEXT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the LNEXT character in the special control
character array.  <code><var>termios</var>.c_cc[VLNEXT]</code> holds the character
itself.

<p>The LNEXT character is recognized only when <code>IEXTEN</code> is set, but in
both canonical and noncanonical mode.  It disables any special
significance of the next character the user types.  Even if the
character would normally perform some editing function or generate a
signal, it is read as a plain character.  This is the analogue of the
<kbd>C-q</kbd> command in Emacs.  "LNEXT" stands for "literal next."

<p>The LNEXT character is usually <kbd>C-v</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VDISCARD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the DISCARD character in the special control
character array.  <code><var>termios</var>.c_cc[VDISCARD]</code> holds the character
itself.

<p>The DISCARD character is recognized only when <code>IEXTEN</code> is set, but
in both canonical and noncanonical mode.  Its effect is to toggle the
discard-output flag.  When this flag is set, all program output is
discarded.  Setting the flag also discards all output currently in the
output buffer.  Typing any other character resets the flag. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VSTATUS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the STATUS character in the special control
character array.  <code><var>termios</var>.c_cc[VSTATUS]</code> holds the character
itself.

<p>The STATUS character's effect is to print out a status message about how
the current process is running.

<p>The STATUS character is recognized only in canonical mode, and only if
<code>NOKERNINFO</code> is not set. 
</td></tr>
</table>

<p><hr>
Node:<a name="Noncanonical%20Input">Noncanonical Input</a>,
Previous:<a rel=previous accesskey=p href="#Special%20Characters">Special Characters</a>,
Up:<a rel=up accesskey=u href="#Terminal%20Modes">Terminal Modes</a>
<br>

<h4>Noncanonical Input</h4>

<p>In noncanonical input mode, the special editing characters such as
ERASE and KILL are ignored.  The system facilities for the user to edit
input are disabled in noncanonical mode, so that all input characters
(unless they are special for signal or flow-control purposes) are passed
to the application program exactly as typed.  It is up to the
application program to give the user ways to edit the input, if
appropriate.

<p>Noncanonical mode offers special parameters called MIN and TIME for
controlling whether and how long to wait for input to be available.  You
can even use them to avoid ever waiting--to return immediately with
whatever input is available, or with no input.

<p>The MIN and TIME are stored in elements of the <code>c_cc</code> array, which
is a member of the <code>struct&nbsp;termios</code> structure.  Each element of
this array has a particular role, and each element has a symbolic
constant that stands for the index of that element.  <code>VMIN</code> and
<code>VMAX</code> are the names for the indices in the array of the MIN and
TIME slots.

<p>
<table width="100%">
<tr>
<td align="left">int <b>VMIN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the MIN slot in the <code>c_cc</code> array.  Thus,
<code><var>termios</var>.c_cc[VMIN]</code> is the value itself.

<p>The MIN slot is only meaningful in noncanonical input mode; it
specifies the minimum number of bytes that must be available in the
input queue in order for <code>read</code> to return. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>VTIME</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the subscript for the TIME slot in the <code>c_cc</code> array.  Thus,
<code><var>termios</var>.c_cc[VTIME]</code> is the value itself.

<p>The TIME slot is only meaningful in noncanonical input mode; it
specifies how long to wait for input before returning, in units of 0.1
seconds. 
</td></tr>
</table>

<p>The MIN and TIME values interact to determine the criterion for when
<code>read</code> should return; their precise meanings depend on which of
them are nonzero.  There are four possible cases:

<ul>
<li>Both TIME and MIN are nonzero.

<p>In this case, TIME specifies how long to wait after each input character
to see if more input arrives.  After the first character received,
<code>read</code> keeps waiting until either MIN bytes have arrived in all, or
TIME elapses with no further input.

<p><code>read</code> always blocks until the first character arrives, even if
TIME elapses first.  <code>read</code> can return more than MIN characters if
more than MIN happen to be in the queue.

</p><li>Both MIN and TIME are zero.

<p>In this case, <code>read</code> always returns immediately with as many
characters as are available in the queue, up to the number requested. 
If no input is immediately available, <code>read</code> returns a value of
zero.

</p><li>MIN is zero but TIME has a nonzero value.

<p>In this case, <code>read</code> waits for time TIME for input to become
available; the availability of a single byte is enough to satisfy the
read request and cause <code>read</code> to return.  When it returns, it
returns as many characters as are available, up to the number requested. 
If no input is available before the timer expires, <code>read</code> returns a
value of zero.

</p><li>TIME is zero but MIN has a nonzero value.

<p>In this case, <code>read</code> waits until at least MIN bytes are available
in the queue.  At that time, <code>read</code> returns as many characters as
are available, up to the number requested.  <code>read</code> can return more
than MIN characters if more than MIN happen to be in the queue. 
</ul>

<p>What happens if MIN is 50 and you ask to read just 10 bytes? 
Normally, <code>read</code> waits until there are 50 bytes in the buffer (or,
more generally, the wait condition described above is satisfied), and
then reads 10 of them, leaving the other 40 buffered in the operating
system for a subsequent call to <code>read</code>.

<p><strong>Portability note:</strong> On some systems, the MIN and TIME slots are
actually the same as the EOF and EOL slots.  This causes no serious
problem because the MIN and TIME slots are used only in noncanonical
input and the EOF and EOL slots are used only in canonical input, but it
isn't very clean.  The GNU library allocates separate slots for these
uses.

<p>
<table width="100%">
<tr>
<td align="left">int <b>cfmakeraw</b><i> (struct termios *<var>termios-p</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function provides an easy way to set up <code>*<var>termios-p</var></code> for
what has traditionally been called "raw mode" in BSD.  This uses
noncanonical input, and turns off most processing to give an unmodified
channel to the terminal.

<p>It does exactly this:
<br><pre>  <var>termios-p</var>-&gt;c_iflag &amp;= ~(IGNBRK|BRKINT|PARMRK|ISTRIP
                                |INLCR|IGNCR|ICRNL|IXON);
  <var>termios-p</var>-&gt;c_oflag &amp;= ~OPOST;
  <var>termios-p</var>-&gt;c_lflag &amp;= ~(ECHO|ECHONL|ICANON|ISIG|IEXTEN);
  <var>termios-p</var>-&gt;c_cflag &amp;= ~(CSIZE|PARENB);
  <var>termios-p</var>-&gt;c_cflag |= CS8;
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="BSD%20Terminal%20Modes">BSD Terminal Modes</a>,
Next:<a rel=next accesskey=n href="#Line%20Control">Line Control</a>,
Previous:<a rel=previous accesskey=p href="#Terminal%20Modes">Terminal Modes</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>BSD Terminal Modes</h3>

<p>The usual way to get and set terminal modes is with the functions described
in <a href="#Terminal%20Modes">Terminal Modes</a>.  However, on some systems you can use the
BSD-derived functions in this section to do some of the same thing.  On
many systems, these functions do not exist.  Even with the GNU C library,
the functions simply fail with <code>errno</code> = <code>ENOSYS</code> with many
kernels, including Linux.

<p>The symbols used in this section are declared in <code>sgtty.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sgttyb</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is an input or output parameter list for <code>gtty</code> and
<code>stty</code>.

<dl>
<dt><code>char sg_ispeed</code>
<dd>Line speed for input
<br><dt><code>char sg_ospeed</code>
<dd>Line speed for output
<br><dt><code>char sg_erase</code>
<dd>Erase character
<br><dt><code>char sg_kill</code>
<dd>Kill character
<br><dt><code>int sg_flags</code>
<dd>Various flags
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gtty</b><i> (int <var>filedes</var>, struct sgttyb *<var>attributes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function gets the attributes of a terminal.

<p><code>gtty</code> sets *<var>attributes</var> to describe the terminal attributes
of the terminal which is open with file descriptor <var>filedes</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>stty</b><i> (int <var>filedes</var>, struct sgttyb * attributes)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function sets the attributes of a terminal.

<p><code>stty</code> sets the terminal attributes of the terminal which is open with
file descriptor <var>filedes</var> to those described by *<var>filedes</var>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Line%20Control">Line Control</a>,
Next:<a rel=next accesskey=n href="#Noncanon%20Example">Noncanon Example</a>,
Previous:<a rel=previous accesskey=p href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Line Control Functions</h3>

<p>These functions perform miscellaneous control actions on terminal
devices.  As regards terminal access, they are treated like doing
output: if any of these functions is used by a background process on its
controlling terminal, normally all processes in the process group are
sent a <code>SIGTTOU</code> signal.  The exception is if the calling process
itself is ignoring or blocking <code>SIGTTOU</code> signals, in which case the
operation is performed and no signal is sent.  See <a href="#Job%20Control">Job Control</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcsendbreak</b><i> (int <var>filedes</var>, int <var>duration</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function generates a break condition by transmitting a stream of
zero bits on the terminal associated with the file descriptor
<var>filedes</var>.  The duration of the break is controlled by the
<var>duration</var> argument.  If zero, the duration is between 0.25 and 0.5
seconds.  The meaning of a nonzero value depends on the operating system.

<p>This function does nothing if the terminal is not an asynchronous serial
data port.

<p>The return value is normally zero.  In the event of an error, a value
of -1 is returned.  The following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal device. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcdrain</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tcdrain</code> function waits until all queued
output to the terminal <var>filedes</var> has been transmitted.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>tcdrain</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>tcdrain</code> should be
protected using cancellation handlers.

<p>The return value is normally zero.  In the event of an error, a value
of -1 is returned.  The following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal device.

<br><dt><code>EINTR</code>
<dd>The operation was interrupted by delivery of a signal. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcflush</b><i> (int <var>filedes</var>, int <var>queue</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tcflush</code> function is used to clear the input and/or output
queues associated with the terminal file <var>filedes</var>.  The <var>queue</var>
argument specifies which queue(s) to clear, and can be one of the
following values:

<dl>
<dt><code>TCIFLUSH</code>
<dd>
Clear any input data received, but not yet read.

<br><dt><code>TCOFLUSH</code>
<dd>
Clear any output data written, but not yet transmitted.

<br><dt><code>TCIOFLUSH</code>
<dd>
Clear both queued input and output. 
</dl>

<p>The return value is normally zero.  In the event of an error, a value
of -1 is returned.  The following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal device.

<br><dt><code>EINVAL</code>
<dd>A bad value was supplied as the <var>queue</var> argument. 
</dl>

<p>It is unfortunate that this function is named <code>tcflush</code>, because
the term "flush" is normally used for quite another operation--waiting
until all output is transmitted--and using it for discarding input or
output would be confusing.  Unfortunately, the name <code>tcflush</code> comes
from POSIX and we cannot change it. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcflow</b><i> (int <var>filedes</var>, int <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tcflow</code> function is used to perform operations relating to
XON/XOFF flow control on the terminal file specified by <var>filedes</var>.

<p>The <var>action</var> argument specifies what operation to perform, and can
be one of the following values:

<dl>
<dt><code>TCOOFF</code>
<dd>Suspend transmission of output.

<br><dt><code>TCOON</code>
<dd>Restart transmission of output.

<br><dt><code>TCIOFF</code>
<dd>Transmit a STOP character.

<br><dt><code>TCION</code>
<dd>Transmit a START character. 
</dl>

<p>For more information about the STOP and START characters, see <a href="#Special%20Characters">Special Characters</a>.

<p>The return value is normally zero.  In the event of an error, a value
of -1 is returned.  The following <code>errno</code> error conditions
are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> is not associated with a terminal device.

<br><dt><code>EINVAL</code>
<dd>A bad value was supplied as the <var>action</var> argument. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Noncanon%20Example">Noncanon Example</a>,
Next:<a rel=next accesskey=n href="#Pseudo-Terminals">Pseudo-Terminals</a>,
Previous:<a rel=previous accesskey=p href="#Line%20Control">Line Control</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Noncanonical Mode Example</h3>

<p>Here is an example program that shows how you can set up a terminal
device to read single characters in noncanonical input mode, without
echo.

<br><pre>

#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;termios.h&gt;

/* Use this variable to remember original terminal attributes. */

struct termios saved_attributes;

void
reset_input_mode (void)
{
  tcsetattr (STDIN_FILENO, TCSANOW, &amp;saved_attributes);
}

void
set_input_mode (void)
{
  struct termios tattr;
  char *name;

  /* Make sure stdin is a terminal. */
  if (!isatty (STDIN_FILENO))
    {
      fprintf (stderr, "Not a terminal.\n");
      exit (EXIT_FAILURE);
    }

  /* Save the terminal attributes so we can restore them later. */
  tcgetattr (STDIN_FILENO, &amp;saved_attributes);
  atexit (reset_input_mode);

  /* Set the funny terminal modes. */
  tcgetattr (STDIN_FILENO, &amp;tattr);
  tattr.c_lflag &amp;= ~(ICANON|ECHO); /* Clear ICANON and ECHO. */
  tattr.c_cc[VMIN] = 1;
  tattr.c_cc[VTIME] = 0;
  tcsetattr (STDIN_FILENO, TCSAFLUSH, &amp;tattr);
}

int
main (void)
{
  char c;

  set_input_mode ();

  while (1)
    {
      read (STDIN_FILENO, &amp;c, 1);
      if (c == '\004')          /* <kbd>C-d</kbd> */
        break;
      else
        putchar (c);
    }

  return EXIT_SUCCESS;
}
</pre>

<p>This program is careful to restore the original terminal modes before
exiting or terminating with a signal.  It uses the <code>atexit</code>
function (see <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>) to make sure this is done
by <code>exit</code>.

<p>The shell is supposed to take care of resetting the terminal modes when
a process is stopped or continued; see <a href="#Job%20Control">Job Control</a>.  But some
existing shells do not actually do this, so you may wish to establish
handlers for job control signals that reset terminal modes.  The above
example does so.

<p><hr>
Node:<a name="Pseudo-Terminals">Pseudo-Terminals</a>,
Previous:<a rel=previous accesskey=p href="#Noncanon%20Example">Noncanon Example</a>,
Up:<a rel=up accesskey=u href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<br>

<h3>Pseudo-Terminals</h3>

<p>A <dfn>pseudo-terminal</dfn> is a special interprocess communication channel
that acts like a terminal.  One end of the channel is called the
<dfn>master</dfn> side or <dfn>master pseudo-terminal device</dfn>, the other side
is called the <dfn>slave</dfn> side.  Data written to the master side is
received by the slave side as if it was the result of a user typing at
an ordinary terminal, and data written to the slave side is sent to the
master side as if it was written on an ordinary terminal.

<p>Pseudo terminals are the way programs like <code>xterm</code> and <code>emacs</code>
implement their terminal emulation functionality.

<ul>
<li><a accesskey=1 href="#Allocation">Allocation</a>:              Allocating a pseudo terminal. 
<li><a accesskey=2 href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>:   How to open both sides of a
                            pseudo-terminal in a single operation. 
</ul>

<p><hr>
Node:<a name="Allocation">Allocation</a>,
Next:<a rel=next accesskey=n href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>,
Up:<a rel=up accesskey=u href="#Pseudo-Terminals">Pseudo-Terminals</a>
<br>

<h4>Allocating Pseudo-Terminals</h4>

<p>This subsection describes functions for allocating a pseudo-terminal,
and for making this pseudo-terminal available for actual use.  These
functions are declared in the header file <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpt</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getpt</code> function returns a new file descriptor for the next
available master pseudo-terminal.  The normal return value from
<code>getpt</code> is a non-negative integer file descriptor.  In the case of
an error, a value of -1 is returned instead.  The following
<code>errno</code> conditions are defined for this function:

<dl>
<dt><code>ENOENT</code>
<dd>There are no free master pseudo-terminals available. 
</dl>

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>grantpt</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>grantpt</code> function changes the ownership and access permission
of the slave pseudo-terminal device corresponding to the master
pseudo-terminal device associated with the file descriptor
<var>filedes</var>.  The owner is set from the real user ID of the calling
process (see <a href="#Process%20Persona">Process Persona</a>), and the group is set to a special
group (typically <dfn>tty</dfn>) or from the real group ID of the calling
process.  The access permission is set such that the file is both
readable and writable by the owner and only writable by the group.

<p>On some systems this function is implemented by invoking a special
<code>setuid</code> root program (see <a href="#How%20Change%20Persona">How Change Persona</a>).  As a
consequence, installing a signal handler for the <code>SIGCHLD</code> signal
(see <a href="#Job%20Control%20Signals">Job Control Signals</a>) may interfere with a call to
<code>grantpt</code>.

<p>The normal return value from <code>grantpt</code> is 0; a value of
-1 is returned in case of failure.  The following <code>errno</code>
error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>filedes</var> argument is not associated with a master pseudo-terminal
device.

<br><dt><code>EACCES</code>
<dd>The slave pseudo-terminal device corresponding to the master associated
with <var>filedes</var> could not be accessed. 
</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>unlockpt</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>unlockpt</code> function unlocks the slave pseudo-terminal device
corresponding to the master pseudo-terminal device associated with the
file descriptor <var>filedes</var>.  On many systems, the slave can only be
opened after unlocking, so portable applications should always call
<code>unlockpt</code> before trying to open the slave.

<p>The normal return value from <code>unlockpt</code> is 0; a value of
-1 is returned in case of failure.  The following <code>errno</code>
error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>filedes</var> argument is not associated with a master pseudo-terminal
device. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ptsname</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the file descriptor <var>filedes</var> is associated with a
master pseudo-terminal device, the <code>ptsname</code> function returns a
pointer to a statically-allocated, null-terminated string containing the
file name of the associated slave pseudo-terminal file.  This string
might be overwritten by subsequent calls to <code>ptsname</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ptsname_r</b><i> (int <var>filedes</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ptsname_r</code> function is similar to the <code>ptsname</code> function
except that it places its result into the user-specified buffer starting
at <var>buf</var> with length <var>len</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> On System&nbsp;V derived systems, the file
returned by the <code>ptsname</code> and <code>ptsname_r</code> functions may be
STREAMS-based, and therefore require additional processing after opening
before it actually behaves as a pseudo terminal.

<p>Typical usage of these functions is illustrated by the following example:
<br><pre>int
open_pty_pair (int *amaster, int *aslave)
{
  int master, slave;
  char *name;

  master = getpt ();
  if (master &lt; 0)
    return 0;

  if (grantpt (master) &lt; 0 || unlockpt (master) &lt; 0)
    goto close_master;
  name = ptsname (master);
  if (name == NULL)
    goto close_master;

  slave = open (name, O_RDWR);
  if (slave == -1)
    goto close_master;

  if (isastream (slave))
    {
      if (ioctl (slave, I_PUSH, "ptem") &lt; 0
          || ioctl (slave, I_PUSH, "ldterm") &lt; 0)
        goto close_slave;
    }

  *amaster = master;
  *aslave = slave;
  return 1;

close_slave:
  close (slave);

close_master:
  close (master);
  return 0;
}
</pre>

<p><hr>
Node:<a name="Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>,
Previous:<a rel=previous accesskey=p href="#Allocation">Allocation</a>,
Up:<a rel=up accesskey=u href="#Pseudo-Terminals">Pseudo-Terminals</a>
<br>

<h4>Opening a Pseudo-Terminal Pair</h4>

<p>These functions, derived from BSD, are available in the separate
<code>libutil</code> library, and declared in <code>pty.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>openpty</b><i> (int *<var>amaster</var>, int *<var>aslave</var>, char *<var>name</var>, struct termios *<var>termp</var>, struct winsize *<var>winp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function allocates and opens a pseudo-terminal pair, returning the
file descriptor for the master in <var>*amaster</var>, and the file
descriptor for the slave in <var>*aslave</var>.  If the argument <var>name</var>
is not a null pointer, the file name of the slave pseudo-terminal
device is stored in <code>*name</code>.  If <var>termp</var> is not a null pointer,
the terminal attributes of the slave are set to the ones specified in
the structure that <var>termp</var> points to (see <a href="#Terminal%20Modes">Terminal Modes</a>). 
Likewise, if the <var>winp</var> is not a null pointer, the screen size of
the slave is set to the values specified in the structure that
<var>winp</var> points to.

<p>The normal return value from <code>openpty</code> is 0; a value of
-1 is returned in case of failure.  The following <code>errno</code>
conditions are defined for this function:

<dl>
<dt><code>ENOENT</code>
<dd>There are no free pseudo-terminal pairs available. 
</dl>

<p><strong>Warning:</strong> Using the <code>openpty</code> function with <var>name</var> not
set to <code>NULL</code> is <strong>very dangerous</strong> because it provides no
protection against overflowing the string <var>name</var>.  You should use
the <code>ttyname</code> function on the file descriptor returned in
<var>*slave</var> to find out the file name of the slave pseudo-terminal
device instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>forkpty</b><i> (int *<var>amaster</var>, char *<var>name</var>, struct termios *<var>termp</var>, struct winsize *<var>winp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>openpty</code> function, but in
addition, forks a new process (see <a href="#Creating%20a%20Process">Creating a Process</a>) and makes the
newly opened slave pseudo-terminal device the controlling terminal
(see <a href="#Controlling%20Terminal">Controlling Terminal</a>) for the child process.

<p>If the operation is successful, there are then both parent and child
processes and both see <code>forkpty</code> return, but with different values:
it returns a value of 0 in the child process and returns the child's
process ID in the parent process.

<p>If the allocation of a pseudo-terminal pair or the process creation
failed, <code>forkpty</code> returns a value of -1 in the parent
process.

<p><strong>Warning:</strong> The <code>forkpty</code> function has the same problems with
respect to the <var>name</var> argument as <code>openpty</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Syslog">Syslog</a>,
Next:<a rel=next accesskey=n href="#Mathematics">Mathematics</a>,
Previous:<a rel=previous accesskey=p href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Syslog</h2>

<p>This chapter describes facilities for issuing and logging messages of
system administration interest.  This chapter has nothing to do with
programs issuing messages to their own users or keeping private logs
(One would typically do that with the facilities described in
<a href="#I%2fO%20on%20Streams">I/O on Streams</a>).

<p>Most systems have a facility called "Syslog" that allows programs to
submit messages of interest to system administrators and can be
configured to pass these messages on in various ways, such as printing
on the console, mailing to a particular person, or recording in a log
file for future reference.

<p>A program uses the facilities in this chapter to submit such messages.

<ul>
<li><a accesskey=1 href="#Overview%20of%20Syslog">Overview of Syslog</a>:            Overview of a system's Syslog facility
<li><a accesskey=2 href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>:    Functions to submit messages to Syslog
</ul>

<p><hr>
Node:<a name="Overview%20of%20Syslog">Overview of Syslog</a>,
Next:<a rel=next accesskey=n href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>,
Up:<a rel=up accesskey=u href="#Syslog">Syslog</a>
<br>

<h3>Overview of Syslog</h3>

<p>System administrators have to deal with lots of different kinds of
messages from a plethora of subsystems within each system, and usually
lots of systems as well.  For example, an FTP server might report every
connection it gets.  The kernel might report hardware failures on a disk
drive.  A DNS server might report usage statistics at regular intervals.

<p>Some of these messages need to be brought to a system administrator's
attention immediately.  And it may not be just any system administrator
- there may be a particular system administrator who deals with a
particular kind of message.  Other messages just need to be recorded for
future reference if there is a problem.  Still others may need to have
information extracted from them by an automated process that generates
monthly reports.

<p>To deal with these messages, most Unix systems have a facility called
"Syslog."  It is generally based on a daemon called "Syslogd"
Syslogd listens for messages on a Unix domain socket named
<code>/dev/log</code>.  Based on classification information in the messages
and its configuration file (usually <code>/etc/syslog.conf</code>), Syslogd
routes them in various ways.  Some of the popular routings are:

<ul>
<li>Write to the system console
<li>Mail to a specific user
<li>Write to a log file
<li>Pass to another daemon
<li>Discard
</ul>

<p>Syslogd can also handle messages from other systems.  It listens on the
<code>syslog</code> UDP port as well as the local socket for messages.

<p>Syslog can handle messages from the kernel itself.  But the kernel
doesn't write to <code>/dev/log</code>; rather, another daemon (sometimes
called "Klogd") extracts messages from the kernel and passes them on to
Syslog as any other process would (and it properly identifies them as
messages from the kernel).

<p>Syslog can even handle messages that the kernel issued before Syslogd or
Klogd was running.  A Linux kernel, for example, stores startup messages
in a kernel message ring and they are normally still there when Klogd
later starts up.  Assuming Syslogd is running by the time Klogd starts,
Klogd then passes everything in the message ring to it.

<p>In order to classify messages for disposition, Syslog requires any process
that submits a message to it to provide two pieces of classification
information with it:

<dl>
<dt>facility
<dd>This identifies who submitted the message.  There are a small number of
facilities defined.  The kernel, the mail subsystem, and an FTP server
are examples of recognized facilities.  For the complete list,
See <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>.  Keep in mind that these are
essentially arbitrary classifications.  "Mail subsystem" doesn't have any
more meaning than the system administrator gives to it.

<br><dt>priority
<dd>This tells how important the content of the message is.  Examples of
defined priority values are: debug, informational, warning, critical. 
For the complete list, See <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>.  Except for
the fact that the priorities have a defined order, the meaning of each
of these priorities is entirely determined by the system administrator.

</dl>

<p>A "facility/priority" is a number that indicates both the facility
and the priority.

<p><strong>Warning:</strong> This terminology is not universal.  Some people use
"level" to refer to the priority and "priority" to refer to the
combination of facility and priority.  A Linux kernel has a concept of a
message "level," which corresponds both to a Syslog priority and to a
Syslog facility/priority (It can be both because the facility code for
the kernel is zero, and that makes priority and facility/priority the
same value).

<p>The GNU C library provides functions to submit messages to Syslog.  They
do it by writing to the <code>/dev/log</code> socket.  See <a href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>.

<p>The GNU C library functions only work to submit messages to the Syslog
facility on the same system.  To submit a message to the Syslog facility
on another system, use the socket I/O functions to write a UDP datagram
to the <code>syslog</code> UDP port on that system.  See <a href="#Sockets">Sockets</a>.

<p><hr>
Node:<a name="Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>,
Previous:<a rel=previous accesskey=p href="#Overview%20of%20Syslog">Overview of Syslog</a>,
Up:<a rel=up accesskey=u href="#Syslog">Syslog</a>
<br>

<h3>Submitting Syslog Messages</h3>

<p>The GNU C library provides functions to submit messages to the Syslog
facility:

<ul>
<li><a accesskey=1 href="#openlog">openlog</a>:                       Open connection to Syslog
<li><a accesskey=2 href="#syslog%3b%20vsyslog">syslog; vsyslog</a>:               Submit message to Syslog
<li><a accesskey=3 href="#closelog">closelog</a>:                      Close connection to Syslog
<li><a accesskey=4 href="#setlogmask">setlogmask</a>:                    Cause certain messages to be ignored
<li><a accesskey=5 href="#Syslog%20Example">Syslog Example</a>:                Example of all of the above
</ul>

<p>These functions only work to submit messages to the Syslog facility on
the same system.  To submit a message to the Syslog facility on another
system, use the socket I/O functions to write a UDP datagram to the
<code>syslog</code> UDP port on that system.  See <a href="#Sockets">Sockets</a>.

<p><hr>
Node:<a name="openlog">openlog</a>,
Next:<a rel=next accesskey=n href="#syslog%3b%20vsyslog">syslog; vsyslog</a>,
Up:<a rel=up accesskey=u href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<br>

<h4>openlog</h4>

<p>The symbols referred to in this section are declared in the file
<code>syslog.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>openlog</b><i> (char *<var>ident</var>, int <var>option</var>,
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
        int <var>facility</var>)

<p><code>openlog</code> opens or reopens a connection to Syslog in preparation
for submitting messages.

<p><var>ident</var> is an arbitrary identification string which future
<code>syslog</code> invocations will prefix to each message.  This is intended
to identify the source of the message, and people conventionally set it
to the name of the program that will submit the messages.

<p><code>openlog</code> may or may not open the <code>/dev/log</code> socket, depending
on <var>option</var>.  If it does, it tries to open it and connect it as a
stream socket.  If that doesn't work, it tries to open it and connect it
as a datagram socket.  The socket has the "Close on Exec" attribute,
so the kernel will close it if the process performs an exec.

<p>You don't have to use <code>openlog</code>.  If you call <code>syslog</code> without
having called <code>openlog</code>, <code>syslog</code> just opens the connection
implicitly and uses defaults for the information in <var>ident</var> and
<var>options</var>.

<p><var>options</var> is a bit string, with the bits as defined by the following
single bit masks:

<dl>
<dt><code>LOG_PERROR</code>
<dd>If on, <code>openlog</code> sets up the connection so that any <code>syslog</code>
on this connection writes its message to the calling process' Standard
Error stream in addition to submitting it to Syslog.  If off, <code>syslog</code>
does not write the message to Standard Error.

<br><dt><code>LOG_CONS</code>
<dd>If on, <code>openlog</code> sets up the connection so that a <code>syslog</code> on
this connection that fails to submit a message to Syslog writes the
message instead to system console.  If off, <code>syslog</code> does not write
to the system console (but of course Syslog may write messages it
receives to the console).

<br><dt><code>LOG_PID</code>
<dd>When on, <code>openlog</code> sets up the connection so that a <code>syslog</code>
on this connection inserts the calling process' Process ID (PID) into
the message.  When off, <code>openlog</code> does not insert the PID.

<br><dt><code>LOG_NDELAY</code>
<dd>When on, <code>openlog</code> opens and connects the <code>/dev/log</code> socket. 
When off, a future <code>syslog</code> call must open and connect the socket.

<p><strong>Portability note:</strong>  In early systems, the sense of this bit was
exactly the opposite.

<br><dt><code>LOG_ODELAY</code>
<dd>This bit does nothing.  It exists for backward compatibility.

</dl>

<p>If any other bit in <var>options</var> is on, the result is undefined.

<p><var>facility</var> is the default facility code for this connection.  A
<code>syslog</code> on this connection that specifies default facility causes
this facility to be associated with the message.  See <code>syslog</code> for
possible values.  A value of zero means the default default, which is
<code>LOG_USER</code>.

<p>If a Syslog connection is already open when you call <code>openlog</code>,
<code>openlog</code> "reopens" the connection.  Reopening is like opening
except that if you specify zero for the default facility code, the
default facility code simply remains unchanged and if you specify
LOG_NDELAY and the socket is already open and connected, <code>openlog</code>
just leaves it that way.

</td></tr>
</table>

<p><hr>
Node:<a name="syslog%3b%20vsyslog">syslog; vsyslog</a>,
Next:<a rel=next accesskey=n href="#closelog">closelog</a>,
Previous:<a rel=previous accesskey=p href="#openlog">openlog</a>,
Up:<a rel=up accesskey=u href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<br>

<h4>syslog, vsyslog</h4>

<p>The symbols referred to in this section are declared in the file
<code>syslog.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>syslog</b><i> (int <var>facility_priority</var>, char *<var>format</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>syslog</code> submits a message to the Syslog facility.  It does this by
writing to the Unix domain socket <code>/dev/log</code>.

<p><code>syslog</code> submits the message with the facility and priority indicated
by <var>facility_priority</var>.  The macro <code>LOG_MAKEPRI</code> generates a
facility/priority from a facility and a priority, as in the following
example:

<br><pre>LOG_MAKEPRI(LOG_USER, LOG_WARNING)
</pre>

<p>The possible values for the facility code are (macros):

<dl>
<dt><code>LOG_USER</code>
<dd>A miscellaneous user process
<br><dt><code>LOG_MAIL</code>
<dd>Mail
<br><dt><code>LOG_DAEMON</code>
<dd>A miscellaneous system daemon
<br><dt><code>LOG_AUTH</code>
<dd>Security (authorization)
<br><dt><code>LOG_SYSLOG</code>
<dd>Syslog
<br><dt><code>LOG_LPR</code>
<dd>Central printer
<br><dt><code>LOG_NEWS</code>
<dd>Network news (e.g. Usenet)
<br><dt><code>LOG_UUCP</code>
<dd>UUCP
<br><dt><code>LOG_CRON</code>
<dd>Cron and At
<br><dt><code>LOG_AUTHPRIV</code>
<dd>Private security (authorization)
<br><dt><code>LOG_FTP</code>
<dd>Ftp server
<br><dt><code>LOG_LOCAL0</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL1</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL2</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL3</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL4</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL5</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL6</code>
<dd>Locally defined
<br><dt><code>LOG_LOCAL7</code>
<dd>Locally defined
</dl>

<p>Results are undefined if the facility code is anything else.

<p><strong>note:</strong> <code>syslog</code> recognizes one other facility code: that of
the kernel.  But you can't specify that facility code with these
functions.  If you try, it looks the same to <code>syslog</code> as if you are
requesting the default facility.  But you wouldn't want to anyway,
because any program that uses the GNU C library is not the kernel.

<p>You can use just a priority code as <var>facility_priority</var>.  In that
case, <code>syslog</code> assumes the default facility established when the
Syslog connection was opened.  See <a href="#Syslog%20Example">Syslog Example</a>.

<p>The possible values for the priority code are (macros):

<dl>
<dt><code>LOG_EMERG</code>
<dd>The message says the system is unusable. 
<br><dt><code>LOG_ALERT</code>
<dd>Action on the message must be taken immediately. 
<br><dt><code>LOG_CRIT</code>
<dd>The message states a critical condition. 
<br><dt><code>LOG_ERR</code>
<dd>The message describes an error. 
<br><dt><code>LOG_WARNING</code>
<dd>The message is a warning. 
<br><dt><code>LOG_NOTICE</code>
<dd>The message describes a normal but important event. 
<br><dt><code>LOG_INFO</code>
<dd>The message is purely informational. 
<br><dt><code>LOG_DEBUG</code>
<dd>The message is only for debugging purposes. 
</dl>

<p>Results are undefined if the priority code is anything else.

<p>If the process does not presently have a Syslog connection open (i.e. 
it did not call <code>openlog</code>), <code>syslog</code> implicitly opens the
connection the same as <code>openlog</code> would, with the following defaults
for information that would otherwise be included in an <code>openlog</code>
call: The default identification string is the program name.  The
default default facility is <code>LOG_USER</code>.  The default for all the
connection options in <var>options</var> is as if those bits were off. 
<code>syslog</code> leaves the Syslog connection open.

<p>If the <code>dev/log</code> socket is not open and connected, <code>syslog</code>
opens and connects it, the same as <code>openlog</code> with the
<code>LOG_NDELAY</code> option would.

<p><code>syslog</code> leaves <code>/dev/log</code> open and connected unless its attempt
to send the message failed, in which case <code>syslog</code> closes it (with the
hope that a future implicit open will restore the Syslog connection to a
usable state).

<p>Example:

<br><pre>
#include &lt;syslog.h&gt;
syslog (LOG_MAKEPRI(LOG_LOCAL1, LOG_ERROR),
        "Unable to make network connection to %s.  Error=%m", host);

</pre>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>vsyslog</b><i> (int <var>facility_priority</var>, char *<var>format</var>, va_list arglist)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This is functionally identical to <code>syslog</code>, with the BSD style variable
length argument.

</td></tr>
</table>

<p><hr>
Node:<a name="closelog">closelog</a>,
Next:<a rel=next accesskey=n href="#setlogmask">setlogmask</a>,
Previous:<a rel=previous accesskey=p href="#syslog%3b%20vsyslog">syslog; vsyslog</a>,
Up:<a rel=up accesskey=u href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<br>

<h4>closelog</h4>

<p>The symbols referred to in this section are declared in the file
<code>syslog.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>closelog</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>closelog</code> closes the current Syslog connection, if there is one. 
This include closing the <code>dev/log</code> socket, if it is open.

<p>There is very little reason to use this function.  It does not flush any
buffers; you can reopen a Syslog connection without closing it first;
The connection gets closed automatically on exec or exit. 
<code>closelog</code> has primarily aesthetic value.

</td></tr>
</table>

<p><hr>
Node:<a name="setlogmask">setlogmask</a>,
Next:<a rel=next accesskey=n href="#Syslog%20Example">Syslog Example</a>,
Previous:<a rel=previous accesskey=p href="#closelog">closelog</a>,
Up:<a rel=up accesskey=u href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<br>

<h4>setlogmask</h4>

<p>The symbols referred to in this section are declared in the file
<code>syslog.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setlogmask</b><i> (int <var>mask</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>setlogmask</code> sets a mask (the "logmask") that determines which
future <code>syslog</code> calls shall be ignored.  If a program has not
called <code>setlogmask</code>, <code>syslog</code> doesn't ignore any calls.  You
can use <code>setlogmask</code> to specify that messages of particular
priorities shall be ignored in the future.

<p>A <code>setlogmask</code> call overrides any previous <code>setlogmask</code> call.

<p>Note that the logmask exists entirely independently of opening and
closing of Syslog connections.

<p>Setting the logmask has a similar effect to, but is not the same as,
configuring Syslog.  The Syslog configuration may cause Syslog to
discard certain messages it receives, but the logmask causes certain
messages never to get submitted to Syslog in the first place.

<p><var>mask</var> is a bit string with one bit corresponding to each of the
possible message priorities.  If the bit is on, <code>syslog</code> handles
messages of that priority normally.  If it is off, <code>syslog</code>
discards messages of that priority.  Use the message priority macros
described in <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a> and the <code>LOG_MASK</code> to construct
an appropriate <var>mask</var> value, as in this example:

<br><pre>LOG_MASK(LOG_EMERG) | LOG_MASK(LOG_ERROR)
</pre>

<p>or

<br><pre>~(LOG_MASK(LOG_INFO))
</pre>

<p>There is also a <code>LOG_UPTO</code> macro, which generates a mask with the bits
on for a certain priority and all priorities above it:

<br><pre>LOG_UPTO(LOG_ERROR)
</pre>

<p>The unfortunate naming of the macro is due to the fact that internally,
higher numbers are used for lower message priorities.

</td></tr>
</table>

<p><hr>
Node:<a name="Syslog%20Example">Syslog Example</a>,
Previous:<a rel=previous accesskey=p href="#setlogmask">setlogmask</a>,
Up:<a rel=up accesskey=u href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<br>

<h4>Syslog Example</h4>

<p>Here is an example of <code>openlog</code>, <code>syslog</code>, and <code>closelog</code>:

<p>This example sets the logmask so that debug and informational messages
get discarded without ever reaching Syslog.  So the second <code>syslog</code>
in the example does nothing.

<br><pre>#include &lt;syslog.h&gt;

setlogmask (LOG_UPTO (LOG_NOTICE));

openlog ("exampleprog", LOG_CONS | LOG_PID | LOG_NDELAY, LOG_LOCAL1);

syslog (LOG_NOTICE, "Program started by User %d", getuid ());
syslog (LOG_INFO, "A tree falls in a forest");

closelog ();

</pre>

<p><hr>
Node:<a name="Mathematics">Mathematics</a>,
Next:<a rel=next accesskey=n href="#Arithmetic">Arithmetic</a>,
Previous:<a rel=previous accesskey=p href="#Syslog">Syslog</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Mathematics</h2>

<p>This chapter contains information about functions for performing
mathematical computations, such as trigonometric functions.  Most of
these functions have prototypes declared in the header file
<code>math.h</code>.  The complex-valued functions are defined in
<code>complex.h</code>.

<p>All mathematical functions which take a floating-point argument
have three variants, one each for <code>double</code>, <code>float</code>, and
<code>long double</code> arguments.  The <code>double</code> versions are mostly
defined in ISO&nbsp;C89.  The <code>float</code> and <code>long double</code>
versions are from the numeric extensions to C included in ISO&nbsp;C99.

<p>Which of the three versions of a function should be used depends on the
situation.  For most calculations, the <code>float</code> functions are the
fastest.  On the other hand, the <code>long double</code> functions have the
highest precision.  <code>double</code> is somewhere in between.  It is
usually wise to pick the narrowest type that can accommodate your data. 
Not all machines have a distinct <code>long double</code> type; it may be the
same as <code>double</code>.

<ul>
<li><a accesskey=1 href="#Mathematical%20Constants">Mathematical Constants</a>:       Precise numeric values for often-used
                                 constants. 
<li><a accesskey=2 href="#Trig%20Functions">Trig Functions</a>:               Sine, cosine, tangent, and friends. 
<li><a accesskey=3 href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>:       Arcsine, arccosine, etc. 
<li><a accesskey=4 href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>:     Also pow and sqrt. 
<li><a accesskey=5 href="#Hyperbolic%20Functions">Hyperbolic Functions</a>:         sinh, cosh, tanh, etc. 
<li><a accesskey=6 href="#Special%20Functions">Special Functions</a>:            Bessel, gamma, erf. 
<li><a accesskey=7 href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>:     Known Maximum Errors in Math Functions. 
<li><a accesskey=8 href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>:        Functions for generating pseudo-random
				 numbers. 
<li><a accesskey=9 href="#FP%20Function%20Optimizations">FP Function Optimizations</a>:    Fast code or small code. 
</ul>

<p><hr>
Node:<a name="Mathematical%20Constants">Mathematical Constants</a>,
Next:<a rel=next accesskey=n href="#Trig%20Functions">Trig Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Predefined Mathematical Constants</h3>

<p>The header <code>math.h</code> defines several useful mathematical constants. 
All values are defined as preprocessor macros starting with <code>M_</code>. 
The values provided are:

<dl>
<dt><code>M_E</code>
<dd>The base of natural logarithms. 
<br><dt><code>M_LOG2E</code>
<dd>The logarithm to base <code>2</code> of <code>M_E</code>. 
<br><dt><code>M_LOG10E</code>
<dd>The logarithm to base <code>10</code> of <code>M_E</code>. 
<br><dt><code>M_LN2</code>
<dd>The natural logarithm of <code>2</code>. 
<br><dt><code>M_LN10</code>
<dd>The natural logarithm of <code>10</code>. 
<br><dt><code>M_PI</code>
<dd>Pi, the ratio of a circle's circumference to its diameter. 
<br><dt><code>M_PI_2</code>
<dd>Pi divided by two. 
<br><dt><code>M_PI_4</code>
<dd>Pi divided by four. 
<br><dt><code>M_1_PI</code>
<dd>The reciprocal of pi (1/pi)
<br><dt><code>M_2_PI</code>
<dd>Two times the reciprocal of pi. 
<br><dt><code>M_2_SQRTPI</code>
<dd>Two times the reciprocal of the square root of pi. 
<br><dt><code>M_SQRT2</code>
<dd>The square root of two. 
<br><dt><code>M_SQRT1_2</code>
<dd>The reciprocal of the square root of two (also the square root of 1/2). 
</dl>

<p>These constants come from the Unix98 standard and were also available in
4.4BSD; therefore they are only defined if <code>_BSD_SOURCE</code> or
<code>_XOPEN_SOURCE=500</code>, or a more general feature select macro, is
defined.  The default set of features includes these constants. 
See <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<p>All values are of type <code>double</code>.  As an extension, the GNU C
library also defines these constants with type <code>long double</code>.  The
<code>long double</code> macros have a lowercase <code>l</code> appended to their
names: <code>M_El</code>, <code>M_PIl</code>, and so forth.  These are only
available if <code>_GNU_SOURCE</code> is defined.

<p><em>Note:</em> Some programs use a constant named <code>PI</code> which has the
same value as <code>M_PI</code>.  This constant is not standard; it may have
appeared in some old AT&amp;T headers, and is mentioned in Stroustrup's book
on C++.  It infringes on the user's name space, so the GNU C library
does not define it.  Fixing programs written to expect it is simple:
replace <code>PI</code> with <code>M_PI</code> throughout, or put <code>-DPI=M_PI</code>
on the compiler command line.

<p><hr>
Node:<a name="Trig%20Functions">Trig Functions</a>,
Next:<a rel=next accesskey=n href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>,
Previous:<a rel=previous accesskey=p href="#Mathematical%20Constants">Mathematical Constants</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Trigonometric Functions</h3>

<p>These are the familiar <code>sin</code>, <code>cos</code>, and <code>tan</code> functions. 
The arguments to all of these functions are in units of radians; recall
that pi radians equals 180 degrees.

<p>The math library normally defines <code>M_PI</code> to a <code>double</code>
approximation of pi.  If strict ISO and/or POSIX compliance
are requested this constant is not defined, but you can easily define it
yourself:

<br><pre>#define M_PI 3.14159265358979323846264338327
</pre>

<p>You can also compute the value of pi with the expression <code>acos
(-1.0)</code>.

<p>
<table width="100%">
<tr>
<td align="left">double <b>sin</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>sinf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>sinl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the sine of <var>x</var>, where <var>x</var> is given in
radians.  The return value is in the range <code>-1</code> to <code>1</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>cos</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>cosf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>cosl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the cosine of <var>x</var>, where <var>x</var> is given in
radians.  The return value is in the range <code>-1</code> to <code>1</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>tan</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>tanf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>tanl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the tangent of <var>x</var>, where <var>x</var> is given in
radians.

<p>Mathematically, the tangent function has singularities at odd multiples
of pi/2.  If the argument <var>x</var> is too close to one of these
singularities, <code>tan</code> will signal overflow. 
</td></tr>
</table>

<p>In many applications where <code>sin</code> and <code>cos</code> are used, the sine
and cosine of the same angle are needed at the same time.  It is more
efficient to compute them simultaneously, so the library provides a
function to do that.

<p>
<table width="100%">
<tr>
<td align="left">void <b>sincos</b><i> (double <var>x</var>, double *<var>sinx</var>, double *<var>cosx</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">void <b>sincosf</b><i> (float <var>x</var>, float *<var>sinx</var>, float *<var>cosx</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">void <b>sincosl</b><i> (long double <var>x</var>, long double *<var>sinx</var>, long double *<var>cosx</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the sine of <var>x</var> in <code>*<var>sinx</var></code> and the
cosine of <var>x</var> in <code>*<var>cos</var></code>, where <var>x</var> is given in
radians.  Both values, <code>*<var>sinx</var></code> and <code>*<var>cosx</var></code>, are in
the range of <code>-1</code> to <code>1</code>.

<p>This function is a GNU extension.  Portable programs should be prepared
to cope with its absence. 
</td></tr>
</table>

<p>ISO&nbsp;C99 defines variants of the trig functions which work on
complex numbers.  The GNU C library provides these functions, but they
are only useful if your compiler supports the new complex types defined
by the standard. 
(As of this writing GCC supports complex numbers, but there are bugs in
the implementation.)

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>csin</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>csinf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>csinl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex sine of <var>z</var>. 
The mathematical definition of the complex sine is

<p>sin (z) = 1/(2*i) * (exp (z*i) - exp (-z*i)). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>ccos</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>ccosf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>ccosl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex cosine of <var>z</var>. 
The mathematical definition of the complex cosine is

<p>cos (z) = 1/2 * (exp (z*i) + exp (-z*i))
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>ctan</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>ctanf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>ctanl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex tangent of <var>z</var>. 
The mathematical definition of the complex tangent is

<p>tan (z) = -i * (exp (z*i) - exp (-z*i)) / (exp (z*i) + exp (-z*i))

<p>The complex tangent has poles at pi/2 + 2n, where n is an
integer.  <code>ctan</code> may signal overflow if <var>z</var> is too close to a
pole. 
</td></tr>
</table>

<p><hr>
Node:<a name="Inverse%20Trig%20Functions">Inverse Trig Functions</a>,
Next:<a rel=next accesskey=n href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>,
Previous:<a rel=previous accesskey=p href="#Trig%20Functions">Trig Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Inverse Trigonometric Functions</h3>

<p>These are the usual arc sine, arc cosine and arc tangent functions,
which are the inverses of the sine, cosine and tangent functions
respectively.

<p>
<table width="100%">
<tr>
<td align="left">double <b>asin</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>asinf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>asinl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the arc sine of <var>x</var>--that is, the value whose
sine is <var>x</var>.  The value is in units of radians.  Mathematically,
there are infinitely many such values; the one actually returned is the
one between <code>-pi/2</code> and <code>pi/2</code> (inclusive).

<p>The arc sine function is defined mathematically only
over the domain <code>-1</code> to <code>1</code>.  If <var>x</var> is outside the
domain, <code>asin</code> signals a domain error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>acos</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>acosf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>acosl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the arc cosine of <var>x</var>--that is, the value
whose cosine is <var>x</var>.  The value is in units of radians. 
Mathematically, there are infinitely many such values; the one actually
returned is the one between <code>0</code> and <code>pi</code> (inclusive).

<p>The arc cosine function is defined mathematically only
over the domain <code>-1</code> to <code>1</code>.  If <var>x</var> is outside the
domain, <code>acos</code> signals a domain error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>atan</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>atanf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>atanl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the arc tangent of <var>x</var>--that is, the value
whose tangent is <var>x</var>.  The value is in units of radians. 
Mathematically, there are infinitely many such values; the one actually
returned is the one between <code>-pi/2</code> and <code>pi/2</code> (inclusive). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>atan2</b><i> (double <var>y</var>, double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>atan2f</b><i> (float <var>y</var>, float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>atan2l</b><i> (long double <var>y</var>, long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function computes the arc tangent of <var>y</var>/<var>x</var>, but the signs
of both arguments are used to determine the quadrant of the result, and
<var>x</var> is permitted to be zero.  The return value is given in radians
and is in the range <code>-pi</code> to <code>pi</code>, inclusive.

<p>If <var>x</var> and <var>y</var> are coordinates of a point in the plane,
<code>atan2</code> returns the signed angle between the line from the origin
to that point and the x-axis.  Thus, <code>atan2</code> is useful for
converting Cartesian coordinates to polar coordinates.  (To compute the
radial coordinate, use <code>hypot</code>; see <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.)

<p>If both <var>x</var> and <var>y</var> are zero, <code>atan2</code> returns zero. 
</td></tr>
</table>

<p>ISO&nbsp;C99 defines complex versions of the inverse trig functions.

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>casin</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>casinf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>casinl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the complex arc sine of <var>z</var>--that is, the
value whose sine is <var>z</var>.  The value returned is in radians.

<p>Unlike the real-valued functions, <code>casin</code> is defined for all
values of <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>cacos</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>cacosf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>cacosl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the complex arc cosine of <var>z</var>--that is, the
value whose cosine is <var>z</var>.  The value returned is in radians.

<p>Unlike the real-valued functions, <code>cacos</code> is defined for all
values of <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>catan</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>catanf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>catanl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the complex arc tangent of <var>z</var>--that is,
the value whose tangent is <var>z</var>.  The value is in units of radians. 
</td></tr>
</table>

<p><hr>
Node:<a name="Exponents%20and%20Logarithms">Exponents and Logarithms</a>,
Next:<a rel=next accesskey=n href="#Hyperbolic%20Functions">Hyperbolic Functions</a>,
Previous:<a rel=previous accesskey=p href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Exponentiation and Logarithms</h3>

<p>
<table width="100%">
<tr>
<td align="left">double <b>exp</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>expf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>expl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute <code>e</code> (the base of natural logarithms) raised
to the power <var>x</var>.

<p>If the magnitude of the result is too large to be representable,
<code>exp</code> signals overflow. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>exp2</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>exp2f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>exp2l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute <code>2</code> raised to the power <var>x</var>. 
Mathematically, <code>exp2 (x)</code> is the same as <code>exp (x * log (2))</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>exp10</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>exp10f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>exp10l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">double <b>pow10</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>pow10f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>pow10l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute <code>10</code> raised to the power <var>x</var>. 
Mathematically, <code>exp10 (x)</code> is the same as <code>exp (x * log (10))</code>.

<p>These functions are GNU extensions.  The name <code>exp10</code> is
preferred, since it is analogous to <code>exp</code> and <code>exp2</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>log</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>logf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>logl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the natural logarithm of <var>x</var>.  <code>exp (log
(<var>x</var>))</code> equals <var>x</var>, exactly in mathematics and approximately in
C.

<p>If <var>x</var> is negative, <code>log</code> signals a domain error.  If <var>x</var>
is zero, it returns negative infinity; if <var>x</var> is too close to zero,
it may signal overflow. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>log10</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>log10f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>log10l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the base-10 logarithm of <var>x</var>. 
<code>log10 (<var>x</var>)</code> equals <code>log (<var>x</var>) / log (10)</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>log2</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>log2f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>log2l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the base-2 logarithm of <var>x</var>. 
<code>log2 (<var>x</var>)</code> equals <code>log (<var>x</var>) / log (2)</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>logb</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>logbf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>logbl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions extract the exponent of <var>x</var> and return it as a
floating-point value.  If <code>FLT_RADIX</code> is two, <code>logb</code> is equal
to <code>floor (log2 (x))</code>, except it's probably faster.

<p>If <var>x</var> is de-normalized, <code>logb</code> returns the exponent <var>x</var>
would have if it were normalized.  If <var>x</var> is infinity (positive or
negative), <code>logb</code> returns &amp;infin;.  If <var>x</var> is zero,
<code>logb</code> returns &amp;infin;.  It does not signal. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ilogb</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>ilogbf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>ilogbl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are equivalent to the corresponding <code>logb</code>
functions except that they return signed integer values. 
</td></tr>
</table>

<p>Since integers cannot represent infinity and NaN, <code>ilogb</code> instead
returns an integer that can't be the exponent of a normal floating-point
number.  <code>math.h</code> defines constants so you can check for this.

<p>
<table width="100%">
<tr>
<td align="left">int <b>FP_ILOGB0</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>ilogb</code> returns this value if its argument is <code>0</code>.  The
numeric value is either <code>INT_MIN</code> or <code>-INT_MAX</code>.

<p>This macro is defined in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>FP_ILOGBNAN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>ilogb</code> returns this value if its argument is <code>NaN</code>.  The
numeric value is either <code>INT_MIN</code> or <code>INT_MAX</code>.

<p>This macro is defined in ISO&nbsp;C99. 
</td></tr>
</table>

<p>These values are system specific.  They might even be the same.  The
proper way to test the result of <code>ilogb</code> is as follows:

<br><pre>i = ilogb (f);
if (i == FP_ILOGB0 || i == FP_ILOGBNAN)
  {
    if (isnan (f))
      {
        /* Handle NaN.  */
      }
    else if (f  == 0.0)
      {
        /* Handle 0.0.  */
      }
    else
      {
        /* Some other value with large exponent,
           perhaps +Inf.  */
      }
  }
</pre>

<p>
<table width="100%">
<tr>
<td align="left">double <b>pow</b><i> (double <var>base</var>, double <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>powf</b><i> (float <var>base</var>, float <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>powl</b><i> (long double <var>base</var>, long double <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These are general exponentiation functions, returning <var>base</var> raised
to <var>power</var>.

<p>Mathematically, <code>pow</code> would return a complex number when <var>base</var>
is negative and <var>power</var> is not an integral value.  <code>pow</code> can't
do that, so instead it signals a domain error. <code>pow</code> may also
underflow or overflow the destination type. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>sqrt</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>sqrtf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>sqrtl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the nonnegative square root of <var>x</var>.

<p>If <var>x</var> is negative, <code>sqrt</code> signals a domain error. 
Mathematically, it should return a complex number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>cbrt</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>cbrtf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>cbrtl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the cube root of <var>x</var>.  They cannot
fail; every representable real value has a representable real cube root. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>hypot</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>hypotf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>hypotl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return <code>sqrt (<var>x</var>*<var>x</var> +
<var>y</var>*<var>y</var>)</code>.  This is the length of the hypotenuse of a right
triangle with sides of length <var>x</var> and <var>y</var>, or the distance
of the point (<var>x</var>, <var>y</var>) from the origin.  Using this function
instead of the direct formula is wise, since the error is
much smaller.  See also the function <code>cabs</code> in <a href="#Absolute%20Value">Absolute Value</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>expm1</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>expm1f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>expm1l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return a value equivalent to <code>exp (<var>x</var>) - 1</code>. 
They are computed in a way that is accurate even if <var>x</var> is
near zero--a case where <code>exp (<var>x</var>) - 1</code> would be inaccurate owing
to subtraction of two numbers that are nearly equal. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>log1p</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>log1pf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>log1pl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions returns a value equivalent to <code>log&nbsp;(1&nbsp;+&nbsp;<var>x</var>)</code>. 
They are computed in a way that is accurate even if <var>x</var> is
near zero. 
</td></tr>
</table>

<p>ISO&nbsp;C99 defines complex variants of some of the exponentiation and
logarithm functions.

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>cexp</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>cexpf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>cexpl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return <code>e</code> (the base of natural
logarithms) raised to the power of <var>z</var>. 
Mathematically, this corresponds to the value

<p>exp (z) = exp (creal (z)) * (cos (cimag (z)) + I * sin (cimag (z)))
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>clog</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>clogf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>clogl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the natural logarithm of <var>z</var>. 
Mathematically, this corresponds to the value

<p>log (z) = log (cabs (z)) + I * carg (z)

<p><code>clog</code> has a pole at 0, and will signal overflow if <var>z</var> equals
or is very close to 0.  It is well-defined for all other values of
<var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>clog10</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>clog10f</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>clog10l</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the base 10 logarithm of the complex value
<var>z</var>. Mathematically, this corresponds to the value

<p>log (z) = log10 (cabs (z)) + I * carg (z)

<p>These functions are GNU extensions. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>csqrt</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>csqrtf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>csqrtl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex square root of the argument <var>z</var>.  Unlike
the real-valued functions, they are defined for all values of <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>cpow</b><i> (complex double <var>base</var>, complex double <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>cpowf</b><i> (complex float <var>base</var>, complex float <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>cpowl</b><i> (complex long double <var>base</var>, complex long double <var>power</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return <var>base</var> raised to the power of
<var>power</var>.  This is equivalent to <code>cexp&nbsp;(y&nbsp;*&nbsp;clog&nbsp;(x))</code>
</td></tr>
</table>

<p><hr>
Node:<a name="Hyperbolic%20Functions">Hyperbolic Functions</a>,
Next:<a rel=next accesskey=n href="#Special%20Functions">Special Functions</a>,
Previous:<a rel=previous accesskey=p href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Hyperbolic Functions</h3>

<p>The functions in this section are related to the exponential functions;
see <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<p>
<table width="100%">
<tr>
<td align="left">double <b>sinh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>sinhf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>sinhl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the hyperbolic sine of <var>x</var>, defined
mathematically as <code>(exp&nbsp;(<var>x</var>)&nbsp;-&nbsp;exp&nbsp;(-<var>x</var>))&nbsp;/&nbsp;2</code>.  They
may signal overflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>cosh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>coshf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>coshl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These function return the hyperbolic cosine of <var>x</var>,
defined mathematically as <code>(exp&nbsp;(<var>x</var>)&nbsp;+&nbsp;exp&nbsp;(-<var>x</var>))&nbsp;/&nbsp;2</code>. 
They may signal overflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>tanh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>tanhf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>tanhl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the hyperbolic tangent of <var>x</var>,
defined mathematically as <code>sinh&nbsp;(<var>x</var>)&nbsp;/&nbsp;cosh&nbsp;(<var>x</var>)</code>. 
They may signal overflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>There are counterparts for the hyperbolic functions which take
complex arguments.

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>csinh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>csinhf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>csinhl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex hyperbolic sine of <var>z</var>, defined
mathematically as <code>(exp&nbsp;(<var>z</var>)&nbsp;-&nbsp;exp&nbsp;(-<var>z</var>))&nbsp;/&nbsp;2</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>ccosh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>ccoshf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>ccoshl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex hyperbolic cosine of <var>z</var>, defined
mathematically as <code>(exp&nbsp;(<var>z</var>)&nbsp;+&nbsp;exp&nbsp;(-<var>z</var>))&nbsp;/&nbsp;2</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>ctanh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>ctanhf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>ctanhl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the complex hyperbolic tangent of <var>z</var>,
defined mathematically as <code>csinh&nbsp;(<var>z</var>)&nbsp;/&nbsp;ccosh&nbsp;(<var>z</var>)</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>asinh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>asinhf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>asinhl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse hyperbolic sine of <var>x</var>--the
value whose hyperbolic sine is <var>x</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>acosh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>acoshf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>acoshl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse hyperbolic cosine of <var>x</var>--the
value whose hyperbolic cosine is <var>x</var>.  If <var>x</var> is less than
<code>1</code>, <code>acosh</code> signals a domain error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>atanh</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>atanhf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>atanhl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse hyperbolic tangent of <var>x</var>--the
value whose hyperbolic tangent is <var>x</var>.  If the absolute value of
<var>x</var> is greater than <code>1</code>, <code>atanh</code> signals a domain error;
if it is equal to 1, <code>atanh</code> returns infinity. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>casinh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>casinhf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>casinhl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse complex hyperbolic sine of
<var>z</var>--the value whose complex hyperbolic sine is <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>cacosh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>cacoshf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>cacoshl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse complex hyperbolic cosine of
<var>z</var>--the value whose complex hyperbolic cosine is <var>z</var>.  Unlike
the real-valued functions, there are no restrictions on the value of <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>catanh</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>catanhf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>catanhl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the inverse complex hyperbolic tangent of
<var>z</var>--the value whose complex hyperbolic tangent is <var>z</var>.  Unlike
the real-valued functions, there are no restrictions on the value of
<var>z</var>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Special%20Functions">Special Functions</a>,
Next:<a rel=next accesskey=n href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>,
Previous:<a rel=previous accesskey=p href="#Hyperbolic%20Functions">Hyperbolic Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Special Functions</h3>

<p>These are some more exotic mathematical functions which are sometimes
useful.  Currently they only have real-valued versions.

<p>
<table width="100%">
<tr>
<td align="left">double <b>erf</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>erff</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>erfl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>erf</code> returns the error function of <var>x</var>.  The error
function is defined as
<br><pre>erf (x) = 2/sqrt(pi) * integral from 0 to x of exp(-t^2) dt
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>erfc</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>erfcf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>erfcl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>erfc</code> returns <code>1.0 - erf(<var>x</var>)</code>, but computed in a
fashion that avoids round-off error when <var>x</var> is large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>lgamma</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>lgammaf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>lgammal</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>lgamma</code> returns the natural logarithm of the absolute value of
the gamma function of <var>x</var>.  The gamma function is defined as
<br><pre>gamma (x) = integral from 0 to &amp;infin; of t^(x-1) e^-t dt
</pre>

<p>The sign of the gamma function is stored in the global variable
<var>signgam</var>, which is declared in <code>math.h</code>.  It is <code>1</code> if
the intermediate result was positive or zero, or <code>-1</code> if it was
negative.

<p>To compute the real gamma function you can use the <code>tgamma</code>
function or you can compute the values as follows:
<br><pre>lgam = lgamma(x);
gam  = signgam*exp(lgam);
</pre>

<p>The gamma function has singularities at the non-positive integers. 
<code>lgamma</code> will raise the zero divide exception if evaluated at a
singularity. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>lgamma_r</b><i> (double <var>x</var>, int *<var>signp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>lgammaf_r</b><i> (float <var>x</var>, int *<var>signp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>lgammal_r</b><i> (long double <var>x</var>, int *<var>signp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>lgamma_r</code> is just like <code>lgamma</code>, but it stores the sign of
the intermediate result in the variable pointed to by <var>signp</var>
instead of in the <var>signgam</var> global.  This means it is reentrant. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>gamma</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>gammaf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>gammal</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions exist for compatibility reasons.  They are equivalent to
<code>lgamma</code> etc.  It is better to use <code>lgamma</code> since for one the
name reflects better the actual computation, moreover <code>lgamma</code> is
standardized in ISO&nbsp;C99 while <code>gamma</code> is not. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>tgamma</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>tgammaf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>tgammal</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>tgamma</code> applies the gamma function to <var>x</var>.  The gamma
function is defined as
<br><pre>gamma (x) = integral from 0 to &amp;infin; of t^(x-1) e^-t dt
</pre>

<p>This function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>j0</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>j0f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>j0l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>j0</code> returns the Bessel function of the first kind of order 0 of
<var>x</var>.  It may signal underflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>j1</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>j1f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>j1l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>j1</code> returns the Bessel function of the first kind of order 1 of
<var>x</var>.  It may signal underflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>jn</b><i> (int n, double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>jnf</b><i> (int n, float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>jnl</b><i> (int n, long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>jn</code> returns the Bessel function of the first kind of order
<var>n</var> of <var>x</var>.  It may signal underflow if <var>x</var> is too large. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>y0</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>y0f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>y0l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>y0</code> returns the Bessel function of the second kind of order 0 of
<var>x</var>.  It may signal underflow if <var>x</var> is too large.  If <var>x</var>
is negative, <code>y0</code> signals a domain error; if it is zero,
<code>y0</code> signals overflow and returns -&amp;infin;. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>y1</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>y1f</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>y1l</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>y1</code> returns the Bessel function of the second kind of order 1 of
<var>x</var>.  It may signal underflow if <var>x</var> is too large.  If <var>x</var>
is negative, <code>y1</code> signals a domain error; if it is zero,
<code>y1</code> signals overflow and returns -&amp;infin;. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>yn</b><i> (int n, double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>ynf</b><i> (int n, float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>ynl</b><i> (int n, long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>yn</code> returns the Bessel function of the second kind of order <var>n</var> of
<var>x</var>.  It may signal underflow if <var>x</var> is too large.  If <var>x</var>
is negative, <code>yn</code> signals a domain error; if it is zero,
<code>yn</code> signals overflow and returns -&amp;infin;. 
</td></tr>
</table>

<p><hr>
Node:<a name="Errors%20in%20Math%20Functions">Errors in Math Functions</a>,
Next:<a rel=next accesskey=n href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>,
Previous:<a rel=previous accesskey=p href="#Special%20Functions">Special Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Known Maximum Errors in Math Functions</h3>

<p>This section lists the known errors of the functions in the math
library.  Errors are measured in "units of the last place".  This is a
measure for the relative error.  For a number z with the
representation d.d<small>...</small>d&amp;middot;2^e (we assume IEEE
floating-point numbers with base 2) the ULP is represented by

<br><pre>|d.d...d - (z / 2^e)| / 2^(p - 1)
</pre>

<p>where p is the number of bits in the mantissa of the
floating-point number representation.  Ideally the error for all
functions is always less than 0.5ulps.  Using rounding bits this is also
possible and normally implemented for the basic operations.  To achieve
the same for the complex math functions requires a lot more work and
this has not yet been done.

<p>Therefore many of the functions in the math library have errors.  The
table lists the maximum error for each function which is exposed by one
of the existing tests in the test suite.  The table tries to cover as much
as possible and list the actual maximum error (or at least a ballpark
figure) but this is often not achieved due to the large search space.

<p>The table lists the ULP values for different architectures.  Different
architectures have different results since their hardware support for
floating-point operations varies and also the existing hardware support
is different.

<p><table><tr align="left"><td valign="top">Function  </td><td valign="top">Alpha </td><td valign="top">ARM </td><td valign="top">Generic </td><td valign="top">ix86 </td><td valign="top">IA64
<br></td></tr><tr align="left"><td valign="top">acosf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acos  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1150 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asin  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">asinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">656 </td><td valign="top">14
<br></td></tr><tr align="left"><td valign="top">atanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">549 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1605 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2f  </td><td valign="top">4 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">549 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cabsf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabs  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabsl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">560 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cacosf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 2 </td><td valign="top">1 + i 2
<br></td></tr><tr align="left"><td valign="top">cacos  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cacosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">151 + i 329 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacoshf  </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3 </td><td valign="top">- </td><td valign="top">4 + i 4 </td><td valign="top">7 + i 0
<br></td></tr><tr align="left"><td valign="top">cacosh  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacoshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">328 + i 151 </td><td valign="top">7 + i 1
<br></td></tr><tr align="left"><td valign="top">cargf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">carg  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cargl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">casinf  </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">- </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2
<br></td></tr><tr align="left"><td valign="top">casin  </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0 </td><td valign="top">- </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0
<br></td></tr><tr align="left"><td valign="top">casinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">603 + i 329 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">casinhf  </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">- </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6
<br></td></tr><tr align="left"><td valign="top">casinh  </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3 </td><td valign="top">- </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3
<br></td></tr><tr align="left"><td valign="top">casinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">892 + i 12 </td><td valign="top">5 + i 5
<br></td></tr><tr align="left"><td valign="top">catanf  </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">catan  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">catanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">251 + i 474 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">catanhf  </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">catanh  </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">- </td><td valign="top">2 + i 0 </td><td valign="top">4 + i 0
<br></td></tr><tr align="left"><td valign="top">catanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">66 + i 447 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cbrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cbrt  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cbrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">716 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ccosf  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccos  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">5 + i 1901 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">ccoshf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosh  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccoshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1467 + i 1183 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ceilf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceil  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceill  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cexpf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cexp  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cexpl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">940 + i 1067 </td><td valign="top">2 + i 0
<br></td></tr><tr align="left"><td valign="top">cimagf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimag  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimagl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clogf  </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clog  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clogl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clog10f  </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">clog10  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">clog10l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1403 + i 186 </td><td valign="top">1 + i 2
<br></td></tr><tr align="left"><td valign="top">conjf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conjl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysign  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cos  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">cosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">529 </td><td valign="top">0.5
<br></td></tr><tr align="left"><td valign="top">coshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">coshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">309 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">cpowf  </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2 </td><td valign="top">- </td><td valign="top">4 + i 2.5333 </td><td valign="top">5 + i 2.5333
<br></td></tr><tr align="left"><td valign="top">cpow  </td><td valign="top">1 + i 1.1031 </td><td valign="top">1 + i 1.1031 </td><td valign="top">- </td><td valign="top">1 + i 1.104 </td><td valign="top">1 + i 1.1031
<br></td></tr><tr align="left"><td valign="top">cpowl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 + i 9 </td><td valign="top">1 + i 4
<br></td></tr><tr align="left"><td valign="top">cprojf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cproj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cprojl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">crealf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creall  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinf  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">966 + i 168 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">csinhf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csinh  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">413 + i 477 </td><td valign="top">2 + i 2
<br></td></tr><tr align="left"><td valign="top">csqrtf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csqrt  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">csqrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">237 + i 128 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ctanf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctan  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">690 + i 367 </td><td valign="top">436 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanhf  </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanh  </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2 </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">286 + i 3074 </td><td valign="top">1 + i 24
<br></td></tr><tr align="left"><td valign="top">erff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfcf  </td><td valign="top">12 </td><td valign="top">12 </td><td valign="top">- </td><td valign="top">12 </td><td valign="top">12
<br></td></tr><tr align="left"><td valign="top">erfc  </td><td valign="top">24 </td><td valign="top">24 </td><td valign="top">- </td><td valign="top">24 </td><td valign="top">24
<br></td></tr><tr align="left"><td valign="top">erfcl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">36 </td><td valign="top">12
<br></td></tr><tr align="left"><td valign="top">expf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">754 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp10f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">exp10  </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">exp10l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1182 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">exp2f  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">462 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">825 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">fabsf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabs  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabsl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdimf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdim  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdiml  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floor  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmax  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmodf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">fmod  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">fmodl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">4096 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">frexpf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexpl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gamma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypotf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypot  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypotl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">560 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">ilogbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">j0f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">j0  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j0l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j1  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">j1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">jnf  </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">jn  </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">- </td><td valign="top">5 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">jnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">lgammaf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">lgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">lgammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">lrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">logl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2341 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2033 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1pf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1p  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1pl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">585 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1688 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafter  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttoward  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">pow  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">725 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">remainderf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainder  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainderl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquof  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquo  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquol  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">round  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbn  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbln  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">627 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincos  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">627 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinhf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1029 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sqrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrt  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">489 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tan  </td><td valign="top">0.5 </td><td valign="top">0.5 </td><td valign="top">- </td><td valign="top">0.5 </td><td valign="top">0.5
<br></td></tr><tr align="left"><td valign="top">tanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1401 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanhf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">521 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgammaf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">truncf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">trunc  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">truncl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">y0f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">y0  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">3 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y0l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y1  </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">- </td><td valign="top">3 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">y1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">ynf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">3 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">yn  </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">- </td><td valign="top">6 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">ynl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">7 </td><td valign="top">7
<br></td></tr></table>
<p><table><tr align="left"><td valign="top">Function  </td><td valign="top">M68k </td><td valign="top">MIPS </td><td valign="top">PowerPC </td><td valign="top">S/390 </td><td valign="top">SH4
<br></td></tr><tr align="left"><td valign="top">acosf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acos  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinf  </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">asin  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">asinl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinhl  </td><td valign="top">14 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">atanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2f  </td><td valign="top">- </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">atan2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cabsf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabs  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabsl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cacosf  </td><td valign="top">1 + i 2 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacos  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cacosl  </td><td valign="top">1 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cacoshf  </td><td valign="top">7 + i 0 </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3
<br></td></tr><tr align="left"><td valign="top">cacosh  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacoshl  </td><td valign="top">6 + i 2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cargf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">carg  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cargl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">casinf  </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">casin  </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0
<br></td></tr><tr align="left"><td valign="top">casinl  </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">casinhf  </td><td valign="top">19 + i 2 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6
<br></td></tr><tr align="left"><td valign="top">casinh  </td><td valign="top">6 + i 13 </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3
<br></td></tr><tr align="left"><td valign="top">casinhl  </td><td valign="top">5 + i 6 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">catanf  </td><td valign="top">0 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1
<br></td></tr><tr align="left"><td valign="top">catan  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">catanl  </td><td valign="top">1 + i 0 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">catanhf  </td><td valign="top">- </td><td valign="top">1 + i 6 </td><td valign="top">0 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6
<br></td></tr><tr align="left"><td valign="top">catanh  </td><td valign="top">- </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1
<br></td></tr><tr align="left"><td valign="top">catanhl  </td><td valign="top">1 + i 0 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cbrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cbrt  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cbrtl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ccosf  </td><td valign="top">1 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">ccos  </td><td valign="top">0 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosl  </td><td valign="top">0 + i 1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ccoshf  </td><td valign="top">3 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosh  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccoshl  </td><td valign="top">1 + i 2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceilf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceil  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceill  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cexpf  </td><td valign="top">3 + i 2 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cexp  </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cexpl  </td><td valign="top">2 + i 0 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimagf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimag  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimagl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clogf  </td><td valign="top">- </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3
<br></td></tr><tr align="left"><td valign="top">clog  </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">clogl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clog10f  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5
<br></td></tr><tr align="left"><td valign="top">clog10  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">clog10l  </td><td valign="top">1 + i 3 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conjf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conjl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysign  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cos  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">cosl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">coshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">coshl  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cpowf  </td><td valign="top">1 + i 6 </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2
<br></td></tr><tr align="left"><td valign="top">cpow  </td><td valign="top">1 + i 2 </td><td valign="top">1 + i 1.1031 </td><td valign="top">1 + i 2 </td><td valign="top">1 + i 1.1031 </td><td valign="top">1 + i 1.1031
<br></td></tr><tr align="left"><td valign="top">cpowl  </td><td valign="top">5 + i 2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cprojf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cproj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cprojl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">crealf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creall  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinf  </td><td valign="top">1 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">csin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinhf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csinh  </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">csinhl  </td><td valign="top">1 + i 2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csqrtf  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csqrt  </td><td valign="top">- </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">csqrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ctanf  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctan  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanl  </td><td valign="top">439 + i 2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ctanhf  </td><td valign="top">1 + i 0 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanh  </td><td valign="top">0 + i 1 </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2
<br></td></tr><tr align="left"><td valign="top">ctanhl  </td><td valign="top">2 + i 25 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfcf  </td><td valign="top">11 </td><td valign="top">12 </td><td valign="top">12 </td><td valign="top">12 </td><td valign="top">12
<br></td></tr><tr align="left"><td valign="top">erfc  </td><td valign="top">24 </td><td valign="top">24 </td><td valign="top">24 </td><td valign="top">24 </td><td valign="top">24
<br></td></tr><tr align="left"><td valign="top">erfcl  </td><td valign="top">12 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp10f  </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">exp10  </td><td valign="top">1 </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">exp10l  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2f  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1f  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">expm1  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1l  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabsf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabs  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabsl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdimf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdim  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdiml  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floor  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmax  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmodf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">fmod  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">fmodl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexpf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexpl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gamma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammal  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">hypotf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypot  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypotl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">j0f  </td><td valign="top">1 </td><td valign="top">2 </td><td valign="top">1 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j0  </td><td valign="top">1 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j0l  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">j1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j1  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">j1l  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">jnf  </td><td valign="top">11 </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">jn  </td><td valign="top">4 </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">jnl  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lgammaf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">lgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">lgammal  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">logl  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">log10f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10l  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">log1pf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1p  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1pl  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">log2f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2l  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafter  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttoward  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">pow  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainderf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainder  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainderl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquof  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquo  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquol  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">round  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbn  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbln  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sincosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincos  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincosl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinhf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinh  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrt  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tan  </td><td valign="top">1 </td><td valign="top">0.5 </td><td valign="top">1 </td><td valign="top">0.5 </td><td valign="top">0.5
<br></td></tr><tr align="left"><td valign="top">tanl  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tanhf  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanh  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tgammaf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgammal  </td><td valign="top">1 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">truncf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">trunc  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">truncl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">y0f  </td><td valign="top">2 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">y0  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y0l  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">y1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y1  </td><td valign="top">1 </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">y1l  </td><td valign="top">2 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ynf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">yn  </td><td valign="top">6 </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">ynl  </td><td valign="top">7 </td><td valign="top">- </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr></table>
<p><table><tr align="left"><td valign="top">Function  </td><td valign="top">Sparc 32-bit </td><td valign="top">Sparc 64-bit </td><td valign="top">x86_64/fpu
<br></td></tr><tr align="left"><td valign="top">acosf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acos  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">acoshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asin  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">asinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">asinhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">asinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">15
<br></td></tr><tr align="left"><td valign="top">atanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanhf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atanh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">atanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">atan2f  </td><td valign="top">4.0000 </td><td valign="top">4 </td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">atan2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">atan2l  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cabsf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabs  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cabsl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cacosf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacos  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cacosl  </td><td valign="top">- </td><td valign="top">0 + i 3 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacoshf  </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3 </td><td valign="top">7 + i 3
<br></td></tr><tr align="left"><td valign="top">cacosh  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cacoshl  </td><td valign="top">- </td><td valign="top">5 + i 1 </td><td valign="top">6 + i 1
<br></td></tr><tr align="left"><td valign="top">cargf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">carg  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cargl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">casinf  </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">casin  </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0 </td><td valign="top">3 + i 0
<br></td></tr><tr align="left"><td valign="top">casinl  </td><td valign="top">- </td><td valign="top">1 + i 3 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">casinhf  </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6
<br></td></tr><tr align="left"><td valign="top">casinh  </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3 </td><td valign="top">5 + i 3
<br></td></tr><tr align="left"><td valign="top">casinhl  </td><td valign="top">- </td><td valign="top">4 + i 2 </td><td valign="top">5 + i 5
<br></td></tr><tr align="left"><td valign="top">catanf  </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1
<br></td></tr><tr align="left"><td valign="top">catan  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">catanl  </td><td valign="top">- </td><td valign="top">0 + i 1 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">catanhf  </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6 </td><td valign="top">1 + i 6
<br></td></tr><tr align="left"><td valign="top">catanh  </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 1 </td><td valign="top">4 + i 0
<br></td></tr><tr align="left"><td valign="top">catanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cbrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cbrt  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cbrtl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">948
<br></td></tr><tr align="left"><td valign="top">ccosf  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">ccos  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">ccoshf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccosh  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ccoshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ceilf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceil  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ceill  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cexpf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">cexp  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">cexpl  </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">cimagf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimag  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cimagl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clogf  </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3 </td><td valign="top">0 + i 3
<br></td></tr><tr align="left"><td valign="top">clog  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clogl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">clog10f  </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5 </td><td valign="top">1 + i 5
<br></td></tr><tr align="left"><td valign="top">clog10  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">clog10l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1 + i 3
<br></td></tr><tr align="left"><td valign="top">conjf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">conjl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysign  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">copysignl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">cos  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">cosl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">0.5
<br></td></tr><tr align="left"><td valign="top">coshf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cosh  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">coshl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">cpowf  </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2 </td><td valign="top">4 + i 2
<br></td></tr><tr align="left"><td valign="top">cpow  </td><td valign="top">1 + i 1.1031 </td><td valign="top">1 + i 1.1031 </td><td valign="top">1 + i 1.1031
<br></td></tr><tr align="left"><td valign="top">cpowl  </td><td valign="top">- </td><td valign="top">3 + i 0.9006 </td><td valign="top">1 + i 2
<br></td></tr><tr align="left"><td valign="top">cprojf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cproj  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">cprojl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">crealf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">creall  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinf  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">csin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">csinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">0 + i 2
<br></td></tr><tr align="left"><td valign="top">csinhf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csinh  </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1 </td><td valign="top">0 + i 1
<br></td></tr><tr align="left"><td valign="top">csinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2 + i 2
<br></td></tr><tr align="left"><td valign="top">csqrtf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">csqrt  </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0 </td><td valign="top">1 + i 0
<br></td></tr><tr align="left"><td valign="top">csqrtl  </td><td valign="top">- </td><td valign="top">1 + i 1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ctanf  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctan  </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1 </td><td valign="top">1 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">439 + i 2
<br></td></tr><tr align="left"><td valign="top">ctanhf  </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1 </td><td valign="top">2 + i 1
<br></td></tr><tr align="left"><td valign="top">ctanh  </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2 </td><td valign="top">2 + i 2
<br></td></tr><tr align="left"><td valign="top">ctanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">5 + i 25
<br></td></tr><tr align="left"><td valign="top">erff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">erfcf  </td><td valign="top">12 </td><td valign="top">12 </td><td valign="top">12
<br></td></tr><tr align="left"><td valign="top">erfc  </td><td valign="top">24 </td><td valign="top">24 </td><td valign="top">24
<br></td></tr><tr align="left"><td valign="top">erfcl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">36
<br></td></tr><tr align="left"><td valign="top">expf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp10f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">exp10  </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">exp10l  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">exp2f  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">exp2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">expm1f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">expm1  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">expm1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">fabsf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabs  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fabsl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdimf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdim  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fdiml  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floor  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">floorl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmax  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmaxl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fminl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">fmodf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">fmod  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">fmodl  </td><td valign="top">- </td><td valign="top">2 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">frexpf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexp  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">frexpl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammaf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gamma  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">gammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypotf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypot  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">hypotl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">ilogbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">ilogbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">j0f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j0  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j0l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">j1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">j1  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">j1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">jnf  </td><td valign="top">4 </td><td valign="top">4 </td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">jn  </td><td valign="top">6 </td><td valign="top">6 </td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">jnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">lgammaf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">lgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">lgammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">lrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llrintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">logl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log10l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1pf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1p  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log1pl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">log2l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">logbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">lroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llround  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">llroundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modff  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">modfl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nearbyintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafter  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nextafterl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttoward  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">nexttowardl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">pow  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">powl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainderf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainder  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remainderl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquof  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquo  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">remquol  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rint  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">rintl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">round  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">roundl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalb  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbn  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalbln  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">scalblnl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sin  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sinl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincosf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincos  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sincosl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinhf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sinhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">sqrtf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrt  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">sqrtl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tanf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">tan  </td><td valign="top">0.5 </td><td valign="top">0.5 </td><td valign="top">0.5
<br></td></tr><tr align="left"><td valign="top">tanl  </td><td valign="top">- </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanhf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanh  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tanhl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgammaf  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgamma  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">tgammal  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">truncf  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">trunc  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">truncl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">-
<br></td></tr><tr align="left"><td valign="top">y0f  </td><td valign="top">1 </td><td valign="top">1 </td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">y0  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y0l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y1f  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">y1  </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">y1l  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">ynf  </td><td valign="top">2 </td><td valign="top">2 </td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">yn  </td><td valign="top">3 </td><td valign="top">3 </td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">ynl  </td><td valign="top">- </td><td valign="top">- </td><td valign="top">7
<br></td></tr></table>

<p><hr>
Node:<a name="Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>,
Next:<a rel=next accesskey=n href="#FP%20Function%20Optimizations">FP Function Optimizations</a>,
Previous:<a rel=previous accesskey=p href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Pseudo-Random Numbers</h3>

<p>This section describes the GNU facilities for generating a series of
pseudo-random numbers.  The numbers generated are not truly random;
typically, they form a sequence that repeats periodically, with a period
so large that you can ignore it for ordinary purposes.  The random
number generator works by remembering a <dfn>seed</dfn> value which it uses
to compute the next random number and also to compute a new seed.

<p>Although the generated numbers look unpredictable within one run of a
program, the sequence of numbers is <em>exactly the same</em> from one run
to the next.  This is because the initial seed is always the same.  This
is convenient when you are debugging a program, but it is unhelpful if
you want the program to behave unpredictably.  If you want a different
pseudo-random series each time your program runs, you must specify a
different seed each time.  For ordinary purposes, basing the seed on the
current time works well.

<p>You can obtain repeatable sequences of numbers on a particular machine type
by specifying the same initial seed value for the random number
generator.  There is no standard meaning for a particular seed value;
the same seed, used in different C libraries or on different CPU types,
will give you different random numbers.

<p>The GNU library supports the standard ISO&nbsp;C random number functions
plus two other sets derived from BSD and SVID.  The BSD and ISO&nbsp;C
functions provide identical, somewhat limited functionality.  If only a
small number of random bits are required, we recommend you use the
ISO&nbsp;C interface, <code>rand</code> and <code>srand</code>.  The SVID functions
provide a more flexible interface, which allows better random number
generator algorithms, provides more random bits (up to 48) per call, and
can provide random floating-point numbers.  These functions are required
by the XPG standard and therefore will be present in all modern Unix
systems.

<ul>
<li><a accesskey=1 href="#ISO%20Random">ISO Random</a>:                   <code>rand</code> and friends. 
<li><a accesskey=2 href="#BSD%20Random">BSD Random</a>:                   <code>random</code> and friends. 
<li><a accesskey=3 href="#SVID%20Random">SVID Random</a>:                  <code>drand48</code> and friends. 
</ul>

<p><hr>
Node:<a name="ISO%20Random">ISO Random</a>,
Next:<a rel=next accesskey=n href="#BSD%20Random">BSD Random</a>,
Up:<a rel=up accesskey=u href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<br>

<h4>ISO C Random Number Functions</h4>

<p>This section describes the random number functions that are part of
the ISO&nbsp;C standard.

<p>To use these facilities, you should include the header file
<code>stdlib.h</code> in your program.

<p>
<table width="100%">
<tr>
<td align="left">int <b>RAND_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant representing the largest
value the <code>rand</code> function can return.  In the GNU library, it is
<code>2147483647</code>, which is the largest signed integer representable in
32 bits.  In other libraries, it may be as low as <code>32767</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>rand</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>rand</code> function returns the next pseudo-random number in the
series.  The value ranges from <code>0</code> to <code>RAND_MAX</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>srand</b><i> (unsigned int <var>seed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function establishes <var>seed</var> as the seed for a new series of
pseudo-random numbers.  If you call <code>rand</code> before a seed has been
established with <code>srand</code>, it uses the value <code>1</code> as a default
seed.

<p>To produce a different pseudo-random series each time your program is
run, do <code>srand (time (0))</code>. 
</td></tr>
</table>

<p>POSIX.1 extended the C standard functions to support reproducible random
numbers in multi-threaded programs.  However, the extension is badly
designed and unsuitable for serious work.

<p>
<table width="100%">
<tr>
<td align="left">int <b>rand_r</b><i> (unsigned int *<var>seed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a random number in the range 0 to <code>RAND_MAX</code>
just as <code>rand</code> does.  However, all its state is stored in the
<var>seed</var> argument.  This means the RNG's state can only have as many
bits as the type <code>unsigned int</code> has.  This is far too few to
provide a good RNG.

<p>If your program requires a reentrant RNG, we recommend you use the
reentrant GNU extensions to the SVID random number generator.  The
POSIX.1 interface should only be used when the GNU extensions are not
available. 
</td></tr>
</table>

<p><hr>
Node:<a name="BSD%20Random">BSD Random</a>,
Next:<a rel=next accesskey=n href="#SVID%20Random">SVID Random</a>,
Previous:<a rel=previous accesskey=p href="#ISO%20Random">ISO Random</a>,
Up:<a rel=up accesskey=u href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<br>

<h4>BSD Random Number Functions</h4>

<p>This section describes a set of random number generation functions that
are derived from BSD.  There is no advantage to using these functions
with the GNU C library; we support them for BSD compatibility only.

<p>The prototypes for these functions are in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>random</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next pseudo-random number in the sequence. 
The value returned ranges from <code>0</code> to <code>RAND_MAX</code>.

<p><strong>Note:</strong> Temporarily this function was defined to return a
<code>int32_t</code> value to indicate that the return value always contains
32 bits even if <code>long int</code> is wider.  The standard demands it
differently.  Users must always be aware of the 32-bit limitation,
though. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>srandom</b><i> (unsigned int <var>seed</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>srandom</code> function sets the state of the random number
generator based on the integer <var>seed</var>.  If you supply a <var>seed</var> value
of <code>1</code>, this will cause <code>random</code> to reproduce the default set
of random numbers.

<p>To produce a different set of pseudo-random numbers each time your
program runs, do <code>srandom (time (0))</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>initstate</b><i> (unsigned int <var>seed</var>, void *<var>state</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>initstate</code> function is used to initialize the random number
generator state.  The argument <var>state</var> is an array of <var>size</var>
bytes, used to hold the state information.  It is initialized based on
<var>seed</var>.  The size must be between 8 and 256 bytes, and should be a
power of two.  The bigger the <var>state</var> array, the better.

<p>The return value is the previous value of the state information array. 
You can use this value later as an argument to <code>setstate</code> to
restore that state. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void * <b>setstate</b><i> (void *<var>state</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setstate</code> function restores the random number state
information <var>state</var>.  The argument must have been the result of
a previous call to <var>initstate</var> or <var>setstate</var>.

<p>The return value is the previous value of the state information array. 
You can use this value later as an argument to <code>setstate</code> to
restore that state.

<p>If the function fails the return value is <code>NULL</code>. 
</td></tr>
</table>

<p>The four functions described so far in this section all work on a state
which is shared by all threads.  The state is not directly accessible to
the user and can only be modified by these functions.  This makes it
hard to deal with situations where each thread should have its own
pseudo-random number generator.

<p>The GNU C library contains four additional functions which contain the
state as an explicit parameter and therefore make it possible to handle
thread-local PRNGs.  Beside this there are no difference.  In fact, the
four functions already discussed are implemented internally using the
following interfaces.

<p>The <code>stdlib.h</code> header contains a definition of the following type:

<p>
<table width="100%">
<tr>
<td align="left"><b>struct random_data</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>Objects of type <code>struct random_data</code> contain the information
necessary to represent the state of the PRNG.  Although a complete
definition of the type is present the type should be treated as opaque. 
</td></tr>
</table>

<p>The functions modifying the state follow exactly the already described
functions.

<p>
<table width="100%">
<tr>
<td align="left">int <b>random_r</b><i> (struct random_data *restrict <var>buf</var>, int32_t *restrict <var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>random_r</code> function behaves exactly like the <code>random</code>
function except that it uses and modifies the state in the object
pointed to by the first parameter instead of the global state. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>srandom_r</b><i> (unsigned int <var>seed</var>, struct random_data *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>srandom_r</code> function behaves exactly like the <code>srandom</code>
function except that it uses and modifies the state in the object
pointed to by the second parameter instead of the global state. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>initstate_r</b><i> (unsigned int <var>seed</var>, char *restrict <var>statebuf</var>, size_t <var>statelen</var>, struct random_data *restrict <var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>initstate_r</code> function behaves exactly like the <code>initstate</code>
function except that it uses and modifies the state in the object
pointed to by the fourth parameter instead of the global state. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setstate_r</b><i> (char *restrict <var>statebuf</var>, struct random_data *restrict <var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setstate_r</code> function behaves exactly like the <code>setstate</code>
function except that it uses and modifies the state in the object
pointed to by the first parameter instead of the global state. 
</td></tr>
</table>

<p><hr>
Node:<a name="SVID%20Random">SVID Random</a>,
Previous:<a rel=previous accesskey=p href="#BSD%20Random">BSD Random</a>,
Up:<a rel=up accesskey=u href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<br>

<h4>SVID Random Number Function</h4>

<p>The C library on SVID systems contains yet another kind of random number
generator functions.  They use a state of 48 bits of data.  The user can
choose among a collection of functions which return the random bits
in different forms.

<p>Generally there are two kinds of function.  The first uses a state of
the random number generator which is shared among several functions and
by all threads of the process.  The second requires the user to handle
the state.

<p>All functions have in common that they use the same congruential
formula with the same constants.  The formula is

<br><pre>Y = (a * X + c) mod m
</pre>

<p>where <var>X</var> is the state of the generator at the beginning and
<var>Y</var> the state at the end.  <code>a</code> and <code>c</code> are constants
determining the way the generator works.  By default they are

<br><pre>a = 0x5DEECE66D = 25214903917
c = 0xb = 11
</pre>

<p>but they can also be changed by the user.  <code>m</code> is of course 2^48
since the state consists of a 48-bit array.

<p>The prototypes for these functions are in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">double <b>drand48</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a <code>double</code> value in the range of <code>0.0</code>
to <code>1.0</code> (exclusive).  The random bits are determined by the global
state of the random number generator in the C library.

<p>Since the <code>double</code> type according to IEEE&nbsp;754 has a 52-bit
mantissa this means 4 bits are not initialized by the random number
generator.  These are (of course) chosen to be the least significant
bits and they are initialized to <code>0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>erand48</b><i> (unsigned short int <var>xsubi</var>[3])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a <code>double</code> value in the range of <code>0.0</code>
to <code>1.0</code> (exclusive), similarly to <code>drand48</code>.  The argument is
an array describing the state of the random number generator.

<p>This function can be called subsequently since it updates the array to
guarantee random numbers.  The array should have been initialized before
initial use to obtain reproducible results. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>lrand48</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lrand48</code> function returns an integer value in the range of
<code>0</code> to <code>2^31</code> (exclusive).  Even if the size of the <code>long
int</code> type can take more than 32 bits, no higher numbers are returned. 
The random bits are determined by the global state of the random number
generator in the C library. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>nrand48</b><i> (unsigned short int <var>xsubi</var>[3])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>lrand48</code> function in that it
returns a number in the range of <code>0</code> to <code>2^31</code> (exclusive) but
the state of the random number generator used to produce the random bits
is determined by the array provided as the parameter to the function.

<p>The numbers in the array are updated afterwards so that subsequent calls
to this function yield different results (as is expected of a random
number generator).  The array should have been initialized before the
first call to obtain reproducible results. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>mrand48</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mrand48</code> function is similar to <code>lrand48</code>.  The only
difference is that the numbers returned are in the range <code>-2^31</code> to
<code>2^31</code> (exclusive). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>jrand48</b><i> (unsigned short int <var>xsubi</var>[3])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>jrand48</code> function is similar to <code>nrand48</code>.  The only
difference is that the numbers returned are in the range <code>-2^31</code> to
<code>2^31</code> (exclusive).  For the <code>xsubi</code> parameter the same
requirements are necessary. 
</td></tr>
</table>

<p>The internal state of the random number generator can be initialized in
several ways.  The methods differ in the completeness of the
information provided.

<p>
<table width="100%">
<tr>
<td align="left">void <b>srand48</b><i> (long int <var>seedval</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>srand48</code> function sets the most significant 32 bits of the
internal state of the random number generator to the least
significant 32 bits of the <var>seedval</var> parameter.  The lower 16 bits
are initialized to the value <code>0x330E</code>.  Even if the <code>long
int</code> type contains more than 32 bits only the lower 32 bits are used.

<p>Owing to this limitation, initialization of the state of this
function is not very useful.  But it makes it easy to use a construct
like <code>srand48 (time (0))</code>.

<p>A side-effect of this function is that the values <code>a</code> and <code>c</code>
from the internal state, which are used in the congruential formula,
are reset to the default values given above.  This is of importance once
the user has called the <code>lcong48</code> function (see below). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned short int * <b>seed48</b><i> (unsigned short int <var>seed16v</var>[3])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>seed48</code> function initializes all 48 bits of the state of the
internal random number generator from the contents of the parameter
<var>seed16v</var>.  Here the lower 16 bits of the first element of
<var>see16v</var> initialize the least significant 16 bits of the internal
state, the lower 16 bits of <code><var>seed16v</var>[1]</code> initialize the mid-order
16 bits of the state and the 16 lower bits of <code><var>seed16v</var>[2]</code>
initialize the most significant 16 bits of the state.

<p>Unlike <code>srand48</code> this function lets the user initialize all 48 bits
of the state.

<p>The value returned by <code>seed48</code> is a pointer to an array containing
the values of the internal state before the change.  This might be
useful to restart the random number generator at a certain state. 
Otherwise the value can simply be ignored.

<p>As for <code>srand48</code>, the values <code>a</code> and <code>c</code> from the
congruential formula are reset to the default values. 
</td></tr>
</table>

<p>There is one more function to initialize the random number generator
which enables you to specify even more information by allowing you to
change the parameters in the congruential formula.

<p>
<table width="100%">
<tr>
<td align="left">void <b>lcong48</b><i> (unsigned short int <var>param</var>[7])
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lcong48</code> function allows the user to change the complete state
of the random number generator.  Unlike <code>srand48</code> and
<code>seed48</code>, this function also changes the constants in the
congruential formula.

<p>From the seven elements in the array <var>param</var> the least significant
16 bits of the entries <code><var>param</var>[0]</code> to <code><var>param</var>[2]</code>
determine the initial state, the least significant 16 bits of
<code><var>param</var>[3]</code> to <code><var>param</var>[5]</code> determine the 48 bit
constant <code>a</code> and <code><var>param</var>[6]</code> determines the 16-bit value
<code>c</code>. 
</td></tr>
</table>

<p>All the above functions have in common that they use the global
parameters for the congruential formula.  In multi-threaded programs it
might sometimes be useful to have different parameters in different
threads.  For this reason all the above functions have a counterpart
which works on a description of the random number generator in the
user-supplied buffer instead of the global state.

<p>Please note that it is no problem if several threads use the global
state if all threads use the functions which take a pointer to an array
containing the state.  The random numbers are computed following the
same loop but if the state in the array is different all threads will
obtain an individual random number generator.

<p>The user-supplied buffer must be of type <code>struct drand48_data</code>. 
This type should be regarded as opaque and not manipulated directly.

<p>
<table width="100%">
<tr>
<td align="left">int <b>drand48_r</b><i> (struct drand48_data *<var>buffer</var>, double *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to the <code>drand48</code> function with the
difference that it does not modify the global random number generator
parameters but instead the parameters in the buffer supplied through the
pointer <var>buffer</var>.  The random number is returned in the variable
pointed to by <var>result</var>.

<p>The return value of the function indicates whether the call succeeded. 
If the value is less than <code>0</code> an error occurred and <var>errno</var> is
set to indicate the problem.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>erand48_r</b><i> (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, double *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>erand48_r</code> function works like <code>erand48</code>, but in addition
it takes an argument <var>buffer</var> which describes the random number
generator.  The state of the random number generator is taken from the
<code>xsubi</code> array, the parameters for the congruential formula from the
global random number generator data.  The random number is returned in
the variable pointed to by <var>result</var>.

<p>The return value is non-negative if the call succeeded.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>lrand48_r</b><i> (struct drand48_data *<var>buffer</var>, double *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>lrand48</code>, but in addition it takes a
pointer to a buffer describing the state of the random number generator
just like <code>drand48</code>.

<p>If the return value of the function is non-negative the variable pointed
to by <var>result</var> contains the result.  Otherwise an error occurred.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>nrand48_r</b><i> (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, long int *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>nrand48_r</code> function works like <code>nrand48</code> in that it
produces a random number in the range <code>0</code> to <code>2^31</code>.  But instead
of using the global parameters for the congruential formula it uses the
information from the buffer pointed to by <var>buffer</var>.  The state is
described by the values in <var>xsubi</var>.

<p>If the return value is non-negative the variable pointed to by
<var>result</var> contains the result.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>mrand48_r</b><i> (struct drand48_data *<var>buffer</var>, double *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>mrand48</code> but like the other reentrant
functions it uses the random number generator described by the value in
the buffer pointed to by <var>buffer</var>.

<p>If the return value is non-negative the variable pointed to by
<var>result</var> contains the result.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>jrand48_r</b><i> (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, long int *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>jrand48_r</code> function is similar to <code>jrand48</code>.  Like the
other reentrant functions of this function family it uses the
congruential formula parameters from the buffer pointed to by
<var>buffer</var>.

<p>If the return value is non-negative the variable pointed to by
<var>result</var> contains the result.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>Before any of the above functions are used the buffer of type
<code>struct drand48_data</code> should be initialized.  The easiest way to do
this is to fill the whole buffer with null bytes, e.g. by

<br><pre>memset (buffer, '\0', sizeof (struct drand48_data));
</pre>

<p>Using any of the reentrant functions of this family now will
automatically initialize the random number generator to the default
values for the state and the parameters of the congruential formula.

<p>The other possibility is to use any of the functions which explicitly
initialize the buffer.  Though it might be obvious how to initialize the
buffer from looking at the parameter to the function, it is highly
recommended to use these functions since the result might not always be
what you expect.

<p>
<table width="100%">
<tr>
<td align="left">int <b>srand48_r</b><i> (long int <var>seedval</var>, struct drand48_data *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The description of the random number generator represented by the
information in <var>buffer</var> is initialized similarly to what the function
<code>srand48</code> does.  The state is initialized from the parameter
<var>seedval</var> and the parameters for the congruential formula are
initialized to their default values.

<p>If the return value is non-negative the function call succeeded.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>seed48_r</b><i> (unsigned short int <var>seed16v</var>[3], struct drand48_data *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>srand48_r</code> but like <code>seed48</code> it
initializes all 48 bits of the state from the parameter <var>seed16v</var>.

<p>If the return value is non-negative the function call succeeded.  It
does not return a pointer to the previous state of the random number
generator like the <code>seed48</code> function does.  If the user wants to
preserve the state for a later re-run s/he can copy the whole buffer
pointed to by <var>buffer</var>.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>lcong48_r</b><i> (unsigned short int <var>param</var>[7], struct drand48_data *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initializes all aspects of the random number generator
described in <var>buffer</var> with the data in <var>param</var>.  Here it is
especially true that the function does more than just copying the
contents of <var>param</var> and <var>buffer</var>.  More work is required and
therefore it is important to use this function rather than initializing
the random number generator directly.

<p>If the return value is non-negative the function call succeeded.

<p>This function is a GNU extension and should not be used in portable
programs. 
</td></tr>
</table>

<p><hr>
Node:<a name="FP%20Function%20Optimizations">FP Function Optimizations</a>,
Previous:<a rel=previous accesskey=p href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>,
Up:<a rel=up accesskey=u href="#Mathematics">Mathematics</a>
<br>

<h3>Is Fast Code or Small Code preferred?</h3>

<p>If an application uses many floating point functions it is often the case
that the cost of the function calls themselves is not negligible. 
Modern processors can often execute the operations themselves
very fast, but the function call disrupts the instruction pipeline.

<p>For this reason the GNU C Library provides optimizations for many of the
frequently-used math functions.  When GNU CC is used and the user
activates the optimizer, several new inline functions and macros are
defined.  These new functions and macros have the same names as the
library functions and so are used instead of the latter.  In the case of
inline functions the compiler will decide whether it is reasonable to
use them, and this decision is usually correct.

<p>This means that no calls to the library functions may be necessary, and
can increase the speed of generated code significantly.  The drawback is
that code size will increase, and the increase is not always negligible.

<p>There are two kind of inline functions: Those that give the same result
as the library functions and others that might not set <code>errno</code> and
might have a reduced precision and/or argument range in comparison with
the library functions.  The latter inline functions are only available
if the flag <code>-ffast-math</code> is given to GNU CC.

<p>In cases where the inline functions and macros are not wanted the symbol
<code>__NO_MATH_INLINES</code> should be defined before any system header is
included.  This will ensure that only library functions are used.  Of
course, it can be determined for each file in the project whether
giving this option is preferable or not.

<p>Not all hardware implements the entire IEEE&nbsp;754 standard, and even
if it does there may be a substantial performance penalty for using some
of its features.  For example, enabling traps on some processors forces
the FPU to run un-pipelined, which can more than double calculation time.

<p><hr>
Node:<a name="Arithmetic">Arithmetic</a>,
Next:<a rel=next accesskey=n href="#Date%20and%20Time">Date and Time</a>,
Previous:<a rel=previous accesskey=p href="#Mathematics">Mathematics</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Arithmetic Functions</h2>

<p>This chapter contains information about functions for doing basic
arithmetic operations, such as splitting a float into its integer and
fractional parts or retrieving the imaginary part of a complex value. 
These functions are declared in the header files <code>math.h</code> and
<code>complex.h</code>.

<ul>
<li><a accesskey=1 href="#Integers">Integers</a>:                     Basic integer types and concepts
<li><a accesskey=2 href="#Integer%20Division">Integer Division</a>:             Integer division with guaranteed rounding. 
<li><a accesskey=3 href="#Floating%20Point%20Numbers">Floating Point Numbers</a>:       Basic concepts.  IEEE 754. 
<li><a accesskey=4 href="#Floating%20Point%20Classes">Floating Point Classes</a>:       The five kinds of floating-point number. 
<li><a accesskey=5 href="#Floating%20Point%20Errors">Floating Point Errors</a>:        When something goes wrong in a calculation. 
<li><a accesskey=6 href="#Rounding">Rounding</a>:                     Controlling how results are rounded. 
<li><a accesskey=7 href="#Control%20Functions">Control Functions</a>:            Saving and restoring the FPU's state. 
<li><a accesskey=8 href="#Arithmetic%20Functions">Arithmetic Functions</a>:         Fundamental operations provided by the library. 
<li><a accesskey=9 href="#Complex%20Numbers">Complex Numbers</a>:              The types.  Writing complex constants. 
<li><a href="#Operations%20on%20Complex">Operations on Complex</a>:        Projection, conjugation, decomposition. 
<li><a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>:           Converting strings to numbers. 
<li><a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>:   An archaic way to convert numbers to strings. 
</ul>

<p><hr>
Node:<a name="Integers">Integers</a>,
Next:<a rel=next accesskey=n href="#Integer%20Division">Integer Division</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Integers</h3>

<p>The C language defines several integer data types: integer, short integer,
long integer, and character, all in both signed and unsigned varieties. 
The GNU C compiler extends the language to contain long long integers
as well.

<p>The C integer types were intended to allow code to be portable among
machines with different inherent data sizes (word sizes), so each type
may have different ranges on different machines.  The problem with
this is that a program often needs to be written for a particular range
of integers, and sometimes must be written for a particular size of
storage, regardless of what machine the program runs on.

<p>To address this problem, the GNU C library contains C type definitions
you can use to declare integers that meet your exact needs.  Because the
GNU C library header files are customized to a specific machine, your
program source code doesn't have to be.

<p>These <code>typedef</code>s are in <code>stdint.h</code>.

<p>If you require that an integer be represented in exactly N bits, use one
of the following types, with the obvious mapping to bit size and signedness:

<ul>
<li>int8_t
<li>int16_t
<li>int32_t
<li>int64_t
<li>uint8_t
<li>uint16_t
<li>uint32_t
<li>uint64_t
</ul>

<p>If your C compiler and target machine do not allow integers of a certain
size, the corresponding above type does not exist.

<p>If you don't need a specific storage size, but want the smallest data
structure with <em>at least</em> N bits, use one of these:

<ul>
<li>int_least8_t
<li>int_least16_t
<li>int_least32_t
<li>int_least64_t
<li>uint_least8_t
<li>uint_least16_t
<li>uint_least32_t
<li>uint_least64_t
</ul>

<p>If you don't need a specific storage size, but want the data structure
that allows the fastest access while having at least N bits (and
among data structures with the same access speed, the smallest one), use
one of these:

<ul>
<li>int_fast8_t
<li>int_fast16_t
<li>int_fast32_t
<li>int_fast64_t
<li>uint_fast8_t
<li>uint_fast16_t
<li>uint_fast32_t
<li>uint_fast64_t
</ul>

<p>If you want an integer with the widest range possible on the platform on
which it is being used, use one of the following.  If you use these,
you should write code that takes into account the variable size and range
of the integer.

<ul>
<li>intmax_t
<li>uintmax_t
</ul>

<p>The GNU C library also provides macros that tell you the maximum and
minimum possible values for each integer data type.  The macro names
follow these examples: <code>INT32_MAX</code>, <code>UINT8_MAX</code>,
<code>INT_FAST32_MIN</code>, <code>INT_LEAST64_MIN</code>, <code>UINTMAX_MAX</code>,
<code>INTMAX_MAX</code>, <code>INTMAX_MIN</code>.  Note that there are no macros for
unsigned integer minima.  These are always zero.

<p>There are similar macros for use with C's built in integer types which
should come with your C compiler.  These are described in <a href="#Data%20Type%20Measurements">Data Type Measurements</a>.

<p>Don't forget you can use the C <code>sizeof</code> function with any of these
data types to get the number of bytes of storage each uses.

<p><hr>
Node:<a name="Integer%20Division">Integer Division</a>,
Next:<a rel=next accesskey=n href="#Floating%20Point%20Numbers">Floating Point Numbers</a>,
Previous:<a rel=previous accesskey=p href="#Integers">Integers</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Integer Division</h3>

<p>This section describes functions for performing integer division.  These
functions are redundant when GNU CC is used, because in GNU C the
<code>/</code> operator always rounds towards zero.  But in other C
implementations, <code>/</code> may round differently with negative arguments. 
<code>div</code> and <code>ldiv</code> are useful because they specify how to round
the quotient: towards zero.  The remainder has the same sign as the
numerator.

<p>These functions are specified to return a result <var>r</var> such that the value
<code><var>r</var>.quot*<var>denominator</var> + <var>r</var>.rem</code> equals
<var>numerator</var>.

<p>To use these facilities, you should include the header file
<code>stdlib.h</code> in your program.

<p>
<table width="100%">
<tr>
<td align="left"><b>div_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to hold the result returned by the <code>div</code>
function.  It has the following members:

<dl>
<dt><code>int quot</code>
<dd>The quotient from the division.

<br><dt><code>int rem</code>
<dd>The remainder from the division. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">div_t <b>div</b><i> (int <var>numerator</var>, int <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function <code>div</code> computes the quotient and remainder from
the division of <var>numerator</var> by <var>denominator</var>, returning the
result in a structure of type <code>div_t</code>.

<p>If the result cannot be represented (as in a division by zero), the
behavior is undefined.

<p>Here is an example, albeit not a very useful one.

<br><pre>div_t result;
result = div (20, -6);
</pre>

<p>Now <code>result.quot</code> is <code>-3</code> and <code>result.rem</code> is <code>2</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>ldiv_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to hold the result returned by the <code>ldiv</code>
function.  It has the following members:

<dl>
<dt><code>long int quot</code>
<dd>The quotient from the division.

<br><dt><code>long int rem</code>
<dd>The remainder from the division. 
</dl>

<p>(This is identical to <code>div_t</code> except that the components are of
type <code>long int</code> rather than <code>int</code>.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">ldiv_t <b>ldiv</b><i> (long int <var>numerator</var>, long int <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ldiv</code> function is similar to <code>div</code>, except that the
arguments are of type <code>long int</code> and the result is returned as a
structure of type <code>ldiv_t</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>lldiv_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to hold the result returned by the <code>lldiv</code>
function.  It has the following members:

<dl>
<dt><code>long long int quot</code>
<dd>The quotient from the division.

<br><dt><code>long long int rem</code>
<dd>The remainder from the division. 
</dl>

<p>(This is identical to <code>div_t</code> except that the components are of
type <code>long long int</code> rather than <code>int</code>.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">lldiv_t <b>lldiv</b><i> (long long int <var>numerator</var>, long long int <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>lldiv</code> function is like the <code>div</code> function, but the
arguments are of type <code>long long int</code> and the result is returned as
a structure of type <code>lldiv_t</code>.

<p>The <code>lldiv</code> function was added in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>imaxdiv_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a structure type used to hold the result returned by the <code>imaxdiv</code>
function.  It has the following members:

<dl>
<dt><code>intmax_t quot</code>
<dd>The quotient from the division.

<br><dt><code>intmax_t rem</code>
<dd>The remainder from the division. 
</dl>

<p>(This is identical to <code>div_t</code> except that the components are of
type <code>intmax_t</code> rather than <code>int</code>.)

<p>See <a href="#Integers">Integers</a> for a description of the <code>intmax_t</code> type.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">imaxdiv_t <b>imaxdiv</b><i> (intmax_t <var>numerator</var>, intmax_t <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>imaxdiv</code> function is like the <code>div</code> function, but the
arguments are of type <code>intmax_t</code> and the result is returned as
a structure of type <code>imaxdiv_t</code>.

<p>See <a href="#Integers">Integers</a> for a description of the <code>intmax_t</code> type.

<p>The <code>imaxdiv</code> function was added in ISO&nbsp;C99. 
</td></tr>
</table>

<p><hr>
Node:<a name="Floating%20Point%20Numbers">Floating Point Numbers</a>,
Next:<a rel=next accesskey=n href="#Floating%20Point%20Classes">Floating Point Classes</a>,
Previous:<a rel=previous accesskey=p href="#Integer%20Division">Integer Division</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Floating Point Numbers</h3>

<p>Most computer hardware has support for two different kinds of numbers:
integers (<small>...</small>-3, -2, -1, 0, 1, 2, 3<small>...</small>) and
floating-point numbers.  Floating-point numbers have three parts: the
<dfn>mantissa</dfn>, the <dfn>exponent</dfn>, and the <dfn>sign bit</dfn>.  The real
number represented by a floating-point value is given by
(s ? -1 : 1) &amp;middot; 2^e &amp;middot; M
where s is the sign bit, e the exponent, and M
the mantissa.  See <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>, for details.  (It is
possible to have a different <dfn>base</dfn> for the exponent, but all modern
hardware uses 2.)

<p>Floating-point numbers can represent a finite subset of the real
numbers.  While this subset is large enough for most purposes, it is
important to remember that the only reals that can be represented
exactly are rational numbers that have a terminating binary expansion
shorter than the width of the mantissa.  Even simple fractions such as
1/5 can only be approximated by floating point.

<p>Mathematical operations and functions frequently need to produce values
that are not representable.  Often these values can be approximated
closely enough for practical purposes, but sometimes they can't. 
Historically there was no way to tell when the results of a calculation
were inaccurate.  Modern computers implement the IEEE&nbsp;754 standard
for numerical computations, which defines a framework for indicating to
the program when the results of calculation are not trustworthy.  This
framework consists of a set of <dfn>exceptions</dfn> that indicate why a
result could not be represented, and the special values <dfn>infinity</dfn>
and <dfn>not a number</dfn> (NaN).

<p><hr>
Node:<a name="Floating%20Point%20Classes">Floating Point Classes</a>,
Next:<a rel=next accesskey=n href="#Floating%20Point%20Errors">Floating Point Errors</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Point%20Numbers">Floating Point Numbers</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Floating-Point Number Classification Functions</h3>

<p>ISO&nbsp;C99 defines macros that let you determine what sort of
floating-point number a variable holds.

<p>
<table width="100%">
<tr>
<td align="left">int <b>fpclassify</b><i> (<em>float-type</em> <var>x</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a generic macro which works on all floating-point types and
which returns a value of type <code>int</code>.  The possible values are:

<dl>
<dt><code>FP_NAN</code>
<dd>The floating-point number <var>x</var> is "Not a Number" (see <a href="#Infinity%20and%20NaN">Infinity and NaN</a>)
<br><dt><code>FP_INFINITE</code>
<dd>The value of <var>x</var> is either plus or minus infinity (see <a href="#Infinity%20and%20NaN">Infinity and NaN</a>)
<br><dt><code>FP_ZERO</code>
<dd>The value of <var>x</var> is zero.  In floating-point formats like IEEE&nbsp;754, where zero can be signed, this value is also returned if
<var>x</var> is negative zero. 
<br><dt><code>FP_SUBNORMAL</code>
<dd>Numbers whose absolute value is too small to be represented in the
normal format are represented in an alternate, <dfn>denormalized</dfn> format
(see <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>).  This format is less precise but can
represent values closer to zero.  <code>fpclassify</code> returns this value
for values of <var>x</var> in this alternate format. 
<br><dt><code>FP_NORMAL</code>
<dd>This value is returned for all other values of <var>x</var>.  It indicates
that there is nothing special about the number. 
</dl>

</td></tr>
</table>

<p><code>fpclassify</code> is most useful if more than one property of a number
must be tested.  There are more specific macros which only test one
property at a time.  Generally these macros execute faster than
<code>fpclassify</code>, since there is special hardware support for them. 
You should therefore use the specific macros whenever possible.

<p>
<table width="100%">
<tr>
<td align="left">int <b>isfinite</b><i> (<em>float-type</em> <var>x</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if <var>x</var> is finite: not plus or
minus infinity, and not NaN.  It is equivalent to

<br><pre>(fpclassify (x) != FP_NAN &amp;&amp; fpclassify (x) != FP_INFINITE)
</pre>

<p><code>isfinite</code> is implemented as a macro which accepts any
floating-point type. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isnormal</b><i> (<em>float-type</em> <var>x</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if <var>x</var> is finite and normalized. 
It is equivalent to

<br><pre>(fpclassify (x) == FP_NORMAL)
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isnan</b><i> (<em>float-type</em> <var>x</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if <var>x</var> is NaN.  It is equivalent
to

<br><pre>(fpclassify (x) == FP_NAN)
</pre>
</td></tr>
</table>

<p>Another set of floating-point classification functions was provided by
BSD.  The GNU C library also supports these functions; however, we
recommend that you use the ISO C99 macros in new code.  Those are standard
and will be available more widely.  Also, since they are macros, you do
not have to worry about the type of their argument.

<p>
<table width="100%">
<tr>
<td align="left">int <b>isinf</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>isinff</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>isinfl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns <code>-1</code> if <var>x</var> represents negative infinity,
<code>1</code> if <var>x</var> represents positive infinity, and <code>0</code> otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isnan</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>isnanf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>isnanl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a nonzero value if <var>x</var> is a "not a number"
value, and zero otherwise.

<p><strong>Note:</strong> The <code>isnan</code> macro defined by ISO&nbsp;C99 overrides
the BSD function.  This is normally not a problem, because the two
routines behave identically.  However, if you really need to get the BSD
function for some reason, you can write

<br><pre>(isnan) (x)
</pre>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>finite</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>finitef</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>finitel</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a nonzero value if <var>x</var> is finite or a "not a
number" value, and zero otherwise. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> The functions listed in this section are BSD
extensions.

<p><hr>
Node:<a name="Floating%20Point%20Errors">Floating Point Errors</a>,
Next:<a rel=next accesskey=n href="#Rounding">Rounding</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Point%20Classes">Floating Point Classes</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Errors in Floating-Point Calculations</h3>

<ul>
<li><a accesskey=1 href="#FP%20Exceptions">FP Exceptions</a>:                IEEE 754 math exceptions and how to detect them. 
<li><a accesskey=2 href="#Infinity%20and%20NaN">Infinity and NaN</a>:             Special values returned by calculations. 
<li><a accesskey=3 href="#Status%20bit%20operations">Status bit operations</a>:        Checking for exceptions after the fact. 
<li><a accesskey=4 href="#Math%20Error%20Reporting">Math Error Reporting</a>:         How the math functions report errors. 
</ul>

<p><hr>
Node:<a name="FP%20Exceptions">FP Exceptions</a>,
Next:<a rel=next accesskey=n href="#Infinity%20and%20NaN">Infinity and NaN</a>,
Up:<a rel=up accesskey=u href="#Floating%20Point%20Errors">Floating Point Errors</a>
<br>

<h4>FP Exceptions</h4>

<p>The IEEE&nbsp;754 standard defines five <dfn>exceptions</dfn> that can occur
during a calculation.  Each corresponds to a particular sort of error,
such as overflow.

<p>When exceptions occur (when exceptions are <dfn>raised</dfn>, in the language
of the standard), one of two things can happen.  By default the
exception is simply noted in the floating-point <dfn>status word</dfn>, and
the program continues as if nothing had happened.  The operation
produces a default value, which depends on the exception (see the table
below).  Your program can check the status word to find out which
exceptions happened.

<p>Alternatively, you can enable <dfn>traps</dfn> for exceptions.  In that case,
when an exception is raised, your program will receive the <code>SIGFPE</code>
signal.  The default action for this signal is to terminate the
program.  See <a href="#Signal%20Handling">Signal Handling</a>, for how you can change the effect of
the signal.

<p>In the System V math library, the user-defined function <code>matherr</code>
is called when certain exceptions occur inside math library functions. 
However, the Unix98 standard deprecates this interface.  We support it
for historical compatibility, but recommend that you do not use it in
new programs.

<p>The exceptions defined in IEEE&nbsp;754 are:

<dl>
<dt><code>Invalid Operation</code>
<dd>This exception is raised if the given operands are invalid for the
operation to be performed.  Examples are
(see IEEE&nbsp;754, section&nbsp;7):
<ol type=1 start=1>
</p><li>Addition or subtraction: &amp;infin; - &amp;infin;.  (But
&amp;infin; + &amp;infin; = &amp;infin;). 
<li>Multiplication: 0 &amp;middot; &amp;infin;. 
<li>Division: 0/0 or &amp;infin;/&amp;infin;. 
<li>Remainder: x REM y, where y is zero or x is
infinite. 
<li>Square root if the operand is less then zero.  More generally, any
mathematical function evaluated outside its domain produces this
exception. 
<li>Conversion of a floating-point number to an integer or decimal
string, when the number cannot be represented in the target format (due
to overflow, infinity, or NaN). 
<li>Conversion of an unrecognizable input string. 
<li>Comparison via predicates involving &lt; or &gt;, when one or
other of the operands is NaN.  You can prevent this exception by using
the unordered comparison functions instead; see <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.
</ol>

<p>If the exception does not trap, the result of the operation is NaN.

<br><dt><code>Division by Zero</code>
<dd>This exception is raised when a finite nonzero number is divided
by zero.  If no trap occurs the result is either +&amp;infin; or
-&amp;infin;, depending on the signs of the operands.

<br><dt><code>Overflow</code>
<dd>This exception is raised whenever the result cannot be represented
as a finite value in the precision format of the destination.  If no trap
occurs the result depends on the sign of the intermediate result and the
current rounding mode (IEEE&nbsp;754, section&nbsp;7.3):
<ol type=1 start=1>
</p><li>Round to nearest carries all overflows to &amp;infin;
with the sign of the intermediate result. 
<li>Round toward 0 carries all overflows to the largest representable
finite number with the sign of the intermediate result. 
<li>Round toward -&amp;infin; carries positive overflows to the
largest representable finite number and negative overflows to
-&amp;infin;.

<li>Round toward &amp;infin; carries negative overflows to the
most negative representable finite number and positive overflows
to &amp;infin;.
</ol>

<p>Whenever the overflow exception is raised, the inexact exception is also
raised.

<br><dt><code>Underflow</code>
<dd>The underflow exception is raised when an intermediate result is too
small to be calculated accurately, or if the operation's result rounded
to the destination precision is too small to be normalized.

<p>When no trap is installed for the underflow exception, underflow is
signaled (via the underflow flag) only when both tininess and loss of
accuracy have been detected.  If no trap handler is installed the
operation continues with an imprecise small value, or zero if the
destination precision cannot hold the small exact result.

<br><dt><code>Inexact</code>
<dd>This exception is signalled if a rounded result is not exact (such as
when calculating the square root of two) or a result overflows without
an overflow trap. 
</dl>

<p><hr>
Node:<a name="Infinity%20and%20NaN">Infinity and NaN</a>,
Next:<a rel=next accesskey=n href="#Status%20bit%20operations">Status bit operations</a>,
Previous:<a rel=previous accesskey=p href="#FP%20Exceptions">FP Exceptions</a>,
Up:<a rel=up accesskey=u href="#Floating%20Point%20Errors">Floating Point Errors</a>
<br>

<h4>Infinity and NaN</h4>

<p>IEEE&nbsp;754 floating point numbers can represent positive or negative
infinity, and <dfn>NaN</dfn> (not a number).  These three values arise from
calculations whose result is undefined or cannot be represented
accurately.  You can also deliberately set a floating-point variable to
any of them, which is sometimes useful.  Some examples of calculations
that produce infinity or NaN:

<br><pre>1/0 = &amp;infin;
log (0) = -&amp;infin;
sqrt (-1) = NaN
</pre>

<p>When a calculation produces any of these values, an exception also
occurs; see <a href="#FP%20Exceptions">FP Exceptions</a>.

<p>The basic operations and math functions all accept infinity and NaN and
produce sensible output.  Infinities propagate through calculations as
one would expect: for example, 2 + &amp;infin; = &amp;infin;,
4/&amp;infin; = 0, atan (&amp;infin;) = &amp;pi;/2.  NaN, on
the other hand, infects any calculation that involves it.  Unless the
calculation would produce the same result no matter what real value
replaced NaN, the result is NaN.

<p>In comparison operations, positive infinity is larger than all values
except itself and NaN, and negative infinity is smaller than all values
except itself and NaN.  NaN is <dfn>unordered</dfn>: it is not equal to,
greater than, or less than anything, <em>including itself</em>. <code>x ==
x</code> is false if the value of <code>x</code> is NaN.  You can use this to test
whether a value is NaN or not, but the recommended way to test for NaN
is with the <code>isnan</code> function (see <a href="#Floating%20Point%20Classes">Floating Point Classes</a>).  In
addition, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code> will raise an
exception when applied to NaNs.

<p><code>math.h</code> defines macros that allow you to explicitly set a variable
to infinity or NaN.

<p>
<table width="100%">
<tr>
<td align="left">float <b>INFINITY</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An expression representing positive infinity.  It is equal to the value
produced  by mathematical operations like <code>1.0 / 0.0</code>. 
<code>-INFINITY</code> represents negative infinity.

<p>You can test whether a floating-point value is infinite by comparing it
to this macro.  However, this is not recommended; you should use the
<code>isfinite</code> macro instead.  See <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<p>This macro was introduced in the ISO&nbsp;C99 standard. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">float <b>NAN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An expression representing a value which is "not a number".  This
macro is a GNU extension, available only on machines that support the
"not a number" value--that is to say, on all machines that support
IEEE floating point.

<p>You can use <code>#ifdef NAN</code> to test whether the machine supports
NaN.  (Of course, you must arrange for GNU extensions to be visible,
such as by defining <code>_GNU_SOURCE</code>, and then you must include
<code>math.h</code>.) 
</td></tr>
</table>

<p>IEEE&nbsp;754 also allows for another unusual value: negative zero.  This
value is produced when you divide a positive number by negative
infinity, or when a negative result is smaller than the limits of
representation.  Negative zero behaves identically to zero in all
calculations, unless you explicitly test the sign bit with
<code>signbit</code> or <code>copysign</code>.

<p><hr>
Node:<a name="Status%20bit%20operations">Status bit operations</a>,
Next:<a rel=next accesskey=n href="#Math%20Error%20Reporting">Math Error Reporting</a>,
Previous:<a rel=previous accesskey=p href="#Infinity%20and%20NaN">Infinity and NaN</a>,
Up:<a rel=up accesskey=u href="#Floating%20Point%20Errors">Floating Point Errors</a>
<br>

<h4>Examining the FPU status word</h4>

<p>ISO&nbsp;C99 defines functions to query and manipulate the
floating-point status word.  You can use these functions to check for
untrapped exceptions when it's convenient, rather than worrying about
them in the middle of a calculation.

<p>These constants represent the various IEEE&nbsp;754 exceptions.  Not all
FPUs report all the different exceptions.  Each constant is defined if
and only if the FPU you are compiling for supports that exception, so
you can test for FPU support with <code>#ifdef</code>.  They are defined in
<code>fenv.h</code>.

<dl>
<dt><code>FE_INEXACT</code>
<dd> The inexact exception. 
<br><dt><code>FE_DIVBYZERO</code>
<dd> The divide by zero exception. 
<br><dt><code>FE_UNDERFLOW</code>
<dd> The underflow exception. 
<br><dt><code>FE_OVERFLOW</code>
<dd> The overflow exception. 
<br><dt><code>FE_INVALID</code>
<dd> The invalid exception. 
</dl>

<p>The macro <code>FE_ALL_EXCEPT</code> is the bitwise OR of all exception macros
which are supported by the FP implementation.

<p>These functions allow you to clear exception flags, test for exceptions,
and save and restore the set of exceptions flagged.

<p>
<table width="100%">
<tr>
<td align="left">int <b>feclearexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function clears all of the supported exception flags indicated by
<var>excepts</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>feraiseexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function raises the supported exceptions indicated by
<var>excepts</var>.  If more than one exception bit in <var>excepts</var> is set
the order in which the exceptions are raised is undefined except that
overflow (<code>FE_OVERFLOW</code>) or underflow (<code>FE_UNDERFLOW</code>) are
raised before inexact (<code>FE_INEXACT</code>).  Whether for overflow or
underflow the inexact exception is also raised is also implementation
dependent.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fetestexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Test whether the exception flags indicated by the parameter <var>except</var>
are currently set.  If any of them are, a nonzero value is returned
which specifies which exceptions are set.  Otherwise the result is zero. 
</td></tr>
</table>

<p>To understand these functions, imagine that the status word is an
integer variable named <var>status</var>.  <code>feclearexcept</code> is then
equivalent to <code>status &amp;= ~excepts</code> and <code>fetestexcept</code> is
equivalent to <code>(status &amp; excepts)</code>.  The actual implementation may
be very different, of course.

<p>Exception flags are only cleared when the program explicitly requests it,
by calling <code>feclearexcept</code>.  If you want to check for exceptions
from a set of calculations, you should clear all the flags first.  Here
is a simple example of the way to use <code>fetestexcept</code>:

<br><pre>{
  double f;
  int raised;
  feclearexcept (FE_ALL_EXCEPT);
  f = compute ();
  raised = fetestexcept (FE_OVERFLOW | FE_INVALID);
  if (raised &amp; FE_OVERFLOW) { /* ... */ }
  if (raised &amp; FE_INVALID) { /* ... */ }
  /* ... */
}
</pre>

<p>You cannot explicitly set bits in the status word.  You can, however,
save the entire status word and restore it later.  This is done with the
following functions:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fegetexceptflag</b><i> (fexcept_t *<var>flagp</var>, int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function stores in the variable pointed to by <var>flagp</var> an
implementation-defined value representing the current setting of the
exception flags indicated by <var>excepts</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fesetexceptflag</b><i> (const fexcept_t *<var>flagp</var>, int
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<var>excepts</var>)
This function restores the flags for the exceptions indicated by
<var>excepts</var> to the values stored in the variable pointed to by
<var>flagp</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>Note that the value stored in <code>fexcept_t</code> bears no resemblance to
the bit mask returned by <code>fetestexcept</code>.  The type may not even be
an integer.  Do not attempt to modify an <code>fexcept_t</code> variable.

<p><hr>
Node:<a name="Math%20Error%20Reporting">Math Error Reporting</a>,
Previous:<a rel=previous accesskey=p href="#Status%20bit%20operations">Status bit operations</a>,
Up:<a rel=up accesskey=u href="#Floating%20Point%20Errors">Floating Point Errors</a>
<br>

<h4>Error Reporting by Mathematical Functions</h4>

<p>Many of the math functions are defined only over a subset of the real or
complex numbers.  Even if they are mathematically defined, their result
may be larger or smaller than the range representable by their return
type.  These are known as <dfn>domain errors</dfn>, <dfn>overflows</dfn>, and
<dfn>underflows</dfn>, respectively.  Math functions do several things when
one of these errors occurs.  In this manual we will refer to the
complete response as <dfn>signalling</dfn> a domain error, overflow, or
underflow.

<p>When a math function suffers a domain error, it raises the invalid
exception and returns NaN.  It also sets <var>errno</var> to <code>EDOM</code>;
this is for compatibility with old systems that do not support IEEE&nbsp;754 exception handling.  Likewise, when overflow occurs, math
functions raise the overflow exception and return &amp;infin; or
-&amp;infin; as appropriate.  They also set <var>errno</var> to
<code>ERANGE</code>.  When underflow occurs, the underflow exception is
raised, and zero (appropriately signed) is returned.  <var>errno</var> may be
set to <code>ERANGE</code>, but this is not guaranteed.

<p>Some of the math functions are defined mathematically to result in a
complex value over parts of their domains.  The most familiar example of
this is taking the square root of a negative number.  The complex math
functions, such as <code>csqrt</code>, will return the appropriate complex value
in this case.  The real-valued functions, such as <code>sqrt</code>, will
signal a domain error.

<p>Some older hardware does not support infinities.  On that hardware,
overflows instead return a particular very large number (usually the
largest representable number).  <code>math.h</code> defines macros you can use
to test for overflow on both old and new hardware.

<p>
<table width="100%">
<tr>
<td align="left">double <b>HUGE_VAL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>HUGE_VALF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>HUGE_VALL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An expression representing a particular very large number.  On machines
that use IEEE&nbsp;754 floating point format, <code>HUGE_VAL</code> is infinity. 
On other machines, it's typically the largest positive number that can
be represented.

<p>Mathematical functions return the appropriately typed version of
<code>HUGE_VAL</code> or <code>-HUGE_VAL</code> when the result is too large
to be represented. 
</td></tr>
</table>

<p><hr>
Node:<a name="Rounding">Rounding</a>,
Next:<a rel=next accesskey=n href="#Control%20Functions">Control Functions</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Point%20Errors">Floating Point Errors</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Rounding Modes</h3>

<p>Floating-point calculations are carried out internally with extra
precision, and then rounded to fit into the destination type.  This
ensures that results are as precise as the input data.  IEEE&nbsp;754
defines four possible rounding modes:

<dl>
<dt>Round to nearest.
<dd>This is the default mode.  It should be used unless there is a specific
need for one of the others.  In this mode results are rounded to the
nearest representable value.  If the result is midway between two
representable values, the even representable is chosen. <dfn>Even</dfn> here
means the lowest-order bit is zero.  This rounding mode prevents
statistical bias and guarantees numeric stability: round-off errors in a
lengthy calculation will remain smaller than half of <code>FLT_EPSILON</code>.

<br><dt>Round toward plus Infinity.
<dd>All results are rounded to the smallest representable value
which is greater than the result.

<br><dt>Round toward minus Infinity.
<dd>All results are rounded to the largest representable value which is less
than the result.

<br><dt>Round toward zero.
<dd>All results are rounded to the largest representable value whose
magnitude is less than that of the result.  In other words, if the
result is negative it is rounded up; if it is positive, it is rounded
down. 
</dl>

<p><code>fenv.h</code> defines constants which you can use to refer to the
various rounding modes.  Each one will be defined if and only if the FPU
supports the corresponding rounding mode.

<dl>
<dt><code>FE_TONEAREST</code>
<dd>Round to nearest.

<br><dt><code>FE_UPWARD</code>
<dd>Round toward +&amp;infin;.

<br><dt><code>FE_DOWNWARD</code>
<dd>Round toward -&amp;infin;.

<br><dt><code>FE_TOWARDZERO</code>
<dd>Round toward zero. 
</dl>

<p>Underflow is an unusual case.  Normally, IEEE&nbsp;754 floating point
numbers are always normalized (see <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>). 
Numbers smaller than 2^r (where r is the minimum exponent,
<code>FLT_MIN_RADIX-1</code> for <var>float</var>) cannot be represented as
normalized numbers.  Rounding all such numbers to zero or 2^r
would cause some algorithms to fail at 0.  Therefore, they are left in
denormalized form.  That produces loss of precision, since some bits of
the mantissa are stolen to indicate the decimal point.

<p>If a result is too small to be represented as a denormalized number, it
is rounded to zero.  However, the sign of the result is preserved; if
the calculation was negative, the result is <dfn>negative zero</dfn>. 
Negative zero can also result from some operations on infinity, such as
4/-&amp;infin;.  Negative zero behaves identically to zero except
when the <code>copysign</code> or <code>signbit</code> functions are used to check
the sign bit directly.

<p>At any time one of the above four rounding modes is selected.  You can
find out which one with this function:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fegetround</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Returns the currently selected rounding mode, represented by one of the
values of the defined rounding mode macros. 
</td></tr>
</table>

<p>To change the rounding mode, use this function:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fesetround</b><i> (int <var>round</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Changes the currently selected rounding mode to <var>round</var>.  If
<var>round</var> does not correspond to one of the supported rounding modes
nothing is changed.  <code>fesetround</code> returns zero if it changed the
rounding mode, a nonzero value if the mode is not supported. 
</td></tr>
</table>

<p>You should avoid changing the rounding mode if possible.  It can be an
expensive operation; also, some hardware requires you to compile your
program differently for it to work.  The resulting code may run slower. 
See your compiler documentation for details.

<p><hr>
Node:<a name="Control%20Functions">Control Functions</a>,
Next:<a rel=next accesskey=n href="#Arithmetic%20Functions">Arithmetic Functions</a>,
Previous:<a rel=previous accesskey=p href="#Rounding">Rounding</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Floating-Point Control Functions</h3>

<p>IEEE&nbsp;754 floating-point implementations allow the programmer to
decide whether traps will occur for each of the exceptions, by setting
bits in the <dfn>control word</dfn>.  In C, traps result in the program
receiving the <code>SIGFPE</code> signal; see <a href="#Signal%20Handling">Signal Handling</a>.

<p><strong>Note:</strong> IEEE&nbsp;754 says that trap handlers are given details of
the exceptional situation, and can set the result value.  C signals do
not provide any mechanism to pass this information back and forth. 
Trapping exceptions in C is therefore not very useful.

<p>It is sometimes necessary to save the state of the floating-point unit
while you perform some calculation.  The library provides functions
which save and restore the exception flags, the set of exceptions that
generate traps, and the rounding mode.  This information is known as the
<dfn>floating-point environment</dfn>.

<p>The functions to save and restore the floating-point environment all use
a variable of type <code>fenv_t</code> to store information.  This type is
defined in <code>fenv.h</code>.  Its size and contents are
implementation-defined.  You should not attempt to manipulate a variable
of this type directly.

<p>To save the state of the FPU, use one of these functions:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fegetenv</b><i> (fenv_t *<var>envp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Store the floating-point environment in the variable pointed to by
<var>envp</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>feholdexcept</b><i> (fenv_t *<var>envp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Store the current floating-point environment in the object pointed to by
<var>envp</var>.  Then clear all exception flags, and set the FPU to trap no
exceptions.  Not all FPUs support trapping no exceptions; if
<code>feholdexcept</code> cannot set this mode, it returns nonzero value.  If it
succeeds, it returns zero. 
</td></tr>
</table>

<p>The functions which restore the floating-point environment can take these
kinds of arguments:

<ul>
<li>Pointers to <code>fenv_t</code> objects, which were initialized previously by a
call to <code>fegetenv</code> or <code>feholdexcept</code>. 
<li>The special macro <code>FE_DFL_ENV</code> which represents the floating-point
environment as it was available at program start. 
<li>Implementation defined macros with names starting with <code>FE_</code> and
having type <code>fenv_t *</code>.

<p>If possible, the GNU C Library defines a macro <code>FE_NOMASK_ENV</code>
which represents an environment where every exception raised causes a
trap to occur.  You can test for this macro using <code>#ifdef</code>.  It is
only defined if <code>_GNU_SOURCE</code> is defined.

<p>Some platforms might define other predefined environments. 
</ul>

<p>To set the floating-point environment, you can use either of these
functions:

<p>
<table width="100%">
<tr>
<td align="left">int <b>fesetenv</b><i> (const fenv_t *<var>envp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Set the floating-point environment to that described by <var>envp</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>feupdateenv</b><i> (const fenv_t *<var>envp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Like <code>fesetenv</code>, this function sets the floating-point environment
to that described by <var>envp</var>.  However, if any exceptions were
flagged in the status word before <code>feupdateenv</code> was called, they
remain flagged after the call.  In other words, after <code>feupdateenv</code>
is called, the status word is the bitwise OR of the previous status word
and the one saved in <var>envp</var>.

<p>The function returns zero in case the operation was successful, a
non-zero value otherwise. 
</td></tr>
</table>

<p>To control for individual exceptions if raising them causes a trap to
occur, you can use the following two functions.

<p><strong>Portability Note:</strong> These functions are all GNU extensions.

<p>
<table width="100%">
<tr>
<td align="left">int <b>feenableexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This functions enables traps for each of the exceptions as indicated by
the parameter <var>except</var>.  The individual excepetions are described in
<a href="#Status%20bit%20operations">Status bit operations</a>.  Only the specified exceptions are
enabled, the status of the other exceptions is not changed.

<p>The function returns the previous enabled exceptions in case the
operation was successful, <code>-1</code> otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fedisableexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This functions disables traps for each of the exceptions as indicated by
the parameter <var>except</var>.  The individual excepetions are described in
<a href="#Status%20bit%20operations">Status bit operations</a>.  Only the specified exceptions are
disabled, the status of the other exceptions is not changed.

<p>The function returns the previous enabled exceptions in case the
operation was successful, <code>-1</code> otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fegetexcept</b><i> (int <var>excepts</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function returns a bitmask of all currently enabled exceptions.  It
returns <code>-1</code> in case of failure. 
</td></tr>
</table>

<p><hr>
Node:<a name="Arithmetic%20Functions">Arithmetic Functions</a>,
Next:<a rel=next accesskey=n href="#Complex%20Numbers">Complex Numbers</a>,
Previous:<a rel=previous accesskey=p href="#Control%20Functions">Control Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Arithmetic Functions</h3>

<p>The C library provides functions to do basic operations on
floating-point numbers.  These include absolute value, maximum and minimum,
normalization, bit twiddling, rounding, and a few others.

<ul>
<li><a accesskey=1 href="#Absolute%20Value">Absolute Value</a>:               Absolute values of integers and floats. 
<li><a accesskey=2 href="#Normalization%20Functions">Normalization Functions</a>:      Extracting exponents and putting them back. 
<li><a accesskey=3 href="#Rounding%20Functions">Rounding Functions</a>:           Rounding floats to integers. 
<li><a accesskey=4 href="#Remainder%20Functions">Remainder Functions</a>:          Remainders on division, precisely defined. 
<li><a accesskey=5 href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>:             Sign bit adjustment.  Adding epsilon. 
<li><a accesskey=6 href="#FP%20Comparison%20Functions">FP Comparison Functions</a>:      Comparisons without risk of exceptions. 
<li><a accesskey=7 href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>:           Max, min, positive difference, multiply-add. 
</ul>

<p><hr>
Node:<a name="Absolute%20Value">Absolute Value</a>,
Next:<a rel=next accesskey=n href="#Normalization%20Functions">Normalization Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Absolute Value</h4>

<p>These functions are provided for obtaining the <dfn>absolute value</dfn> (or
<dfn>magnitude</dfn>) of a number.  The absolute value of a real number
<var>x</var> is <var>x</var> if <var>x</var> is positive, -<var>x</var> if <var>x</var> is
negative.  For a complex number <var>z</var>, whose real part is <var>x</var> and
whose imaginary part is <var>y</var>, the absolute value is <code>sqrt&nbsp;(<var>x</var>*<var>x</var>&nbsp;+&nbsp;<var>y</var>*<var>y</var>)</code>.

<p>Prototypes for <code>abs</code>, <code>labs</code> and <code>llabs</code> are in <code>stdlib.h</code>;
<code>imaxabs</code> is declared in <code>inttypes.h</code>;
<code>fabs</code>, <code>fabsf</code> and <code>fabsl</code> are declared in <code>math.h</code>. 
<code>cabs</code>, <code>cabsf</code> and <code>cabsl</code> are declared in <code>complex.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>abs</b><i> (int <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long int <b>labs</b><i> (long int <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>llabs</b><i> (long long int <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">intmax_t <b>imaxabs</b><i> (intmax_t <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the absolute value of <var>number</var>.

<p>Most computers use a two's complement integer representation, in which
the absolute value of <code>INT_MIN</code> (the smallest possible <code>int</code>)
cannot be represented; thus, <code>abs&nbsp;(INT_MIN)</code> is not defined.

<p><code>llabs</code> and <code>imaxdiv</code> are new to ISO&nbsp;C99.

<p>See <a href="#Integers">Integers</a> for a description of the <code>intmax_t</code> type.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>fabs</b><i> (double <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fabsf</b><i> (float <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fabsl</b><i> (long double <var>number</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the absolute value of the floating-point number
<var>number</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>cabs</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>cabsf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>cabsl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the absolute  value of the complex number <var>z</var>
(see <a href="#Complex%20Numbers">Complex Numbers</a>).  The absolute value of a complex number is:

<br><pre>sqrt (creal (<var>z</var>) * creal (<var>z</var>) + cimag (<var>z</var>) * cimag (<var>z</var>))
</pre>

<p>This function should always be used instead of the direct formula
because it takes special care to avoid losing precision.  It may also
take advantage of hardware support for this operation. See <code>hypot</code>
in <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Normalization%20Functions">Normalization Functions</a>,
Next:<a rel=next accesskey=n href="#Rounding%20Functions">Rounding Functions</a>,
Previous:<a rel=previous accesskey=p href="#Absolute%20Value">Absolute Value</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Normalization Functions</h4>

<p>The functions described in this section are primarily provided as a way
to efficiently perform certain low-level manipulations on floating point
numbers that are represented internally using a binary radix;
see <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>.  These functions are required to
have equivalent behavior even if the representation does not use a radix
of 2, but of course they are unlikely to be particularly efficient in
those cases.

<p>All these functions are declared in <code>math.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">double <b>frexp</b><i> (double <var>value</var>, int *<var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>frexpf</b><i> (float <var>value</var>, int *<var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>frexpl</b><i> (long double <var>value</var>, int *<var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are used to split the number <var>value</var>
into a normalized fraction and an exponent.

<p>If the argument <var>value</var> is not zero, the return value is <var>value</var>
times a power of two, and is always in the range 1/2 (inclusive) to 1
(exclusive).  The corresponding exponent is stored in
<code>*<var>exponent</var></code>; the return value multiplied by 2 raised to this
exponent equals the original number <var>value</var>.

<p>For example, <code>frexp (12.8, &amp;exponent)</code> returns <code>0.8</code> and
stores <code>4</code> in <code>exponent</code>.

<p>If <var>value</var> is zero, then the return value is zero and
zero is stored in <code>*<var>exponent</var></code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>ldexp</b><i> (double <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>ldexpf</b><i> (float <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>ldexpl</b><i> (long double <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the result of multiplying the floating-point
number <var>value</var> by 2 raised to the power <var>exponent</var>.  (It can
be used to reassemble floating-point numbers that were taken apart
by <code>frexp</code>.)

<p>For example, <code>ldexp (0.8, 4)</code> returns <code>12.8</code>. 
</td></tr>
</table>

<p>The following functions, which come from BSD, provide facilities
equivalent to those of <code>ldexp</code> and <code>frexp</code>.  See also the
ISO&nbsp;C function <code>logb</code> which originally also appeared in BSD.

<p>
<table width="100%">
<tr>
<td align="left">double <b>scalb</b><i> (double <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>scalbf</b><i> (float <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>scalbl</b><i> (long double <var>value</var>, int <var>exponent</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>scalb</code> function is the BSD name for <code>ldexp</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>scalbn</b><i> (double <var>x</var>, int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>scalbnf</b><i> (float <var>x</var>, int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>scalbnl</b><i> (long double <var>x</var>, int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>scalbn</code> is identical to <code>scalb</code>, except that the exponent
<var>n</var> is an <code>int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>scalbln</b><i> (double <var>x</var>, long int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>scalblnf</b><i> (float <var>x</var>, long int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>scalblnl</b><i> (long double <var>x</var>, long int n)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>scalbln</code> is identical to <code>scalb</code>, except that the exponent
<var>n</var> is a <code>long int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>significand</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>significandf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>significandl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>significand</code> returns the mantissa of <var>x</var> scaled to the range
[1, 2). 
It is equivalent to <code>scalb&nbsp;(<var>x</var>,&nbsp;(double)&nbsp;-ilogb&nbsp;(<var>x</var>))</code>.

<p>This function exists mainly for use in certain standardized tests
of IEEE&nbsp;754 conformance. 
</td></tr>
</table>

<p><hr>
Node:<a name="Rounding%20Functions">Rounding Functions</a>,
Next:<a rel=next accesskey=n href="#Remainder%20Functions">Remainder Functions</a>,
Previous:<a rel=previous accesskey=p href="#Normalization%20Functions">Normalization Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Rounding Functions</h4>

<p>The functions listed here perform operations such as rounding and
truncation of floating-point values. Some of these functions convert
floating point numbers to integer values.  They are all declared in
<code>math.h</code>.

<p>You can also convert floating-point numbers to integers simply by
casting them to <code>int</code>.  This discards the fractional part,
effectively rounding towards zero.  However, this only works if the
result can actually be represented as an <code>int</code>--for very large
numbers, this is impossible.  The functions listed here return the
result as a <code>double</code> instead to get around this problem.

<p>
<table width="100%">
<tr>
<td align="left">double <b>ceil</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>ceilf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>ceill</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions round <var>x</var> upwards to the nearest integer,
returning that value as a <code>double</code>.  Thus, <code>ceil (1.5)</code>
is <code>2.0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>floor</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>floorf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>floorl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions round <var>x</var> downwards to the nearest
integer, returning that value as a <code>double</code>.  Thus, <code>floor
(1.5)</code> is <code>1.0</code> and <code>floor (-1.5)</code> is <code>-2.0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>trunc</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>truncf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>truncl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>trunc</code> functions round <var>x</var> towards zero to the nearest
integer (returned in floating-point format).  Thus, <code>trunc (1.5)</code>
is <code>1.0</code> and <code>trunc (-1.5)</code> is <code>-1.0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>rint</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>rintf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>rintl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions round <var>x</var> to an integer value according to the
current rounding mode.  See <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>, for
information about the various rounding modes.  The default
rounding mode is to round to the nearest integer; some machines
support other modes, but round-to-nearest is always used unless
you explicitly select another.

<p>If <var>x</var> was not initially an integer, these functions raise the
inexact exception. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>nearbyint</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>nearbyintf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>nearbyintl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the same value as the <code>rint</code> functions, but
do not raise the inexact exception if <var>x</var> is not an integer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>round</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>roundf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>roundl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are similar to <code>rint</code>, but they round halfway
cases away from zero instead of to the nearest even integer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>lrint</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long int <b>lrintf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long int <b>lrintl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are just like <code>rint</code>, but they return a
<code>long int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>llrint</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>llrintf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>llrintl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are just like <code>rint</code>, but they return a
<code>long long int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>lround</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long int <b>lroundf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long int <b>lroundl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are just like <code>round</code>, but they return a
<code>long int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>llround</b><i> (double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>llroundf</b><i> (float <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long long int <b>llroundl</b><i> (long double <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are just like <code>round</code>, but they return a
<code>long long int</code> instead of a floating-point number. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>modf</b><i> (double <var>value</var>, double *<var>integer-part</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>modff</b><i> (float <var>value</var>, float *<var>integer-part</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>modfl</b><i> (long double <var>value</var>, long double *<var>integer-part</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions break the argument <var>value</var> into an integer part and a
fractional part (between <code>-1</code> and <code>1</code>, exclusive).  Their sum
equals <var>value</var>.  Each of the parts has the same sign as <var>value</var>,
and the integer part is always rounded toward zero.

<p><code>modf</code> stores the integer part in <code>*<var>integer-part</var></code>, and
returns the fractional part.  For example, <code>modf (2.5, &amp;intpart)</code>
returns <code>0.5</code> and stores <code>2.0</code> into <code>intpart</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Remainder%20Functions">Remainder Functions</a>,
Next:<a rel=next accesskey=n href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>,
Previous:<a rel=previous accesskey=p href="#Rounding%20Functions">Rounding Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Remainder Functions</h4>

<p>The functions in this section compute the remainder on division of two
floating-point numbers.  Each is a little different; pick the one that
suits your problem.

<p>
<table width="100%">
<tr>
<td align="left">double <b>fmod</b><i> (double <var>numerator</var>, double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fmodf</b><i> (float <var>numerator</var>, float <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fmodl</b><i> (long double <var>numerator</var>, long double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions compute the remainder from the division of
<var>numerator</var> by <var>denominator</var>.  Specifically, the return value is
<code><var>numerator</var> - <var>n</var>&nbsp;*&nbsp;<var>denominator</var></code>, where <var>n</var>
is the quotient of <var>numerator</var> divided by <var>denominator</var>, rounded
towards zero to an integer.  Thus, <code>fmod&nbsp;(6.5,&nbsp;2.3)</code> returns
<code>1.9</code>, which is <code>6.5</code> minus <code>4.6</code>.

<p>The result has the same sign as the <var>numerator</var> and has magnitude
less than the magnitude of the <var>denominator</var>.

<p>If <var>denominator</var> is zero, <code>fmod</code> signals a domain error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>drem</b><i> (double <var>numerator</var>, double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>dremf</b><i> (float <var>numerator</var>, float <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>dreml</b><i> (long double <var>numerator</var>, long double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are like <code>fmod</code> except that they rounds the
internal quotient <var>n</var> to the nearest integer instead of towards zero
to an integer.  For example, <code>drem (6.5, 2.3)</code> returns <code>-0.4</code>,
which is <code>6.5</code> minus <code>6.9</code>.

<p>The absolute value of the result is less than or equal to half the
absolute value of the <var>denominator</var>.  The difference between
<code>fmod (<var>numerator</var>, <var>denominator</var>)</code> and <code>drem
(<var>numerator</var>, <var>denominator</var>)</code> is always either
<var>denominator</var>, minus <var>denominator</var>, or zero.

<p>If <var>denominator</var> is zero, <code>drem</code> signals a domain error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>remainder</b><i> (double <var>numerator</var>, double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>remainderf</b><i> (float <var>numerator</var>, float <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>remainderl</b><i> (long double <var>numerator</var>, long double <var>denominator</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is another name for <code>drem</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="FP%20Bit%20Twiddling">FP Bit Twiddling</a>,
Next:<a rel=next accesskey=n href="#FP%20Comparison%20Functions">FP Comparison Functions</a>,
Previous:<a rel=previous accesskey=p href="#Remainder%20Functions">Remainder Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Setting and modifying single bits of FP values</h4>

<p>There are some operations that are too complicated or expensive to
perform by hand on floating-point numbers.  ISO&nbsp;C99 defines
functions to do these operations, which mostly involve changing single
bits.

<p>
<table width="100%">
<tr>
<td align="left">double <b>copysign</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>copysignf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>copysignl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return <var>x</var> but with the sign of <var>y</var>.  They work
even if <var>x</var> or <var>y</var> are NaN or zero.  Both of these can carry a
sign (although not all implementations support it) and this is one of
the few operations that can tell the difference.

<p><code>copysign</code> never raises an exception.

<p>This function is defined in IEC&nbsp;559 (and the appendix with
recommended functions in IEEE&nbsp;754/IEEE&nbsp;854). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>signbit</b><i> (<em>float-type</em> <var>x</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>signbit</code> is a generic macro which can work on all floating-point
types.  It returns a nonzero value if the value of <var>x</var> has its sign
bit set.

<p>This is not the same as <code>x &lt; 0.0</code>, because IEEE&nbsp;754 floating
point allows zero to be signed.  The comparison <code>-0.0 &lt; 0.0</code> is
false, but <code>signbit (-0.0)</code> will return a nonzero value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>nextafter</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>nextafterf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>nextafterl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>nextafter</code> function returns the next representable neighbor of
<var>x</var> in the direction towards <var>y</var>.  The size of the step between
<var>x</var> and the result depends on the type of the result.  If
<var>x</var> = <var>y</var> the function simply returns <var>y</var>.  If either
value is <code>NaN</code>, <code>NaN</code> is returned.  Otherwise
a value corresponding to the value of the least significant bit in the
mantissa is added or subtracted, depending on the direction. 
<code>nextafter</code> will signal overflow or underflow if the result goes
outside of the range of normalized numbers.

<p>This function is defined in IEC&nbsp;559 (and the appendix with
recommended functions in IEEE&nbsp;754/IEEE&nbsp;854). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>nexttoward</b><i> (double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>nexttowardf</b><i> (float <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>nexttowardl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are identical to the corresponding versions of
<code>nextafter</code> except that their second argument is a <code>long
double</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>nan</b><i> (const char *<var>tagp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>nanf</b><i> (const char *<var>tagp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>nanl</b><i> (const char *<var>tagp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>nan</code> function returns a representation of NaN, provided that
NaN is supported by the target platform. 
<code>nan ("<var>n-char-sequence</var>")</code> is equivalent to
<code>strtod ("NAN(<var>n-char-sequence</var>)")</code>.

<p>The argument <var>tagp</var> is used in an unspecified manner.  On IEEE&nbsp;754 systems, there are many representations of NaN, and <var>tagp</var>
selects one.  On other systems it may do nothing. 
</td></tr>
</table>

<p><hr>
Node:<a name="FP%20Comparison%20Functions">FP Comparison Functions</a>,
Next:<a rel=next accesskey=n href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>,
Previous:<a rel=previous accesskey=p href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Floating-Point Comparison Functions</h4>

<p>The standard C comparison operators provoke exceptions when one or other
of the operands is NaN.  For example,

<br><pre>int v = a &lt; 1.0;
</pre>

<p>will raise an exception if <var>a</var> is NaN.  (This does <em>not</em>
happen with <code>==</code> and <code>!=</code>; those merely return false and true,
respectively, when NaN is examined.)  Frequently this exception is
undesirable.  ISO&nbsp;C99 therefore defines comparison functions that
do not raise exceptions when NaN is examined.  All of the functions are
implemented as macros which allow their arguments to be of any
floating-point type.  The macros are guaranteed to evaluate their
arguments only once.

<p>
<table width="100%">
<tr>
<td align="left">int <b>isgreater</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether the argument <var>x</var> is greater than
<var>y</var>.  It is equivalent to <code>(<var>x</var>) &gt; (<var>y</var>)</code>, but no
exception is raised if <var>x</var> or <var>y</var> are NaN. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isgreaterequal</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether the argument <var>x</var> is greater than or
equal to <var>y</var>.  It is equivalent to <code>(<var>x</var>) &gt;= (<var>y</var>)</code>, but no
exception is raised if <var>x</var> or <var>y</var> are NaN. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isless</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether the argument <var>x</var> is less than <var>y</var>. 
It is equivalent to <code>(<var>x</var>) &lt; (<var>y</var>)</code>, but no exception is
raised if <var>x</var> or <var>y</var> are NaN. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>islessequal</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether the argument <var>x</var> is less than or equal
to <var>y</var>.  It is equivalent to <code>(<var>x</var>) &lt;= (<var>y</var>)</code>, but no
exception is raised if <var>x</var> or <var>y</var> are NaN. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>islessgreater</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether the argument <var>x</var> is less or greater
than <var>y</var>.  It is equivalent to <code>(<var>x</var>) &lt; (<var>y</var>) ||
(<var>x</var>) &gt; (<var>y</var>)</code> (although it only evaluates <var>x</var> and <var>y</var>
once), but no exception is raised if <var>x</var> or <var>y</var> are NaN.

<p>This macro is not equivalent to <code><var>x</var> != <var>y</var></code>, because that
expression is true if <var>x</var> or <var>y</var> are NaN. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>isunordered</b><i> (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro determines whether its arguments are unordered.  In other
words, it is true if <var>x</var> or <var>y</var> are NaN, and false otherwise. 
</td></tr>
</table>

<p>Not all machines provide hardware support for these operations.  On
machines that don't, the macros can be very slow.  Therefore, you should
not use these functions when NaN is not a concern.

<p><strong>Note:</strong> There are no macros <code>isequal</code> or <code>isunequal</code>. 
They are unnecessary, because the <code>==</code> and <code>!=</code> operators do
<em>not</em> throw an exception if one or both of the operands are NaN.

<p><hr>
Node:<a name="Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>,
Previous:<a rel=previous accesskey=p href="#FP%20Comparison%20Functions">FP Comparison Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic%20Functions">Arithmetic Functions</a>
<br>

<h4>Miscellaneous FP arithmetic functions</h4>

<p>The functions in this section perform miscellaneous but common
operations that are awkward to express with C operators.  On some
processors these functions can use special machine instructions to
perform these operations faster than the equivalent C code.

<p>
<table width="100%">
<tr>
<td align="left">double <b>fmin</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fminf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fminl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fmin</code> function returns the lesser of the two values <var>x</var>
and <var>y</var>.  It is similar to the expression
<br><pre>((x) &lt; (y) ? (x) : (y))
</pre>
except that <var>x</var> and <var>y</var> are only evaluated once.

<p>If an argument is NaN, the other argument is returned.  If both arguments
are NaN, NaN is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>fmax</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fmaxf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fmaxl</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fmax</code> function returns the greater of the two values <var>x</var>
and <var>y</var>.

<p>If an argument is NaN, the other argument is returned.  If both arguments
are NaN, NaN is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>fdim</b><i> (double <var>x</var>, double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fdimf</b><i> (float <var>x</var>, float <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fdiml</b><i> (long double <var>x</var>, long double <var>y</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fdim</code> function returns the positive difference between
<var>x</var> and <var>y</var>.  The positive difference is <var>x</var> -
<var>y</var> if <var>x</var> is greater than <var>y</var>, and 0 otherwise.

<p>If <var>x</var>, <var>y</var>, or both are NaN, NaN is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>fma</b><i> (double <var>x</var>, double <var>y</var>, double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>fmaf</b><i> (float <var>x</var>, float <var>y</var>, float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>fmal</b><i> (long double <var>x</var>, long double <var>y</var>, long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fma</code> function performs floating-point multiply-add.  This is
the operation (<var>x</var> &amp;middot; <var>y</var>) + <var>z</var>, but the
intermediate result is not rounded to the destination type.  This can
sometimes improve the precision of a calculation.

<p>This function was introduced because some processors have a special
instruction to perform multiply-add.  The C compiler cannot use it
directly, because the expression <code>x*y + z</code> is defined to round the
intermediate result.  <code>fma</code> lets you choose when you want to round
only once.

<p>On processors which do not implement multiply-add in hardware,
<code>fma</code> can be very slow since it must avoid intermediate rounding. 
<code>math.h</code> defines the symbols <code>FP_FAST_FMA</code>,
<code>FP_FAST_FMAF</code>, and <code>FP_FAST_FMAL</code> when the corresponding
version of <code>fma</code> is no slower than the expression <code>x*y + z</code>. 
In the GNU C library, this always means the operation is implemented in
hardware. 
</td></tr>
</table>

<p><hr>
Node:<a name="Complex%20Numbers">Complex Numbers</a>,
Next:<a rel=next accesskey=n href="#Operations%20on%20Complex">Operations on Complex</a>,
Previous:<a rel=previous accesskey=p href="#Arithmetic%20Functions">Arithmetic Functions</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Complex Numbers</h3>

<p>ISO&nbsp;C99 introduces support for complex numbers in C.  This is done
with a new type qualifier, <code>complex</code>.  It is a keyword if and only
if <code>complex.h</code> has been included.  There are three complex types,
corresponding to the three real types:  <code>float complex</code>,
<code>double complex</code>, and <code>long double complex</code>.

<p>To construct complex numbers you need a way to indicate the imaginary
part of a number.  There is no standard notation for an imaginary
floating point constant.  Instead, <code>complex.h</code> defines two macros
that can be used to create complex numbers.

<p>
<table width="100%">
<tr>
<td align="left">const float complex <b>_Complex_I</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is a representation of the complex number "0+1i". 
Multiplying a real floating-point value by <code>_Complex_I</code> gives a
complex number whose value is purely imaginary.  You can use this to
construct complex constants:

<br><pre>3.0 + 4.0i = <code>3.0 + 4.0 * _Complex_I</code>
</pre>

<p>Note that <code>_Complex_I * _Complex_I</code> has the value <code>-1</code>, but
the type of that value is <code>complex</code>. 
</td></tr>
</table>

<p><code>_Complex_I</code> is a bit of a mouthful.  <code>complex.h</code> also defines
a shorter name for the same constant.

<p>
<table width="100%">
<tr>
<td align="left">const float complex <b>I</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro has exactly the same value as <code>_Complex_I</code>.  Most of the
time it is preferable.  However, it causes problems if you want to use
the identifier <code>I</code> for something else.  You can safely write

<br><pre>#include &lt;complex.h&gt;
#undef I
</pre>

<p>if you need <code>I</code> for your own purposes.  (In that case we recommend
you also define some other short name for <code>_Complex_I</code>, such as
<code>J</code>.)

</td></tr>
</table>

<p><hr>
Node:<a name="Operations%20on%20Complex">Operations on Complex</a>,
Next:<a rel=next accesskey=n href="#Parsing%20of%20Numbers">Parsing of Numbers</a>,
Previous:<a rel=previous accesskey=p href="#Complex%20Numbers">Complex Numbers</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Projections, Conjugates, and Decomposing of Complex Numbers</h3>

<p>ISO&nbsp;C99 also defines functions that perform basic operations on
complex numbers, such as decomposition and conjugation.  The prototypes
for all these functions are in <code>complex.h</code>.  All functions are
available in three variants, one for each of the three complex types.

<p>
<table width="100%">
<tr>
<td align="left">double <b>creal</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>crealf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>creall</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the real part of the complex number <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>cimag</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>cimagf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>cimagl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the imaginary part of the complex number <var>z</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>conj</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>conjf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>conjl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the conjugate value of the complex number
<var>z</var>.  The conjugate of a complex number has the same real part and a
negated imaginary part.  In other words, <code>conj(a + bi) = a + -bi</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>carg</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>cargf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>cargl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the argument of the complex number <var>z</var>. 
The argument of a complex number is the angle in the complex plane
between the positive real axis and a line passing through zero and the
number.  This angle is measured in the usual fashion and ranges from 0
to 2&amp;pi;.

<p><code>carg</code> has a branch cut along the positive real axis. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">complex double <b>cproj</b><i> (complex double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex float <b>cprojf</b><i> (complex float <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">complex long double <b>cprojl</b><i> (complex long double <var>z</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions return the projection of the complex value <var>z</var> onto
the Riemann sphere.  Values with a infinite imaginary part are projected
to positive infinity on the real axis, even if the real part is NaN.  If
the real part is infinite, the result is equivalent to

<br><pre>INFINITY + I * copysign (0.0, cimag (z))
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Parsing%20of%20Numbers">Parsing of Numbers</a>,
Next:<a rel=next accesskey=n href="#System%20V%20Number%20Conversion">System V Number Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Operations%20on%20Complex">Operations on Complex</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Parsing of Numbers</h3>

<p>This section describes functions for "reading" integer and
floating-point numbers from a string.  It may be more convenient in some
cases to use <code>sscanf</code> or one of the related functions; see
<a href="#Formatted%20Input">Formatted Input</a>.  But often you can make a program more robust by
finding the tokens in the string by hand, then converting the numbers
one by one.

<ul>
<li><a accesskey=1 href="#Parsing%20of%20Integers">Parsing of Integers</a>:          Functions for conversion of integer values. 
<li><a accesskey=2 href="#Parsing%20of%20Floats">Parsing of Floats</a>:            Functions for conversion of floating-point
				 values. 
</ul>

<p><hr>
Node:<a name="Parsing%20of%20Integers">Parsing of Integers</a>,
Next:<a rel=next accesskey=n href="#Parsing%20of%20Floats">Parsing of Floats</a>,
Up:<a rel=up accesskey=u href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<br>

<h4>Parsing of Integers</h4>

<p>The <code>str</code> functions are declared in <code>stdlib.h</code> and those
beginning with <code>wcs</code> are declared in <code>wchar.h</code>.  One might
wonder about the use of <code>restrict</code> in the prototypes of the
functions in this section.  It is seemingly useless but the ISO&nbsp;C
standard uses it (for the functions defined there) so we have to do it
as well.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>strtol</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtol</code> ("string-to-long") function converts the initial
part of <var>string</var> to a signed integer, which is returned as a value
of type <code>long int</code>.

<p>This function attempts to decompose <var>string</var> as follows:

<ul>
<li>A (possibly empty) sequence of whitespace characters.  Which characters
are whitespace is determined by the <code>isspace</code> function
(see <a href="#Classification%20of%20Characters">Classification of Characters</a>).  These are discarded.

<li>An optional plus or minus sign (<code>+</code> or <code>-</code>).

<li>A nonempty sequence of digits in the radix specified by <var>base</var>.

<p>If <var>base</var> is zero, decimal radix is assumed unless the series of
digits begins with <code>0</code> (specifying octal radix), or <code>0x</code> or
<code>0X</code> (specifying hexadecimal radix); in other words, the same
syntax used for integer constants in C.

<p>Otherwise <var>base</var> must have a value between <code>2</code> and <code>36</code>. 
If <var>base</var> is <code>16</code>, the digits may optionally be preceded by
<code>0x</code> or <code>0X</code>.  If base has no legal value the value returned
is <code>0l</code> and the global variable <code>errno</code> is set to <code>EINVAL</code>.

</p><li>Any remaining characters in the string.  If <var>tailptr</var> is not a null
pointer, <code>strtol</code> stores a pointer to this tail in
<code>*<var>tailptr</var></code>. 
</ul>

<p>If the string is empty, contains only whitespace, or does not contain an
initial substring that has the expected syntax for an integer in the
specified <var>base</var>, no conversion is performed.  In this case,
<code>strtol</code> returns a value of zero and the value stored in
<code>*<var>tailptr</var></code> is the value of <var>string</var>.

<p>In a locale other than the standard <code>"C"</code> locale, this function
may recognize additional implementation-dependent syntax.

<p>If the string has valid syntax for an integer but the value is not
representable because of overflow, <code>strtol</code> returns either
<code>LONG_MAX</code> or <code>LONG_MIN</code> (see <a href="#Range%20of%20Type">Range of Type</a>), as
appropriate for the sign of the value.  It also sets <code>errno</code>
to <code>ERANGE</code> to indicate there was overflow.

<p>You should not check for errors by examining the return value of
<code>strtol</code>, because the string might be a valid representation of
<code>0l</code>, <code>LONG_MAX</code>, or <code>LONG_MIN</code>.  Instead, check whether
<var>tailptr</var> points to what you expect after the number
(e.g. <code>'\0'</code> if the string should end after the number).  You also
need to clear <var>errno</var> before the call and check it afterward, in
case there was overflow.

<p>There is an example at the end of this section. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>wcstol</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstol</code> function is equivalent to the <code>strtol</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstol</code> function was introduced in Amendment&nbsp;1 of ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long int <b>strtoul</b><i> (const char *retrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtoul</code> ("string-to-unsigned-long") function is like
<code>strtol</code> except it converts to an <code>unsigned long int</code> value. 
The syntax is the same as described above for <code>strtol</code>.  The value
returned on overflow is <code>ULONG_MAX</code> (see <a href="#Range%20of%20Type">Range of Type</a>).

<p>If <var>string</var> depicts a negative number, <code>strtoul</code> acts the same
as <var>strtol</var> but casts the result to an unsigned integer.  That means
for example that <code>strtoul</code> on <code>"-1"</code> returns <code>ULONG_MAX</code>
and an input more negative than <code>LONG_MIN</code> returns
(<code>ULONG_MAX</code> + 1) / 2.

<p><code>strtoul</code> sets <var>errno</var> to <code>EINVAL</code> if <var>base</var> is out of
range, or <code>ERANGE</code> on overflow. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long int <b>wcstoul</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoul</code> function is equivalent to the <code>strtoul</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoul</code> function was introduced in Amendment&nbsp;1 of ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>strtoll</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtoll</code> function is like <code>strtol</code> except that it returns
a <code>long long int</code> value, and accepts numbers with a correspondingly
larger range.

<p>If the string has valid syntax for an integer but the value is not
representable because of overflow, <code>strtoll</code> returns either
<code>LONG_LONG_MAX</code> or <code>LONG_LONG_MIN</code> (see <a href="#Range%20of%20Type">Range of Type</a>), as
appropriate for the sign of the value.  It also sets <code>errno</code> to
<code>ERANGE</code> to indicate there was overflow.

<p>The <code>strtoll</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>wcstoll</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoll</code> function is equivalent to the <code>strtoll</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoll</code> function was introduced in Amendment&nbsp;1 of ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>strtoq</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>strtoq</code> ("string-to-quad-word") is the BSD name for <code>strtoll</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>wcstoq</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoq</code> function is equivalent to the <code>strtoq</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoq</code> function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long long int <b>strtoull</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtoull</code> function is related to <code>strtoll</code> the same way
<code>strtoul</code> is related to <code>strtol</code>.

<p>The <code>strtoull</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long long int <b>wcstoull</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoull</code> function is equivalent to the <code>strtoull</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoull</code> function was introduced in Amendment&nbsp;1 of ISO&nbsp;C90. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long long int <b>strtouq</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>strtouq</code> is the BSD name for <code>strtoull</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned long long int <b>wcstouq</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstouq</code> function is equivalent to the <code>strtouq</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoq</code> function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">intmax_t <b>strtoimax</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtoimax</code> function is like <code>strtol</code> except that it returns
a <code>intmax_t</code> value, and accepts numbers of a corresponding range.

<p>If the string has valid syntax for an integer but the value is not
representable because of overflow, <code>strtoimax</code> returns either
<code>INTMAX_MAX</code> or <code>INTMAX_MIN</code> (see <a href="#Integers">Integers</a>), as
appropriate for the sign of the value.  It also sets <code>errno</code> to
<code>ERANGE</code> to indicate there was overflow.

<p>See <a href="#Integers">Integers</a> for a description of the <code>intmax_t</code> type.  The
<code>strtoimax</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">intmax_t <b>wcstoimax</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoimax</code> function is equivalent to the <code>strtoimax</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoimax</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uintmax_t <b>strtoumax</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtoumax</code> function is related to <code>strtoimax</code>
the same way that <code>strtoul</code> is related to <code>strtol</code>.

<p>See <a href="#Integers">Integers</a> for a description of the <code>intmax_t</code> type.  The
<code>strtoumax</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uintmax_t <b>wcstoumax</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstoumax</code> function is equivalent to the <code>strtoumax</code> function
in nearly all aspects but handles wide character strings.

<p>The <code>wcstoumax</code> function was introduced in ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>atol</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>strtol</code> function with a <var>base</var>
argument of <code>10</code>, except that it need not detect overflow errors. 
The <code>atol</code> function is provided mostly for compatibility with
existing code; using <code>strtol</code> is more robust. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>atoi</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>atol</code>, except that it returns an <code>int</code>. 
The <code>atoi</code> function is also considered obsolete; use <code>strtol</code>
instead. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long long int <b>atoll</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>atol</code>, except it returns a <code>long
long int</code>.

<p>The <code>atoll</code> function was introduced in ISO&nbsp;C99.  It too is
obsolete (despite having just been added); use <code>strtoll</code> instead. 
</td></tr>
</table>

<p>All the functions mentioned in this section so far do not handle
alternative representations of characters as described in the locale
data.  Some locales specify thousands separator and the way they have to
be used which can help to make large numbers more readable.  To read
such numbers one has to use the <code>scanf</code> functions with the <code>'</code>
flag.

<p>Here is a function which parses a string as a sequence of integers and
returns the sum of them:

<br><pre>int
sum_ints_from_string (char *string)
{
  int sum = 0;

  while (1) {
    char *tail;
    int next;

    /* Skip whitespace by hand, to detect the end.  */
    while (isspace (*string)) string++;
    if (*string == 0)
      break;

    /* There is more nonwhitespace,  */
    /* so it ought to be another number.  */
    errno = 0;
    /* Parse it.  */
    next = strtol (string, &amp;tail, 0);
    /* Add it in, if not overflow.  */
    if (errno)
      printf ("Overflow\n");
    else
      sum += next;
    /* Advance past it.  */
    string = tail;
  }

  return sum;
}
</pre>

<p><hr>
Node:<a name="Parsing%20of%20Floats">Parsing of Floats</a>,
Previous:<a rel=previous accesskey=p href="#Parsing%20of%20Integers">Parsing of Integers</a>,
Up:<a rel=up accesskey=u href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<br>

<h4>Parsing of Floats</h4>

<p>The <code>str</code> functions are declared in <code>stdlib.h</code> and those
beginning with <code>wcs</code> are declared in <code>wchar.h</code>.  One might
wonder about the use of <code>restrict</code> in the prototypes of the
functions in this section.  It is seemingly useless but the ISO&nbsp;C
standard uses it (for the functions defined there) so we have to do it
as well.

<p>
<table width="100%">
<tr>
<td align="left">double <b>strtod</b><i> (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strtod</code> ("string-to-double") function converts the initial
part of <var>string</var> to a floating-point number, which is returned as a
value of type <code>double</code>.

<p>This function attempts to decompose <var>string</var> as follows:

<ul>
<li>A (possibly empty) sequence of whitespace characters.  Which characters
are whitespace is determined by the <code>isspace</code> function
(see <a href="#Classification%20of%20Characters">Classification of Characters</a>).  These are discarded.

<li>An optional plus or minus sign (<code>+</code> or <code>-</code>).

<li>A floating point number in decimal or hexadecimal format.  The
decimal format is:
<ul>

<li>A nonempty sequence of digits optionally containing a decimal-point
character--normally <code>.</code>, but it depends on the locale
(see <a href="#General%20Numeric">General Numeric</a>).

<li>An optional exponent part, consisting of a character <code>e</code> or
<code>E</code>, an optional sign, and a sequence of digits.

</ul>

<p>The hexadecimal format is as follows:
<ul>

<li>A 0x or 0X followed by a nonempty sequence of hexadecimal digits
optionally containing a decimal-point character--normally <code>.</code>, but
it depends on the locale (see <a href="#General%20Numeric">General Numeric</a>).

<li>An optional binary-exponent part, consisting of a character <code>p</code> or
<code>P</code>, an optional sign, and a sequence of digits.

</ul>

<li>Any remaining characters in the string.  If <var>tailptr</var> is not a null
pointer, a pointer to this tail of the string is stored in
<code>*<var>tailptr</var></code>. 
</ul>

<p>If the string is empty, contains only whitespace, or does not contain an
initial substring that has the expected syntax for a floating-point
number, no conversion is performed.  In this case, <code>strtod</code> returns
a value of zero and the value returned in <code>*<var>tailptr</var></code> is the
value of <var>string</var>.

<p>In a locale other than the standard <code>"C"</code> or <code>"POSIX"</code> locales,
this function may recognize additional locale-dependent syntax.

<p>If the string has valid syntax for a floating-point number but the value
is outside the range of a <code>double</code>, <code>strtod</code> will signal
overflow or underflow as described in <a href="#Math%20Error%20Reporting">Math Error Reporting</a>.

<p><code>strtod</code> recognizes four special input strings.  The strings
<code>"inf"</code> and <code>"infinity"</code> are converted to &amp;infin;,
or to the largest representable value if the floating-point format
doesn't support infinities.  You can prepend a <code>"+"</code> or <code>"-"</code>
to specify the sign.  Case is ignored when scanning these strings.

<p>The strings <code>"nan"</code> and <code>"nan(<var>chars...</var>)"</code> are converted
to NaN.  Again, case is ignored.  If <var>chars...</var> are provided, they
are used in some unspecified fashion to select a particular
representation of NaN (there can be several).

<p>Since zero is a valid result as well as the value returned on error, you
should check for errors in the same way as for <code>strtol</code>, by
examining <var>errno</var> and <var>tailptr</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">float <b>strtof</b><i> (const char *<var>string</var>, char **<var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>strtold</b><i> (const char *<var>string</var>, char **<var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
These functions are analogous to <code>strtod</code>, but return <code>float</code>
and <code>long double</code> values respectively.  They report errors in the
same way as <code>strtod</code>.  <code>strtof</code> can be substantially faster
than <code>strtod</code>, but has less precision; conversely, <code>strtold</code>
can be much slower but has more precision (on systems where <code>long
double</code> is a separate type).

<p>These functions have been GNU extensions and are new to ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>wcstod</b><i> (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">float <b>wcstof</b><i> (const wchar_t *<var>string</var>, wchar_t **<var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">long double <b>wcstold</b><i> (const wchar_t *<var>string</var>, wchar_t **<var>tailptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcstod</code>, <code>wcstof</code>, and <code>wcstol</code> functions are
equivalent in nearly all aspect to the <code>strtod</code>, <code>strtof</code>, and
<code>strtold</code> functions but it handles wide character string.

<p>The <code>wcstod</code> function was introduced in Amendment&nbsp;1 of ISO&nbsp;C90.  The <code>wcstof</code> and <code>wcstold</code> functions were introduced in
ISO&nbsp;C99. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">double <b>atof</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>strtod</code> function, except that it
need not detect overflow and underflow errors.  The <code>atof</code> function
is provided mostly for compatibility with existing code; using
<code>strtod</code> is more robust. 
</td></tr>
</table>

<p>The GNU C library also provides <code>_l</code> versions of these functions,
which take an additional argument, the locale to use in conversion. 
See <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<p><hr>
Node:<a name="System%20V%20Number%20Conversion">System V Number Conversion</a>,
Previous:<a rel=previous accesskey=p href="#Parsing%20of%20Numbers">Parsing of Numbers</a>,
Up:<a rel=up accesskey=u href="#Arithmetic">Arithmetic</a>
<br>

<h3>Old-fashioned System V number-to-string functions</h3>

<p>The old System&nbsp;V C library provided three functions to convert
numbers to strings, with unusual and hard-to-use semantics.  The GNU C
library also provides these functions and some natural extensions.

<p>These functions are only available in glibc and on systems descended
from AT&amp;T Unix.  Therefore, unless these functions do precisely what you
need, it is better to use <code>sprintf</code>, which is standard.

<p>All these functions are defined in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ecvt</b><i> (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>ecvt</code> converts the floating-point number <var>value</var>
to a string with at most <var>ndigit</var> decimal digits.  The
returned string contains no decimal point or sign. The first digit of
the string is non-zero (unless <var>value</var> is actually zero) and the
last digit is rounded to nearest.  <code>*<var>decpt</var></code> is set to the
index in the string of the first digit after the decimal point. 
<code>*<var>neg</var></code> is set to a nonzero value if <var>value</var> is negative,
zero otherwise.

<p>If <var>ndigit</var> decimal digits would exceed the precision of a
<code>double</code> it is reduced to a system-specific value.

<p>The returned string is statically allocated and overwritten by each call
to <code>ecvt</code>.

<p>If <var>value</var> is zero, it is implementation defined whether
<code>*<var>decpt</var></code> is <code>0</code> or <code>1</code>.

<p>For example: <code>ecvt (12.3, 5, &amp;d, &amp;n)</code> returns <code>"12300"</code>
and sets <var>d</var> to <code>2</code> and <var>n</var> to <code>0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>fcvt</b><i> (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The function <code>fcvt</code> is like <code>ecvt</code>, but <var>ndigit</var> specifies
the number of digits after the decimal point.  If <var>ndigit</var> is less
than zero, <var>value</var> is rounded to the <var>ndigit</var>+1'th place to the
left of the decimal point.  For example, if <var>ndigit</var> is <code>-1</code>,
<var>value</var> will be rounded to the nearest 10.  If <var>ndigit</var> is
negative and larger than the number of digits to the left of the decimal
point in <var>value</var>, <var>value</var> will be rounded to one significant digit.

<p>If <var>ndigit</var> decimal digits would exceed the precision of a
<code>double</code> it is reduced to a system-specific value.

<p>The returned string is statically allocated and overwritten by each call
to <code>fcvt</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>gcvt</b><i> (double <var>value</var>, int <var>ndigit</var>, char *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>gcvt</code> is functionally equivalent to <code>sprintf(buf, "%*g",
ndigit, value</code>.  It is provided only for compatibility's sake.  It
returns <var>buf</var>.

<p>If <var>ndigit</var> decimal digits would exceed the precision of a
<code>double</code> it is reduced to a system-specific value. 
</td></tr>
</table>

<p>As extensions, the GNU C library provides versions of these three
functions that take <code>long double</code> arguments.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>qecvt</b><i> (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to <code>ecvt</code> except that it takes a
<code>long double</code> for the first parameter and that <var>ndigit</var> is
restricted by the precision of a <code>long double</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>qfcvt</b><i> (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to <code>fcvt</code> except that it
takes a <code>long double</code> for the first parameter and that <var>ndigit</var> is
restricted by the precision of a <code>long double</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>qgcvt</b><i> (long double <var>value</var>, int <var>ndigit</var>, char *<var>buf</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to <code>gcvt</code> except that it takes a
<code>long double</code> for the first parameter and that <var>ndigit</var> is
restricted by the precision of a <code>long double</code>. 
</td></tr>
</table>

<p>The <code>ecvt</code> and <code>fcvt</code> functions, and their <code>long double</code>
equivalents, all return a string located in a static buffer which is
overwritten by the next call to the function.  The GNU C library
provides another set of extended functions which write the converted
string into a user-supplied buffer.  These have the conventional
<code>_r</code> suffix.

<p><code>gcvt_r</code> is not necessary, because <code>gcvt</code> already uses a
user-supplied buffer.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ecvt_r</b><i> (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ecvt_r</code> function is the same as <code>ecvt</code>, except
that it places its result into the user-specified buffer pointed to by
<var>buf</var>, with length <var>len</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>fcvt_r</b><i> (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fcvt_r</code> function is the same as <code>fcvt</code>, except
that it places its result into the user-specified buffer pointed to by
<var>buf</var>, with length <var>len</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>qecvt_r</b><i> (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>qecvt_r</code> function is the same as <code>qecvt</code>, except
that it places its result into the user-specified buffer pointed to by
<var>buf</var>, with length <var>len</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>qfcvt_r</b><i> (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>qfcvt_r</code> function is the same as <code>qfcvt</code>, except
that it places its result into the user-specified buffer pointed to by
<var>buf</var>, with length <var>len</var>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Date%20and%20Time">Date and Time</a>,
Next:<a rel=next accesskey=n href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>,
Previous:<a rel=previous accesskey=p href="#Arithmetic">Arithmetic</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Date and Time</h2>

<p>This chapter describes functions for manipulating dates and times,
including functions for determining what time it is and conversion
between different time representations.

<ul>
<li><a accesskey=1 href="#Time%20Basics">Time Basics</a>:                  Concepts and definitions. 
<li><a accesskey=2 href="#Elapsed%20Time">Elapsed Time</a>:                 Data types to represent elapsed times
<li><a accesskey=3 href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>:       Time a program has spent executing. 
<li><a accesskey=4 href="#Calendar%20Time">Calendar Time</a>:                Manipulation of ``real'' dates and times. 
<li><a accesskey=5 href="#Setting%20an%20Alarm">Setting an Alarm</a>:             Sending a signal after a specified time. 
<li><a accesskey=6 href="#Sleeping">Sleeping</a>:                     Waiting for a period of time. 
</ul>

<p><hr>
Node:<a name="Time%20Basics">Time Basics</a>,
Next:<a rel=next accesskey=n href="#Elapsed%20Time">Elapsed Time</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Time Basics</h3>

<p>Discussing time in a technical manual can be difficult because the word
"time" in English refers to lots of different things.  In this manual,
we use a rigorous terminology to avoid confusion, and the only thing we
use the simple word "time" for is to talk about the abstract concept.

<p>A <dfn>calendar time</dfn> is a point in the time continuum, for example
November 4, 1990 at 18:02.5 UTC.  Sometimes this is called "absolute
time".

<p>We don't speak of a "date", because that is inherent in a calendar
time.

<p>An <dfn>interval</dfn> is a contiguous part of the time continuum between two
calendar times, for example the hour between 9:00 and 10:00 on July 4,
1980.

<p>An <dfn>elapsed time</dfn> is the length of an interval, for example, 35
minutes.  People sometimes sloppily use the word "interval" to refer
to the elapsed time of some interval.

<p>An <dfn>amount of time</dfn> is a sum of elapsed times, which need not be of
any specific intervals.  For example, the amount of time it takes to
read a book might be 9 hours, independently of when and in how many
sittings it is read.

<p>A <dfn>period</dfn> is the elapsed time of an interval between two events,
especially when they are part of a sequence of regularly repeating
events.

<p><dfn>CPU time</dfn> is like calendar time, except that it is based on the
subset of the time continuum when a particular process is actively
using a CPU.  CPU time is, therefore, relative to a process.

<p><dfn>Processor time</dfn> is an amount of time that a CPU is in use.  In
fact, it's a basic system resource, since there's a limit to how much
can exist in any given interval (that limit is the elapsed time of the
interval times the number of CPUs in the processor).  People often call
this CPU time, but we reserve the latter term in this manual for the
definition above.

<p><hr>
Node:<a name="Elapsed%20Time">Elapsed Time</a>,
Next:<a rel=next accesskey=n href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>,
Previous:<a rel=previous accesskey=p href="#Time%20Basics">Time Basics</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Elapsed Time</h3>

<p>One way to represent an elapsed time is with a simple arithmetic data
type, as with the following function to compute the elapsed time between
two calendar times.  This function is declared in <code>time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">double <b>difftime</b><i> (time_t <var>time1</var>, time_t <var>time0</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>difftime</code> function returns the number of seconds of elapsed
time between calendar time <var>time1</var> and calendar time <var>time0</var>, as
a value of type <code>double</code>.  The difference ignores leap seconds
unless leap second support is enabled.

<p>In the GNU system, you can simply subtract <code>time_t</code> values.  But on
other systems, the <code>time_t</code> data type might use some other encoding
where subtraction doesn't work directly. 
</td></tr>
</table>

<p>The GNU C library provides two data types specifically for representing
an elapsed time.  They are used by various GNU C library functions, and
you can use them for your own purposes too.  They're exactly the same
except that one has a resolution in microseconds, and the other, newer
one, is in nanoseconds.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct timeval</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>struct timeval</code> structure represents an elapsed time.  It is
declared in <code>sys/time.h</code> and has the following members:

<dl>
<dt><code>long int tv_sec</code>
<dd>This represents the number of whole seconds of elapsed time.

<br><dt><code>long int tv_usec</code>
<dd>This is the rest of the elapsed time (a fraction of a second),
represented as the number of microseconds.  It is always less than one
million.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct timespec</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>struct timespec</code> structure represents an elapsed time.  It is
declared in <code>time.h</code> and has the following members:

<dl>
<dt><code>long int tv_sec</code>
<dd>This represents the number of whole seconds of elapsed time.

<br><dt><code>long int tv_nsec</code>
<dd>This is the rest of the elapsed time (a fraction of a second),
represented as the number of nanoseconds.  It is always less than one
billion.

</dl>
</td></tr>
</table>

<p>It is often necessary to subtract two values of type <code>struct&nbsp;timeval</code> or <code>struct&nbsp;timespec</code>.  Here is the best way to do
this.  It works even on some peculiar operating systems where the
<code>tv_sec</code> member has an unsigned type.

<br><pre>/* Subtract the `struct timeval' values X and Y,
   storing the result in RESULT.
   Return 1 if the difference is negative, otherwise 0.  */

int
timeval_subtract (result, x, y)
     struct timeval *result, *x, *y;
{
  /* Perform the carry for the later subtraction by updating <var>y</var>. */
  if (x-&gt;tv_usec &lt; y-&gt;tv_usec) {
    int nsec = (y-&gt;tv_usec - x-&gt;tv_usec) / 1000000 + 1;
    y-&gt;tv_usec -= 1000000 * nsec;
    y-&gt;tv_sec += nsec;
  }
  if (x-&gt;tv_usec - y-&gt;tv_usec &gt; 1000000) {
    int nsec = (x-&gt;tv_usec - y-&gt;tv_usec) / 1000000;
    y-&gt;tv_usec += 1000000 * nsec;
    y-&gt;tv_sec -= nsec;
  }

  /* Compute the time remaining to wait.
     <code>tv_usec</code> is certainly positive. */
  result-&gt;tv_sec = x-&gt;tv_sec - y-&gt;tv_sec;
  result-&gt;tv_usec = x-&gt;tv_usec - y-&gt;tv_usec;

  /* Return 1 if result is negative. */
  return x-&gt;tv_sec &lt; y-&gt;tv_sec;
}
</pre>

<p>Common functions that use <code>struct timeval</code> are <code>gettimeofday</code>
and <code>settimeofday</code>.

<p>There are no GNU C library functions specifically oriented toward
dealing with elapsed times, but the calendar time, processor time, and
alarm and sleeping functions have a lot to do with them.

<p><hr>
Node:<a name="Processor%20And%20CPU%20Time">Processor And CPU Time</a>,
Next:<a rel=next accesskey=n href="#Calendar%20Time">Calendar Time</a>,
Previous:<a rel=previous accesskey=p href="#Elapsed%20Time">Elapsed Time</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Processor And CPU Time</h3>

<p>If you're trying to optimize your program or measure its efficiency,
it's very useful to know how much processor time it uses.  For that,
calendar time and elapsed times are useless because a process may spend
time waiting for I/O or for other processes to use the CPU.  However,
you can get the information with the functions in this section.

<p>CPU time (see <a href="#Time%20Basics">Time Basics</a>) is represented by the data type
<code>clock_t</code>, which is a number of <dfn>clock ticks</dfn>.  It gives the
total amount of time a process has actively used a CPU since some
arbitrary event.  On the GNU system, that event is the creation of the
process.  While arbitrary in general, the event is always the same event
for any particular process, so you can always measure how much time on
the CPU a particular computation takes by examinining the process' CPU
time before and after the computation.

<p>In the GNU system, <code>clock_t</code> is equivalent to <code>long int</code> and
<code>CLOCKS_PER_SEC</code> is an integer value.  But in other systems, both
<code>clock_t</code> and the macro <code>CLOCKS_PER_SEC</code> can be either integer
or floating-point types.  Casting CPU time values to <code>double</code>, as
in the example above, makes sure that operations such as arithmetic and
printing work properly and consistently no matter what the underlying
representation is.

<p>Note that the clock can wrap around.  On a 32bit system with
<code>CLOCKS_PER_SEC</code> set to one million this function will return the
same value approximately every 72 minutes.

<p>For additional functions to examine a process' use of processor time,
and to control it, See <a href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>.

<ul>
<li><a accesskey=1 href="#CPU%20Time">CPU Time</a>:                     The <code>clock</code> function. 
<li><a accesskey=2 href="#Processor%20Time">Processor Time</a>:               The <code>times</code> function. 
</ul>

<p><hr>
Node:<a name="CPU%20Time">CPU Time</a>,
Next:<a rel=next accesskey=n href="#Processor%20Time">Processor Time</a>,
Up:<a rel=up accesskey=u href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<br>

<h4>CPU Time Inquiry</h4>

<p>To get a process' CPU time, you can use the <code>clock</code> function.  This
facility is declared in the header file <code>time.h</code>.

<p>In typical usage, you call the <code>clock</code> function at the beginning
and end of the interval you want to time, subtract the values, and then
divide by <code>CLOCKS_PER_SEC</code> (the number of clock ticks per second)
to get processor time, like this:

<br><pre>#include &lt;time.h&gt;

clock_t start, end;
double cpu_time_used;

start = clock();
<small>...</small> /* Do the work. */
end = clock();
cpu_time_used = ((double) (end - start)) / CLOCKS_PER_SEC;
</pre>

<p>Do not use a single CPU time as an amount of time; it doesn't work that
way.  Either do a subtraction as shown above or query processor time
directly.  See <a href="#Processor%20Time">Processor Time</a>.

<p>Different computers and operating systems vary wildly in how they keep
track of CPU time.  It's common for the internal processor clock
to have a resolution somewhere between a hundredth and millionth of a
second.

<p>
<table width="100%">
<tr>
<td align="left">int <b>CLOCKS_PER_SEC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is the number of clock ticks per second measured
by the <code>clock</code> function.  POSIX requires that this value be one
million independent of the actual resolution. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>CLK_TCK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an obsolete name for <code>CLOCKS_PER_SEC</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>clock_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the type of the value returned by the <code>clock</code> function. 
Values of type <code>clock_t</code> are numbers of clock ticks. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">clock_t <b>clock</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the calling process' current CPU time.  If the CPU
time is not available or cannot be represented, <code>clock</code> returns the
value <code>(clock_t)(-1)</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Processor%20Time">Processor Time</a>,
Previous:<a rel=previous accesskey=p href="#CPU%20Time">CPU Time</a>,
Up:<a rel=up accesskey=u href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<br>

<h4>Processor Time Inquiry</h4>

<p>The <code>times</code> function returns information about a process'
consumption of processor time in a <code>struct&nbsp;tms</code> object, in
addition to the process' CPU time.  See <a href="#Time%20Basics">Time Basics</a>.  You should
include the header file <code>sys/times.h</code> to use this facility.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct tms</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tms</code> structure is used to return information about process
times.  It contains at least the following members:

<dl>
<dt><code>clock_t tms_utime</code>
<dd>This is the total processor time the calling process has used in
executing the instructions of its program.

<br><dt><code>clock_t tms_stime</code>
<dd>This is the processor time the system has used on behalf of the calling
process.

<br><dt><code>clock_t tms_cutime</code>
<dd>This is the sum of the <code>tms_utime</code> values and the <code>tms_cutime</code>
values of all terminated child processes of the calling process, whose
status has been reported to the parent process by <code>wait</code> or
<code>waitpid</code>; see <a href="#Process%20Completion">Process Completion</a>.  In other words, it
represents the total processor time used in executing the instructions
of all the terminated child processes of the calling process, excluding
child processes which have not yet been reported by <code>wait</code> or
<code>waitpid</code>.

<br><dt><code>clock_t tms_cstime</code>
<dd>This is similar to <code>tms_cutime</code>, but represents the total processor
time system has used on behalf of all the terminated child processes
of the calling process. 
</dl>

<p>All of the times are given in numbers of clock ticks.  Unlike CPU time,
these are the actual amounts of time; not relative to any event. 
See <a href="#Creating%20a%20Process">Creating a Process</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">clock_t <b>times</b><i> (struct tms *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>times</code> function stores the processor time information for
the calling process in <var>buffer</var>.

<p>The return value is the calling process' CPU time (the same value you
get from <code>clock()</code>.  <code>times</code> returns <code>(clock_t)(-1)</code> to
indicate failure. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> The <code>clock</code> function described in
<a href="#CPU%20Time">CPU Time</a> is specified by the ISO&nbsp;C standard.  The
<code>times</code> function is a feature of POSIX.1.  In the GNU system, the
CPU time is defined to be equivalent to the sum of the <code>tms_utime</code>
and <code>tms_stime</code> fields returned by <code>times</code>.

<p><hr>
Node:<a name="Calendar%20Time">Calendar Time</a>,
Next:<a rel=next accesskey=n href="#Setting%20an%20Alarm">Setting an Alarm</a>,
Previous:<a rel=previous accesskey=p href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Calendar Time</h3>

<p>This section describes facilities for keeping track of calendar time. 
See <a href="#Time%20Basics">Time Basics</a>.

<p>The GNU C library represents calendar time three ways:

<ul>
<li><dfn>Simple time</dfn> (the <code>time_t</code> data type) is a compact
representation, typically giving the number of seconds of elapsed time
since some implementation-specific base time.

<li>There is also a "high-resolution time" representation.  Like simple
time, this represents a calendar time as an elapsed time since a base
time, but instead of measuring in whole seconds, it uses a <code>struct
timeval</code> data type, which includes fractions of a second.  Use this time
representation instead of simple time when you need greater precision.

<li><dfn>Local time</dfn> or <dfn>broken-down time</dfn> (the <code>struct tm</code> data
type) represents a calendar time as a set of components specifying the
year, month, and so on in the Gregorian calendar, for a specific time
zone.  This calendar time representation is usually used only to
communicate with people. 
</ul>

<ul>
<li><a accesskey=1 href="#Simple%20Calendar%20Time">Simple Calendar Time</a>:         Facilities for manipulating calendar time. 
<li><a accesskey=2 href="#High-Resolution%20Calendar">High-Resolution Calendar</a>:     A time representation with greater precision. 
<li><a accesskey=3 href="#Broken-down%20Time">Broken-down Time</a>:             Facilities for manipulating local time. 
<li><a accesskey=4 href="#High%20Accuracy%20Clock">High Accuracy Clock</a>:          Maintaining a high accuracy system clock. 
<li><a accesskey=5 href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>:     Converting times to strings. 
<li><a accesskey=6 href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>:        Convert textual time and date information back
                                 into broken-down time values. 
<li><a accesskey=7 href="#TZ%20Variable">TZ Variable</a>:                  How users specify the time zone. 
<li><a accesskey=8 href="#Time%20Zone%20Functions">Time Zone Functions</a>:          Functions to examine or specify the time zone. 
<li><a accesskey=9 href="#Time%20Functions%20Example">Time Functions Example</a>:       An example program showing use of some of
				 the time functions. 
</ul>

<p><hr>
Node:<a name="Simple%20Calendar%20Time">Simple Calendar Time</a>,
Next:<a rel=next accesskey=n href="#High-Resolution%20Calendar">High-Resolution Calendar</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Simple Calendar Time</h4>

<p>This section describes the <code>time_t</code> data type for representing calendar
time as simple time, and the functions which operate on simple time objects. 
These facilities are declared in the header file <code>time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>time_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type used to represent simple time.  Sometimes, it also
represents an elapsed time.  When interpreted as a calendar time value,
it represents the number of seconds elapsed since 00:00:00 on January 1,
1970, Coordinated Universal Time.  (This calendar time is sometimes
referred to as the <dfn>epoch</dfn>.)  POSIX requires that this count not
include leap seconds, but on some systems this count includes leap seconds
if you set <code>TZ</code> to certain values (see <a href="#TZ%20Variable">TZ Variable</a>).

<p>Note that a simple time has no concept of local time zone.  Calendar
Time <var>T</var> is the same instant in time regardless of where on the
globe the computer is.

<p>In the GNU C library, <code>time_t</code> is equivalent to <code>long int</code>. 
In other systems, <code>time_t</code> might be either an integer or
floating-point type. 
</td></tr>
</table>

<p>The function <code>difftime</code> tells you the elapsed time between two
simple calendar times, which is not always as easy to compute as just
subtracting.  See <a href="#Elapsed%20Time">Elapsed Time</a>.

<p>
<table width="100%">
<tr>
<td align="left">time_t <b>time</b><i> (time_t *<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>time</code> function returns the current calendar time as a value of
type <code>time_t</code>.  If the argument <var>result</var> is not a null pointer,
the calendar time value is also stored in <code>*<var>result</var></code>.  If the
current calendar time is not available, the value
<code>(time_t)(-1)</code> is returned. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>stime</b><i> (time_t *<var>newtime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>stime</code> sets the system clock, i.e.  it tells the system that the
current calendar time is <var>newtime</var>, where <code>newtime</code> is
interpreted as described in the above definition of <code>time_t</code>.

<p><code>settimeofday</code> is a newer function which sets the system clock to
better than one second precision.  <code>settimeofday</code> is generally a
better choice than <code>stime</code>.  See <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<p>Only the superuser can set the system clock.

<p>If the function succeeds, the return value is zero.  Otherwise, it is
<code>-1</code> and <code>errno</code> is set accordingly:

<dl>
<dt><code>EPERM</code>
<dd>The process is not superuser. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="High-Resolution%20Calendar">High-Resolution Calendar</a>,
Next:<a rel=next accesskey=n href="#Broken-down%20Time">Broken-down Time</a>,
Previous:<a rel=previous accesskey=p href="#Simple%20Calendar%20Time">Simple Calendar Time</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>High-Resolution Calendar</h4>

<p>The <code>time_t</code> data type used to represent simple times has a
resolution of only one second.  Some applications need more precision.

<p>So, the GNU C library also contains functions which are capable of
representing calendar times to a higher resolution than one second.  The
functions and the associated data types described in this section are
declared in <code>sys/time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct timezone</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>struct timezone</code> structure is used to hold minimal information
about the local time zone.  It has the following members:

<dl>
<dt><code>int tz_minuteswest</code>
<dd>This is the number of minutes west of UTC.

<br><dt><code>int tz_dsttime</code>
<dd>If nonzero, Daylight Saving Time applies during some part of the year. 
</dl>

<p>The <code>struct timezone</code> type is obsolete and should never be used. 
Instead, use the facilities described in <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gettimeofday</b><i> (struct timeval *<var>tp</var>, struct timezone *<var>tzp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gettimeofday</code> function returns the current calendar time as
the elapsed time since the epoch in the <code>struct timeval</code> structure
indicated by <var>tp</var>.  (see <a href="#Elapsed%20Time">Elapsed Time</a> for a description of
<code>struct timespec</code>).  Information about the time zone is returned in
the structure pointed at <var>tzp</var>.  If the <var>tzp</var> argument is a null
pointer, time zone information is ignored.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error condition is defined for this function:

<dl>
<dt><code>ENOSYS</code>
<dd>The operating system does not support getting time zone information, and
<var>tzp</var> is not a null pointer.  The GNU operating system does not
support using <code>struct&nbsp;timezone</code> to represent time zone
information; that is an obsolete feature of 4.3 BSD. 
Instead, use the facilities described in <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>settimeofday</b><i> (const struct timeval *<var>tp</var>, const struct timezone *<var>tzp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>settimeofday</code> function sets the current calendar time in the
system clock according to the arguments.  As for <code>gettimeofday</code>,
the calendar time is represented as the elapsed time since the epoch. 
As for <code>gettimeofday</code>, time zone information is ignored if
<var>tzp</var> is a null pointer.

<p>You must be a privileged user in order to use <code>settimeofday</code>.

<p>Some kernels automatically set the system clock from some source such as
a hardware clock when they start up.  Others, including Linux, place the
system clock in an "invalid" state (in which attempts to read the clock
fail).  A call of <code>stime</code> removes the system clock from an invalid
state, and system startup scripts typically run a program that calls
<code>stime</code>.

<p><code>settimeofday</code> causes a sudden jump forwards or backwards, which
can cause a variety of problems in a system.  Use <code>adjtime</code> (below)
to make a smooth transition from one time to another by temporarily
speeding up or slowing down the clock.

<p>With a Linux kernel, <code>adjtimex</code> does the same thing and can also
make permanent changes to the speed of the system clock so it doesn't
need to be corrected as often.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>This process cannot set the clock because it is not privileged.

<br><dt><code>ENOSYS</code>
<dd>The operating system does not support setting time zone information, and
<var>tzp</var> is not a null pointer. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>adjtime</b><i> (const struct timeval *<var>delta</var>, struct timeval *<var>olddelta</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function speeds up or slows down the system clock in order to make
a gradual adjustment.  This ensures that the calendar time reported by
the system clock is always monotonically increasing, which might not
happen if you simply set the clock.

<p>The <var>delta</var> argument specifies a relative adjustment to be made to
the clock time.  If negative, the system clock is slowed down for a
while until it has lost this much elapsed time.  If positive, the system
clock is speeded up for a while.

<p>If the <var>olddelta</var> argument is not a null pointer, the <code>adjtime</code>
function returns information about any previous time adjustment that
has not yet completed.

<p>This function is typically used to synchronize the clocks of computers
in a local network.  You must be a privileged user to use it.

<p>With a Linux kernel, you can use the <code>adjtimex</code> function to
permanently change the clock speed.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error condition is defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>You do not have privilege to set the time. 
</dl>
</td></tr>
</table>

<p><strong>Portability Note:</strong>  The <code>gettimeofday</code>, <code>settimeofday</code>,
and <code>adjtime</code> functions are derived from BSD.

<p>Symbols for the following function are declared in <code>sys/timex.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>adjtimex</b><i> (struct timex *<var>timex</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>adjtimex</code> is functionally identical to <code>ntp_adjtime</code>. 
See <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>.

<p>This function is present only with a Linux kernel.

</td></tr>
</table>

<p><hr>
Node:<a name="Broken-down%20Time">Broken-down Time</a>,
Next:<a rel=next accesskey=n href="#High%20Accuracy%20Clock">High Accuracy Clock</a>,
Previous:<a rel=previous accesskey=p href="#High-Resolution%20Calendar">High-Resolution Calendar</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Broken-down Time</h4>

<p>Calendar time is represented by the usual GNU C library functions as an
elapsed time since a fixed base calendar time.  This is convenient for
computation, but has no relation to the way people normally think of
calendar time.  By contrast, <dfn>broken-down time</dfn> is a binary
representation of calendar time separated into year, month, day, and so
on.  Broken-down time values are not useful for calculations, but they
are useful for printing human readable time information.

<p>A broken-down time value is always relative to a choice of time
zone, and it also indicates which time zone that is.

<p>The symbols in this section are declared in the header file <code>time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct tm</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the data type used to represent a broken-down time.  The structure
contains at least the following members, which can appear in any order.

<dl>
<dt><code>int tm_sec</code>
<dd>This is the number of full seconds since the top of the minute (normally
in the range <code>0</code> through <code>59</code>, but the actual upper limit is
<code>60</code>, to allow for leap seconds if leap second support is
available).

<br><dt><code>int tm_min</code>
<dd>This is the number of full minutes since the top of the hour (in the
range <code>0</code> through <code>59</code>).

<br><dt><code>int tm_hour</code>
<dd>This is the number of full hours past midnight (in the range <code>0</code> through
<code>23</code>).

<br><dt><code>int tm_mday</code>
<dd>This is the ordinal day of the month (in the range <code>1</code> through <code>31</code>). 
Watch out for this one!  As the only ordinal number in the structure, it is
inconsistent with the rest of the structure.

<br><dt><code>int tm_mon</code>
<dd>This is the number of full calendar months since the beginning of the
year (in the range <code>0</code> through <code>11</code>).  Watch out for this one! 
People usually use ordinal numbers for month-of-year (where January = 1).

<br><dt><code>int tm_year</code>
<dd>This is the number of full calendar years since 1900.

<br><dt><code>int tm_wday</code>
<dd>This is the number of full days since Sunday (in the range <code>0</code> through
<code>6</code>).

<br><dt><code>int tm_yday</code>
<dd>This is the number of full days since the beginning of the year (in the
range <code>0</code> through <code>365</code>).

<br><dt><code>int tm_isdst</code>
<dd>This is a flag that indicates whether Daylight Saving Time is (or was, or
will be) in effect at the time described.  The value is positive if
Daylight Saving Time is in effect, zero if it is not, and negative if the
information is not available.

<br><dt><code>long int tm_gmtoff</code>
<dd>This field describes the time zone that was used to compute this
broken-down time value, including any adjustment for daylight saving; it
is the number of seconds that you must add to UTC to get local time. 
You can also think of this as the number of seconds east of UTC.  For
example, for U.S. Eastern Standard Time, the value is <code>-5*60*60</code>. 
The <code>tm_gmtoff</code> field is derived from BSD and is a GNU library
extension; it is not visible in a strict ISO&nbsp;C environment.

<br><dt><code>const char *tm_zone</code>
<dd>This field is the name for the time zone that was used to compute this
broken-down time value.  Like <code>tm_gmtoff</code>, this field is a BSD and
GNU extension, and is not visible in a strict ISO&nbsp;C environment. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct tm * <b>localtime</b><i> (const time_t *<var>time</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>localtime</code> function converts the simple time pointed to by
<var>time</var> to broken-down time representation, expressed relative to the
user's specified time zone.

<p>The return value is a pointer to a static broken-down time structure, which
might be overwritten by subsequent calls to <code>ctime</code>, <code>gmtime</code>,
or <code>localtime</code>.  (But no other library function overwrites the contents
of this object.)

<p>The return value is the null pointer if <var>time</var> cannot be represented
as a broken-down time; typically this is because the year cannot fit into
an <code>int</code>.

<p>Calling <code>localtime</code> has one other effect: it sets the variable
<code>tzname</code> with information about the current time zone.  See <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</td></tr>
</table>

<p>Using the <code>localtime</code> function is a big problem in multi-threaded
programs.  The result is returned in a static buffer and this is used in
all threads.  POSIX.1c introduced a variant of this function.

<p>
<table width="100%">
<tr>
<td align="left">struct tm * <b>localtime_r</b><i> (const time_t *<var>time</var>, struct tm *<var>resultp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>localtime_r</code> function works just like the <code>localtime</code>
function.  It takes a pointer to a variable containing a simple time
and converts it to the broken-down time format.

<p>But the result is not placed in a static buffer.  Instead it is placed
in the object of type <code>struct tm</code> to which the parameter
<var>resultp</var> points.

<p>If the conversion is successful the function returns a pointer to the
object the result was written into, i.e., it returns <var>resultp</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct tm * <b>gmtime</b><i> (const time_t *<var>time</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>localtime</code>, except that the broken-down
time is expressed as Coordinated Universal Time (UTC) (formerly called
Greenwich Mean Time (GMT)) rather than relative to a local time zone.

</td></tr>
</table>

<p>As for the <code>localtime</code> function we have the problem that the result
is placed in a static variable.  POSIX.1c also provides a replacement for
<code>gmtime</code>.

<p>
<table width="100%">
<tr>
<td align="left">struct tm * <b>gmtime_r</b><i> (const time_t *<var>time</var>, struct tm *<var>resultp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>localtime_r</code>, except that it converts
just like <code>gmtime</code> the given time as Coordinated Universal Time.

<p>If the conversion is successful the function returns a pointer to the
object the result was written into, i.e., it returns <var>resultp</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">time_t <b>mktime</b><i> (struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>mktime</code> function is used to convert a broken-down time structure
to a simple time representation.  It also "normalizes" the contents of
the broken-down time structure, by filling in the day of week and day of
year based on the other date and time components.

<p>The <code>mktime</code> function ignores the specified contents of the
<code>tm_wday</code> and <code>tm_yday</code> members of the broken-down time
structure.  It uses the values of the other components to determine the
calendar time; it's permissible for these components to have
unnormalized values outside their normal ranges.  The last thing that
<code>mktime</code> does is adjust the components of the <var>brokentime</var>
structure (including the <code>tm_wday</code> and <code>tm_yday</code>).

<p>If the specified broken-down time cannot be represented as a simple time,
<code>mktime</code> returns a value of <code>(time_t)(-1)</code> and does not modify
the contents of <var>brokentime</var>.

<p>Calling <code>mktime</code> also sets the variable <code>tzname</code> with
information about the current time zone.  See <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">time_t <b>timelocal</b><i> (struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>timelocal</code> is functionally identical to <code>mktime</code>, but more
mnemonically named.  Note that it is the inverse of the <code>localtime</code>
function.

<p><strong>Portability note:</strong>  <code>mktime</code> is essentially universally
available.  <code>timelocal</code> is rather rare.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">time_t <b>timegm</b><i> (struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>timegm</code> is functionally identical to <code>mktime</code> except it
always takes the input values to be Coordinated Universal Time (UTC)
regardless of any local time zone setting.

<p>Note that <code>timegm</code> is the inverse of <code>gmtime</code>.

<p><strong>Portability note:</strong>  <code>mktime</code> is essentially universally
available.  <code>timegm</code> is rather rare.  For the most portable
conversion from a UTC broken-down time to a simple time, set
the <code>TZ</code> environment variable to UTC, call <code>mktime</code>, then set
<code>TZ</code> back.

</td></tr>
</table>

<p><hr>
Node:<a name="High%20Accuracy%20Clock">High Accuracy Clock</a>,
Next:<a rel=next accesskey=n href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>,
Previous:<a rel=previous accesskey=p href="#Broken-down%20Time">Broken-down Time</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>High Accuracy Clock</h4>

<p>The <code>ntp_gettime</code> and <code>ntp_adjtime</code> functions provide an
interface to monitor and manipulate the system clock to maintain high
accuracy time.  For example, you can fine tune the speed of the clock
or synchronize it with another time source.

<p>A typical use of these functions is by a server implementing the Network
Time Protocol to synchronize the clocks of multiple systems and high
precision clocks.

<p>These functions are declared in <code>sys/timex.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct ntptimeval</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used for information about the system clock.  It
contains the following members:
<dl>
<dt><code>struct timeval time</code>
<dd>This is the current calendar time, expressed as the elapsed time since
the epoch.  The <code>struct timeval</code> data type is described in
<a href="#Elapsed%20Time">Elapsed Time</a>.

<br><dt><code>long int maxerror</code>
<dd>This is the maximum error, measured in microseconds.  Unless updated
via <code>ntp_adjtime</code> periodically, this value will reach some
platform-specific maximum value.

<br><dt><code>long int esterror</code>
<dd>This is the estimated error, measured in microseconds.  This value can
be set by <code>ntp_adjtime</code> to indicate the estimated offset of the
system clock from the true calendar time. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ntp_gettime</b><i> (struct ntptimeval *<var>tptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ntp_gettime</code> function sets the structure pointed to by
<var>tptr</var> to current values.  The elements of the structure afterwards
contain the values the timer implementation in the kernel assumes.  They
might or might not be correct.  If they are not a <code>ntp_adjtime</code>
call is necessary.

<p>The return value is <code>0</code> on success and other values on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>TIME_ERROR</code>
<dd>The precision clock model is not properly set up at the moment, thus the
clock must be considered unsynchronized, and the values should be
treated with care. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct timex</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used to control and monitor the system clock.  It
contains the following members:
<dl>
<dt><code>unsigned int modes</code>
<dd>This variable controls whether and which values are set.  Several
symbolic constants have to be combined with <em>binary or</em> to specify
the effective mode.  These constants start with <code>MOD_</code>.

<br><dt><code>long int offset</code>
<dd>This value indicates the current offset of the system clock from the true
calendar time.  The value is given in microseconds.  If bit
<code>MOD_OFFSET</code> is set in <code>modes</code>, the offset (and possibly other
dependent values) can be set.  The offset's absolute value must not
exceed <code>MAXPHASE</code>.

<br><dt><code>long int frequency</code>
<dd>This value indicates the difference in frequency between the true
calendar time and the system clock.  The value is expressed as scaled
PPM (parts per million, 0.0001%).  The scaling is <code>1 &lt;&lt;
SHIFT_USEC</code>.  The value can be set with bit <code>MOD_FREQUENCY</code>, but
the absolute value must not exceed <code>MAXFREQ</code>.

<br><dt><code>long int maxerror</code>
<dd>This is the maximum error, measured in microseconds.  A new value can be
set using bit <code>MOD_MAXERROR</code>.  Unless updated via
<code>ntp_adjtime</code> periodically, this value will increase steadily
and reach some platform-specific maximum value.

<br><dt><code>long int esterror</code>
<dd>This is the estimated error, measured in microseconds.  This value can
be set using bit <code>MOD_ESTERROR</code>.

<br><dt><code>int status</code>
<dd>This variable reflects the various states of the clock machinery.  There
are symbolic constants for the significant bits, starting with
<code>STA_</code>.  Some of these flags can be updated using the
<code>MOD_STATUS</code> bit.

<br><dt><code>long int constant</code>
<dd>This value represents the bandwidth or stiffness of the PLL (phase
locked loop) implemented in the kernel.  The value can be changed using
bit <code>MOD_TIMECONST</code>.

<br><dt><code>long int precision</code>
<dd>This value represents the accuracy or the maximum error when reading the
system clock.  The value is expressed in microseconds.

<br><dt><code>long int tolerance</code>
<dd>This value represents the maximum frequency error of the system clock in
scaled PPM.  This value is used to increase the <code>maxerror</code> every
second.

<br><dt><code>struct timeval time</code>
<dd>The current calendar time.

<br><dt><code>long int tick</code>
<dd>The elapsed time between clock ticks in microseconds.  A clock tick is a
periodic timer interrupt on which the system clock is based.

<br><dt><code>long int ppsfreq</code>
<dd>This is the first of a few optional variables that are present only if
the system clock can use a PPS (pulse per second) signal to discipline
the system clock.  The value is expressed in scaled PPM and it denotes
the difference in frequency between the system clock and the PPS signal.

<br><dt><code>long int jitter</code>
<dd>This value expresses a median filtered average of the PPS signal's
dispersion in microseconds.

<br><dt><code>int shift</code>
<dd>This value is a binary exponent for the duration of the PPS calibration
interval, ranging from <code>PPS_SHIFT</code> to <code>PPS_SHIFTMAX</code>.

<br><dt><code>long int stabil</code>
<dd>This value represents the median filtered dispersion of the PPS
frequency in scaled PPM.

<br><dt><code>long int jitcnt</code>
<dd>This counter represents the number of pulses where the jitter exceeded
the allowed maximum <code>MAXTIME</code>.

<br><dt><code>long int calcnt</code>
<dd>This counter reflects the number of successful calibration intervals.

<br><dt><code>long int errcnt</code>
<dd>This counter represents the number of calibration errors (caused by
large offsets or jitter).

<br><dt><code>long int stbcnt</code>
<dd>This counter denotes the number of of calibrations where the stability
exceeded the threshold. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>ntp_adjtime</b><i> (struct timex *<var>tptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ntp_adjtime</code> function sets the structure specified by
<var>tptr</var> to current values.

<p>In addition, <code>ntp_adjtime</code> updates some settings to match what you
pass to it in *<var>tptr</var>.  Use the <code>modes</code> element of *<var>tptr</var>
to select what settings to update.  You can set <code>offset</code>,
<code>freq</code>, <code>maxerror</code>, <code>esterror</code>, <code>status</code>,
<code>constant</code>, and <code>tick</code>.

<p><code>modes</code> = zero means set nothing.

<p>Only the superuser can update settings.

<p>The return value is <code>0</code> on success and other values on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>TIME_ERROR</code>
<dd>The high accuracy clock model is not properly set up at the moment, thus the
clock must be considered unsynchronized, and the values should be
treated with care.  Another reason could be that the specified new values
are not allowed.

<br><dt><code>EPERM</code>
<dd>The process specified a settings update, but is not superuser.

</dl>

<p>For more details see RFC1305 (Network Time Protocol, Version 3) and
related documents.

<p><strong>Portability note:</strong> Early versions of the GNU C library did not
have this function but did have the synonymous <code>adjtimex</code>.

</td></tr>
</table>

<p><hr>
Node:<a name="Formatting%20Calendar%20Time">Formatting Calendar Time</a>,
Next:<a rel=next accesskey=n href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>,
Previous:<a rel=previous accesskey=p href="#High%20Accuracy%20Clock">High Accuracy Clock</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Formatting Calendar Time</h4>

<p>The functions described in this section format calendar time values as
strings.  These functions are declared in the header file <code>time.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>asctime</b><i> (const struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>asctime</code> function converts the broken-down time value that
<var>brokentime</var> points to into a string in a standard format:

<br><pre>"Tue May 21 13:46:22 1991\n"
</pre>

<p>The abbreviations for the days of week are: <code>Sun</code>, <code>Mon</code>,
<code>Tue</code>, <code>Wed</code>, <code>Thu</code>, <code>Fri</code>, and <code>Sat</code>.

<p>The abbreviations for the months are: <code>Jan</code>, <code>Feb</code>,
<code>Mar</code>, <code>Apr</code>, <code>May</code>, <code>Jun</code>, <code>Jul</code>, <code>Aug</code>,
<code>Sep</code>, <code>Oct</code>, <code>Nov</code>, and <code>Dec</code>.

<p>The return value points to a statically allocated string, which might be
overwritten by subsequent calls to <code>asctime</code> or <code>ctime</code>. 
(But no other library function overwrites the contents of this
string.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>asctime_r</b><i> (const struct tm *<var>brokentime</var>, char *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>asctime</code> but instead of placing the
result in a static buffer it writes the string in the buffer pointed to
by the parameter <var>buffer</var>.  This buffer should have room
for at least 26 bytes, including the terminating null.

<p>If no error occurred the function returns a pointer to the string the
result was written into, i.e., it returns <var>buffer</var>.  Otherwise
return <code>NULL</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ctime</b><i> (const time_t *<var>time</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ctime</code> function is similar to <code>asctime</code>, except that you
specify the calendar time argument as a <code>time_t</code> simple time value
rather than in broken-down local time format.  It is equivalent to

<br><pre>asctime (localtime (<var>time</var>))
</pre>

<p><code>ctime</code> sets the variable <code>tzname</code>, because <code>localtime</code>
does so.  See <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ctime_r</b><i> (const time_t *<var>time</var>, char *<var>buffer</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>ctime</code>, but places the result in the
string pointed to by <var>buffer</var>.  It is equivalent to (written using
gcc extensions, see <a href="gcc.html#Statement%20Exprs">Statement Exprs</a>):

<br><pre>({ struct tm tm; asctime_r (localtime_r (time, &amp;tm), buf); })
</pre>

<p>If no error occurred the function returns a pointer to the string the
result was written into, i.e., it returns <var>buffer</var>.  Otherwise
return <code>NULL</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>strftime</b><i> (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, const struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to the <code>sprintf</code> function (see <a href="#Formatted%20Input">Formatted Input</a>), but the conversion specifications that can appear in the format
template <var>template</var> are specialized for printing components of the date
and time <var>brokentime</var> according to the locale currently specified for
time conversion (see <a href="#Locales">Locales</a>).

<p>Ordinary characters appearing in the <var>template</var> are copied to the
output string <var>s</var>; this can include multibyte character sequences. 
Conversion specifiers are introduced by a <code>%</code> character, followed
by an optional flag which can be one of the following.  These flags
are all GNU extensions. The first three affect only the output of
numbers:

<dl>
<dt><code>_</code>
<dd>The number is padded with spaces.

<br><dt><code>-</code>
<dd>The number is not padded at all.

<br><dt><code>0</code>
<dd>The number is padded with zeros even if the format specifies padding
with spaces.

<br><dt><code>^</code>
<dd>The output uses uppercase characters, but only if this is possible
(see <a href="#Case%20Conversion">Case Conversion</a>). 
</dl>

<p>The default action is to pad the number with zeros to keep it a constant
width.  Numbers that do not have a range indicated below are never
padded, since there is no natural width for them.

<p>Following the flag an optional specification of the width is possible. 
This is specified in decimal notation.  If the natural size of the
output is of the field has less than the specified number of characters,
the result is written right adjusted and space padded to the given
size.

<p>An optional modifier can follow the optional flag and width
specification.  The modifiers, which are POSIX.2 extensions, are:

<dl>
<dt><code>E</code>
<dd>Use the locale's alternate representation for date and time.  This
modifier applies to the <code>%c</code>, <code>%C</code>, <code>%x</code>, <code>%X</code>,
<code>%y</code> and <code>%Y</code> format specifiers.  In a Japanese locale, for
example, <code>%Ex</code> might yield a date format based on the Japanese
Emperors' reigns.

<br><dt><code>O</code>
<dd>Use the locale's alternate numeric symbols for numbers.  This modifier
applies only to numeric format specifiers. 
</dl>

<p>If the format supports the modifier but no alternate representation
is available, it is ignored.

<p>The conversion specifier ends with a format specifier taken from the
following list.  The whole <code>%</code> sequence is replaced in the output
string as follows:

<dl>
<dt><code>%a</code>
<dd>The abbreviated weekday name according to the current locale.

<br><dt><code>%A</code>
<dd>The full weekday name according to the current locale.

<br><dt><code>%b</code>
<dd>The abbreviated month name according to the current locale.

<br><dt><code>%B</code>
<dd>The full month name according to the current locale.

<br><dt><code>%c</code>
<dd>The preferred calendar time representation for the current locale.

<br><dt><code>%C</code>
<dd>The century of the year.  This is equivalent to the greatest integer not
greater than the year divided by 100.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%d</code>
<dd>The day of the month as a decimal number (range <code>01</code> through <code>31</code>).

<br><dt><code>%D</code>
<dd>The date using the format <code>%m/%d/%y</code>.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%e</code>
<dd>The day of the month like with <code>%d</code>, but padded with blank (range
<code> 1</code> through <code>31</code>).

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%F</code>
<dd>The date using the format <code>%Y-%m-%d</code>.  This is the form specified
in the ISO&nbsp;8601 standard and is the preferred form for all uses.

<p>This format is a ISO&nbsp;C99 extension.

<br><dt><code>%g</code>
<dd>The year corresponding to the ISO week number, but without the century
(range <code>00</code> through <code>99</code>).  This has the same format and value
as <code>%y</code>, except that if the ISO week number (see <code>%V</code>) belongs
to the previous or next year, that year is used instead.

<p>This format was introduced in ISO&nbsp;C99.

<br><dt><code>%G</code>
<dd>The year corresponding to the ISO week number.  This has the same format
and value as <code>%Y</code>, except that if the ISO week number (see
<code>%V</code>) belongs to the previous or next year, that year is used
instead.

<p>This format was introduced in ISO&nbsp;C99 but was previously available
as a GNU extension.

<br><dt><code>%h</code>
<dd>The abbreviated month name according to the current locale.  The action
is the same as for <code>%b</code>.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%H</code>
<dd>The hour as a decimal number, using a 24-hour clock (range <code>00</code> through
<code>23</code>).

<br><dt><code>%I</code>
<dd>The hour as a decimal number, using a 12-hour clock (range <code>01</code> through
<code>12</code>).

<br><dt><code>%j</code>
<dd>The day of the year as a decimal number (range <code>001</code> through <code>366</code>).

<br><dt><code>%k</code>
<dd>The hour as a decimal number, using a 24-hour clock like <code>%H</code>, but
padded with blank (range <code> 0</code> through <code>23</code>).

<p>This format is a GNU extension.

<br><dt><code>%l</code>
<dd>The hour as a decimal number, using a 12-hour clock like <code>%I</code>, but
padded with blank (range <code> 1</code> through <code>12</code>).

<p>This format is a GNU extension.

<br><dt><code>%m</code>
<dd>The month as a decimal number (range <code>01</code> through <code>12</code>).

<br><dt><code>%M</code>
<dd>The minute as a decimal number (range <code>00</code> through <code>59</code>).

<br><dt><code>%n</code>
<dd>A single <code>\n</code> (newline) character.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%p</code>
<dd>Either <code>AM</code> or <code>PM</code>, according to the given time value; or the
corresponding strings for the current locale.  Noon is treated as
<code>PM</code> and midnight as <code>AM</code>.

<br><dt><code>%P</code>
<dd>Either <code>am</code> or <code>pm</code>, according to the given time value; or the
corresponding strings for the current locale, printed in lowercase
characters.  Noon is treated as <code>pm</code> and midnight as <code>am</code>.

<p>This format was introduced in ISO&nbsp;C99 but was previously available
as a GNU extension.

<br><dt><code>%r</code>
<dd>The complete calendar time using the AM/PM format of the current locale.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%R</code>
<dd>The hour and minute in decimal numbers using the format <code>%H:%M</code>.

<p>This format was introduced in ISO&nbsp;C99 but was previously available
as a GNU extension.

<br><dt><code>%s</code>
<dd>The number of seconds since the epoch, i.e., since 1970-01-01 00:00:00 UTC. 
Leap seconds are not counted unless leap second support is available.

<p>This format is a GNU extension.

<br><dt><code>%S</code>
<dd>The seconds as a decimal number (range <code>00</code> through <code>60</code>).

<br><dt><code>%t</code>
<dd>A single <code>\t</code> (tabulator) character.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%T</code>
<dd>The time of day using decimal numbers using the format <code>%H:%M:%S</code>.

<p>This format is a POSIX.2 extension.

<br><dt><code>%u</code>
<dd>The day of the week as a decimal number (range <code>1</code> through
<code>7</code>), Monday being <code>1</code>.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%U</code>
<dd>The week number of the current year as a decimal number (range <code>00</code>
through <code>53</code>), starting with the first Sunday as the first day of
the first week.  Days preceding the first Sunday in the year are
considered to be in week <code>00</code>.

<br><dt><code>%V</code>
<dd>The ISO&nbsp;8601:1988 week number as a decimal number (range <code>01</code>
through <code>53</code>).  ISO weeks start with Monday and end with Sunday. 
Week <code>01</code> of a year is the first week which has the majority of its
days in that year; this is equivalent to the week containing the year's
first Thursday, and it is also equivalent to the week containing January
4.  Week <code>01</code> of a year can contain days from the previous year. 
The week before week <code>01</code> of a year is the last week (<code>52</code> or
<code>53</code>) of the previous year even if it contains days from the new
year.

<p>This format is a POSIX.2 extension and also appears in ISO&nbsp;C99.

<br><dt><code>%w</code>
<dd>The day of the week as a decimal number (range <code>0</code> through
<code>6</code>), Sunday being <code>0</code>.

<br><dt><code>%W</code>
<dd>The week number of the current year as a decimal number (range <code>00</code>
through <code>53</code>), starting with the first Monday as the first day of
the first week.  All days preceding the first Monday in the year are
considered to be in week <code>00</code>.

<br><dt><code>%x</code>
<dd>The preferred date representation for the current locale.

<br><dt><code>%X</code>
<dd>The preferred time of day representation for the current locale.

<br><dt><code>%y</code>
<dd>The year without a century as a decimal number (range <code>00</code> through
<code>99</code>).  This is equivalent to the year modulo 100.

<br><dt><code>%Y</code>
<dd>The year as a decimal number, using the Gregorian calendar.  Years
before the year <code>1</code> are numbered <code>0</code>, <code>-1</code>, and so on.

<br><dt><code>%z</code>
<dd>RFC&nbsp;822/ISO&nbsp;8601:1988 style numeric time zone (e.g.,
<code>-0600</code> or <code>+0100</code>), or nothing if no time zone is
determinable.

<p>This format was introduced in ISO&nbsp;C99 but was previously available
as a GNU extension.

<p>A full RFC&nbsp;822 timestamp is generated by the format
<code>"%a,&nbsp;%d&nbsp;%b&nbsp;%Y&nbsp;%H:%M:%S&nbsp;%z"</code> (or the equivalent
<code>"%a,&nbsp;%d&nbsp;%b&nbsp;%Y&nbsp;%T&nbsp;%z"</code>).

<br><dt><code>%Z</code>
<dd>The time zone abbreviation (empty if the time zone can't be determined).

<br><dt><code>%%</code>
<dd>A literal <code>%</code> character. 
</dl>

<p>The <var>size</var> parameter can be used to specify the maximum number of
characters to be stored in the array <var>s</var>, including the terminating
null character.  If the formatted time requires more than <var>size</var>
characters, <code>strftime</code> returns zero and the contents of the array
<var>s</var> are undefined.  Otherwise the return value indicates the
number of characters placed in the array <var>s</var>, not including the
terminating null character.

<p><em>Warning:</em> This convention for the return value which is prescribed
in ISO&nbsp;C can lead to problems in some situations.  For certain
format strings and certain locales the output really can be the empty
string and this cannot be discovered by testing the return value only. 
E.g., in most locales the AM/PM time format is not supported (most of
the world uses the 24 hour time representation).  In such locales
<code>"%p"</code> will return the empty string, i.e., the return value is
zero.  To detect situations like this something similar to the following
code should be used:

<br><pre>buf[0] = '\1';
len = strftime (buf, bufsize, format, tp);
if (len == 0 &amp;&amp; buf[0] != '\0')
  {
    /* Something went wrong in the strftime call.  */
    <small>...</small>
  }
</pre>

<p>If <var>s</var> is a null pointer, <code>strftime</code> does not actually write
anything, but instead returns the number of characters it would have written.

<p>According to POSIX.1 every call to <code>strftime</code> implies a call to
<code>tzset</code>.  So the contents of the environment variable <code>TZ</code>
is examined before any output is produced.

<p>For an example of <code>strftime</code>, see <a href="#Time%20Functions%20Example">Time Functions Example</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>wcsftime</b><i> (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, const struct tm *<var>brokentime</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>wcsftime</code> function is equivalent to the <code>strftime</code>
function with the difference that it operates on wide character
strings.  The buffer where the result is stored, pointed to by <var>s</var>,
must be an array of wide characters.  The parameter <var>size</var> which
specifies the size of the output buffer gives the number of wide
character, not the number of bytes.

<p>Also the format string <var>template</var> is a wide character string.  Since
all characters needed to specify the format string are in the basic
character set it is portably possible to write format strings in the C
source code using the <code>L"..."</code> notation.  The parameter
<var>brokentime</var> has the same meaning as in the <code>strftime</code> call.

<p>The <code>wcsftime</code> function supports the same flags, modifiers, and
format specifiers as the <code>strftime</code> function.

<p>The return value of <code>wcsftime</code> is the number of wide characters
stored in <code>s</code>.  When more characters would have to be written than
can be placed in the buffer <var>s</var> the return value is zero, with the
same problems indicated in the <code>strftime</code> documentation. 
</td></tr>
</table>

<p><hr>
Node:<a name="Parsing%20Date%20and%20Time">Parsing Date and Time</a>,
Next:<a rel=next accesskey=n href="#TZ%20Variable">TZ Variable</a>,
Previous:<a rel=previous accesskey=p href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Convert textual time and date information back</h4>

<p>The ISO&nbsp;C standard does not specify any functions which can convert
the output of the <code>strftime</code> function back into a binary format. 
This led to a variety of more-or-less successful implementations with
different interfaces over the years.  Then the Unix standard was
extended by the addition of two functions: <code>strptime</code> and
<code>getdate</code>.  Both have strange interfaces but at least they are
widely available.

<ul>
<li><a accesskey=1 href="#Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>:   Interpret string according to given format. 
<li><a accesskey=2 href="#General%20Time%20String%20Parsing">General Time String Parsing</a>:     User-friendly function to parse data and
                                    time strings. 
</ul>

<p><hr>
Node:<a name="Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>,
Next:<a rel=next accesskey=n href="#General%20Time%20String%20Parsing">General Time String Parsing</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>
<br>

<h5>Interpret string according to given format</h5>

<p>he first function is rather low-level.  It is nevertheless frequently
used in software since it is better known.  Its interface and
implementation are heavily influenced by the <code>getdate</code> function,
which is defined and implemented in terms of calls to <code>strptime</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strptime</b><i> (const char *<var>s</var>, const char *<var>fmt</var>, struct tm *<var>tp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>strptime</code> function parses the input string <var>s</var> according
to the format string <var>fmt</var> and stores its results in the
structure <var>tp</var>.

<p>The input string could be generated by a <code>strftime</code> call or
obtained any other way.  It does not need to be in a human-recognizable
format; e.g. a date passed as <code>"02:1999:9"</code> is acceptable, even
though it is ambiguous without context.  As long as the format string
<var>fmt</var> matches the input string the function will succeed.

<p>The user has to make sure, though, that the input can be parsed in a
unambiguous way.  The string <code>"1999112"</code> can be parsed using the
format <code>"%Y%m%d"</code> as 1999-1-12, 1999-11-2, or even 19991-1-2.  It
is necessary to add appropriate separators to reliably get results.

<p>The format string consists of the same components as the format string
of the <code>strftime</code> function.  The only difference is that the flags
<code>_</code>, <code>-</code>, <code>0</code>, and <code>^</code> are not allowed. 
Several of the distinct formats of <code>strftime</code> do the same work in
<code>strptime</code> since differences like case of the input do not matter. 
For reasons of symmetry all formats are supported, though.

<p>The modifiers <code>E</code> and <code>O</code> are also allowed everywhere the
<code>strftime</code> function allows them.

<p>The formats are:

<dl>
<dt><code>%a</code>
<dt><code>%A</code>
<dd>The weekday name according to the current locale, in abbreviated form or
the full name.

<br><dt><code>%b</code>
<dt><code>%B</code>
<dt><code>%h</code>
<dd>The month name according to the current locale, in abbreviated form or
the full name.

<br><dt><code>%c</code>
<dd>The date and time representation for the current locale.

<br><dt><code>%Ec</code>
<dd>Like <code>%c</code> but the locale's alternative date and time format is used.

<br><dt><code>%C</code>
<dd>The century of the year.

<p>It makes sense to use this format only if the format string also
contains the <code>%y</code> format.

<br><dt><code>%EC</code>
<dd>The locale's representation of the period.

<p>Unlike <code>%C</code> it sometimes makes sense to use this format since some
cultures represent years relative to the beginning of eras instead of
using the Gregorian years.

<br><dt><code>%d</code>
<br><dt><code>%e</code>
<dd>The day of the month as a decimal number (range <code>1</code> through <code>31</code>). 
Leading zeroes are permitted but not required.

<br><dt><code>%Od</code>
<dt><code>%Oe</code>
<dd>Same as <code>%d</code> but using the locale's alternative numeric symbols.

<p>Leading zeroes are permitted but not required.

<br><dt><code>%D</code>
<dd>Equivalent to <code>%m/%d/%y</code>.

<br><dt><code>%F</code>
<dd>Equivalent to <code>%Y-%m-%d</code>, which is the ISO&nbsp;8601 date
format.

<p>This is a GNU extension following an ISO&nbsp;C99 extension to
<code>strftime</code>.

<br><dt><code>%g</code>
<dd>The year corresponding to the ISO week number, but without the century
(range <code>00</code> through <code>99</code>).

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<p>This format is a GNU extension following a GNU extension of <code>strftime</code>.

<br><dt><code>%G</code>
<dd>The year corresponding to the ISO week number.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<p>This format is a GNU extension following a GNU extension of <code>strftime</code>.

<br><dt><code>%H</code>
<dt><code>%k</code>
<dd>The hour as a decimal number, using a 24-hour clock (range <code>00</code> through
<code>23</code>).

<p><code>%k</code> is a GNU extension following a GNU extension of <code>strftime</code>.

<br><dt><code>%OH</code>
<dd>Same as <code>%H</code> but using the locale's alternative numeric symbols.

<br><dt><code>%I</code>
<dt><code>%l</code>
<dd>The hour as a decimal number, using a 12-hour clock (range <code>01</code> through
<code>12</code>).

<p><code>%l</code> is a GNU extension following a GNU extension of <code>strftime</code>.

<br><dt><code>%OI</code>
<dd>Same as <code>%I</code> but using the locale's alternative numeric symbols.

<br><dt><code>%j</code>
<dd>The day of the year as a decimal number (range <code>1</code> through <code>366</code>).

<p>Leading zeroes are permitted but not required.

<br><dt><code>%m</code>
<dd>The month as a decimal number (range <code>1</code> through <code>12</code>).

<p>Leading zeroes are permitted but not required.

<br><dt><code>%Om</code>
<dd>Same as <code>%m</code> but using the locale's alternative numeric symbols.

<br><dt><code>%M</code>
<dd>The minute as a decimal number (range <code>0</code> through <code>59</code>).

<p>Leading zeroes are permitted but not required.

<br><dt><code>%OM</code>
<dd>Same as <code>%M</code> but using the locale's alternative numeric symbols.

<br><dt><code>%n</code>
<dt><code>%t</code>
<dd>Matches any white space.

<br><dt><code>%p</code>
<br><dt><code>%P</code>
<dd>The locale-dependent equivalent to <code>AM</code> or <code>PM</code>.

<p>This format is not useful unless <code>%I</code> or <code>%l</code> is also used. 
Another complication is that the locale might not define these values at
all and therefore the conversion fails.

<p><code>%P</code> is a GNU extension following a GNU extension to <code>strftime</code>.

<br><dt><code>%r</code>
<dd>The complete time using the AM/PM format of the current locale.

<p>A complication is that the locale might not define this format at all
and therefore the conversion fails.

<br><dt><code>%R</code>
<dd>The hour and minute in decimal numbers using the format <code>%H:%M</code>.

<p><code>%R</code> is a GNU extension following a GNU extension to <code>strftime</code>.

<br><dt><code>%s</code>
<dd>The number of seconds since the epoch, i.e., since 1970-01-01 00:00:00 UTC. 
Leap seconds are not counted unless leap second support is available.

<p><code>%s</code> is a GNU extension following a GNU extension to <code>strftime</code>.

<br><dt><code>%S</code>
<dd>The seconds as a decimal number (range <code>0</code> through <code>60</code>).

<p>Leading zeroes are permitted but not required.

<p><strong>Note:</strong> The Unix specification says the upper bound on this value
is <code>61</code>, a result of a decision to allow double leap seconds.  You
will not see the value <code>61</code> because no minute has more than one
leap second, but the myth persists.

<br><dt><code>%OS</code>
<dd>Same as <code>%S</code> but using the locale's alternative numeric symbols.

<br><dt><code>%T</code>
<dd>Equivalent to the use of <code>%H:%M:%S</code> in this place.

<br><dt><code>%u</code>
<dd>The day of the week as a decimal number (range <code>1</code> through
<code>7</code>), Monday being <code>1</code>.

<p>Leading zeroes are permitted but not required.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<br><dt><code>%U</code>
<dd>The week number of the current year as a decimal number (range <code>0</code>
through <code>53</code>).

<p>Leading zeroes are permitted but not required.

<br><dt><code>%OU</code>
<dd>Same as <code>%U</code> but using the locale's alternative numeric symbols.

<br><dt><code>%V</code>
<dd>The ISO&nbsp;8601:1988 week number as a decimal number (range <code>1</code>
through <code>53</code>).

<p>Leading zeroes are permitted but not required.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<br><dt><code>%w</code>
<dd>The day of the week as a decimal number (range <code>0</code> through
<code>6</code>), Sunday being <code>0</code>.

<p>Leading zeroes are permitted but not required.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<br><dt><code>%Ow</code>
<dd>Same as <code>%w</code> but using the locale's alternative numeric symbols.

<br><dt><code>%W</code>
<dd>The week number of the current year as a decimal number (range <code>0</code>
through <code>53</code>).

<p>Leading zeroes are permitted but not required.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<br><dt><code>%OW</code>
<dd>Same as <code>%W</code> but using the locale's alternative numeric symbols.

<br><dt><code>%x</code>
<dd>The date using the locale's date format.

<br><dt><code>%Ex</code>
<dd>Like <code>%x</code> but the locale's alternative data representation is used.

<br><dt><code>%X</code>
<dd>The time using the locale's time format.

<br><dt><code>%EX</code>
<dd>Like <code>%X</code> but the locale's alternative time representation is used.

<br><dt><code>%y</code>
<dd>The year without a century as a decimal number (range <code>0</code> through
<code>99</code>).

<p>Leading zeroes are permitted but not required.

<p>Note that it is questionable to use this format without
the <code>%C</code> format.  The <code>strptime</code> function does regard input
values in the range 68 to 99 as the years 1969 to
1999 and the values 0 to 68 as the years
2000 to 2068.  But maybe this heuristic fails for some
input data.

<p>Therefore it is best to avoid <code>%y</code> completely and use <code>%Y</code>
instead.

<br><dt><code>%Ey</code>
<dd>The offset from <code>%EC</code> in the locale's alternative representation.

<br><dt><code>%Oy</code>
<dd>The offset of the year (from <code>%C</code>) using the locale's alternative
numeric symbols.

<br><dt><code>%Y</code>
<dd>The year as a decimal number, using the Gregorian calendar.

<br><dt><code>%EY</code>
<dd>The full alternative year representation.

<br><dt><code>%z</code>
<dd>The offset from GMT in ISO&nbsp;8601/RFC822 format.

<br><dt><code>%Z</code>
<dd>The timezone name.

<p><em>Note:</em> Currently, this is not fully implemented.  The format is
recognized, input is consumed but no field in <var>tm</var> is set.

<br><dt><code>%%</code>
<dd>A literal <code>%</code> character. 
</dl>

<p>All other characters in the format string must have a matching character
in the input string.  Exceptions are white spaces in the input string
which can match zero or more white space characters in the format string.

<p>The <code>strptime</code> function processes the input string from right to
left.  Each of the three possible input elements (white space, literal,
or format) are handled one after the other.  If the input cannot be
matched to the format string the function stops.  The remainder of the
format and input strings are not processed.

<p>The function returns a pointer to the first character it was unable to
process.  If the input string contains more characters than required by
the format string the return value points right after the last consumed
input character.  If the whole input string is consumed the return value
points to the <code>NULL</code> byte at the end of the string.  If an error
occurs, i.e. <code>strptime</code> fails to match all of the format string,
the function returns <code>NULL</code>. 
</td></tr>
</table>

<p>The specification of the function in the XPG standard is rather vague,
leaving out a few important pieces of information.  Most importantly, it
does not specify what happens to those elements of <var>tm</var> which are
not directly initialized by the different formats.  The
implementations on different Unix systems vary here.

<p>The GNU libc implementation does not touch those fields which are not
directly initialized.  Exceptions are the <code>tm_wday</code> and
<code>tm_yday</code> elements, which are recomputed if any of the year, month,
or date elements changed.  This has two implications:

<ul>
<li>Before calling the <code>strptime</code> function for a new input string, you
should prepare the <var>tm</var> structure you pass.  Normally this will mean
initializing all values are to zero.  Alternatively, you can set all
fields to values like <code>INT_MAX</code>, allowing you to determine which
elements were set by the function call.  Zero does not work here since
it is a valid value for many of the fields.

<p>Careful initialization is necessary if you want to find out whether a
certain field in <var>tm</var> was initialized by the function call.

</p><li>You can construct a <code>struct tm</code> value with several consecutive
<code>strptime</code> calls.  A useful application of this is e.g. the parsing
of two separate strings, one containing date information and the other
time information.  By parsing one after the other without clearing the
structure in-between, you can construct a complete broken-down time. 
</ul>

<p>The following example shows a function which parses a string which is
contains the date information in either US style or ISO&nbsp;8601 form:

<br><pre>const char *
parse_date (const char *input, struct tm *tm)
{
  const char *cp;

  /* First clear the result structure.  */
  memset (tm, '\0', sizeof (*tm));

  /* Try the ISO format first.  */
  cp = strptime (input, "%F", tm);
  if (cp == NULL)
    {
      /* Does not match.  Try the US form.  */
      cp = strptime (input, "%D", tm);
    }

  return cp;
}
</pre>

<p><hr>
Node:<a name="General%20Time%20String%20Parsing">General Time String Parsing</a>,
Previous:<a rel=previous accesskey=p href="#Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>
<br>

<h5>A More User-friendly Way to Parse Times and Dates</h5>

<p>The Unix standard defines another function for parsing date strings. 
The interface is weird, but if the function happens to suit your
application it is just fine.  It is problematic to use this function
in multi-threaded programs or libraries, since it returns a pointer to
a static variable, and uses a global variable and global state (an
environment variable).

<p>
<table width="100%">
<tr>
<td align="left"><b>getdate_err</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable of type <code>int</code> contains the error code of the last
unsuccessful call to <code>getdate</code>.  Defined values are:

<dl>
<dt>1
<dd>The environment variable <code>DATEMSK</code> is not defined or null. 
<br><dt>2
<dd>The template file denoted by the <code>DATEMSK</code> environment variable
cannot be opened. 
<br><dt>3
<dd>Information about the template file cannot retrieved. 
<br><dt>4
<dd>The template file is not a regular file. 
<br><dt>5
<dd>An I/O error occurred while reading the template file. 
<br><dt>6
<dd>Not enough memory available to execute the function. 
<br><dt>7
<dd>The template file contains no matching template. 
<br><dt>8
<dd>The input date is invalid, but would match a template otherwise.  This
includes dates like February 31st, and dates which cannot be represented
in a <code>time_t</code> variable. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct tm * <b>getdate</b><i> (const char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The interface to <code>getdate</code> is the simplest possible for a function
to parse a string and return the value.  <var>string</var> is the input
string and the result is returned in a statically-allocated variable.

<p>The details about how the string is processed are hidden from the user. 
In fact, they can be outside the control of the program.  Which formats
are recognized is controlled by the file named by the environment
variable <code>DATEMSK</code>.  This file should contain
lines of valid format strings which could be passed to <code>strptime</code>.

<p>The <code>getdate</code> function reads these format strings one after the
other and tries to match the input string.  The first line which
completely matches the input string is used.

<p>Elements not initialized through the format string retain the values
present at the time of the <code>getdate</code> function call.

<p>The formats recognized by <code>getdate</code> are the same as for
<code>strptime</code>.  See above for an explanation.  There are only a few
extensions to the <code>strptime</code> behavior:

<ul>
<li>If the <code>%Z</code> format is given the broken-down time is based on the
current time of the timezone matched, not of the current timezone of the
runtime environment.

<p><em>Note</em>: This is not implemented (currently).  The problem is that
timezone names are not unique.  If a fixed timezone is assumed for a
given string (say <code>EST</code> meaning US East Coast time), then uses for
countries other than the USA will fail.  So far we have found no good
solution to this.

<li>If only the weekday is specified the selected day depends on the current
date.  If the current weekday is greater or equal to the <code>tm_wday</code>
value the current week's day is chosen, otherwise the day next week is chosen.

<li>A similar heuristic is used when only the month is given and not the
year.  If the month is greater than or equal to the current month, then
the current year is used.  Otherwise it wraps to next year.  The first
day of the month is assumed if one is not explicitly specified.

<li>The current hour, minute, and second are used if the appropriate value is
not set through the format.

<li>If no date is given tomorrow's date is used if the time is
smaller than the current time.  Otherwise today's date is taken. 
</ul>

<p>It should be noted that the format in the template file need not only
contain format elements.  The following is a list of possible format
strings (taken from the Unix standard):

<br><pre>%m
%A %B %d, %Y %H:%M:%S
%A
%B
%m/%d/%y %I %p
%d,%m,%Y %H:%M
at %A the %dst of %B in %Y
run job at %I %p,%B %dnd
%A den %d. %B %Y %H.%M Uhr
</pre>

<p>As you can see, the template list can contain very specific strings like
<code>run job at %I %p,%B %dnd</code>.  Using the above list of templates and
assuming the current time is Mon Sep 22 12:19:47 EDT 1986 we can obtain the
following results for the given input.

<p><table><tr align="left"><td valign="top">Input </td><td valign="top">Match </td><td valign="top">Result
<br></td></tr><tr align="left"><td valign="top">Mon </td><td valign="top">%a </td><td valign="top">Mon Sep 22 12:19:47 EDT 1986
<br></td></tr><tr align="left"><td valign="top">Sun </td><td valign="top">%a </td><td valign="top">Sun Sep 28 12:19:47 EDT 1986
<br></td></tr><tr align="left"><td valign="top">Fri </td><td valign="top">%a </td><td valign="top">Fri Sep 26 12:19:47 EDT 1986
<br></td></tr><tr align="left"><td valign="top">September </td><td valign="top">%B </td><td valign="top">Mon Sep 1 12:19:47 EDT 1986
<br></td></tr><tr align="left"><td valign="top">January </td><td valign="top">%B </td><td valign="top">Thu Jan 1 12:19:47 EST 1987
<br></td></tr><tr align="left"><td valign="top">December </td><td valign="top">%B </td><td valign="top">Mon Dec 1 12:19:47 EST 1986
<br></td></tr><tr align="left"><td valign="top">Sep Mon </td><td valign="top">%b %a </td><td valign="top">Mon Sep 1 12:19:47 EDT 1986
<br></td></tr><tr align="left"><td valign="top">Jan Fri </td><td valign="top">%b %a </td><td valign="top">Fri Jan 2 12:19:47 EST 1987
<br></td></tr><tr align="left"><td valign="top">Dec Mon </td><td valign="top">%b %a </td><td valign="top">Mon Dec 1 12:19:47 EST 1986
<br></td></tr><tr align="left"><td valign="top">Jan Wed 1989 </td><td valign="top">%b %a %Y </td><td valign="top">Wed Jan 4 12:19:47 EST 1989
<br></td></tr><tr align="left"><td valign="top">Fri 9 </td><td valign="top">%a %H </td><td valign="top">Fri Sep 26 09:00:00 EDT 1986
<br></td></tr><tr align="left"><td valign="top">Feb 10:30 </td><td valign="top">%b %H:%S </td><td valign="top">Sun Feb 1 10:00:30 EST 1987
<br></td></tr><tr align="left"><td valign="top">10:30 </td><td valign="top">%H:%M </td><td valign="top">Tue Sep 23 10:30:00 EDT 1986
<br></td></tr><tr align="left"><td valign="top">13:30 </td><td valign="top">%H:%M </td><td valign="top">Mon Sep 22 13:30:00 EDT 1986
<br></td></tr></table>

<p>The return value of the function is a pointer to a static variable of
type <code>struct&nbsp;tm</code>, or a null pointer if an error occurred.  The
result is only valid until the next <code>getdate</code> call, making this
function unusable in multi-threaded applications.

<p>The <code>errno</code> variable is <em>not</em> changed.  Error conditions are
stored in the global variable <code>getdate_err</code>.  See the
description above for a list of the possible error values.

<p><em>Warning:</em> The <code>getdate</code> function should <em>never</em> be
used in SUID-programs.  The reason is obvious: using the
<code>DATEMSK</code> environment variable you can get the function to open
any arbitrary file and chances are high that with some bogus input
(such as a binary file) the program will crash. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getdate_r</b><i> (const char *<var>string</var>, struct tm *<var>tp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getdate_r</code> function is the reentrant counterpart of
<code>getdate</code>.  It does not use the global variable <code>getdate_err</code>
to signal an error, but instead returns an error code.  The same error
codes as described in the <code>getdate_err</code> documentation above are
used, with 0 meaning success.

<p>Moreover, <code>getdate_r</code> stores the broken-down time in the variable
of type <code>struct tm</code> pointed to by the second argument, rather than
in a static variable.

<p>This function is not defined in the Unix standard.  Nevertheless it is
available on some other Unix systems as well.

<p>The warning against using <code>getdate</code> in SUID-programs applies to
<code>getdate_r</code> as well. 
</td></tr>
</table>

<p><hr>
Node:<a name="TZ%20Variable">TZ Variable</a>,
Next:<a rel=next accesskey=n href="#Time%20Zone%20Functions">Time Zone Functions</a>,
Previous:<a rel=previous accesskey=p href="#Parsing%20Date%20and%20Time">Parsing Date and Time</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Specifying the Time Zone with <code>TZ</code></h4>

<p>In POSIX systems, a user can specify the time zone by means of the
<code>TZ</code> environment variable.  For information about how to set
environment variables, see <a href="#Environment%20Variables">Environment Variables</a>.  The functions
for accessing the time zone are declared in <code>time.h</code>.

<p>You should not normally need to set <code>TZ</code>.  If the system is
configured properly, the default time zone will be correct.  You might
set <code>TZ</code> if you are using a computer over a network from a
different time zone, and would like times reported to you in the time
zone local to you, rather than what is local to the computer.

<p>In POSIX.1 systems the value of the <code>TZ</code> variable can be in one of
three formats.  With the GNU C library, the most common format is the
last one, which can specify a selection from a large database of time
zone information for many regions of the world.  The first two formats
are used to describe the time zone information directly, which is both
more cumbersome and less precise.  But the POSIX.1 standard only
specifies the details of the first two formats, so it is good to be
familiar with them in case you come across a POSIX.1 system that doesn't
support a time zone information database.

<p>The first format is used when there is no Daylight Saving Time (or
summer time) in the local time zone:

<br><pre><var>std</var> <var>offset</var>
</pre>

<p>The <var>std</var> string specifies the name of the time zone.  It must be
three or more characters long and must not contain a leading colon,
embedded digits, commas, nor plus and minus signs.  There is no space
character separating the time zone name from the <var>offset</var>, so these
restrictions are necessary to parse the specification correctly.

<p>The <var>offset</var> specifies the time value you must add to the local time
to get a Coordinated Universal Time value.  It has syntax like
[<code>+</code>|<code>-</code>]<var>hh</var>[<code>:</code><var>mm</var>[<code>:</code><var>ss</var>]].  This
is positive if the local time zone is west of the Prime Meridian and
negative if it is east.  The hour must be between <code>0</code> and
<code>23</code>, and the minute and seconds between <code>0</code> and <code>59</code>.

<p>For example, here is how we would specify Eastern Standard Time, but
without any Daylight Saving Time alternative:

<br><pre>EST+5
</pre>

<p>The second format is used when there is Daylight Saving Time:

<br><pre><var>std</var> <var>offset</var> <var>dst</var> [<var>offset</var>]<code>,</code><var>start</var>[<code>/</code><var>time</var>]<code>,</code><var>end</var>[<code>/</code><var>time</var>]
</pre>

<p>The initial <var>std</var> and <var>offset</var> specify the standard time zone, as
described above.  The <var>dst</var> string and <var>offset</var> specify the name
and offset for the corresponding Daylight Saving Time zone; if the
<var>offset</var> is omitted, it defaults to one hour ahead of standard time.

<p>The remainder of the specification describes when Daylight Saving Time is
in effect.  The <var>start</var> field is when Daylight Saving Time goes into
effect and the <var>end</var> field is when the change is made back to standard
time.  The following formats are recognized for these fields:

<dl>
<dt><code>J<var>n</var></code>
<dd>This specifies the Julian day, with <var>n</var> between <code>1</code> and <code>365</code>. 
February 29 is never counted, even in leap years.

<br><dt><code><var>n</var></code>
<dd>This specifies the Julian day, with <var>n</var> between <code>0</code> and <code>365</code>. 
February 29 is counted in leap years.

<br><dt><code>M<var>m</var>.<var>w</var>.<var>d</var></code>
<dd>This specifies day <var>d</var> of week <var>w</var> of month <var>m</var>.  The day
<var>d</var> must be between <code>0</code> (Sunday) and <code>6</code>.  The week
<var>w</var> must be between <code>1</code> and <code>5</code>; week <code>1</code> is the
first week in which day <var>d</var> occurs, and week <code>5</code> specifies the
<em>last</em> <var>d</var> day in the month.  The month <var>m</var> should be
between <code>1</code> and <code>12</code>. 
</dl>

<p>The <var>time</var> fields specify when, in the local time currently in
effect, the change to the other time occurs.  If omitted, the default is
<code>02:00:00</code>.

<p>For example, here is how you would specify the Eastern time zone in the
United States, including the appropriate Daylight Saving Time and its dates
of applicability.  The normal offset from UTC is 5 hours; since this is
west of the prime meridian, the sign is positive.  Summer time begins on
the first Sunday in April at 2:00am, and ends on the last Sunday in October
at 2:00am.

<br><pre>EST+5EDT,M4.1.0/2,M10.5.0/2
</pre>

<p>The schedule of Daylight Saving Time in any particular jurisdiction has
changed over the years.  To be strictly correct, the conversion of dates
and times in the past should be based on the schedule that was in effect
then.  However, this format has no facilities to let you specify how the
schedule has changed from year to year.  The most you can do is specify
one particular schedule--usually the present day schedule--and this is
used to convert any date, no matter when.  For precise time zone
specifications, it is best to use the time zone information database
(see below).

<p>The third format looks like this:

<br><pre>:<var>characters</var>
</pre>

<p>Each operating system interprets this format differently; in the GNU C
library, <var>characters</var> is the name of a file which describes the time
zone.

<p>If the <code>TZ</code> environment variable does not have a value, the
operation chooses a time zone by default.  In the GNU C library, the
default time zone is like the specification <code>TZ=:/etc/localtime</code>
(or <code>TZ=:/usr/local/etc/localtime</code>, depending on how GNU C library
was configured; see <a href="#Installation">Installation</a>).  Other C libraries use their own
rule for choosing the default time zone, so there is little we can say
about them.

<p>If <var>characters</var> begins with a slash, it is an absolute file name;
otherwise the library looks for the file
<code>/share/lib/zoneinfo/<var>characters</var></code>.  The <code>zoneinfo</code>
directory contains data files describing local time zones in many
different parts of the world.  The names represent major cities, with
subdirectories for geographical areas; for example,
<code>America/New_York</code>, <code>Europe/London</code>, <code>Asia/Hong_Kong</code>. 
These data files are installed by the system administrator, who also
sets <code>/etc/localtime</code> to point to the data file for the local time
zone.  The GNU C library comes with a large database of time zone
information for most regions of the world, which is maintained by a
community of volunteers and put in the public domain.

<p><hr>
Node:<a name="Time%20Zone%20Functions">Time Zone Functions</a>,
Next:<a rel=next accesskey=n href="#Time%20Functions%20Example">Time Functions Example</a>,
Previous:<a rel=previous accesskey=p href="#TZ%20Variable">TZ Variable</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Functions and Variables for Time Zones</h4>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>tzname</b><i> [2]
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The array <code>tzname</code> contains two strings, which are the standard
names of the pair of time zones (standard and Daylight
Saving) that the user has selected.  <code>tzname[0]</code> is the name of
the standard time zone (for example, <code>"EST"</code>), and <code>tzname[1]</code>
is the name for the time zone when Daylight Saving Time is in use (for
example, <code>"EDT"</code>).  These correspond to the <var>std</var> and <var>dst</var>
strings (respectively) from the <code>TZ</code> environment variable.  If
Daylight Saving Time is never used, <code>tzname[1]</code> is the empty string.

<p>The <code>tzname</code> array is initialized from the <code>TZ</code> environment
variable whenever <code>tzset</code>, <code>ctime</code>, <code>strftime</code>,
<code>mktime</code>, or <code>localtime</code> is called.  If multiple abbreviations
have been used (e.g. <code>"EWT"</code> and <code>"EDT"</code> for U.S. Eastern War
Time and Eastern Daylight Time), the array contains the most recent
abbreviation.

<p>The <code>tzname</code> array is required for POSIX.1 compatibility, but in
GNU programs it is better to use the <code>tm_zone</code> member of the
broken-down time structure, since <code>tm_zone</code> reports the correct
abbreviation even when it is not the latest one.

<p>Though the strings are declared as <code>char *</code> the user must refrain
from modifying these strings.  Modifying the strings will almost certainly
lead to trouble.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>tzset</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>tzset</code> function initializes the <code>tzname</code> variable from
the value of the <code>TZ</code> environment variable.  It is not usually
necessary for your program to call this function, because it is called
automatically when you use the other time conversion functions that
depend on the time zone. 
</td></tr>
</table>

<p>The following variables are defined for compatibility with System V
Unix.  Like <code>tzname</code>, these variables are set by calling
<code>tzset</code> or the other time conversion functions.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>timezone</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This contains the difference between UTC and the latest local standard
time, in seconds west of UTC.  For example, in the U.S. Eastern time
zone, the value is <code>5*60*60</code>.  Unlike the <code>tm_gmtoff</code> member
of the broken-down time structure, this value is not adjusted for
daylight saving, and its sign is reversed.  In GNU programs it is better
to use <code>tm_gmtoff</code>, since it contains the correct offset even when
it is not the latest one. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>daylight</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable has a nonzero value if Daylight Saving Time rules apply. 
A nonzero value does not necessarily mean that Daylight Saving Time is
now in effect; it means only that Daylight Saving Time is sometimes in
effect. 
</td></tr>
</table>

<p><hr>
Node:<a name="Time%20Functions%20Example">Time Functions Example</a>,
Previous:<a rel=previous accesskey=p href="#Time%20Zone%20Functions">Time Zone Functions</a>,
Up:<a rel=up accesskey=u href="#Calendar%20Time">Calendar Time</a>
<br>

<h4>Time Functions Example</h4>

<p>Here is an example program showing the use of some of the calendar time
functions.

<br><pre>

#include &lt;time.h&gt;
#include &lt;stdio.h&gt;

#define SIZE 256

int
main (void)
{
  char buffer[SIZE];
  time_t curtime;
  struct tm *loctime;

  /* Get the current time. */
  curtime = time (NULL);

  /* Convert it to local time representation. */
  loctime = localtime (&amp;curtime);

  /* Print out the date and time in the standard format. */
  fputs (asctime (loctime), stdout);

  /* Print it out in a nice format. */
  strftime (buffer, SIZE, "Today is %A, %B %d.\n", loctime);
  fputs (buffer, stdout);
  strftime (buffer, SIZE, "The time is %I:%M %p.\n", loctime);
  fputs (buffer, stdout);

  return 0;
}
</pre>

<p>It produces output like this:

<br><pre>Wed Jul 31 13:02:36 1991
Today is Wednesday, July 31.
The time is 01:02 PM.
</pre>

<p><hr>
Node:<a name="Setting%20an%20Alarm">Setting an Alarm</a>,
Next:<a rel=next accesskey=n href="#Sleeping">Sleeping</a>,
Previous:<a rel=previous accesskey=p href="#Calendar%20Time">Calendar Time</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Setting an Alarm</h3>

<p>The <code>alarm</code> and <code>setitimer</code> functions provide a mechanism for a
process to interrupt itself in the future.  They do this by setting a
timer; when the timer expires, the process receives a signal.

<p>Each process has three independent interval timers available:

<ul>
<li>A real-time timer that counts elapsed time.  This timer sends a
<code>SIGALRM</code> signal to the process when it expires.

<li>A virtual timer that counts processor time used by the process.  This timer
sends a <code>SIGVTALRM</code> signal to the process when it expires.

<li>A profiling timer that counts both processor time used by the process,
and processor time spent in system calls on behalf of the process.  This
timer sends a <code>SIGPROF</code> signal to the process when it expires.

<p>This timer is useful for profiling in interpreters.  The interval timer
mechanism does not have the fine granularity necessary for profiling
native code. 
</ul>

<p>You can only have one timer of each kind set at any given time.  If you
set a timer that has not yet expired, that timer is simply reset to the
new value.

<p>You should establish a handler for the appropriate alarm signal using
<code>signal</code> or <code>sigaction</code> before issuing a call to
<code>setitimer</code> or <code>alarm</code>.  Otherwise, an unusual chain of events
could cause the timer to expire before your program establishes the
handler.  In this case it would be terminated, since termination is the
default action for the alarm signals.  See <a href="#Signal%20Handling">Signal Handling</a>.

<p>The <code>setitimer</code> function is the primary means for setting an alarm. 
This facility is declared in the header file <code>sys/time.h</code>.  The
<code>alarm</code> function, declared in <code>unistd.h</code>, provides a somewhat
simpler interface for setting the real-time timer.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct itimerval</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used to specify when a timer should expire.  It contains
the following members:
<dl>
<dt><code>struct timeval it_interval</code>
<dd>This is the period between successive timer interrupts.  If zero, the
alarm will only be sent once.

<br><dt><code>struct timeval it_value</code>
<dd>This is the period between now and the first timer interrupt.  If zero,
the alarm is disabled. 
</dl>

<p>The <code>struct timeval</code> data type is described in <a href="#Elapsed%20Time">Elapsed Time</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setitimer</b><i> (int <var>which</var>, struct itimerval *<var>new</var>, struct itimerval *<var>old</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setitimer</code> function sets the timer specified by <var>which</var>
according to <var>new</var>.  The <var>which</var> argument can have a value of
<code>ITIMER_REAL</code>, <code>ITIMER_VIRTUAL</code>, or <code>ITIMER_PROF</code>.

<p>If <var>old</var> is not a null pointer, <code>setitimer</code> returns information
about any previous unexpired timer of the same kind in the structure it
points to.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The timer period is too large. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getitimer</b><i> (int <var>which</var>, struct itimerval *<var>old</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getitimer</code> function stores information about the timer specified
by <var>which</var> in the structure pointed at by <var>old</var>.

<p>The return value and error conditions are the same as for <code>setitimer</code>. 
</td></tr>
</table>

<dl>
<dt><code>ITIMER_REAL</code>
<dd>This constant can be used as the <var>which</var> argument to the
<code>setitimer</code> and <code>getitimer</code> functions to specify the real-time
timer.

<br><dt><code>ITIMER_VIRTUAL</code>
<dd>This constant can be used as the <var>which</var> argument to the
<code>setitimer</code> and <code>getitimer</code> functions to specify the virtual
timer.

<br><dt><code>ITIMER_PROF</code>
<dd>This constant can be used as the <var>which</var> argument to the
<code>setitimer</code> and <code>getitimer</code> functions to specify the profiling
timer. 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">unsigned int <b>alarm</b><i> (unsigned int <var>seconds</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>alarm</code> function sets the real-time timer to expire in
<var>seconds</var> seconds.  If you want to cancel any existing alarm, you
can do this by calling <code>alarm</code> with a <var>seconds</var> argument of
zero.

<p>The return value indicates how many seconds remain before the previous
alarm would have been sent.  If there is no previous alarm, <code>alarm</code>
returns zero. 
</td></tr>
</table>

<p>The <code>alarm</code> function could be defined in terms of <code>setitimer</code>
like this:

<br><pre>unsigned int
alarm (unsigned int seconds)
{
  struct itimerval old, new;
  new.it_interval.tv_usec = 0;
  new.it_interval.tv_sec = 0;
  new.it_value.tv_usec = 0;
  new.it_value.tv_sec = (long int) seconds;
  if (setitimer (ITIMER_REAL, &amp;new, &amp;old) &lt; 0)
    return 0;
  else
    return old.it_value.tv_sec;
}
</pre>

<p>There is an example showing the use of the <code>alarm</code> function in
<a href="#Handler%20Returns">Handler Returns</a>.

<p>If you simply want your process to wait for a given number of seconds,
you should use the <code>sleep</code> function.  See <a href="#Sleeping">Sleeping</a>.

<p>You shouldn't count on the signal arriving precisely when the timer
expires.  In a multiprocessing environment there is typically some
amount of delay involved.

<p><strong>Portability Note:</strong> The <code>setitimer</code> and <code>getitimer</code>
functions are derived from BSD Unix, while the <code>alarm</code> function is
specified by the POSIX.1 standard.  <code>setitimer</code> is more powerful than
<code>alarm</code>, but <code>alarm</code> is more widely used.

<p><hr>
Node:<a name="Sleeping">Sleeping</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20an%20Alarm">Setting an Alarm</a>,
Up:<a rel=up accesskey=u href="#Date%20and%20Time">Date and Time</a>
<br>

<h3>Sleeping</h3>

<p>The function <code>sleep</code> gives a simple way to make the program wait
for a short interval.  If your program doesn't use signals (except to
terminate), then you can expect <code>sleep</code> to wait reliably throughout
the specified interval.  Otherwise, <code>sleep</code> can return sooner if a
signal arrives; if you want to wait for a given interval regardless of
signals, use <code>select</code> (see <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>) and don't specify
any descriptors to wait for.

<p>
<table width="100%">
<tr>
<td align="left">unsigned int <b>sleep</b><i> (unsigned int <var>seconds</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sleep</code> function waits for <var>seconds</var> or until a signal
is delivered, whichever happens first.

<p>If <code>sleep</code> function returns because the requested interval is over,
it returns a value of zero.  If it returns because of delivery of a
signal, its return value is the remaining time in the sleep interval.

<p>The <code>sleep</code> function is declared in <code>unistd.h</code>. 
</td></tr>
</table>

<p>Resist the temptation to implement a sleep for a fixed amount of time by
using the return value of <code>sleep</code>, when nonzero, to call
<code>sleep</code> again.  This will work with a certain amount of accuracy as
long as signals arrive infrequently.  But each signal can cause the
eventual wakeup time to be off by an additional second or so.  Suppose a
few signals happen to arrive in rapid succession by bad luck--there is
no limit on how much this could shorten or lengthen the wait.

<p>Instead, compute the calendar time at which the program should stop
waiting, and keep trying to wait until that calendar time.  This won't
be off by more than a second.  With just a little more work, you can use
<code>select</code> and make the waiting period quite accurate.  (Of course,
heavy system load can cause additional unavoidable delays--unless the
machine is dedicated to one application, there is no way you can avoid
this.)

<p>On some systems, <code>sleep</code> can do strange things if your program uses
<code>SIGALRM</code> explicitly.  Even if <code>SIGALRM</code> signals are being
ignored or blocked when <code>sleep</code> is called, <code>sleep</code> might
return prematurely on delivery of a <code>SIGALRM</code> signal.  If you have
established a handler for <code>SIGALRM</code> signals and a <code>SIGALRM</code>
signal is delivered while the process is sleeping, the action taken
might be just to cause <code>sleep</code> to return instead of invoking your
handler.  And, if <code>sleep</code> is interrupted by delivery of a signal
whose handler requests an alarm or alters the handling of <code>SIGALRM</code>,
this handler and <code>sleep</code> will interfere.

<p>On the GNU system, it is safe to use <code>sleep</code> and <code>SIGALRM</code> in
the same program, because <code>sleep</code> does not work by means of
<code>SIGALRM</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>nanosleep</b><i> (const struct timespec *<var>requested_time</var>, struct timespec *<var>remaining</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If resolution to seconds is not enough the <code>nanosleep</code> function can
be used.  As the name suggests the sleep interval can be specified in
nanoseconds.  The actual elapsed time of the sleep interval might be
longer since the system rounds the elapsed time you request up to the
next integer multiple of the actual resolution the system can deliver.

<p>*<code>requested_time</code> is the elapsed time of the interval you want to
sleep.

<p>The function returns as *<code>remaining</code> the elapsed time left in the
interval for which you requested to sleep.  If the interval completed
without getting interrupted by a signal, this is zero.

<p><code>struct timespec</code> is described in See <a href="#Elapsed%20Time">Elapsed Time</a>.

<p>If the function returns because the interval is over the return value is
zero.  If the function returns -1 the global variable <var>errno</var>
is set to the following values:

<dl>
<dt><code>EINTR</code>
<dd>The call was interrupted because a signal was delivered to the thread. 
If the <var>remaining</var> parameter is not the null pointer the structure
pointed to by <var>remaining</var> is updated to contain the remaining
elapsed time.

<br><dt><code>EINVAL</code>
<dd>The nanosecond value in the <var>requested_time</var> parameter contains an
illegal value.  Either the value is negative or greater than or equal to
1000 million. 
</dl>

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>nanosleep</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>nanosleep</code> should
be protected using cancellation handlers.

<p>The <code>nanosleep</code> function is declared in <code>time.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>,
Next:<a rel=next accesskey=n href="#Non-Local%20Exits">Non-Local Exits</a>,
Previous:<a rel=previous accesskey=p href="#Date%20and%20Time">Date and Time</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Resource Usage And Limitation</h2>

<p>This chapter describes functions for examining how much of various kinds of
resources (CPU time, memory, etc.) a process has used and getting and setting
limits on future usage.

<ul>
<li><a accesskey=1 href="#Resource%20Usage">Resource Usage</a>: 		Measuring various resources used. 
<li><a accesskey=2 href="#Limits%20on%20Resources">Limits on Resources</a>: 		Specifying limits on resource usage. 
<li><a accesskey=3 href="#Priority">Priority</a>: 			Reading or setting process run priority. 
<li><a accesskey=4 href="#Memory%20Resources">Memory Resources</a>:             Querying memory available resources. 
<li><a accesskey=5 href="#Processor%20Resources">Processor Resources</a>:          Learn about the processors available. 
</ul>

<p><hr>
Node:<a name="Resource%20Usage">Resource Usage</a>,
Next:<a rel=next accesskey=n href="#Limits%20on%20Resources">Limits on Resources</a>,
Up:<a rel=up accesskey=u href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<br>

<h3>Resource Usage</h3>

<p>The function <code>getrusage</code> and the data type <code>struct rusage</code>
are used to examine the resource usage of a process.  They are declared
in <code>sys/resource.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getrusage</b><i> (int <var>processes</var>, struct rusage *<var>rusage</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reports resource usage totals for processes specified by
<var>processes</var>, storing the information in <code>*<var>rusage</var></code>.

<p>In most systems, <var>processes</var> has only two valid values:

<dl>
<dt><code>RUSAGE_SELF</code>
<dd>Just the current process.

<br><dt><code>RUSAGE_CHILDREN</code>
<dd>All child processes (direct and indirect) that have already terminated. 
</dl>

<p>In the GNU system, you can also inquire about a particular child process
by specifying its process ID.

<p>The return value of <code>getrusage</code> is zero for success, and <code>-1</code>
for failure.

<dl>
<dt><code>EINVAL</code>
<dd>The argument <var>processes</var> is not valid. 
</dl>
</td></tr>
</table>

<p>One way of getting resource usage for a particular child process is with
the function <code>wait4</code>, which returns totals for a child when it
terminates.  See <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct rusage</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type stores various resource usage statistics.  It has the
following members, and possibly others:

<dl>
<dt><code>struct timeval ru_utime</code>
<dd>Time spent executing user instructions.

<br><dt><code>struct timeval ru_stime</code>
<dd>Time spent in operating system code on behalf of <var>processes</var>.

<br><dt><code>long int ru_maxrss</code>
<dd>The maximum resident set size used, in kilobytes.  That is, the maximum
number of kilobytes of physical memory that <var>processes</var> used
simultaneously.

<br><dt><code>long int ru_ixrss</code>
<dd>An integral value expressed in kilobytes times ticks of execution, which
indicates the amount of memory used by text that was shared with other
processes.

<br><dt><code>long int ru_idrss</code>
<dd>An integral value expressed the same way, which is the amount of
unshared memory used for data.

<br><dt><code>long int ru_isrss</code>
<dd>An integral value expressed the same way, which is the amount of
unshared memory used for stack space.

<br><dt><code>long int ru_minflt</code>
<dd>The number of page faults which were serviced without requiring any I/O.

<br><dt><code>long int ru_majflt</code>
<dd>The number of page faults which were serviced by doing I/O.

<br><dt><code>long int ru_nswap</code>
<dd>The number of times <var>processes</var> was swapped entirely out of main memory.

<br><dt><code>long int ru_inblock</code>
<dd>The number of times the file system had to read from the disk on behalf
of <var>processes</var>.

<br><dt><code>long int ru_oublock</code>
<dd>The number of times the file system had to write to the disk on behalf
of <var>processes</var>.

<br><dt><code>long int ru_msgsnd</code>
<dd>Number of IPC messages sent.

<br><dt><code>long int ru_msgrcv</code>
<dd>Number of IPC messages received.

<br><dt><code>long int ru_nsignals</code>
<dd>Number of signals received.

<br><dt><code>long int ru_nvcsw</code>
<dd>The number of times <var>processes</var> voluntarily invoked a context switch
(usually to wait for some service).

<br><dt><code>long int ru_nivcsw</code>
<dd>The number of times an involuntary context switch took place (because
a time slice expired, or another process of higher priority was
scheduled). 
</dl>
</td></tr>
</table>

<p><code>vtimes</code> is a historical function that does some of what
<code>getrusage</code> does.  <code>getrusage</code> is a better choice.

<p><code>vtimes</code> and its <code>vtimes</code> data structure are declared in
<code>sys/vtimes.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>vtimes</b><i> (struct vtimes <var>current</var>, struct vtimes <var>child</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>vtimes</code> reports resource usage totals for a process.

<p>If <var>current</var> is non-null, <code>vtimes</code> stores resource usage totals for
the invoking process alone in the structure to which it points.  If
<var>child</var> is non-null, <code>vtimes</code> stores resource usage totals for all
past children (which have terminated) of the invoking process in the structure
to which it points.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct vtimes</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type contains information about the resource usage of a process. 
Each member corresponds to a member of the <code>struct rusage</code> data type
described above.

<dl>
<dt><code>vm_utime</code>
<dd>User CPU time.  Analogous to <code>ru_utime</code> in <code>struct rusage</code>
<br><dt><code>vm_stime</code>
<dd>System CPU time.  Analogous to <code>ru_stime</code> in <code>struct rusage</code>
<br><dt><code>vm_idsrss</code>
<dd>Data and stack memory.  The sum of the values that would be reported as
<code>ru_idrss</code> and <code>ru_isrss</code> in <code>struct rusage</code>
<br><dt><code>vm_ixrss</code>
<dd>Shared memory.  Analogous to <code>ru_ixrss</code> in <code>struct rusage</code>
<br><dt><code>vm_maxrss</code>
<dd>Maximent resident set size.  Analogous to <code>ru_maxrss</code> in
<code>struct rusage</code>
<br><dt><code>vm_majflt</code>
<dd>Major page faults.  Analogous to <code>ru_majflt</code> in <code>struct rusage</code>
<br><dt><code>vm_minflt</code>
<dd>Minor page faults.  Analogous to <code>ru_minflt</code> in <code>struct rusage</code>
<br><dt><code>vm_nswap</code>
<dd>Swap count.  Analogous to <code>ru_nswap</code> in <code>struct rusage</code>
<br><dt><code>vm_inblk</code>
<dd>Disk reads.  Analogous to <code>ru_inblk</code> in <code>struct rusage</code>
<br><dt><code>vm_oublk</code>
<dd>Disk writes.  Analogous to <code>ru_oublk</code> in <code>struct rusage</code>
</dl>
</td></tr>
</table>

<p>The return value is zero if the function succeeds; <code>-1</code> otherwise.

</td></tr>
</table>
An additional historical function for examining resource usage,
<code>vtimes</code>, is supported but not documented here.  It is declared in
<code>sys/vtimes.h</code>.

<p><hr>
Node:<a name="Limits%20on%20Resources">Limits on Resources</a>,
Next:<a rel=next accesskey=n href="#Priority">Priority</a>,
Previous:<a rel=previous accesskey=p href="#Resource%20Usage">Resource Usage</a>,
Up:<a rel=up accesskey=u href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<br>

<h3>Limiting Resource Usage</h3>

<p>You can specify limits for the resource usage of a process.  When the
process tries to exceed a limit, it may get a signal, or the system call
by which it tried to do so may fail, depending on the resource.  Each
process initially inherits its limit values from its parent, but it can
subsequently change them.

<p>There are two per-process limits associated with a resource:

<dl>
<dt><dfn>current limit</dfn>
<dd>The current limit is the value the system will not allow usage to
exceed.  It is also called the "soft limit" because the process being
limited can generally raise the current limit at will.

<br><dt><dfn>maximum limit</dfn>
<dd>The maximum limit is the maximum value to which a process is allowed to
set its current limit.  It is also called the "hard limit" because
there is no way for a process to get around it.  A process may lower
its own maximum limit, but only the superuser may increase a maximum
limit. 
</dl>

<p>The symbols for use with <code>getrlimit</code>, <code>setrlimit</code>,
<code>getrlimit64</code>, and <code>setrlimit64</code> are defined in
<code>sys/resource.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getrlimit</b><i> (int <var>resource</var>, struct rlimit *<var>rlp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Read the current and maximum limits for the resource <var>resource</var>
and store them in <code>*<var>rlp</var></code>.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
only possible <code>errno</code> error condition is <code>EFAULT</code>.

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is in fact <code>getrlimit64</code>.  Thus, the
LFS interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getrlimit64</b><i> (int <var>resource</var>, struct rlimit64 *<var>rlp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getrlimit</code> but its second parameter is
a pointer to a variable of type <code>struct rlimit64</code>, which allows it
to read values which wouldn't fit in the member of a <code>struct
rlimit</code>.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit machine, this function is available under the name
<code>getrlimit</code> and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setrlimit</b><i> (int <var>resource</var>, const struct rlimit *<var>rlp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Store the current and maximum limits for the resource <var>resource</var>
in <code>*<var>rlp</var></code>.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  The
following <code>errno</code> error condition is possible:

<dl>
<dt><code>EPERM</code>
<dd>
<ul>
<li>The process tried to raise a current limit beyond the maximum limit.

<li>The process tried to raise a maximum limit, but is not superuser. 
</ul>
</dl>

<p>When the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit system this function is in fact <code>setrlimit64</code>.  Thus, the
LFS interface transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setrlimit64</b><i> (int <var>resource</var>, const struct rlimit64 *<var>rlp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>setrlimit</code> but its second parameter is
a pointer to a variable of type <code>struct rlimit64</code> which allows it
to set values which wouldn't fit in the member of a <code>struct
rlimit</code>.

<p>If the sources are compiled with <code>_FILE_OFFSET_BITS == 64</code> on a
32-bit machine this function is available under the name
<code>setrlimit</code> and so transparently replaces the old interface. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct rlimit</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used with <code>getrlimit</code> to receive limit values,
and with <code>setrlimit</code> to specify limit values for a particular process
and resource.  It has two fields:

<dl>
<dt><code>rlim_t rlim_cur</code>
<dd>The current limit

<br><dt><code>rlim_t rlim_max</code>
<dd>The maximum limit. 
</dl>

<p>For <code>getrlimit</code>, the structure is an output; it receives the current
values.  For <code>setrlimit</code>, it specifies the new values. 
</td></tr>
</table>

<p>For the LFS functions a similar type is defined in <code>sys/resource.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct rlimit64</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is analogous to the <code>rlimit</code> structure above, but
its components have wider ranges.  It has two fields:

<dl>
<dt><code>rlim64_t rlim_cur</code>
<dd>This is analogous to <code>rlimit.rlim_cur</code>, but with a different type.

<br><dt><code>rlim64_t rlim_max</code>
<dd>This is analogous to <code>rlimit.rlim_max</code>, but with a different type. 
</dl>

</td></tr>
</table>

<p>Here is a list of resources for which you can specify a limit.  Memory
and file sizes are measured in bytes.

<dl>
<dt><code>RLIMIT_CPU</code>
<dd>The maximum amount of CPU time the process can use.  If it runs for
longer than this, it gets a signal: <code>SIGXCPU</code>.  The value is
measured in seconds.  See <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>RLIMIT_FSIZE</code>
<dd>The maximum size of file the process can create.  Trying to write a
larger file causes a signal: <code>SIGXFSZ</code>.  See <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>RLIMIT_DATA</code>
<dd>The maximum size of data memory for the process.  If the process tries
to allocate data memory beyond this amount, the allocation function
fails.

<br><dt><code>RLIMIT_STACK</code>
<dd>The maximum stack size for the process.  If the process tries to extend
its stack past this size, it gets a <code>SIGSEGV</code> signal. 
See <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>RLIMIT_CORE</code>
<dd>The maximum size core file that this process can create.  If the process
terminates and would dump a core file larger than this, then no core
file is created.  So setting this limit to zero prevents core files from
ever being created.

<br><dt><code>RLIMIT_RSS</code>
<dd>The maximum amount of physical memory that this process should get. 
This parameter is a guide for the system's scheduler and memory
allocator; the system may give the process more memory when there is a
surplus.

<br><dt><code>RLIMIT_MEMLOCK</code>
<dd>The maximum amount of memory that can be locked into physical memory (so
it will never be paged out).

<br><dt><code>RLIMIT_NPROC</code>
<dd>The maximum number of processes that can be created with the same user ID. 
If you have reached the limit for your user ID, <code>fork</code> will fail
with <code>EAGAIN</code>.  See <a href="#Creating%20a%20Process">Creating a Process</a>.

<br><dt><code>RLIMIT_NOFILE</code>
<dt><code>RLIMIT_OFILE</code>
<dd>The maximum number of files that the process can open.  If it tries to
open more files than this, its open attempt fails with <code>errno</code>
<code>EMFILE</code>.  See <a href="#Error%20Codes">Error Codes</a>.  Not all systems support this limit;
GNU does, and 4.4 BSD does.

<br><dt><code>RLIMIT_AS</code>
<dd>The maximum size of total memory that this process should get.  If the
process tries to allocate more memory beyond this amount with, for
example, <code>brk</code>, <code>malloc</code>, <code>mmap</code> or <code>sbrk</code>, the
allocation function fails.

<br><dt><code>RLIM_NLIMITS</code>
<dd>The number of different resource limits.  Any valid <var>resource</var>
operand must be less than <code>RLIM_NLIMITS</code>. 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">int <b>RLIM_INFINITY</b><i>
</i></td>
<td align="right">Constant</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant stands for a value of "infinity" when supplied as
the limit value in <code>setrlimit</code>. 
</td></tr>
</table>

<p>The following are historical functions to do some of what the functions
above do.  The functions above are better choices.

<p><code>ulimit</code> and the command symbols are declared in <code>ulimit.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ulimit</b><i> (int <var>cmd</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>ulimit</code> gets the current limit or sets the current and maximum
limit for a particular resource for the calling process according to the
command <var>cmd</var>.a

<p>If you are getting a limit, the command argument is the only argument. 
If you are setting a limit, there is a second argument:
<code>long int</code> <var>limit</var> which is the value to which you are setting
the limit.

<p>The <var>cmd</var> values and the operations they specify are:
<dl>

<br><dt><code>GETFSIZE</code>
<dd>Get the current limit on the size of a file, in units of 512 bytes.

<br><dt><code>SETFSIZE</code>
<dd>Set the current and maximum limit on the size of a file to <var>limit</var> *
512 bytes.

</dl>

<p>There are also some other <var>cmd</var> values that may do things on some
systems, but they are not supported.

<p>Only the superuser may increase a maximum limit.

<p>When you successfully get a limit, the return value of <code>ulimit</code> is
that limit, which is never negative.  When you successfully set a limit,
the return value is zero.  When the function fails, the return value is
<code>-1</code> and <code>errno</code> is set according to the reason:

<dl>
<dt><code>EPERM</code>
<dd>A process tried to increase a maximum limit, but is not superuser. 
</dl>

</td></tr>
</table>

<p><code>vlimit</code> and its resource symbols are declared in <code>sys/vlimit.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>vlimit</b><i> (int <var>resource</var>, int <var>limit</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>vlimit</code> sets the current limit for a resource for a process.

<p><var>resource</var> identifies the resource:

<dl>
<dt><code>LIM_CPU</code>
<dd>Maximum CPU time.  Same as <code>RLIMIT_CPU</code> for <code>setrlimit</code>. 
<br><dt><code>LIM_FSIZE</code>
<dd>Maximum file size.  Same as <code>RLIMIT_FSIZE</code> for <code>setrlimit</code>. 
<br><dt><code>LIM_DATA</code>
<dd>Maximum data memory.  Same as <code>RLIMIT_DATA</code> for <code>setrlimit</code>. 
<br><dt><code>LIM_STACK</code>
<dd>Maximum stack size.  Same as <code>RLIMIT_STACK</code> for <code>setrlimit</code>. 
<br><dt><code>LIM_CORE</code>
<dd>Maximum core file size.  Same as <code>RLIMIT_COR</code> for <code>setrlimit</code>. 
<br><dt><code>LIM_MAXRSS</code>
<dd>Maximum physical memory.  Same as <code>RLIMIT_RSS</code> for <code>setrlimit</code>. 
</dl>

<p>The return value is zero for success, and <code>-1</code> with <code>errno</code> set
accordingly for failure:

<dl>
<dt><code>EPERM</code>
<dd>The process tried to set its current limit beyond its maximum limit. 
</dl>

</td></tr>
</table>

<p><hr>
Node:<a name="Priority">Priority</a>,
Next:<a rel=next accesskey=n href="#Memory%20Resources">Memory Resources</a>,
Previous:<a rel=previous accesskey=p href="#Limits%20on%20Resources">Limits on Resources</a>,
Up:<a rel=up accesskey=u href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<br>

<h3>Process CPU Priority And Scheduling</h3>

<p>When multiple processes simultaneously require CPU time, the system's
scheduling policy and process CPU priorities determine which processes
get it.  This section describes how that determination is made and
GNU C library functions to control it.

<p>It is common to refer to CPU scheduling simply as scheduling and a
process' CPU priority simply as the process' priority, with the CPU
resource being implied.  Bear in mind, though, that CPU time is not the
only resource a process uses or that processes contend for.  In some
cases, it is not even particularly important.  Giving a process a high
"priority" may have very little effect on how fast a process runs with
respect to other processes.  The priorities discussed in this section
apply only to CPU time.

<p>CPU scheduling is a complex issue and different systems do it in wildly
different ways.  New ideas continually develop and find their way into
the intricacies of the various systems' scheduling algorithms.  This
section discusses the general concepts, some specifics of systems
that commonly use the GNU C library, and some standards.

<p>For simplicity, we talk about CPU contention as if there is only one CPU
in the system.  But all the same principles apply when a processor has
multiple CPUs, and knowing that the number of processes that can run at
any one time is equal to the number of CPUs, you can easily extrapolate
the information.

<p>The functions described in this section are all defined by the POSIX.1
and POSIX.1b standards (the <code>sched...</code> functions are POSIX.1b). 
However, POSIX does not define any semantics for the values that these
functions get and set.  In this chapter, the semantics are based on the
Linux kernel's implementation of the POSIX standard.  As you will see,
the Linux implementation is quite the inverse of what the authors of the
POSIX syntax had in mind.

<ul>
<li><a accesskey=1 href="#Absolute%20Priority">Absolute Priority</a>:                The first tier of priority.  Posix
<li><a accesskey=2 href="#Realtime%20Scheduling">Realtime Scheduling</a>:              Scheduling among the process nobility
<li><a accesskey=3 href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>:       Get/set scheduling policy, priority
<li><a accesskey=4 href="#Traditional%20Scheduling">Traditional Scheduling</a>:           Scheduling among the vulgar masses
</ul>

<p><hr>
Node:<a name="Absolute%20Priority">Absolute Priority</a>,
Next:<a rel=next accesskey=n href="#Realtime%20Scheduling">Realtime Scheduling</a>,
Up:<a rel=up accesskey=u href="#Priority">Priority</a>
<br>

<h4>Absolute Priority</h4>

<p>Every process has an absolute priority, and it is represented by a number. 
The higher the number, the higher the absolute priority.

<p>On systems of the past, and most systems today, all processes have
absolute priority 0 and this section is irrelevant.  In that case,
See <a href="#Traditional%20Scheduling">Traditional Scheduling</a>.  Absolute priorities were invented to
accommodate realtime systems, in which it is vital that certain processes
be able to respond to external events happening in real time, which
means they cannot wait around while some other process that <em>wants
to</em>, but doesn't <em>need to</em> run occupies the CPU.

<p>When two processes are in contention to use the CPU at any instant, the
one with the higher absolute priority always gets it.  This is true even if the
process with the lower priority is already using the CPU (i.e. the
scheduling is preemptive).  Of course, we're only talking about
processes that are running or "ready to run," which means they are
ready to execute instructions right now.  When a process blocks to wait
for something like I/O, its absolute priority is irrelevant.

<p><strong>Note:</strong>  The term "runnable" is a synonym for "ready to run."

<p>When two processes are running or ready to run and both have the same
absolute priority, it's more interesting.  In that case, who gets the
CPU is determined by the scheduling policy.  If the processes have
absolute priority 0, the traditional scheduling policy described in
<a href="#Traditional%20Scheduling">Traditional Scheduling</a> applies.  Otherwise, the policies described
in <a href="#Realtime%20Scheduling">Realtime Scheduling</a> apply.

<p>You normally give an absolute priority above 0 only to a process that
can be trusted not to hog the CPU.  Such processes are designed to block
(or terminate) after relatively short CPU runs.

<p>A process begins life with the same absolute priority as its parent
process.  Functions described in <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a> can
change it.

<p>Only a privileged process can change a process' absolute priority to
something other than <code>0</code>.  Only a privileged process or the
target process' owner can change its absolute priority at all.

<p>POSIX requires absolute priority values used with the realtime
scheduling policies to be consecutive with a range of at least 32.  On
Linux, they are 1 through 99.  The functions
<code>sched_get_priority_max</code> and <code>sched_set_priority_min</code> portably
tell you what the range is on a particular system.

<h5>Using Absolute Priority</h5>

<p>One thing you must keep in mind when designing real time applications is
that having higher absolute priority than any other process doesn't
guarantee the process can run continuously.  Two things that can wreck a
good CPU run are interrupts and page faults.

<p>Interrupt handlers live in that limbo between processes.  The CPU is
executing instructions, but they aren't part of any process.  An
interrupt will stop even the highest priority process.  So you must
allow for slight delays and make sure that no device in the system has
an interrupt handler that could cause too long a delay between
instructions for your process.

<p>Similarly, a page fault causes what looks like a straightforward
sequence of instructions to take a long time.  The fact that other
processes get to run while the page faults in is of no consequence,
because as soon as the I/O is complete, the high priority process will
kick them out and run again, but the wait for the I/O itself could be a
problem.  To neutralize this threat, use <code>mlock</code> or
<code>mlockall</code>.

<p>There are a few ramifications of the absoluteness of this priority on a
single-CPU system that you need to keep in mind when you choose to set a
priority and also when you're working on a program that runs with high
absolute priority.  Consider a process that has higher absolute priority
than any other process in the system and due to a bug in its program, it
gets into an infinite loop.  It will never cede the CPU.  You can't run
a command to kill it because your command would need to get the CPU in
order to run.  The errant program is in complete control.  It controls
the vertical, it controls the horizontal.

<p>There are two ways to avoid this: 1) keep a shell running somewhere with
a higher absolute priority.  2) keep a controlling terminal attached to
the high priority process group.  All the priority in the world won't
stop an interrupt handler from running and delivering a signal to the
process if you hit Control-C.

<p>Some systems use absolute priority as a means of allocating a fixed
percentage of CPU time to a process.  To do this, a super high priority
privileged process constantly monitors the process' CPU usage and raises
its absolute priority when the process isn't getting its entitled share
and lowers it when the process is exceeding it.

<p><strong>Note:</strong>  The absolute priority is sometimes called the "static
priority."  We don't use that term in this manual because it misses the
most important feature of the absolute priority:  its absoluteness.

<p><hr>
Node:<a name="Realtime%20Scheduling">Realtime Scheduling</a>,
Next:<a rel=next accesskey=n href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>,
Previous:<a rel=previous accesskey=p href="#Absolute%20Priority">Absolute Priority</a>,
Up:<a rel=up accesskey=u href="#Priority">Priority</a>
<br>

<h4>Realtime Scheduling</h4>

<p>Whenever two processes with the same absolute priority are ready to run,
the kernel has a decision to make, because only one can run at a time. 
If the processes have absolute priority 0, the kernel makes this decision
as described in <a href="#Traditional%20Scheduling">Traditional Scheduling</a>.  Otherwise, the decision
is as described in this section.

<p>If two processes are ready to run but have different absolute priorities,
the decision is much simpler, and is described in <a href="#Absolute%20Priority">Absolute Priority</a>.

<p>Each process has a scheduling policy.  For processes with absolute
priority other than zero, there are two available:

<ol type=1 start=1>
</p><li>First Come First Served
<li>Round Robin
</ol>

<p>The most sensible case is where all the processes with a certain
absolute priority have the same scheduling policy.  We'll discuss that
first.

<p>In Round Robin, processes share the CPU, each one running for a small
quantum of time ("time slice") and then yielding to another in a
circular fashion.  Of course, only processes that are ready to run and
have the same absolute priority are in this circle.

<p>In First Come First Served, the process that has been waiting the
longest to run gets the CPU, and it keeps it until it voluntarily
relinquishes the CPU, runs out of things to do (blocks), or gets
preempted by a higher priority process.

<p>First Come First Served, along with maximal absolute priority and
careful control of interrupts and page faults, is the one to use when a
process absolutely, positively has to run at full CPU speed or not at
all.

<p>Judicious use of <code>sched_yield</code> function invocations by processes
with First Come First Served scheduling policy forms a good compromise
between Round Robin and First Come First Served.

<p>To understand how scheduling works when processes of different scheduling
policies occupy the same absolute priority, you have to know the nitty
gritty details of how processes enter and exit the ready to run list:

<p>In both cases, the ready to run list is organized as a true queue, where
a process gets pushed onto the tail when it becomes ready to run and is
popped off the head when the scheduler decides to run it.  Note that
ready to run and running are two mutually exclusive states.  When the
scheduler runs a process, that process is no longer ready to run and no
longer in the ready to run list.  When the process stops running, it
may go back to being ready to run again.

<p>The only difference between a process that is assigned the Round Robin
scheduling policy and a process that is assigned First Come First Serve
is that in the former case, the process is automatically booted off the
CPU after a certain amount of time.  When that happens, the process goes
back to being ready to run, which means it enters the queue at the tail. 
The time quantum we're talking about is small.  Really small.  This is
not your father's timesharing.  For example, with the Linux kernel, the
round robin time slice is a thousand times shorter than its typical
time slice for traditional scheduling.

<p>A process begins life with the same scheduling policy as its parent process. 
Functions described in <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a> can change it.

<p>Only a privileged process can set the scheduling policy of a process
that has absolute priority higher than 0.

<p><hr>
Node:<a name="Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>,
Next:<a rel=next accesskey=n href="#Traditional%20Scheduling">Traditional Scheduling</a>,
Previous:<a rel=previous accesskey=p href="#Realtime%20Scheduling">Realtime Scheduling</a>,
Up:<a rel=up accesskey=u href="#Priority">Priority</a>
<br>

<h4>Basic Scheduling Functions</h4>

<p>This section describes functions in the GNU C library for setting the
absolute priority and scheduling policy of a process.

<p><strong>Portability Note:</strong>  On systems that have the functions in this
section, the macro _POSIX_PRIORITY_SCHEDULING is defined in
<code>&lt;unistd.h&gt;</code>.

<p>For the case that the scheduling policy is traditional scheduling, more
functions to fine tune the scheduling are in <a href="#Traditional%20Scheduling">Traditional Scheduling</a>.

<p>Don't try to make too much out of the naming and structure of these
functions.  They don't match the concepts described in this manual
because the functions are as defined by POSIX.1b, but the implementation
on systems that use the GNU C library is the inverse of what the POSIX
structure contemplates.  The POSIX scheme assumes that the primary
scheduling parameter is the scheduling policy and that the priority
value, if any, is a parameter of the scheduling policy.  In the
implementation, though, the priority value is king and the scheduling
policy, if anything, only fine tunes the effect of that priority.

<p>The symbols in this section are declared by including file <code>sched.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sched_param</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure describes an absolute priority.
<dl>
<dt><code>int sched_priority</code>
<dd>absolute priority value
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_setscheduler</b><i> (pid_t <var>pid</var>, int <var>policy</var>, const struct sched_param *<var>param</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function sets both the absolute priority and the scheduling policy
for a process.

<p>It assigns the absolute priority value given by <var>param</var> and the
scheduling policy <var>policy</var> to the process with Process ID <var>pid</var>,
or the calling process if <var>pid</var> is zero.  If <var>policy</var> is
negative, <code>sched_setscheduler</code> keeps the existing scheduling policy.

<p>The following macros represent the valid values for <var>policy</var>:

<dl>
<dt><code>SCHED_OTHER</code>
<dd>Traditional Scheduling
<br><dt><code>SCHED_FIFO</code>
<dd>First In First Out
<br><dt><code>SCHED_RR</code>
<dd>Round Robin
</dl>

<p>On success, the return value is <code>0</code>.  Otherwise, it is <code>-1</code>
and <code>ERRNO</code> is set accordingly.  The <code>errno</code> values specific
to this function are:

<dl>
<dt><code>EPERM</code>
<dd>
<ul>
<li>The calling process does not have <code>CAP_SYS_NICE</code> permission and
<var>policy</var> is not <code>SCHED_OTHER</code> (or it's negative and the
existing policy is not <code>SCHED_OTHER</code>.

<li>The calling process does not have <code>CAP_SYS_NICE</code> permission and its
owner is not the target process' owner.  I.e.  the effective uid of the
calling process is neither the effective nor the real uid of process
<var>pid</var>. 
</ul>

<br><dt><code>ESRCH</code>
<dd>There is no process with pid <var>pid</var> and <var>pid</var> is not zero.

<br><dt><code>EINVAL</code>
<dd>
<ul>
<li><var>policy</var> does not identify an existing scheduling policy.

<li>The absolute priority value identified by *<var>param</var> is outside the
valid range for the scheduling policy <var>policy</var> (or the existing
scheduling policy if <var>policy</var> is negative) or <var>param</var> is
null.  <code>sched_get_priority_max</code> and <code>sched_get_priority_min</code>
tell you what the valid range is.

<li><var>pid</var> is negative. 
</ul>
</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_getscheduler</b><i> (pid_t <var>pid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function returns the scheduling policy assigned to the process with
Process ID (pid) <var>pid</var>, or the calling process if <var>pid</var> is zero.

<p>The return value is the scheduling policy.  See
<code>sched_setscheduler</code> for the possible values.

<p>If the function fails, the return value is instead <code>-1</code> and
<code>errno</code> is set accordingly.

<p>The <code>errno</code> values specific to this function are:

<dl>

<br><dt><code>ESRCH</code>
<dd>There is no process with pid <var>pid</var> and it is not zero.

<br><dt><code>EINVAL</code>
<dd><var>pid</var> is negative.

</dl>

<p>Note that this function is not an exact mate to <code>sched_setscheduler</code>
because while that function sets the scheduling policy and the absolute
priority, this function gets only the scheduling policy.  To get the
absolute priority, use <code>sched_getparam</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_setparam</b><i> (pid_t <var>pid</var>, const struct sched_param *<var>param</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function sets a process' absolute priority.

<p>It is functionally identical to <code>sched_setscheduler</code> with
<var>policy</var> = <code>-1</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_getparam</b><i> (pid_t <var>pid</var>, const struct sched_param *<var>param</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function returns a process' absolute priority.

<p><var>pid</var> is the Process ID (pid) of the process whose absolute priority
you want to know.

<p><var>param</var> is a pointer to a structure in which the function stores the
absolute priority of the process.

<p>On success, the return value is <code>0</code>.  Otherwise, it is <code>-1</code>
and <code>ERRNO</code> is set accordingly.  The <code>errno</code> values specific
to this function are:

<dl>

<br><dt><code>ESRCH</code>
<dd>There is no process with pid <var>pid</var> and it is not zero.

<br><dt><code>EINVAL</code>
<dd><var>pid</var> is negative.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_get_priority_min</b><i> (int *<var>policy</var>);
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function returns the lowest absolute priority value that is
allowable for a process with scheduling policy <var>policy</var>.

<p>On Linux, it is 0 for SCHED_OTHER and 1 for everything else.

<p>On success, the return value is <code>0</code>.  Otherwise, it is <code>-1</code>
and <code>ERRNO</code> is set accordingly.  The <code>errno</code> values specific
to this function are:

<dl>
<dt><code>EINVAL</code>
<dd><var>policy</var> does not identify an existing scheduling policy. 
</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_get_priority_max</b><i> (int *<var>policy</var>);
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function returns the highest absolute priority value that is
allowable for a process that with scheduling policy <var>policy</var>.

<p>On Linux, it is 0 for SCHED_OTHER and 99 for everything else.

<p>On success, the return value is <code>0</code>.  Otherwise, it is <code>-1</code>
and <code>ERRNO</code> is set accordingly.  The <code>errno</code> values specific
to this function are:

<dl>
<dt><code>EINVAL</code>
<dd><var>policy</var> does not identify an existing scheduling policy. 
</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_rr_get_interval</b><i> (pid_t <var>pid</var>, struct timespec *<var>interval</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function returns the length of the quantum (time slice) used with
the Round Robin scheduling policy, if it is used, for the process with
Process ID <var>pid</var>.

<p>It returns the length of time as <var>interval</var>.

<p>With a Linux kernel, the round robin time slice is always 150
microseconds, and <var>pid</var> need not even be a real pid.

<p>The return value is <code>0</code> on success and in the pathological case
that it fails, the return value is <code>-1</code> and <code>errno</code> is set
accordingly.  There is nothing specific that can go wrong with this
function, so there are no specific <code>errno</code> values.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sched_yield</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>This function voluntarily gives up the process' claim on the CPU.

<p>Technically, <code>sched_yield</code> causes the calling process to be made
immediately ready to run (as opposed to running, which is what it was
before).  This means that if it has absolute priority higher than 0, it
gets pushed onto the tail of the queue of processes that share its
absolute priority and are ready to run, and it will run again when its
turn next arrives.  If its absolute priority is 0, it is more
complicated, but still has the effect of yielding the CPU to other
processes.

<p>If there are no other processes that share the calling process' absolute
priority, this function doesn't have any effect.

<p>To the extent that the containing program is oblivious to what other
processes in the system are doing and how fast it executes, this
function appears as a no-op.

<p>The return value is <code>0</code> on success and in the pathological case
that it fails, the return value is <code>-1</code> and <code>errno</code> is set
accordingly.  There is nothing specific that can go wrong with this
function, so there are no specific <code>errno</code> values.

</td></tr>
</table>

<p><hr>
Node:<a name="Traditional%20Scheduling">Traditional Scheduling</a>,
Previous:<a rel=previous accesskey=p href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>,
Up:<a rel=up accesskey=u href="#Priority">Priority</a>
<br>

<h4>Traditional Scheduling</h4>

<p>This section is about the scheduling among processes whose absolute
priority is 0.  When the system hands out the scraps of CPU time that
are left over after the processes with higher absolute priority have
taken all they want, the scheduling described herein determines who
among the great unwashed processes gets them.

<ul>
<li><a accesskey=1 href="#Traditional%20Scheduling%20Intro">Traditional Scheduling Intro</a>: 
<li><a accesskey=2 href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>: 
</ul>

<p><hr>
Node:<a name="Traditional%20Scheduling%20Intro">Traditional Scheduling Intro</a>,
Next:<a rel=next accesskey=n href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>,
Up:<a rel=up accesskey=u href="#Traditional%20Scheduling">Traditional Scheduling</a>
<br>

<h5>Introduction To Traditional Scheduling</h5>

<p>Long before there was absolute priority (See <a href="#Absolute%20Priority">Absolute Priority</a>),
Unix systems were scheduling the CPU using this system.  When Posix came
in like the Romans and imposed absolute priorities to accommodate the
needs of realtime processing, it left the indigenous Absolute Priority
Zero processes to govern themselves by their own familiar scheduling
policy.

<p>Indeed, absolute priorities higher than zero are not available on many
systems today and are not typically used when they are, being intended
mainly for computers that do realtime processing.  So this section
describes the only scheduling many programmers need to be concerned
about.

<p>But just to be clear about the scope of this scheduling: Any time a
process with a absolute priority of 0 and a process with an absolute
priority higher than 0 are ready to run at the same time, the one with
absolute priority 0 does not run.  If it's already running when the
higher priority ready-to-run process comes into existence, it stops
immediately.

<p>In addition to its absolute priority of zero, every process has another
priority, which we will refer to as "dynamic priority" because it changes
over time.  The dynamic priority is meaningless for processes with
an absolute priority higher than zero.

<p>The dynamic priority sometimes determines who gets the next turn on the
CPU.  Sometimes it determines how long turns last.  Sometimes it
determines whether a process can kick another off the CPU.

<p>In Linux, the value is a combination of these things, but mostly it is
just determines the length of the time slice.  The higher a process'
dynamic priority, the longer a shot it gets on the CPU when it gets one. 
If it doesn't use up its time slice before giving up the CPU to do
something like wait for I/O, it is favored for getting the CPU back when
it's ready for it, to finish out its time slice.  Other than that,
selection of processes for new time slices is basically round robin. 
But the scheduler does throw a bone to the low priority processes: A
process' dynamic priority rises every time it is snubbed in the
scheduling process.  In Linux, even the fat kid gets to play.

<p>The fluctuation of a process' dynamic priority is regulated by another
value: The "nice" value.  The nice value is an integer, usually in the
range -20 to 20, and represents an upper limit on a process' dynamic
priority.  The higher the nice number, the lower that limit.

<p>On a typical Linux system, for example, a process with a nice value of
20 can get only 10 milliseconds on the CPU at a time, whereas a process
with a nice value of -20 can achieve a high enough priority to get 400
milliseconds.

<p>The idea of the nice value is deferential courtesy.  In the beginning,
in the Unix garden of Eden, all processes shared equally in the bounty
of the computer system.  But not all processes really need the same
share of CPU time, so the nice value gave a courteous process the
ability to refuse its equal share of CPU time that others might prosper. 
Hence, the higher a process' nice value, the nicer the process is. 
(Then a snake came along and offered some process a negative nice value
and the system became the crass resource allocation system we know
today).

<p>Dynamic priorities tend upward and downward with an objective of
smoothing out allocation of CPU time and giving quick response time to
infrequent requests.  But they never exceed their nice limits, so on a
heavily loaded CPU, the nice value effectively determines how fast a
process runs.

<p>In keeping with the socialistic heritage of Unix process priority, a
process begins life with the same nice value as its parent process and
can raise it at will.  A process can also raise the nice value of any
other process owned by the same user (or effective user).  But only a
privileged process can lower its nice value.  A privileged process can
also raise or lower another process' nice value.

<p>GNU C Library functions for getting and setting nice values are described in
See <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<p><hr>
Node:<a name="Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>,
Previous:<a rel=previous accesskey=p href="#Traditional%20Scheduling%20Intro">Traditional Scheduling Intro</a>,
Up:<a rel=up accesskey=u href="#Traditional%20Scheduling">Traditional Scheduling</a>
<br>

<h5>Functions For Traditional Scheduling</h5>

<p>This section describes how you can read and set the nice value of a
process.  All these symbols are declared in <code>sys/resource.h</code>.

<p>The function and macro names are defined by POSIX, and refer to
"priority," but the functions actually have to do with nice values, as
the terms are used both in the manual and POSIX.

<p>The range of valid nice values depends on the kernel, but typically it
runs from <code>-20</code> to <code>20</code>.  A lower nice value corresponds to
higher priority for the process.  These constants describe the range of
priority values:

<dl>
<dt><code>PRIO_MIN</code>
<dd>The lowest valid nice value.

<br><dt><code>PRIO_MAX</code>
<dd>The highest valid nice value. 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpriority</b><i> (int <var>class</var>, int <var>id</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Return the nice value of a set of processes; <var>class</var> and <var>id</var>
specify which ones (see below).  If the processes specified do not all
have the same nice value, this returns the lowest value that any of them
has.

<p>On success, the return value is <code>0</code>.  Otherwise, it is <code>-1</code>
and <code>ERRNO</code> is set accordingly.  The <code>errno</code> values specific
to this function are:

<dl>
<dt><code>ESRCH</code>
<dd>The combination of <var>class</var> and <var>id</var> does not match any existing
process.

<br><dt><code>EINVAL</code>
<dd>The value of <var>class</var> is not valid. 
</dl>

<p>If the return value is <code>-1</code>, it could indicate failure, or it could
be the nice value.  The only way to make certain is to set <code>errno =
0</code> before calling <code>getpriority</code>, then use <code>errno != 0</code>
afterward as the criterion for failure. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setpriority</b><i> (int <var>class</var>, int <var>id</var>, int <var>niceval</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Set the nice value of a set of processes to <var>niceval</var>; <var>class</var>
and <var>id</var> specify which ones (see below).

<p>The return value is <code>0</code> on success, and <code>-1</code> on
failure.  The following <code>errno</code> error condition are possible for
this function:

<dl>
<dt><code>ESRCH</code>
<dd>The combination of <var>class</var> and <var>id</var> does not match any existing
process.

<br><dt><code>EINVAL</code>
<dd>The value of <var>class</var> is not valid.

<br><dt><code>EPERM</code>
<dd>The call would set the nice value of a process which is owned by a different
user than the calling process (i.e. the target process' real or effective
uid does not match the calling process' effective uid) and the calling
process does not have <code>CAP_SYS_NICE</code> permission.

<br><dt><code>EACCES</code>
<dd>The call would lower the process' nice value and the process does not have
<code>CAP_SYS_NICE</code> permission. 
</dl>

</td></tr>
</table>

<p>The arguments <var>class</var> and <var>id</var> together specify a set of
processes in which you are interested.  These are the possible values of
<var>class</var>:

<dl>
<dt><code>PRIO_PROCESS</code>
<dd>One particular process.  The argument <var>id</var> is a process ID (pid).

<br><dt><code>PRIO_PGRP</code>
<dd>All the processes in a particular process group.  The argument <var>id</var> is
a process group ID (pgid).

<br><dt><code>PRIO_USER</code>
<dd>All the processes owned by a particular user (i.e. whose real uid
indicates the user).  The argument <var>id</var> is a user ID (uid). 
</dl>

<p>If the argument <var>id</var> is 0, it stands for the calling process, its
process group, or its owner (real uid), according to <var>class</var>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>nice</b><i> (int <var>increment</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Increment the nice value of the calling process by <var>increment</var>. 
The return value is the new nice value on success, and <code>-1</code> on
failure.  In the case of failure, <code>errno</code> will be set to the
same values as for <code>setpriority</code>.

<p>Here is an equivalent definition of <code>nice</code>:

<br><pre>int
nice (int increment)
{
  int result, old = getpriority (PRIO_PROCESS, 0);
  result = setpriority (PRIO_PROCESS, 0, old + increment);
  if (result != -1)
      return old + increment;
  else
      return -1;
}
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Memory%20Resources">Memory Resources</a>,
Next:<a rel=next accesskey=n href="#Processor%20Resources">Processor Resources</a>,
Previous:<a rel=previous accesskey=p href="#Priority">Priority</a>,
Up:<a rel=up accesskey=u href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<br>

<h3>Querying memory available resources</h3>

<p>The amount of memory available in the system and the way it is organized
determines oftentimes the way programs can and have to work.  For
functions like <code>mmap</code> it is necessary to know about the size of
individual memory pages and knowing how much memory is available enables
a program to select appropriate sizes for, say, caches.  Before we get
into these details a few words about memory subsystems in traditional
Unix systems will be given.

<ul>
<li><a accesskey=1 href="#Memory%20Subsystem">Memory Subsystem</a>:            Overview about traditional Unix memory handling. 
<li><a accesskey=2 href="#Query%20Memory%20Parameters">Query Memory Parameters</a>:     How to get information about the memory
                                subsystem? 
</ul>

<p><hr>
Node:<a name="Memory%20Subsystem">Memory Subsystem</a>,
Next:<a rel=next accesskey=n href="#Query%20Memory%20Parameters">Query Memory Parameters</a>,
Up:<a rel=up accesskey=u href="#Memory%20Resources">Memory Resources</a>
<br>

<h4>Overview about traditional Unix memory handling</h4>

<p>Unix systems normally provide processes virtual address spaces.  This
means that the addresses of the memory regions do not have to correspond
directly to the addresses of the actual physical memory which stores the
data.  An extra level of indirection is introduced which translates
virtual addresses into physical addresses.  This is normally done by the
hardware of the processor.

<p>Using a virtual address space has several advantage.  The most important
is process isolation.  The different processes running on the system
cannot interfere directly with each other.  No process can write into
the address space of another process (except when shared memory is used
but then it is wanted and controlled).

<p>Another advantage of virtual memory is that the address space the
processes see can actually be larger than the physical memory available. 
The physical memory can be extended by storage on an external media
where the content of currently unused memory regions is stored.  The
address translation can then intercept accesses to these memory regions
and make memory content available again by loading the data back into
memory.  This concept makes it necessary that programs which have to use
lots of memory know the difference between available virtual address
space and available physical memory.  If the working set of virtual
memory of all the processes is larger than the available physical memory
the system will slow down dramatically due to constant swapping of
memory content from the memory to the storage media and back.  This is
called "thrashing".

<p>A final aspect of virtual memory which is important and follows from
what is said in the last paragraph is the granularity of the virtual
address space handling.  When we said that the virtual address handling
stores memory content externally it cannot do this on a byte-by-byte
basis.  The administrative overhead does not allow this (leaving alone
the processor hardware).  Instead several thousand bytes are handled
together and form a <dfn>page</dfn>.  The size of each page is always a power
of two byte.  The smallest page size in use today is 4096, with 8192,
16384, and 65536 being other popular sizes.

<p><hr>
Node:<a name="Query%20Memory%20Parameters">Query Memory Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Memory%20Subsystem">Memory Subsystem</a>,
Up:<a rel=up accesskey=u href="#Memory%20Resources">Memory Resources</a>
<br>

<h4>How to get information about the memory subsystem?</h4>

<p>The page size of the virtual memory the process sees is essential to
know in several situations.  Some programming interface (e.g.,
<code>mmap</code>, see <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>) require the user to provide
information adjusted to the page size.  In the case of <code>mmap</code> is it
necessary to provide a length argument which is a multiple of the page
size.  Another place where the knowledge about the page size is useful
is in memory allocation.  If one allocates pieces of memory in larger
chunks which are then subdivided by the application code it is useful to
adjust the size of the larger blocks to the page size.  If the total
memory requirement for the block is close (but not larger) to a multiple
of the page size the kernel's memory handling can work more effectively
since it only has to allocate memory pages which are fully used.  (To do
this optimization it is necessary to know a bit about the memory
allocator which will require a bit of memory itself for each block and
this overhead must not push the total size over the page size multiple.

<p>The page size traditionally was a compile time constant.  But recent
development of processors changed this.  Processors now support
different page sizes and they can possibly even vary among different
processes on the same system.  Therefore the system should be queried at
runtime about the current page size and no assumptions (except about it
being a power of two) should be made.

<p>The correct interface to query about the page size is <code>sysconf</code>
(see <a href="#Sysconf%20Definition">Sysconf Definition</a>) with the parameter <code>_SC_PAGESIZE</code>. 
There is a much older interface available, too.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpagesize</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getpagesize</code> function returns the page size of the process. 
This value is fixed for the runtime of the process but can vary in
different runs of the application.

<p>The function is declared in <code>unistd.h</code>. 
</td></tr>
</table>

<p>Widely available on System&nbsp;V derived systems is a method to get
information about the physical memory the system has.  The call

<br><pre>  sysconf (_SC_PHYS_PAGES)
</pre>

<p>returns the total number of pages of physical the system has. 
This does not mean all this memory is available.  This information can
be found using

<br><pre>  sysconf (_SC_AVPHYS_PAGES)
</pre>

<p>These two values help to optimize applications.  The value returned for
<code>_SC_AVPHYS_PAGES</code> is the amount of memory the application can use
without hindering any other process (given that no other process
increases its memory usage).  The value returned for
<code>_SC_PHYS_PAGES</code> is more or less a hard limit for the working set. 
If all applications together constantly use more than that amount of
memory the system is in trouble.

<p>The GNU C library provides in addition to these already described way to
get this information two functions.  They are declared in the file
<code>sys/sysinfo.h</code>.  Programmers should prefer to use the
<code>sysconf</code> method described above.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>get_phys_pages</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>get_phys_pages</code> function returns the total number of pages of
physical the system has.  To get the amount of memory this number has to
be multiplied by the page size.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>get_avphys_pages</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>get_phys_pages</code> function returns the number of available pages of
physical the system has.  To get the amount of memory this number has to
be multiplied by the page size.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p><hr>
Node:<a name="Processor%20Resources">Processor Resources</a>,
Previous:<a rel=previous accesskey=p href="#Memory%20Resources">Memory Resources</a>,
Up:<a rel=up accesskey=u href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<br>

<h3>Learn about the processors available</h3>

<p>The use of threads or processes with shared memory allows an application
to take advantage of all the processing power a system can provide.  If
the task can be parallelized the optimal way to write an application is
to have at any time as many processes running as there are processors. 
To determine the number of processors available to the system one can
run

<br><pre>  sysconf (_SC_NPROCESSORS_CONF)
</pre>

<p>which returns the number of processors the operating system configured. 
But it might be possible for the operating system to disable individual
processors and so the call

<br><pre>  sysconf (_SC_NPROCESSORS_ONLN)
</pre>

<p>returns the number of processors which are currently inline (i.e.,
available).

<p>For these two pieces of information the GNU C library also provides
functions to get the information directly.  The functions are declared
in <code>sys/sysinfo.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>get_nprocs_conf</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>get_nprocs_conf</code> function returns the number of processors the
operating system configured.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>get_nprocs</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>get_nprocs</code> function returns the number of available processors.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>Before starting more threads it should be checked whether the processors
are not already overused.  Unix systems calculate something called the
<dfn>load average</dfn>.  This is a number indicating how many processes were
running.  This number is average over different periods of times
(normally 1, 5, and 15 minutes).

<p>
<table width="100%">
<tr>
<td align="left">int <b>getloadavg</b><i> (double <var>loadavg</var>[], int <var>nelem</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function gets the 1, 5 and 15 minute load averages of the
system. The values are placed in <var>loadavg</var>.  <code>getloadavg</code> will
place at most <var>nelem</var> elements into the array but never more than
three elements.  The return value is the number of elements written to
<var>loadavg</var>, or -1 on error.

<p>This function is declared in <code>stdlib.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Non-Local%20Exits">Non-Local Exits</a>,
Next:<a rel=next accesskey=n href="#Signal%20Handling">Signal Handling</a>,
Previous:<a rel=previous accesskey=p href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Non-Local Exits</h2>

<p>Sometimes when your program detects an unusual situation inside a deeply
nested set of function calls, you would like to be able to immediately
return to an outer level of control.  This section describes how you can
do such <dfn>non-local exits</dfn> using the <code>setjmp</code> and <code>longjmp</code>
functions.

<ul>
<li><a accesskey=1 href="#Non-Local%20Intro">Intro</a>:         When and how to use these facilities. 
<li><a accesskey=2 href="#Non-Local%20Details">Details</a>:     Functions for non-local exits. 
<li><a accesskey=3 href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>:   Portability issues. 
<li><a accesskey=4 href="#System%20V%20contexts">System V contexts</a>:             Complete context control a la System V. 
</ul>

<p><hr>
Node:<a name="Non-Local%20Intro">Non-Local Intro</a>,
Next:<a rel=next accesskey=n href="#Non-Local%20Details">Non-Local Details</a>,
Up:<a rel=up accesskey=u href="#Non-Local%20Exits">Non-Local Exits</a>
<br>

<h3>Introduction to Non-Local Exits</h3>

<p>As an example of a situation where a non-local exit can be useful,
suppose you have an interactive program that has a "main loop" that
prompts for and executes commands.  Suppose the "read" command reads
input from a file, doing some lexical analysis and parsing of the input
while processing it.  If a low-level input error is detected, it would
be useful to be able to return immediately to the "main loop" instead
of having to make each of the lexical analysis, parsing, and processing
phases all have to explicitly deal with error situations initially
detected by nested calls.

<p>(On the other hand, if each of these phases has to do a substantial
amount of cleanup when it exits--such as closing files, deallocating
buffers or other data structures, and the like--then it can be more
appropriate to do a normal return and have each phase do its own
cleanup, because a non-local exit would bypass the intervening phases and
their associated cleanup code entirely.  Alternatively, you could use a
non-local exit but do the cleanup explicitly either before or after
returning to the "main loop".)

<p>In some ways, a non-local exit is similar to using the <code>return</code>
statement to return from a function.  But while <code>return</code> abandons
only a single function call, transferring control back to the point at
which it was called, a non-local exit can potentially abandon many
levels of nested function calls.

<p>You identify return points for non-local exits by calling the function
<code>setjmp</code>.  This function saves information about the execution
environment in which the call to <code>setjmp</code> appears in an object of
type <code>jmp_buf</code>.  Execution of the program continues normally after
the call to <code>setjmp</code>, but if an exit is later made to this return
point by calling <code>longjmp</code> with the corresponding <code>jmp_buf</code>
object, control is transferred back to the point where <code>setjmp</code> was
called.  The return value from <code>setjmp</code> is used to distinguish
between an ordinary return and a return made by a call to
<code>longjmp</code>, so calls to <code>setjmp</code> usually appear in an <code>if</code>
statement.

<p>Here is how the example program described above might be set up:

<br><pre>

#include &lt;setjmp.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

jmp_buf main_loop;

void
abort_to_main_loop (int status)
{
  longjmp (main_loop, status);
}

int
main (void)
{
  while (1)
    if (setjmp (main_loop))
      puts ("Back at main loop....");
    else
      do_command ();
}


void
do_command (void)
{
  char buffer[128];
  if (fgets (buffer, 128, stdin) == NULL)
    abort_to_main_loop (-1);
  else
    exit (EXIT_SUCCESS);
}
</pre>

<p>The function <code>abort_to_main_loop</code> causes an immediate transfer of
control back to the main loop of the program, no matter where it is
called from.

<p>The flow of control inside the <code>main</code> function may appear a little
mysterious at first, but it is actually a common idiom with
<code>setjmp</code>.  A normal call to <code>setjmp</code> returns zero, so the
"else" clause of the conditional is executed.  If
<code>abort_to_main_loop</code> is called somewhere within the execution of
<code>do_command</code>, then it actually appears as if the <em>same</em> call
to <code>setjmp</code> in <code>main</code> were returning a second time with a value
of <code>-1</code>.

<p>So, the general pattern for using <code>setjmp</code> looks something like:

<br><pre>if (setjmp (<var>buffer</var>))
  /* Code to clean up after premature return. */
  <small>...</small>
else
  /* Code to be executed normally after setting up the return point. */
  <small>...</small>
</pre>

<p><hr>
Node:<a name="Non-Local%20Details">Non-Local Details</a>,
Next:<a rel=next accesskey=n href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>,
Previous:<a rel=previous accesskey=p href="#Non-Local%20Intro">Non-Local Intro</a>,
Up:<a rel=up accesskey=u href="#Non-Local%20Exits">Non-Local Exits</a>
<br>

<h3>Details of Non-Local Exits</h3>

<p>Here are the details on the functions and data structures used for
performing non-local exits.  These facilities are declared in
<code>setjmp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>jmp_buf</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Objects of type <code>jmp_buf</code> hold the state information to
be restored by a non-local exit.  The contents of a <code>jmp_buf</code>
identify a specific place to return to. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setjmp</b><i> (jmp_buf <var>state</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When called normally, <code>setjmp</code> stores information about the
execution state of the program in <var>state</var> and returns zero.  If
<code>longjmp</code> is later used to perform a non-local exit to this
<var>state</var>, <code>setjmp</code> returns a nonzero value. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>longjmp</b><i> (jmp_buf <var>state</var>, int <var>value</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function restores current execution to the state saved in
<var>state</var>, and continues execution from the call to <code>setjmp</code> that
established that return point.  Returning from <code>setjmp</code> by means of
<code>longjmp</code> returns the <var>value</var> argument that was passed to
<code>longjmp</code>, rather than <code>0</code>.  (But if <var>value</var> is given as
<code>0</code>, <code>setjmp</code> returns <code>1</code>). 
</td></tr>
</table>

<p>There are a lot of obscure but important restrictions on the use of
<code>setjmp</code> and <code>longjmp</code>.  Most of these restrictions are
present because non-local exits require a fair amount of magic on the
part of the C compiler and can interact with other parts of the language
in strange ways.

<p>The <code>setjmp</code> function is actually a macro without an actual
function definition, so you shouldn't try to <code>#undef</code> it or take
its address.  In addition, calls to <code>setjmp</code> are safe in only the
following contexts:

<ul>
<li>As the test expression of a selection or iteration
statement (such as <code>if</code>, <code>switch</code>, or <code>while</code>).

<li>As one operand of a equality or comparison operator that appears as the
test expression of a selection or iteration statement.  The other
operand must be an integer constant expression.

<li>As the operand of a unary <code>!</code> operator, that appears as the
test expression of a selection or iteration statement.

<li>By itself as an expression statement. 
</ul>

<p>Return points are valid only during the dynamic extent of the function
that called <code>setjmp</code> to establish them.  If you <code>longjmp</code> to
a return point that was established in a function that has already
returned, unpredictable and disastrous things are likely to happen.

<p>You should use a nonzero <var>value</var> argument to <code>longjmp</code>.  While
<code>longjmp</code> refuses to pass back a zero argument as the return value
from <code>setjmp</code>, this is intended as a safety net against accidental
misuse and is not really good programming style.

<p>When you perform a non-local exit, accessible objects generally retain
whatever values they had at the time <code>longjmp</code> was called.  The
exception is that the values of automatic variables local to the
function containing the <code>setjmp</code> call that have been changed since
the call to <code>setjmp</code> are indeterminate, unless you have declared
them <code>volatile</code>.

<p><hr>
Node:<a name="Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>,
Next:<a rel=next accesskey=n href="#System%20V%20contexts">System V contexts</a>,
Previous:<a rel=previous accesskey=p href="#Non-Local%20Details">Non-Local Details</a>,
Up:<a rel=up accesskey=u href="#Non-Local%20Exits">Non-Local Exits</a>
<br>

<h3>Non-Local Exits and Signals</h3>

<p>In BSD Unix systems, <code>setjmp</code> and <code>longjmp</code> also save and
restore the set of blocked signals; see <a href="#Blocking%20Signals">Blocking Signals</a>.  However,
the POSIX.1 standard requires <code>setjmp</code> and <code>longjmp</code> not to
change the set of blocked signals, and provides an additional pair of
functions (<code>sigsetjmp</code> and <code>siglongjmp</code>) to get the BSD
behavior.

<p>The behavior of <code>setjmp</code> and <code>longjmp</code> in the GNU library is
controlled by feature test macros; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.  The
default in the GNU system is the POSIX.1 behavior rather than the BSD
behavior.

<p>The facilities in this section are declared in the header file
<code>setjmp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>sigjmp_buf</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>jmp_buf</code>, except that it can also store state
information about the set of blocked signals. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigsetjmp</b><i> (sigjmp_buf <var>state</var>, int <var>savesigs</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>setjmp</code>.  If <var>savesigs</var> is nonzero, the set
of blocked signals is saved in <var>state</var> and will be restored if a
<code>siglongjmp</code> is later performed with this <var>state</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>siglongjmp</b><i> (sigjmp_buf <var>state</var>, int <var>value</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>longjmp</code> except for the type of its <var>state</var>
argument.  If the <code>sigsetjmp</code> call that set this <var>state</var> used a
nonzero <var>savesigs</var> flag, <code>siglongjmp</code> also restores the set of
blocked signals. 
</td></tr>
</table>

<p><hr>
Node:<a name="System%20V%20contexts">System V contexts</a>,
Previous:<a rel=previous accesskey=p href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>,
Up:<a rel=up accesskey=u href="#Non-Local%20Exits">Non-Local Exits</a>
<br>

<h3>Complete Context Control</h3>

<p>The Unix standard one more set of function to control the execution path
and these functions are more powerful than those discussed in this
chapter so far.  These function were part of the original System&nbsp;V
API and by this route were added to the Unix API.  Beside on branded
Unix implementations these interfaces are not widely available.  Not all
platforms and/or architectures the GNU C Library is available on provide
this interface.  Use <code>configure</code> to detect the availability.

<p>Similar to the <code>jmp_buf</code> and <code>sigjmp_buf</code> types used for the
variables to contain the state of the <code>longjmp</code> functions the
interfaces of interest here have an appropriate type as well.  Objects
of this type are normally much larger since more information is
contained.  The type is also used in a few more places as we will see. 
The types and functions described in this section are all defined and
declared respectively in the <code>ucontext.h</code> header file.

<p>
<table width="100%">
<tr>
<td align="left"><b>ucontext_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>ucontext_t</code> type is defined as a structure with as least the
following elements:

<dl>
<dt><code>ucontext_t *uc_link</code>
<dd>This is a pointer to the next context structure which is used if the
context described in the current structure returns.

<br><dt><code>sigset_t uc_sigmask</code>
<dd>Set of signals which are blocked when this context is used.

<br><dt><code>stack_t uc_stack</code>
<dd>Stack used for this context.  The value need not be (and normally is
not) the stack pointer.  See <a href="#Signal%20Stack">Signal Stack</a>.

<br><dt><code>mcontext_t uc_mcontext</code>
<dd>This element contains the actual state of the process.  The
<code>mcontext_t</code> type is also defined in this header but the definition
should be treated as opaque.  Any use of knowledge of the type makes
applications less portable.

</dl>
</td></tr>
</table>

<p>Objects of this type have to be created by the user.  The initialization
and modification happens through one of the following functions:

<p>
<table width="100%">
<tr>
<td align="left">int <b>getcontext</b><i> (ucontext_t *<var>ucp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getcontext</code> function initializes the variable pointed to by
<var>ucp</var> with the context of the calling thread.  The context contains
the content of the registers, the signal mask, and the current stack. 
Executing the contents would start at the point where the
<code>getcontext</code> call just returned.

<p>The function returns <code>0</code> if successful.  Otherwise it returns
<code>-1</code> and sets <var>errno</var> accordingly. 
</td></tr>
</table>

<p>The <code>getcontext</code> function is similar to <code>setjmp</code> but it does
not provide an indication of whether the function returns for the first
time or whether the initialized context was used and the execution is
resumed at just that point.  If this is necessary the user has to take
determine this herself.  This must be done carefully since the context
contains registers which might contain register variables.  This is a
good situation to define variables with <code>volatile</code>.

<p>Once the context variable is initialized it can be used as is or it can
be modified.  The latter is normally done to implement co-routines or
similar constructs.  The <code>makecontext</code> function is what has to be
used to do that.

<p>
<table width="100%">
<tr>
<td align="left">void <b>makecontext</b><i> (ucontext_t *<var>ucp</var>, void (*<var>func</var>) (void), int <var>argc</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <var>ucp</var> parameter passed to the <code>makecontext</code> shall be
initialized by a call to <code>getcontext</code>.  The context will be
modified to in a way so that if the context is resumed it will start by
calling the function <code>func</code> which gets <var>argc</var> integer arguments
passed.  The integer arguments which are to be passed should follow the
<var>argc</var> parameter in the call to <code>makecontext</code>.

<p>Before the call to this function the <code>uc_stack</code> and <code>uc_link</code>
element of the <var>ucp</var> structure should be initialized.  The
<code>uc_stack</code> element describes the stack which is used for this
context.  No two contexts which are used at the same time should use the
same memory region for a stack.

<p>The <code>uc_link</code> element of the object pointed to by <var>ucp</var> should
be a pointer to the context to be executed when the function <var>func</var>
returns or it should be a null pointer.  See <code>setcontext</code> for more
information about the exact use. 
</td></tr>
</table>

<p>While allocating the memory for the stack one has to be careful.  Most
modern processors keep track of whether a certain memory region is
allowed to contain code which is executed or not.  Data segments and
heap memory is normally not tagged to allow this.  The result is that
programs would fail.  Examples for such code include the calling
sequences the GNU C compiler generates for calls to nested functions. 
Safe ways to allocate stacks correctly include using memory on the
original threads stack or explicitly allocate memory tagged for
execution using (see <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>).

<p><strong>Compatibility note</strong>: The current Unix standard is very imprecise
about the way the stack is allocated.  All implementations seem to agree
that the <code>uc_stack</code> element must be used but the values stored in
the elements of the <code>stack_t</code> value are unclear.  The GNU C library
and most other Unix implementations require the <code>ss_sp</code> value of
the <code>uc_stack</code> element to point to the base of the memory region
allocated for the stack and the size of the memory region is stored in
<code>ss_size</code>.  There are implements out there which require
<code>ss_sp</code> to be set to the value the stack pointer will have (which
can depending on the direction the stack grows be different).  This
difference makes the <code>makecontext</code> function hard to use and it
requires detection of the platform at compile time.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setcontext</b><i> (const ucontext_t *<var>ucp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>setcontext</code> function restores the context described by
<var>ucp</var>.  The context is not modified and can be reused as often as
wanted.

<p>If the context was created by <code>getcontext</code> execution resumes with
the registers filled with the same values and the same stack as if the
<code>getcontext</code> call just returned.

<p>If the context was modified with a call to <code>makecontext</code> execution
continues with the function passed to <code>makecontext</code> which gets the
specified parameters passed.  If this function returns execution is
resumed in the context which was referenced by the <code>uc_link</code>
element of the context structure passed to <code>makecontext</code> at the
time of the call.  If <code>uc_link</code> was a null pointer the application
terminates in this case.

<p>Since the context contains information about the stack no two threads
should use the same context at the same time.  The result in most cases
would be disastrous.

<p>The <code>setcontext</code> function does not return unless an error occurred
in which case it returns <code>-1</code>. 
</td></tr>
</table>

<p>The <code>setcontext</code> function simply replaces the current context with
the one described by the <var>ucp</var> parameter.  This is often useful but
there are situations where the current context has to be preserved.

<p>
<table width="100%">
<tr>
<td align="left">int <b>swapcontext</b><i> (ucontext_t *restrict <var>oucp</var>, const ucontext_t *restrict <var>ucp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>swapcontext</code> function is similar to <code>setcontext</code> but
instead of just replacing the current context the latter is first saved
in the object pointed to by <var>oucp</var> as if this was a call to
<code>getcontext</code>.  The saved context would resume after the call to
<code>swapcontext</code>.

<p>Once the current context is saved the context described in <var>ucp</var> is
installed and execution continues as described in this context.

<p>If <code>swapcontext</code> succeeds the function does not return unless the
context <var>oucp</var> is used without prior modification by
<code>makecontext</code>.  The return value in this case is <code>0</code>.  If the
function fails it returns <code>-1</code> and set <var>errno</var> accordingly. 
</td></tr>
</table>

<h3>Example for SVID Context Handling</h3>

<p>The easiest way to use the context handling functions is as a
replacement for <code>setjmp</code> and <code>longjmp</code>.  The context contains
on most platforms more information which might lead to less surprises
but this also means using these functions is more expensive (beside
being less portable).

<br><pre>int
random_search (int n, int (*fp) (int, ucontext_t *))
{
  volatile int cnt = 0;
  ucontext_t uc;

  /* Safe current context.  */
  if (getcontext (&amp;uc) &lt; 0)
    return -1;

  /* If we have not tried <var>n</var> times try again.  */
  if (cnt++ &lt; n)
    /* Call the function with a new random number
       and the context.  */
    if (fp (rand (), &amp;uc) != 0)
      /* We found what we were looking for.  */
      return 1;

  /* Not found.  */
  return 0;
}
</pre>

<p>Using contexts in such a way enables emulating exception handling.  The
search functions passed in the <var>fp</var> parameter could be very large,
nested, and complex which would make it complicated (or at least would
require a lot of code) to leave the function with an error value which
has to be passed down to the caller.  By using the context it is
possible to leave the search function in one step and allow restarting
the search which also has the nice side effect that it can be
significantly faster.

<p>Something which is harder to implement with <code>setjmp</code> and
<code>longjmp</code> is to switch temporarily to a different execution path
and then resume where execution was stopped.

<br><pre>

#include &lt;signal.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ucontext.h&gt;
#include &lt;sys/time.h&gt;

/* Set by the signal handler. */
static volatile int expired;

/* The contexts. */
static ucontext_t uc[3];

/* We do only a certain number of switches. */
static int switches;


/* This is the function doing the work.  It is just a
   skeleton, real code has to be filled in. */
static void
f (int n)
{
  int m = 0;
  while (1)
    {
      /* This is where the work would be done. */
      if (++m % 100 == 0)
        {
          putchar ('.');
          fflush (stdout);
        }

      /* Regularly the <var>expire</var> variable must be checked. */
      if (expired)
        {
          /* We do not want the program to run forever. */
          if (++switches == 20)
            return;

          printf ("\nswitching from %d to %d\n", n, 3 - n);
          expired = 0;
          /* Switch to the other context, saving the current one. */
          swapcontext (&amp;uc[n], &amp;uc[3 - n]);
        }
    }
}

/* This is the signal handler which simply set the variable. */
void
handler (int signal)
{
  expired = 1;
}


int
main (void)
{
  struct sigaction sa;
  struct itimerval it;
  char st1[8192];
  char st2[8192];

  /* Initialize the data structures for the interval timer. */
  sa.sa_flags = SA_RESTART;
  sigfillset (&amp;sa.sa_mask);
  sa.sa_handler = handler;
  it.it_interval.tv_sec = 0;
  it.it_interval.tv_usec = 1;
  it.it_value = it.it_interval;

  /* Install the timer and get the context we can manipulate. */
  if (sigaction (SIGPROF, &amp;sa, NULL) &lt; 0
      || setitimer (ITIMER_PROF, &amp;it, NULL) &lt; 0
      || getcontext (&amp;uc[1]) == -1
      || getcontext (&amp;uc[2]) == -1)
    abort ();

  /* Create a context with a separate stack which causes the
     function <code>f</code> to be call with the parameter <code>1</code>.
     Note that the <code>uc_link</code> points to the main context
     which will cause the program to terminate once the function
     return. */
  uc[1].uc_link = &amp;uc[0];
  uc[1].uc_stack.ss_sp = st1;
  uc[1].uc_stack.ss_size = sizeof st1;
  makecontext (&amp;uc[1], (void (*) (void)) f, 1, 1);

  /* Similarly, but <code>2</code> is passed as the parameter to <code>f</code>. */
  uc[2].uc_link = &amp;uc[0];
  uc[2].uc_stack.ss_sp = st2;
  uc[2].uc_stack.ss_size = sizeof st2;
  makecontext (&amp;uc[2], (void (*) (void)) f, 1, 2);

  /* Start running. */
  swapcontext (&amp;uc[0], &amp;uc[1]);
  putchar ('\n');

  return 0;
}
</pre>

<p>This an example how the context functions can be used to implement
co-routines or cooperative multi-threading.  All that has to be done is
to call every once in a while <code>swapcontext</code> to continue running a
different context.  It is not allowed to do the context switching from
the signal handler directly since neither <code>setcontext</code> nor
<code>swapcontext</code> are functions which can be called from a signal
handler.  But setting a variable in the signal handler and checking it
in the body of the functions which are executed.  Since
<code>swapcontext</code> is saving the current context it is possible to have
multiple different scheduling points in the code.  Execution will always
resume where it was left.

<p><hr>
Node:<a name="Signal%20Handling">Signal Handling</a>,
Next:<a rel=next accesskey=n href="#Program%20Basics">Program Basics</a>,
Previous:<a rel=previous accesskey=p href="#Non-Local%20Exits">Non-Local Exits</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Signal Handling</h2>

<p>A <dfn>signal</dfn> is a software interrupt delivered to a process.  The
operating system uses signals to report exceptional situations to an
executing program.  Some signals report errors such as references to
invalid memory addresses; others report asynchronous events, such as
disconnection of a phone line.

<p>The GNU C library defines a variety of signal types, each for a
particular kind of event.  Some kinds of events make it inadvisable or
impossible for the program to proceed as usual, and the corresponding
signals normally abort the program.  Other kinds of signals that report
harmless events are ignored by default.

<p>If you anticipate an event that causes signals, you can define a handler
function and tell the operating system to run it when that particular
type of signal arrives.

<p>Finally, one process can send a signal to another process; this allows a
parent process to abort a child, or two related processes to communicate
and synchronize.

<ul>
<li><a accesskey=1 href="#Concepts%20of%20Signals">Concepts of Signals</a>:          Introduction to the signal facilities. 
<li><a accesskey=2 href="#Standard%20Signals">Standard Signals</a>:             Particular kinds of signals with
                                 standard names and meanings. 
<li><a accesskey=3 href="#Signal%20Actions">Signal Actions</a>:               Specifying what happens when a
                                 particular signal is delivered. 
<li><a accesskey=4 href="#Defining%20Handlers">Defining Handlers</a>:            How to write a signal handler function. 
<li><a accesskey=5 href="#Interrupted%20Primitives">Interrupted Primitives</a>: 	Signal handlers affect use of <code>open</code>,
				 <code>read</code>, <code>write</code> and other functions. 
<li><a accesskey=6 href="#Generating%20Signals">Generating Signals</a>:           How to send a signal to a process. 
<li><a accesskey=7 href="#Blocking%20Signals">Blocking Signals</a>:             Making the system hold signals temporarily. 
<li><a accesskey=8 href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>:         Suspending your program until a signal
                                 arrives. 
<li><a accesskey=9 href="#Signal%20Stack">Signal Stack</a>:                 Using a Separate Signal Stack. 
<li><a href="#BSD%20Signal%20Handling">BSD Signal Handling</a>:          Additional functions for backward
			         compatibility with BSD. 
</ul>

<p><hr>
Node:<a name="Concepts%20of%20Signals">Concepts of Signals</a>,
Next:<a rel=next accesskey=n href="#Standard%20Signals">Standard Signals</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Basic Concepts of Signals</h3>

<p>This section explains basic concepts of how signals are generated, what
happens after a signal is delivered, and how programs can handle
signals.

<ul>
<li><a accesskey=1 href="#Kinds%20of%20Signals">Kinds of Signals</a>:             Some examples of what can cause a signal. 
<li><a accesskey=2 href="#Signal%20Generation">Signal Generation</a>:            Concepts of why and how signals occur. 
<li><a accesskey=3 href="#Delivery%20of%20Signal">Delivery of Signal</a>:           Concepts of what a signal does to the
                                 process. 
</ul>

<p><hr>
Node:<a name="Kinds%20of%20Signals">Kinds of Signals</a>,
Next:<a rel=next accesskey=n href="#Signal%20Generation">Signal Generation</a>,
Up:<a rel=up accesskey=u href="#Concepts%20of%20Signals">Concepts of Signals</a>
<br>

<h4>Some Kinds of Signals</h4>

<p>A signal reports the occurrence of an exceptional event.  These are some
of the events that can cause (or <dfn>generate</dfn>, or <dfn>raise</dfn>) a
signal:

<ul>
<li>A program error such as dividing by zero or issuing an address outside
the valid range.

<li>A user request to interrupt or terminate the program.  Most environments
are set up to let a user suspend the program by typing <kbd>C-z</kbd>, or
terminate it with <kbd>C-c</kbd>.  Whatever key sequence is used, the
operating system sends the proper signal to interrupt the process.

<li>The termination of a child process.

<li>Expiration of a timer or alarm.

<li>A call to <code>kill</code> or <code>raise</code> by the same process.

<li>A call to <code>kill</code> from another process.  Signals are a limited but
useful form of interprocess communication.

<li>An attempt to perform an I/O operation that cannot be done.  Examples
are reading from a pipe that has no writer (see <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>),
and reading or writing to a terminal in certain situations (see <a href="#Job%20Control">Job Control</a>). 
</ul>

<p>Each of these kinds of events (excepting explicit calls to <code>kill</code>
and <code>raise</code>) generates its own particular kind of signal.  The
various kinds of signals are listed and described in detail in
<a href="#Standard%20Signals">Standard Signals</a>.

<p><hr>
Node:<a name="Signal%20Generation">Signal Generation</a>,
Next:<a rel=next accesskey=n href="#Delivery%20of%20Signal">Delivery of Signal</a>,
Previous:<a rel=previous accesskey=p href="#Kinds%20of%20Signals">Kinds of Signals</a>,
Up:<a rel=up accesskey=u href="#Concepts%20of%20Signals">Concepts of Signals</a>
<br>

<h4>Concepts of Signal Generation</h4>

<p>In general, the events that generate signals fall into three major
categories: errors, external events, and explicit requests.

<p>An error means that a program has done something invalid and cannot
continue execution.  But not all kinds of errors generate signals--in
fact, most do not.  For example, opening a nonexistent file is an error,
but it does not raise a signal; instead, <code>open</code> returns <code>-1</code>. 
In general, errors that are necessarily associated with certain library
functions are reported by returning a value that indicates an error. 
The errors which raise signals are those which can happen anywhere in
the program, not just in library calls.  These include division by zero
and invalid memory addresses.

<p>An external event generally has to do with I/O or other processes. 
These include the arrival of input, the expiration of a timer, and the
termination of a child process.

<p>An explicit request means the use of a library function such as
<code>kill</code> whose purpose is specifically to generate a signal.

<p>Signals may be generated <dfn>synchronously</dfn> or <dfn>asynchronously</dfn>.  A
synchronous signal pertains to a specific action in the program, and is
delivered (unless blocked) during that action.  Most errors generate
signals synchronously, and so do explicit requests by a process to
generate a signal for that same process.  On some machines, certain
kinds of hardware errors (usually floating-point exceptions) are not
reported completely synchronously, but may arrive a few instructions
later.

<p>Asynchronous signals are generated by events outside the control of the
process that receives them.  These signals arrive at unpredictable times
during execution.  External events generate signals asynchronously, and
so do explicit requests that apply to some other process.

<p>A given type of signal is either typically synchronous or typically
asynchronous.  For example, signals for errors are typically synchronous
because errors generate signals synchronously.  But any type of signal
can be generated synchronously or asynchronously with an explicit
request.

<p><hr>
Node:<a name="Delivery%20of%20Signal">Delivery of Signal</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Generation">Signal Generation</a>,
Up:<a rel=up accesskey=u href="#Concepts%20of%20Signals">Concepts of Signals</a>
<br>

<h4>How Signals Are Delivered</h4>

<p>When a signal is generated, it becomes <dfn>pending</dfn>.  Normally it
remains pending for just a short period of time and then is
<dfn>delivered</dfn> to the process that was signaled.  However, if that kind
of signal is currently <dfn>blocked</dfn>, it may remain pending
indefinitely--until signals of that kind are <dfn>unblocked</dfn>.  Once
unblocked, it will be delivered immediately.  See <a href="#Blocking%20Signals">Blocking Signals</a>.

<p>When the signal is delivered, whether right away or after a long delay,
the <dfn>specified action</dfn> for that signal is taken.  For certain
signals, such as <code>SIGKILL</code> and <code>SIGSTOP</code>, the action is fixed,
but for most signals, the program has a choice: ignore the signal,
specify a <dfn>handler function</dfn>, or accept the <dfn>default action</dfn> for
that kind of signal.  The program specifies its choice using functions
such as <code>signal</code> or <code>sigaction</code> (see <a href="#Signal%20Actions">Signal Actions</a>).  We
sometimes say that a handler <dfn>catches</dfn> the signal.  While the
handler is running, that particular signal is normally blocked.

<p>If the specified action for a kind of signal is to ignore it, then any
such signal which is generated is discarded immediately.  This happens
even if the signal is also blocked at the time.  A signal discarded in
this way will never be delivered, not even if the program subsequently
specifies a different action for that kind of signal and then unblocks
it.

<p>If a signal arrives which the program has neither handled nor ignored,
its <dfn>default action</dfn> takes place.  Each kind of signal has its own
default action, documented below (see <a href="#Standard%20Signals">Standard Signals</a>).  For most kinds
of signals, the default action is to terminate the process.  For certain
kinds of signals that represent "harmless" events, the default action
is to do nothing.

<p>When a signal terminates a process, its parent process can determine the
cause of termination by examining the termination status code reported
by the <code>wait</code> or <code>waitpid</code> functions.  (This is discussed in
more detail in <a href="#Process%20Completion">Process Completion</a>.)  The information it can get
includes the fact that termination was due to a signal and the kind of
signal involved.  If a program you run from a shell is terminated by a
signal, the shell typically prints some kind of error message.

<p>The signals that normally represent program errors have a special
property: when one of these signals terminates the process, it also
writes a <dfn>core dump file</dfn> which records the state of the process at
the time of termination.  You can examine the core dump with a debugger
to investigate what caused the error.

<p>If you raise a "program error" signal by explicit request, and this
terminates the process, it makes a core dump file just as if the signal
had been due directly to an error.

<p><hr>
Node:<a name="Standard%20Signals">Standard Signals</a>,
Next:<a rel=next accesskey=n href="#Signal%20Actions">Signal Actions</a>,
Previous:<a rel=previous accesskey=p href="#Concepts%20of%20Signals">Concepts of Signals</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Standard Signals</h3>

<p>This section lists the names for various standard kinds of signals and
describes what kind of event they mean.  Each signal name is a macro
which stands for a positive integer--the <dfn>signal number</dfn> for that
kind of signal.  Your programs should never make assumptions about the
numeric code for a particular kind of signal, but rather refer to them
always by the names defined here.  This is because the number for a
given kind of signal can vary from system to system, but the meanings of
the names are standardized and fairly uniform.

<p>The signal names are defined in the header file <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>NSIG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this symbolic constant is the total number of signals
defined.  Since the signal numbers are allocated consecutively,
<code>NSIG</code> is also one greater than the largest defined signal number. 
</td></tr>
</table>

<ul>
<li><a accesskey=1 href="#Program%20Error%20Signals">Program Error Signals</a>:        Used to report serious program errors. 
<li><a accesskey=2 href="#Termination%20Signals">Termination Signals</a>:          Used to interrupt and/or terminate the
                                 program. 
<li><a accesskey=3 href="#Alarm%20Signals">Alarm Signals</a>:                Used to indicate expiration of timers. 
<li><a accesskey=4 href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>:     Used to indicate input is available. 
<li><a accesskey=5 href="#Job%20Control%20Signals">Job Control Signals</a>:          Signals used to support job control. 
<li><a accesskey=6 href="#Operation%20Error%20Signals">Operation Error Signals</a>:      Used to report operational system errors. 
<li><a accesskey=7 href="#Miscellaneous%20Signals">Miscellaneous Signals</a>:        Miscellaneous Signals. 
<li><a accesskey=8 href="#Signal%20Messages">Signal Messages</a>:              Printing a message describing a signal. 
</ul>

<p><hr>
Node:<a name="Program%20Error%20Signals">Program Error Signals</a>,
Next:<a rel=next accesskey=n href="#Termination%20Signals">Termination Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Program Error Signals</h4>

<p>The following signals are generated when a serious program error is
detected by the operating system or the computer itself.  In general,
all of these signals are indications that your program is seriously
broken in some way, and there's usually no way to continue the
computation which encountered the error.

<p>Some programs handle program error signals in order to tidy up before
terminating; for example, programs that turn off echoing of terminal
input should handle program error signals in order to turn echoing back
on.  The handler should end by specifying the default action for the
signal that happened and then reraising it; this will cause the program
to terminate with that signal, as if it had not had a handler. 
(See <a href="#Termination%20in%20Handler">Termination in Handler</a>.)

<p>Termination is the sensible ultimate outcome from a program error in
most programs.  However, programming systems such as Lisp that can load
compiled user programs might need to keep executing even if a user
program incurs an error.  These programs have handlers which use
<code>longjmp</code> to return control to the command level.

<p>The default action for all of these signals is to cause the process to
terminate.  If you block or ignore these signals or establish handlers
for them that return normally, your program will probably break horribly
when such signals happen, unless they are generated by <code>raise</code> or
<code>kill</code> instead of a real error.

<p>When one of these program error signals terminates a process, it also
writes a <dfn>core dump file</dfn> which records the state of the process at
the time of termination.  The core dump file is named <code>core</code> and is
written in whichever directory is current in the process at the time. 
(On the GNU system, you can specify the file name for core dumps with
the environment variable <code>COREFILE</code>.)  The purpose of core dump
files is so that you can examine them with a debugger to investigate
what caused the error.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGFPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGFPE</code> signal reports a fatal arithmetic error.  Although the
name is derived from "floating-point exception", this signal actually
covers all arithmetic errors, including division by zero and overflow. 
If a program stores integer data in a location which is then used in a
floating-point operation, this often causes an "invalid operation"
exception, because the processor cannot recognize the data as a
floating-point number.

<p>Actual floating-point exceptions are a complicated subject because there
are many types of exceptions with subtly different meanings, and the
<code>SIGFPE</code> signal doesn't distinguish between them.  The <cite>IEEE
Standard for Binary Floating-Point Arithmetic (ANSI/IEEE Std 754-1985
and ANSI/IEEE Std 854-1987)</cite>
defines various floating-point exceptions and requires conforming
computer systems to report their occurrences.  However, this standard
does not specify how the exceptions are reported, or what kinds of
handling and control the operating system can offer to the programmer. 
</td></tr>
</table>

<p>BSD systems provide the <code>SIGFPE</code> handler with an extra argument
that distinguishes various causes of the exception.  In order to access
this argument, you must define the handler to accept two arguments,
which means you must cast it to a one-argument function type in order to
establish the handler.  The GNU library does provide this extra
argument, but the value is meaningful only on operating systems that
provide the information (BSD systems and GNU systems).

<dl>
<dt><code>FPE_INTOVF_TRAP</code>
<dd>Integer overflow (impossible in a C program unless you enable overflow
trapping in a hardware-specific fashion). 
<br><dt><code>FPE_INTDIV_TRAP</code>
<dd>Integer division by zero. 
<br><dt><code>FPE_SUBRNG_TRAP</code>
<dd>Subscript-range (something that C programs never check for). 
<br><dt><code>FPE_FLTOVF_TRAP</code>
<dd>Floating overflow trap. 
<br><dt><code>FPE_FLTDIV_TRAP</code>
<dd>Floating/decimal division by zero. 
<br><dt><code>FPE_FLTUND_TRAP</code>
<dd>Floating underflow trap.  (Trapping on floating underflow is not
normally enabled.) 
<br><dt><code>FPE_DECOVF_TRAP</code>
<dd>Decimal overflow trap.  (Only a few machines have decimal arithmetic and
C never uses it.) 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGILL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The name of this signal is derived from "illegal instruction"; it
usually means your program is trying to execute garbage or a privileged
instruction.  Since the C compiler generates only valid instructions,
<code>SIGILL</code> typically indicates that the executable file is corrupted,
or that you are trying to execute data.  Some common ways of getting
into the latter situation are by passing an invalid object where a
pointer to a function was expected, or by writing past the end of an
automatic array (or similar problems with pointers to automatic
variables) and corrupting other data on the stack such as the return
address of a stack frame.

<p><code>SIGILL</code> can also be generated when the stack overflows, or when
the system has trouble running the handler for a signal. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGSEGV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal is generated when a program tries to read or write outside
the memory that is allocated for it, or to write memory that can only be
read.  (Actually, the signals only occur when the program goes far
enough outside to be detected by the system's memory protection
mechanism.)  The name is an abbreviation for "segmentation violation".

<p>Common ways of getting a <code>SIGSEGV</code> condition include dereferencing
a null or uninitialized pointer, or when you use a pointer to step
through an array, but fail to check for the end of the array.  It varies
among systems whether dereferencing a null pointer generates
<code>SIGSEGV</code> or <code>SIGBUS</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGBUS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal is generated when an invalid pointer is dereferenced.  Like
<code>SIGSEGV</code>, this signal is typically the result of dereferencing an
uninitialized pointer.  The difference between the two is that
<code>SIGSEGV</code> indicates an invalid access to valid memory, while
<code>SIGBUS</code> indicates an access to an invalid address.  In particular,
<code>SIGBUS</code> signals often result from dereferencing a misaligned
pointer, such as referring to a four-word integer at an address not
divisible by four.  (Each kind of computer has its own requirements for
address alignment.)

<p>The name of this signal is an abbreviation for "bus error". 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGABRT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal indicates an error detected by the program itself and
reported by calling <code>abort</code>.  See <a href="#Aborting%20a%20Program">Aborting a Program</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGIOT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Generated by the PDP-11 "iot" instruction.  On most machines, this is
just another name for <code>SIGABRT</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGTRAP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Generated by the machine's breakpoint instruction, and possibly other
trap instructions.  This signal is used by debuggers.  Your program will
probably only see <code>SIGTRAP</code> if it is somehow executing bad
instructions. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGEMT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Emulator trap; this results from certain unimplemented instructions
which might be emulated in software, or the operating system's
failure to properly emulate them. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGSYS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Bad system call; that is to say, the instruction to trap to the
operating system was executed, but the code number for the system call
to perform was invalid. 
</td></tr>
</table>

<p><hr>
Node:<a name="Termination%20Signals">Termination Signals</a>,
Next:<a rel=next accesskey=n href="#Alarm%20Signals">Alarm Signals</a>,
Previous:<a rel=previous accesskey=p href="#Program%20Error%20Signals">Program Error Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Termination Signals</h4>

<p>These signals are all used to tell a process to terminate, in one way
or another.  They have different names because they're used for slightly
different purposes, and programs might want to handle them differently.

<p>The reason for handling these signals is usually so your program can
tidy up as appropriate before actually terminating.  For example, you
might want to save state information, delete temporary files, or restore
the previous terminal modes.  Such a handler should end by specifying
the default action for the signal that happened and then reraising it;
this will cause the program to terminate with that signal, as if it had
not had a handler.  (See <a href="#Termination%20in%20Handler">Termination in Handler</a>.)

<p>The (obvious) default action for all of these signals is to cause the
process to terminate.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGTERM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGTERM</code> signal is a generic signal used to cause program
termination.  Unlike <code>SIGKILL</code>, this signal can be blocked,
handled, and ignored.  It is the normal way to politely ask a program to
terminate.

<p>The shell command <code>kill</code> generates <code>SIGTERM</code> by default. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGINT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGINT</code> ("program interrupt") signal is sent when the user
types the INTR character (normally <kbd>C-c</kbd>).  See <a href="#Special%20Characters">Special Characters</a>, for information about terminal driver support for
<kbd>C-c</kbd>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGQUIT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGQUIT</code> signal is similar to <code>SIGINT</code>, except that it's
controlled by a different key--the QUIT character, usually
<kbd>C-\</kbd>--and produces a core dump when it terminates the process,
just like a program error signal.  You can think of this as a
program error condition "detected" by the user.

<p>See <a href="#Program%20Error%20Signals">Program Error Signals</a>, for information about core dumps. 
See <a href="#Special%20Characters">Special Characters</a>, for information about terminal driver
support.

<p>Certain kinds of cleanups are best omitted in handling <code>SIGQUIT</code>. 
For example, if the program creates temporary files, it should handle
the other termination requests by deleting the temporary files.  But it
is better for <code>SIGQUIT</code> not to delete them, so that the user can
examine them in conjunction with the core dump. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGKILL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGKILL</code> signal is used to cause immediate program termination. 
It cannot be handled or ignored, and is therefore always fatal.  It is
also not possible to block this signal.

<p>This signal is usually generated only by explicit request.  Since it
cannot be handled, you should generate it only as a last resort, after
first trying a less drastic method such as <kbd>C-c</kbd> or <code>SIGTERM</code>. 
If a process does not respond to any other termination signals, sending
it a <code>SIGKILL</code> signal will almost always cause it to go away.

<p>In fact, if <code>SIGKILL</code> fails to terminate a process, that by itself
constitutes an operating system bug which you should report.

<p>The system will generate <code>SIGKILL</code> for a process itself under some
unusual conditions where the program cannot possibly continue to run
(even to run a signal handler). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGHUP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGHUP</code> ("hang-up") signal is used to report that the user's
terminal is disconnected, perhaps because a network or telephone
connection was broken.  For more information about this, see <a href="#Control%20Modes">Control Modes</a>.

<p>This signal is also used to report the termination of the controlling
process on a terminal to jobs associated with that session; this
termination effectively disconnects all processes in the session from
the controlling terminal.  For more information, see <a href="#Termination%20Internals">Termination Internals</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Alarm%20Signals">Alarm Signals</a>,
Next:<a rel=next accesskey=n href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>,
Previous:<a rel=previous accesskey=p href="#Termination%20Signals">Termination Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Alarm Signals</h4>

<p>These signals are used to indicate the expiration of timers. 
See <a href="#Setting%20an%20Alarm">Setting an Alarm</a>, for information about functions that cause
these signals to be sent.

<p>The default behavior for these signals is to cause program termination. 
This default is rarely useful, but no other default would be useful;
most of the ways of using these signals would require handler functions
in any case.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGALRM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal typically indicates expiration of a timer that measures real
or clock time.  It is used by the <code>alarm</code> function, for example. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGVTALRM</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal typically indicates expiration of a timer that measures CPU
time used by the current process.  The name is an abbreviation for
"virtual time alarm". 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGPROF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal typically indicates expiration of a timer that measures
both CPU time used by the current process, and CPU time expended on
behalf of the process by the system.  Such a timer is used to implement
code profiling facilities, hence the name of this signal. 
</td></tr>
</table>

<p><hr>
Node:<a name="Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>,
Next:<a rel=next accesskey=n href="#Job%20Control%20Signals">Job Control Signals</a>,
Previous:<a rel=previous accesskey=p href="#Alarm%20Signals">Alarm Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Asynchronous I/O Signals</h4>

<p>The signals listed in this section are used in conjunction with
asynchronous I/O facilities.  You have to take explicit action by
calling <code>fcntl</code> to enable a particular file descriptor to generate
these signals (see <a href="#Interrupt%20Input">Interrupt Input</a>).  The default action for these
signals is to ignore them.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGIO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal is sent when a file descriptor is ready to perform input
or output.

<p>On most operating systems, terminals and sockets are the only kinds of
files that can generate <code>SIGIO</code>; other kinds, including ordinary
files, never generate <code>SIGIO</code> even if you ask them to.

<p>In the GNU system <code>SIGIO</code> will always be generated properly
if you successfully set asynchronous mode with <code>fcntl</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGURG</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal is sent when "urgent" or out-of-band data arrives on a
socket.  See <a href="#Out-of-Band%20Data">Out-of-Band Data</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGPOLL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a System V signal name, more or less similar to <code>SIGIO</code>. 
It is defined only for compatibility. 
</td></tr>
</table>

<p><hr>
Node:<a name="Job%20Control%20Signals">Job Control Signals</a>,
Next:<a rel=next accesskey=n href="#Operation%20Error%20Signals">Operation Error Signals</a>,
Previous:<a rel=previous accesskey=p href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Job Control Signals</h4>

<p>These signals are used to support job control.  If your system
doesn't support job control, then these macros are defined but the
signals themselves can't be raised or handled.

<p>You should generally leave these signals alone unless you really
understand how job control works.  See <a href="#Job%20Control">Job Control</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGCHLD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This signal is sent to a parent process whenever one of its child
processes terminates or stops.

<p>The default action for this signal is to ignore it.  If you establish a
handler for this signal while there are child processes that have
terminated but not reported their status via <code>wait</code> or
<code>waitpid</code> (see <a href="#Process%20Completion">Process Completion</a>), whether your new handler
applies to those processes or not depends on the particular operating
system. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGCLD</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an obsolete name for <code>SIGCHLD</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGCONT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
You can send a <code>SIGCONT</code> signal to a process to make it continue. 
This signal is special--it always makes the process continue if it is
stopped, before the signal is delivered.  The default behavior is to do
nothing else.  You cannot block this signal.  You can set a handler, but
<code>SIGCONT</code> always makes the process continue regardless.

<p>Most programs have no reason to handle <code>SIGCONT</code>; they simply
resume execution without realizing they were ever stopped.  You can use
a handler for <code>SIGCONT</code> to make a program do something special when
it is stopped and continued--for example, to reprint a prompt when it
is suspended while waiting for input. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGSTOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGSTOP</code> signal stops the process.  It cannot be handled,
ignored, or blocked. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGTSTP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGTSTP</code> signal is an interactive stop signal.  Unlike
<code>SIGSTOP</code>, this signal can be handled and ignored.

<p>Your program should handle this signal if you have a special need to
leave files or system tables in a secure state when a process is
stopped.  For example, programs that turn off echoing should handle
<code>SIGTSTP</code> so they can turn echoing back on before stopping.

<p>This signal is generated when the user types the SUSP character
(normally <kbd>C-z</kbd>).  For more information about terminal driver
support, see <a href="#Special%20Characters">Special Characters</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGTTIN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A process cannot read from the user's terminal while it is running
as a background job.  When any process in a background job tries to
read from the terminal, all of the processes in the job are sent a
<code>SIGTTIN</code> signal.  The default action for this signal is to
stop the process.  For more information about how this interacts with
the terminal driver, see <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGTTOU</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>SIGTTIN</code>, but is generated when a process in a
background job attempts to write to the terminal or set its modes. 
Again, the default action is to stop the process.  <code>SIGTTOU</code> is
only generated for an attempt to write to the terminal if the
<code>TOSTOP</code> output mode is set; see <a href="#Output%20Modes">Output Modes</a>. 
</td></tr>
</table>

<p>While a process is stopped, no more signals can be delivered to it until
it is continued, except <code>SIGKILL</code> signals and (obviously)
<code>SIGCONT</code> signals.  The signals are marked as pending, but not
delivered until the process is continued.  The <code>SIGKILL</code> signal
always causes termination of the process and can't be blocked, handled
or ignored.  You can ignore <code>SIGCONT</code>, but it always causes the
process to be continued anyway if it is stopped.  Sending a
<code>SIGCONT</code> signal to a process causes any pending stop signals for
that process to be discarded.  Likewise, any pending <code>SIGCONT</code>
signals for a process are discarded when it receives a stop signal.

<p>When a process in an orphaned process group (see <a href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>) receives a <code>SIGTSTP</code>, <code>SIGTTIN</code>, or <code>SIGTTOU</code>
signal and does not handle it, the process does not stop.  Stopping the
process would probably not be very useful, since there is no shell
program that will notice it stop and allow the user to continue it. 
What happens instead depends on the operating system you are using. 
Some systems may do nothing; others may deliver another signal instead,
such as <code>SIGKILL</code> or <code>SIGHUP</code>.  In the GNU system, the process
dies with <code>SIGKILL</code>; this avoids the problem of many stopped,
orphaned processes lying around the system.

<p><hr>
Node:<a name="Operation%20Error%20Signals">Operation Error Signals</a>,
Next:<a rel=next accesskey=n href="#Miscellaneous%20Signals">Miscellaneous Signals</a>,
Previous:<a rel=previous accesskey=p href="#Job%20Control%20Signals">Job Control Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Operation Error Signals</h4>

<p>These signals are used to report various errors generated by an
operation done by the program.  They do not necessarily indicate a
programming error in the program, but an error that prevents an
operating system call from completing.  The default action for all of
them is to cause the process to terminate.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGPIPE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Broken pipe.  If you use pipes or FIFOs, you have to design your
application so that one process opens the pipe for reading before
another starts writing.  If the reading process never starts, or
terminates unexpectedly, writing to the pipe or FIFO raises a
<code>SIGPIPE</code> signal.  If <code>SIGPIPE</code> is blocked, handled or
ignored, the offending call fails with <code>EPIPE</code> instead.

<p>Pipes and FIFO special files are discussed in more detail in <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>.

<p>Another cause of <code>SIGPIPE</code> is when you try to output to a socket
that isn't connected.  See <a href="#Sending%20Data">Sending Data</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGLOST</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Resource lost.  This signal is generated when you have an advisory lock
on an NFS file, and the NFS server reboots and forgets about your lock.

<p>In the GNU system, <code>SIGLOST</code> is generated when any server program
dies unexpectedly.  It is usually fine to ignore the signal; whatever
call was made to the server that died just returns an error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGXCPU</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
CPU time limit exceeded.  This signal is generated when the process
exceeds its soft resource limit on CPU time.  See <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGXFSZ</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
File size limit exceeded.  This signal is generated when the process
attempts to extend a file so it exceeds the process's soft resource
limit on file size.  See <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Miscellaneous%20Signals">Miscellaneous Signals</a>,
Next:<a rel=next accesskey=n href="#Signal%20Messages">Signal Messages</a>,
Previous:<a rel=previous accesskey=p href="#Operation%20Error%20Signals">Operation Error Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Miscellaneous Signals</h4>

<p>These signals are used for various other purposes.  In general, they
will not affect your program unless it explicitly uses them for something.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGUSR1</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">int <b>SIGUSR2</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>SIGUSR1</code> and <code>SIGUSR2</code> signals are set aside for you to
use any way you want.  They're useful for simple interprocess
communication, if you write a signal handler for them in the program
that receives the signal.

<p>There is an example showing the use of <code>SIGUSR1</code> and <code>SIGUSR2</code>
in <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<p>The default action is to terminate the process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGWINCH</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Window size change.  This is generated on some systems (including GNU)
when the terminal driver's record of the number of rows and columns on
the screen is changed.  The default action is to ignore it.

<p>If a program does full-screen display, it should handle <code>SIGWINCH</code>. 
When the signal arrives, it should fetch the new screen size and
reformat its display accordingly. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SIGINFO</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Information request.  In 4.4 BSD and the GNU system, this signal is sent
to all the processes in the foreground process group of the controlling
terminal when the user types the STATUS character in canonical mode;
see <a href="#Signal%20Characters">Signal Characters</a>.

<p>If the process is the leader of the process group, the default action is
to print some status information about the system and what the process
is doing.  Otherwise the default is to do nothing. 
</td></tr>
</table>

<p><hr>
Node:<a name="Signal%20Messages">Signal Messages</a>,
Previous:<a rel=previous accesskey=p href="#Miscellaneous%20Signals">Miscellaneous Signals</a>,
Up:<a rel=up accesskey=u href="#Standard%20Signals">Standard Signals</a>
<br>

<h4>Signal Messages</h4>

<p>We mentioned above that the shell prints a message describing the signal
that terminated a child process.  The clean way to print a message
describing a signal is to use the functions <code>strsignal</code> and
<code>psignal</code>.  These functions use a signal number to specify which
kind of signal to describe.  The signal number may come from the
termination status of a child process (see <a href="#Process%20Completion">Process Completion</a>) or it
may come from a signal handler in the same process.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>strsignal</b><i> (int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a statically-allocated string
containing a message describing the signal <var>signum</var>.  You
should not modify the contents of this string; and, since it can be
rewritten on subsequent calls, you should save a copy of it if you need
to reference it later.

<p>This function is a GNU extension, declared in the header file
<code>string.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>psignal</b><i> (int <var>signum</var>, const char *<var>message</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function prints a message describing the signal <var>signum</var> to the
standard error output stream <code>stderr</code>; see <a href="#Standard%20Streams">Standard Streams</a>.

<p>If you call <code>psignal</code> with a <var>message</var> that is either a null
pointer or an empty string, <code>psignal</code> just prints the message
corresponding to <var>signum</var>, adding a trailing newline.

<p>If you supply a non-null <var>message</var> argument, then <code>psignal</code>
prefixes its output with this string.  It adds a colon and a space
character to separate the <var>message</var> from the string corresponding
to <var>signum</var>.

<p>This function is a BSD feature, declared in the header file <code>signal.h</code>. 
</td></tr>
</table>

<p>There is also an array <code>sys_siglist</code> which contains the messages
for the various signal codes.  This array exists on BSD systems, unlike
<code>strsignal</code>.

<p><hr>
Node:<a name="Signal%20Actions">Signal Actions</a>,
Next:<a rel=next accesskey=n href="#Defining%20Handlers">Defining Handlers</a>,
Previous:<a rel=previous accesskey=p href="#Standard%20Signals">Standard Signals</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Specifying Signal Actions</h3>

<p>The simplest way to change the action for a signal is to use the
<code>signal</code> function.  You can specify a built-in action (such as to
ignore the signal), or you can <dfn>establish a handler</dfn>.

<p>The GNU library also implements the more versatile <code>sigaction</code>
facility.  This section describes both facilities and gives suggestions
on which to use when.

<ul>
<li><a accesskey=1 href="#Basic%20Signal%20Handling">Basic Signal Handling</a>:        The simple <code>signal</code> function. 
<li><a accesskey=2 href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>:     The more powerful <code>sigaction</code> function. 
<li><a accesskey=3 href="#Signal%20and%20Sigaction">Signal and Sigaction</a>:         How those two functions interact. 
<li><a accesskey=4 href="#Sigaction%20Function%20Example">Sigaction Function Example</a>:   An example of using the sigaction function. 
<li><a accesskey=5 href="#Flags%20for%20Sigaction">Flags for Sigaction</a>:          Specifying options for signal handling. 
<li><a accesskey=6 href="#Initial%20Signal%20Actions">Initial Signal Actions</a>:       How programs inherit signal actions. 
</ul>

<p><hr>
Node:<a name="Basic%20Signal%20Handling">Basic Signal Handling</a>,
Next:<a rel=next accesskey=n href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4>Basic Signal Handling</h4>

<p>The <code>signal</code> function provides a simple interface for establishing
an action for a particular signal.  The function and associated macros
are declared in the header file <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>sighandler_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the type of signal handler functions.  Signal handlers take one
integer argument specifying the signal number, and have return type
<code>void</code>.  So, you should define handler functions like this:

<br><pre>void <var>handler</var> (int <code>signum</code>) { <small>...</small> }
</pre>

<p>The name <code>sighandler_t</code> for this data type is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">sighandler_t <b>signal</b><i> (int <var>signum</var>, sighandler_t <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>signal</code> function establishes <var>action</var> as the action for
the signal <var>signum</var>.

<p>The first argument, <var>signum</var>, identifies the signal whose behavior
you want to control, and should be a signal number.  The proper way to
specify a signal number is with one of the symbolic signal names
(see <a href="#Standard%20Signals">Standard Signals</a>)--don't use an explicit number, because
the numerical code for a given kind of signal may vary from operating
system to operating system.

<p>The second argument, <var>action</var>, specifies the action to use for the
signal <var>signum</var>.  This can be one of the following:

<dl>
<dt><code>SIG_DFL</code>
<dd><code>SIG_DFL</code> specifies the default action for the particular signal. 
The default actions for various kinds of signals are stated in
<a href="#Standard%20Signals">Standard Signals</a>.

<br><dt><code>SIG_IGN</code>
<dd><code>SIG_IGN</code> specifies that the signal should be ignored.

<p>Your program generally should not ignore signals that represent serious
events or that are normally used to request termination.  You cannot
ignore the <code>SIGKILL</code> or <code>SIGSTOP</code> signals at all.  You can
ignore program error signals like <code>SIGSEGV</code>, but ignoring the error
won't enable the program to continue executing meaningfully.  Ignoring
user requests such as <code>SIGINT</code>, <code>SIGQUIT</code>, and <code>SIGTSTP</code>
is unfriendly.

<p>When you do not wish signals to be delivered during a certain part of
the program, the thing to do is to block them, not ignore them. 
See <a href="#Blocking%20Signals">Blocking Signals</a>.

<br><dt><code><var>handler</var></code>
<dd>Supply the address of a handler function in your program, to specify
running this handler as the way to deliver the signal.

<p>For more information about defining signal handler functions,
see <a href="#Defining%20Handlers">Defining Handlers</a>. 
</dl>

<p>If you set the action for a signal to <code>SIG_IGN</code>, or if you set it
to <code>SIG_DFL</code> and the default action is to ignore that signal, then
any pending signals of that type are discarded (even if they are
blocked).  Discarding the pending signals means that they will never be
delivered, not even if you subsequently specify another action and
unblock this kind of signal.

<p>The <code>signal</code> function returns the action that was previously in
effect for the specified <var>signum</var>.  You can save this value and
restore it later by calling <code>signal</code> again.

<p>If <code>signal</code> can't honor the request, it returns <code>SIG_ERR</code>
instead.  The following <code>errno</code> error conditions are defined for
this function:

<dl>
<dt><code>EINVAL</code>
<dd>You specified an invalid <var>signum</var>; or you tried to ignore or provide
a handler for <code>SIGKILL</code> or <code>SIGSTOP</code>. 
</dl>
</td></tr>
</table>

<p><strong>Compatibility Note:</strong> A problem encountered when working with the
<code>signal</code> function is that it has different semantics on BSD and
SVID systems.  The difference is that on SVID systems the signal handler
is deinstalled after signal delivery.  On BSD systems the
handler must be explicitly deinstalled.  In the GNU C Library we use the
BSD version by default.  To use the SVID version you can either use the
function <code>sysv_signal</code> (see below) or use the <code>_XOPEN_SOURCE</code>
feature select macro (see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>).  In general, use of these
functions should be avoided because of compatibility problems.  It
is better to use <code>sigaction</code> if it is available since the results
are much more reliable.

<p>Here is a simple example of setting up a handler to delete temporary
files when certain fatal signals happen:

<br><pre>#include &lt;signal.h&gt;

void
termination_handler (int signum)
{
  struct temp_file *p;

  for (p = temp_file_list; p; p = p-&gt;next)
    unlink (p-&gt;name);
}

int
main (void)
{
  <small>...</small>
  if (signal (SIGINT, termination_handler) == SIG_IGN)
    signal (SIGINT, SIG_IGN);
  if (signal (SIGHUP, termination_handler) == SIG_IGN)
    signal (SIGHUP, SIG_IGN);
  if (signal (SIGTERM, termination_handler) == SIG_IGN)
    signal (SIGTERM, SIG_IGN);
  <small>...</small>
}
</pre>

<p>Note that if a given signal was previously set to be ignored, this code
avoids altering that setting.  This is because non-job-control shells
often ignore certain signals when starting children, and it is important
for the children to respect this.

<p>We do not handle <code>SIGQUIT</code> or the program error signals in this
example because these are designed to provide information for debugging
(a core dump), and the temporary files may give useful information.

<p>
<table width="100%">
<tr>
<td align="left">sighandler_t <b>sysv_signal</b><i> (int <var>signum</var>, sighandler_t <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sysv_signal</code> implements the behavior of the standard
<code>signal</code> function as found on SVID systems.  The difference to BSD
systems is that the handler is deinstalled after a delivery of a signal.

<p><strong>Compatibility Note:</strong> As said above for <code>signal</code>, this
function should be avoided when possible.  <code>sigaction</code> is the
preferred method. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">sighandler_t <b>ssignal</b><i> (int <var>signum</var>, sighandler_t <var>action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ssignal</code> function does the same thing as <code>signal</code>; it is
provided only for compatibility with SVID. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">sighandler_t <b>SIG_ERR</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is used as the return value from <code>signal</code>
to indicate an error. 
</td></tr>
</table>

<p><hr>
Node:<a name="Advanced%20Signal%20Handling">Advanced Signal Handling</a>,
Next:<a rel=next accesskey=n href="#Signal%20and%20Sigaction">Signal and Sigaction</a>,
Previous:<a rel=previous accesskey=p href="#Basic%20Signal%20Handling">Basic Signal Handling</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4>Advanced Signal Handling</h4>

<p>The <code>sigaction</code> function has the same basic effect as
<code>signal</code>: to specify how a signal should be handled by the process. 
However, <code>sigaction</code> offers more control, at the expense of more
complexity.  In particular, <code>sigaction</code> allows you to specify
additional flags to control when the signal is generated and how the
handler is invoked.

<p>The <code>sigaction</code> function is declared in <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sigaction</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Structures of type <code>struct sigaction</code> are used in the
<code>sigaction</code> function to specify all the information about how to
handle a particular signal.  This structure contains at least the
following members:

<dl>
<dt><code>sighandler_t sa_handler</code>
<dd>This is used in the same way as the <var>action</var> argument to the
<code>signal</code> function.  The value can be <code>SIG_DFL</code>,
<code>SIG_IGN</code>, or a function pointer.  See <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>sigset_t sa_mask</code>
<dd>This specifies a set of signals to be blocked while the handler runs. 
Blocking is explained in <a href="#Blocking%20for%20Handler">Blocking for Handler</a>.  Note that the
signal that was delivered is automatically blocked by default before its
handler is started; this is true regardless of the value in
<code>sa_mask</code>.  If you want that signal not to be blocked within its
handler, you must write code in the handler to unblock it.

<br><dt><code>int sa_flags</code>
<dd>This specifies various flags which can affect the behavior of
the signal.  These are described in more detail in <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigaction</b><i> (int <var>signum</var>, const struct sigaction *restrict <var>action</var>, struct sigaction *restrict <var>old-action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <var>action</var> argument is used to set up a new action for the signal
<var>signum</var>, while the <var>old-action</var> argument is used to return
information about the action previously associated with this symbol. 
(In other words, <var>old-action</var> has the same purpose as the
<code>signal</code> function's return value--you can check to see what the
old action in effect for the signal was, and restore it later if you
want.)

<p>Either <var>action</var> or <var>old-action</var> can be a null pointer.  If
<var>old-action</var> is a null pointer, this simply suppresses the return
of information about the old action.  If <var>action</var> is a null pointer,
the action associated with the signal <var>signum</var> is unchanged; this
allows you to inquire about how a signal is being handled without changing
that handling.

<p>The return value from <code>sigaction</code> is zero if it succeeds, and
<code>-1</code> on failure.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>signum</var> argument is not valid, or you are trying to
trap or ignore <code>SIGKILL</code> or <code>SIGSTOP</code>. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Signal%20and%20Sigaction">Signal and Sigaction</a>,
Next:<a rel=next accesskey=n href="#Sigaction%20Function%20Example">Sigaction Function Example</a>,
Previous:<a rel=previous accesskey=p href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4>Interaction of <code>signal</code> and <code>sigaction</code></h4>

<p>It's possible to use both the <code>signal</code> and <code>sigaction</code>
functions within a single program, but you have to be careful because
they can interact in slightly strange ways.

<p>The <code>sigaction</code> function specifies more information than the
<code>signal</code> function, so the return value from <code>signal</code> cannot
express the full range of <code>sigaction</code> possibilities.  Therefore, if
you use <code>signal</code> to save and later reestablish an action, it may
not be able to reestablish properly a handler that was established with
<code>sigaction</code>.

<p>To avoid having problems as a result, always use <code>sigaction</code> to
save and restore a handler if your program uses <code>sigaction</code> at all. 
Since <code>sigaction</code> is more general, it can properly save and
reestablish any action, regardless of whether it was established
originally with <code>signal</code> or <code>sigaction</code>.

<p>On some systems if you establish an action with <code>signal</code> and then
examine it with <code>sigaction</code>, the handler address that you get may
not be the same as what you specified with <code>signal</code>.  It may not
even be suitable for use as an action argument with <code>signal</code>.  But
you can rely on using it as an argument to <code>sigaction</code>.  This
problem never happens on the GNU system.

<p>So, you're better off using one or the other of the mechanisms
consistently within a single program.

<p><strong>Portability Note:</strong> The basic <code>signal</code> function is a feature
of ISO&nbsp;C, while <code>sigaction</code> is part of the POSIX.1 standard.  If
you are concerned about portability to non-POSIX systems, then you
should use the <code>signal</code> function instead.

<p><hr>
Node:<a name="Sigaction%20Function%20Example">Sigaction Function Example</a>,
Next:<a rel=next accesskey=n href="#Flags%20for%20Sigaction">Flags for Sigaction</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20and%20Sigaction">Signal and Sigaction</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4><code>sigaction</code> Function Example</h4>

<p>In <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>, we gave an example of establishing a
simple handler for termination signals using <code>signal</code>.  Here is an
equivalent example using <code>sigaction</code>:

<br><pre>#include &lt;signal.h&gt;

void
termination_handler (int signum)
{
  struct temp_file *p;

  for (p = temp_file_list; p; p = p-&gt;next)
    unlink (p-&gt;name);
}

int
main (void)
{
  <small>...</small>
  struct sigaction new_action, old_action;

  /* Set up the structure to specify the new action. */
  new_action.sa_handler = termination_handler;
  sigemptyset (&amp;new_action.sa_mask);
  new_action.sa_flags = 0;

  sigaction (SIGINT, NULL, &amp;old_action);
  if (old_action.sa_handler != SIG_IGN)
    sigaction (SIGINT, &amp;new_action, NULL);
  sigaction (SIGHUP, NULL, &amp;old_action);
  if (old_action.sa_handler != SIG_IGN)
    sigaction (SIGHUP, &amp;new_action, NULL);
  sigaction (SIGTERM, NULL, &amp;old_action);
  if (old_action.sa_handler != SIG_IGN)
    sigaction (SIGTERM, &amp;new_action, NULL);
  <small>...</small>
}
</pre>

<p>The program just loads the <code>new_action</code> structure with the desired
parameters and passes it in the <code>sigaction</code> call.  The usage of
<code>sigemptyset</code> is described later; see <a href="#Blocking%20Signals">Blocking Signals</a>.

<p>As in the example using <code>signal</code>, we avoid handling signals
previously set to be ignored.  Here we can avoid altering the signal
handler even momentarily, by using the feature of <code>sigaction</code> that
lets us examine the current action without specifying a new one.

<p>Here is another example.  It retrieves information about the current
action for <code>SIGINT</code> without changing that action.

<br><pre>struct sigaction query_action;

if (sigaction (SIGINT, NULL, &amp;query_action) &lt; 0)
  /* <code>sigaction</code> returns -1 in case of error. */
else if (query_action.sa_handler == SIG_DFL)
  /* <code>SIGINT</code> is handled in the default, fatal manner. */
else if (query_action.sa_handler == SIG_IGN)
  /* <code>SIGINT</code> is ignored. */
else
  /* A programmer-defined signal handler is in effect. */
</pre>

<p><hr>
Node:<a name="Flags%20for%20Sigaction">Flags for Sigaction</a>,
Next:<a rel=next accesskey=n href="#Initial%20Signal%20Actions">Initial Signal Actions</a>,
Previous:<a rel=previous accesskey=p href="#Sigaction%20Function%20Example">Sigaction Function Example</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4>Flags for <code>sigaction</code></h4>

<p>The <code>sa_flags</code> member of the <code>sigaction</code> structure is a
catch-all for special features.  Most of the time, <code>SA_RESTART</code> is
a good value to use for this field.

<p>The value of <code>sa_flags</code> is interpreted as a bit mask.  Thus, you
should choose the flags you want to set, <small>OR</small> those flags together,
and store the result in the <code>sa_flags</code> member of your
<code>sigaction</code> structure.

<p>Each signal number has its own set of flags.  Each call to
<code>sigaction</code> affects one particular signal number, and the flags
that you specify apply only to that particular signal.

<p>In the GNU C library, establishing a handler with <code>signal</code> sets all
the flags to zero except for <code>SA_RESTART</code>, whose value depends on
the settings you have made with <code>siginterrupt</code>.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>, to see what this is about.

<p>These macros are defined in the header file <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SA_NOCLDSTOP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This flag is meaningful only for the <code>SIGCHLD</code> signal.  When the
flag is set, the system delivers the signal for a terminated child
process but not for one that is stopped.  By default, <code>SIGCHLD</code> is
delivered for both terminated children and stopped children.

<p>Setting this flag for a signal other than <code>SIGCHLD</code> has no effect. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SA_ONSTACK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this flag is set for a particular signal number, the system uses the
signal stack when delivering that kind of signal.  See <a href="#Signal%20Stack">Signal Stack</a>. 
If a signal with this flag arrives and you have not set a signal stack,
the system terminates the program with <code>SIGILL</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SA_RESTART</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This flag controls what happens when a signal is delivered during
certain primitives (such as <code>open</code>, <code>read</code> or <code>write</code>),
and the signal handler returns normally.  There are two alternatives:
the library function can resume, or it can return failure with error
code <code>EINTR</code>.

<p>The choice is controlled by the <code>SA_RESTART</code> flag for the
particular kind of signal that was delivered.  If the flag is set,
returning from a handler resumes the library function.  If the flag is
clear, returning from a handler makes the function fail. 
See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Initial%20Signal%20Actions">Initial Signal Actions</a>,
Previous:<a rel=previous accesskey=p href="#Flags%20for%20Sigaction">Flags for Sigaction</a>,
Up:<a rel=up accesskey=u href="#Signal%20Actions">Signal Actions</a>
<br>

<h4>Initial Signal Actions</h4>

<p>When a new process is created (see <a href="#Creating%20a%20Process">Creating a Process</a>), it inherits
handling of signals from its parent process.  However, when you load a
new process image using the <code>exec</code> function (see <a href="#Executing%20a%20File">Executing a File</a>), any signals that you've defined your own handlers for revert to
their <code>SIG_DFL</code> handling.  (If you think about it a little, this
makes sense; the handler functions from the old program are specific to
that program, and aren't even present in the address space of the new
program image.)  Of course, the new program can establish its own
handlers.

<p>When a program is run by a shell, the shell normally sets the initial
actions for the child process to <code>SIG_DFL</code> or <code>SIG_IGN</code>, as
appropriate.  It's a good idea to check to make sure that the shell has
not set up an initial action of <code>SIG_IGN</code> before you establish your
own signal handlers.

<p>Here is an example of how to establish a handler for <code>SIGHUP</code>, but
not if <code>SIGHUP</code> is currently ignored:

<br><pre><small>...</small>
struct sigaction temp;

sigaction (SIGHUP, NULL, &amp;temp);

if (temp.sa_handler != SIG_IGN)
  {
    temp.sa_handler = handle_sighup;
    sigemptyset (&amp;temp.sa_mask);
    sigaction (SIGHUP, &amp;temp, NULL);
  }
</pre>

<p><hr>
Node:<a name="Defining%20Handlers">Defining Handlers</a>,
Next:<a rel=next accesskey=n href="#Interrupted%20Primitives">Interrupted Primitives</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Actions">Signal Actions</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Defining Signal Handlers</h3>

<p>This section describes how to write a signal handler function that can
be established with the <code>signal</code> or <code>sigaction</code> functions.

<p>A signal handler is just a function that you compile together with the
rest of the program.  Instead of directly invoking the function, you use
<code>signal</code> or <code>sigaction</code> to tell the operating system to call
it when a signal arrives.  This is known as <dfn>establishing</dfn> the
handler.  See <a href="#Signal%20Actions">Signal Actions</a>.

<p>There are two basic strategies you can use in signal handler functions:

<ul>
<li>You can have the handler function note that the signal arrived by
tweaking some global data structures, and then return normally.

<li>You can have the handler function terminate the program or transfer
control to a point where it can recover from the situation that caused
the signal. 
</ul>

<p>You need to take special care in writing handler functions because they
can be called asynchronously.  That is, a handler might be called at any
point in the program, unpredictably.  If two signals arrive during a
very short interval, one handler can run within another.  This section
describes what your handler should do, and what you should avoid.

<ul>
<li><a accesskey=1 href="#Handler%20Returns">Handler Returns</a>:              Handlers that return normally, and what
                                 this means. 
<li><a accesskey=2 href="#Termination%20in%20Handler">Termination in Handler</a>:       How handler functions terminate a program. 
<li><a accesskey=3 href="#Longjmp%20in%20Handler">Longjmp in Handler</a>:           Nonlocal transfer of control out of a
                                 signal handler. 
<li><a accesskey=4 href="#Signals%20in%20Handler">Signals in Handler</a>:           What happens when signals arrive while
                                 the handler is already occupied. 
<li><a accesskey=5 href="#Merged%20Signals">Merged Signals</a>: 		When a second signal arrives before the
				 first is handled. 
<li><a accesskey=6 href="#Nonreentrancy">Nonreentrancy</a>:                Do not call any functions unless you know they
                                 are reentrant with respect to signals. 
<li><a accesskey=7 href="#Atomic%20Data%20Access">Atomic Data Access</a>:           A single handler can run in the middle of
                                 reading or writing a single object. 
</ul>

<p><hr>
Node:<a name="Handler%20Returns">Handler Returns</a>,
Next:<a rel=next accesskey=n href="#Termination%20in%20Handler">Termination in Handler</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Signal Handlers that Return</h4>

<p>Handlers which return normally are usually used for signals such as
<code>SIGALRM</code> and the I/O and interprocess communication signals.  But
a handler for <code>SIGINT</code> might also return normally after setting a
flag that tells the program to exit at a convenient time.

<p>It is not safe to return normally from the handler for a program error
signal, because the behavior of the program when the handler function
returns is not defined after a program error.  See <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<p>Handlers that return normally must modify some global variable in order
to have any effect.  Typically, the variable is one that is examined
periodically by the program during normal operation.  Its data type
should be <code>sig_atomic_t</code> for reasons described in <a href="#Atomic%20Data%20Access">Atomic Data Access</a>.

<p>Here is a simple example of such a program.  It executes the body of
the loop until it has noticed that a <code>SIGALRM</code> signal has arrived. 
This technique is useful because it allows the iteration in progress
when the signal arrives to complete before the loop exits.

<br><pre>

#include &lt;signal.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/* This flag controls termination of the main loop. */
volatile sig_atomic_t keep_going = 1;

/* The signal handler just clears the flag and re-enables itself. */
void
catch_alarm (int sig)
{
  keep_going = 0;
  signal (sig, catch_alarm);
}

void
do_stuff (void)
{
  puts ("Doing stuff while waiting for alarm....");
}

int
main (void)
{
  /* Establish a handler for SIGALRM signals. */
  signal (SIGALRM, catch_alarm);

  /* Set an alarm to go off in a little while. */
  alarm (2);

  /* Check the flag once in a while to see when to quit. */
  while (keep_going)
    do_stuff ();

  return EXIT_SUCCESS;
}
</pre>

<p><hr>
Node:<a name="Termination%20in%20Handler">Termination in Handler</a>,
Next:<a rel=next accesskey=n href="#Longjmp%20in%20Handler">Longjmp in Handler</a>,
Previous:<a rel=previous accesskey=p href="#Handler%20Returns">Handler Returns</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Handlers That Terminate the Process</h4>

<p>Handler functions that terminate the program are typically used to cause
orderly cleanup or recovery from program error signals and interactive
interrupts.

<p>The cleanest way for a handler to terminate the process is to raise the
same signal that ran the handler in the first place.  Here is how to do
this:

<br><pre>volatile sig_atomic_t fatal_error_in_progress = 0;

void
fatal_error_signal (int sig)
{
  /* Since this handler is established for more than one kind of signal, 
     it might still get invoked recursively by delivery of some other kind
     of signal.  Use a static variable to keep track of that. */
  if (fatal_error_in_progress)
    raise (sig);
  fatal_error_in_progress = 1;

  /* Now do the clean up actions:
     - reset terminal modes
     - kill child processes
     - remove lock files */
  <small>...</small>

  /* Now reraise the signal.  We reactivate the signal's
     default handling, which is to terminate the process.
     We could just call <code>exit</code> or <code>abort</code>,
     but reraising the signal sets the return status
     from the process correctly. */
  signal (sig, SIG_DFL);
  raise (sig);
}
</pre>

<p><hr>
Node:<a name="Longjmp%20in%20Handler">Longjmp in Handler</a>,
Next:<a rel=next accesskey=n href="#Signals%20in%20Handler">Signals in Handler</a>,
Previous:<a rel=previous accesskey=p href="#Termination%20in%20Handler">Termination in Handler</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Nonlocal Control Transfer in Handlers</h4>

<p>You can do a nonlocal transfer of control out of a signal handler using
the <code>setjmp</code> and <code>longjmp</code> facilities (see <a href="#Non-Local%20Exits">Non-Local Exits</a>).

<p>When the handler does a nonlocal control transfer, the part of the
program that was running will not continue.  If this part of the program
was in the middle of updating an important data structure, the data
structure will remain inconsistent.  Since the program does not
terminate, the inconsistency is likely to be noticed later on.

<p>There are two ways to avoid this problem.  One is to block the signal
for the parts of the program that update important data structures. 
Blocking the signal delays its delivery until it is unblocked, once the
critical updating is finished.  See <a href="#Blocking%20Signals">Blocking Signals</a>.

<p>The other way to re-initialize the crucial data structures in the signal
handler, or make their values consistent.

<p>Here is a rather schematic example showing the reinitialization of one
global variable.

<br><pre>#include &lt;signal.h&gt;
#include &lt;setjmp.h&gt;

jmp_buf return_to_top_level;

volatile sig_atomic_t waiting_for_input;

void
handle_sigint (int signum)
{
  /* We may have been waiting for input when the signal arrived,
     but we are no longer waiting once we transfer control. */
  waiting_for_input = 0;
  longjmp (return_to_top_level, 1);
}

int
main (void)
{
  <small>...</small>
  signal (SIGINT, sigint_handler);
  <small>...</small>
  while (1) {
    prepare_for_command ();
    if (setjmp (return_to_top_level) == 0)
      read_and_execute_command ();
  }
}

/* Imagine this is a subroutine used by various commands. */
char *
read_data ()
{
  if (input_from_terminal) {
    waiting_for_input = 1;
    <small>...</small>
    waiting_for_input = 0;
  } else {
    <small>...</small>
  }
}
</pre>

<p><hr>
Node:<a name="Signals%20in%20Handler">Signals in Handler</a>,
Next:<a rel=next accesskey=n href="#Merged%20Signals">Merged Signals</a>,
Previous:<a rel=previous accesskey=p href="#Longjmp%20in%20Handler">Longjmp in Handler</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Signals Arriving While a Handler Runs</h4>

<p>What happens if another signal arrives while your signal handler
function is running?

<p>When the handler for a particular signal is invoked, that signal is
automatically blocked until the handler returns.  That means that if two
signals of the same kind arrive close together, the second one will be
held until the first has been handled.  (The handler can explicitly
unblock the signal using <code>sigprocmask</code>, if you want to allow more
signals of this type to arrive; see <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.)

<p>However, your handler can still be interrupted by delivery of another
kind of signal.  To avoid this, you can use the <code>sa_mask</code> member of
the action structure passed to <code>sigaction</code> to explicitly specify
which signals should be blocked while the signal handler runs.  These
signals are in addition to the signal for which the handler was invoked,
and any other signals that are normally blocked by the process. 
See <a href="#Blocking%20for%20Handler">Blocking for Handler</a>.

<p>When the handler returns, the set of blocked signals is restored to the
value it had before the handler ran.  So using <code>sigprocmask</code> inside
the handler only affects what signals can arrive during the execution of
the handler itself, not what signals can arrive once the handler returns.

<p><strong>Portability Note:</strong> Always use <code>sigaction</code> to establish a
handler for a signal that you expect to receive asynchronously, if you
want your program to work properly on System V Unix.  On this system,
the handling of a signal whose handler was established with
<code>signal</code> automatically sets the signal's action back to
<code>SIG_DFL</code>, and the handler must re-establish itself each time it
runs.  This practice, while inconvenient, does work when signals cannot
arrive in succession.  However, if another signal can arrive right away,
it may arrive before the handler can re-establish itself.  Then the
second signal would receive the default handling, which could terminate
the process.

<p><hr>
Node:<a name="Merged%20Signals">Merged Signals</a>,
Next:<a rel=next accesskey=n href="#Nonreentrancy">Nonreentrancy</a>,
Previous:<a rel=previous accesskey=p href="#Signals%20in%20Handler">Signals in Handler</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Signals Close Together Merge into One</h4>

<p>If multiple signals of the same type are delivered to your process
before your signal handler has a chance to be invoked at all, the
handler may only be invoked once, as if only a single signal had
arrived.  In effect, the signals merge into one.  This situation can
arise when the signal is blocked, or in a multiprocessing environment
where the system is busy running some other processes while the signals
are delivered.  This means, for example, that you cannot reliably use a
signal handler to count signals.  The only distinction you can reliably
make is whether at least one signal has arrived since a given time in
the past.

<p>Here is an example of a handler for <code>SIGCHLD</code> that compensates for
the fact that the number of signals received may not equal the number of
child processes that generate them.  It assumes that the program keeps track
of all the child processes with a chain of structures as follows:

<br><pre>struct process
{
  struct process *next;
  /* The process ID of this child.  */
  int pid;
  /* The descriptor of the pipe or pseudo terminal
     on which output comes from this child.  */
  int input_descriptor;
  /* Nonzero if this process has stopped or terminated.  */
  sig_atomic_t have_status;
  /* The status of this child; 0 if running,
     otherwise a status value from <code>waitpid</code>.  */
  int status;
};

struct process *process_list;
</pre>

<p>This example also uses a flag to indicate whether signals have arrived
since some time in the past--whenever the program last cleared it to
zero.

<br><pre>/* Nonzero means some child's status has changed
   so look at <code>process_list</code> for the details.  */
int process_status_change;
</pre>

<p>Here is the handler itself:

<br><pre>void
sigchld_handler (int signo)
{
  int old_errno = errno;

  while (1) {
    register int pid;
    int w;
    struct process *p;

    /* Keep asking for a status until we get a definitive result.  */
    do
      {
        errno = 0;
        pid = waitpid (WAIT_ANY, &amp;w, WNOHANG | WUNTRACED);
      }
    while (pid &lt;= 0 &amp;&amp; errno == EINTR);

    if (pid &lt;= 0) {
      /* A real failure means there are no more
         stopped or terminated child processes, so return.  */
      errno = old_errno;
      return;
    }

    /* Find the process that signaled us, and record its status.  */

    for (p = process_list; p; p = p-&gt;next)
      if (p-&gt;pid == pid) {
        p-&gt;status = w;
        /* Indicate that the <code>status</code> field
           has data to look at.  We do this only after storing it.  */
        p-&gt;have_status = 1;

        /* If process has terminated, stop waiting for its output.  */
        if (WIFSIGNALED (w) || WIFEXITED (w))
          if (p-&gt;input_descriptor)
            FD_CLR (p-&gt;input_descriptor, &amp;input_wait_mask);

        /* The program should check this flag from time to time
           to see if there is any news in <code>process_list</code>.  */
        ++process_status_change;
      }

    /* Loop around to handle all the processes
       that have something to tell us.  */
  }
}
</pre>

<p>Here is the proper way to check the flag <code>process_status_change</code>:

<br><pre>if (process_status_change) {
  struct process *p;
  process_status_change = 0;
  for (p = process_list; p; p = p-&gt;next)
    if (p-&gt;have_status) {
      <small>...</small> Examine <code>p-&gt;status</code> <small>...</small>
    }
}
</pre>

<p>It is vital to clear the flag before examining the list; otherwise, if a
signal were delivered just before the clearing of the flag, and after
the appropriate element of the process list had been checked, the status
change would go unnoticed until the next signal arrived to set the flag
again.  You could, of course, avoid this problem by blocking the signal
while scanning the list, but it is much more elegant to guarantee
correctness by doing things in the right order.

<p>The loop which checks process status avoids examining <code>p-&gt;status</code>
until it sees that status has been validly stored.  This is to make sure
that the status cannot change in the middle of accessing it.  Once
<code>p-&gt;have_status</code> is set, it means that the child process is stopped
or terminated, and in either case, it cannot stop or terminate again
until the program has taken notice.  See <a href="#Atomic%20Usage">Atomic Usage</a>, for more
information about coping with interruptions during accesses of a
variable.

<p>Here is another way you can test whether the handler has run since the
last time you checked.  This technique uses a counter which is never
changed outside the handler.  Instead of clearing the count, the program
remembers the previous value and sees whether it has changed since the
previous check.  The advantage of this method is that different parts of
the program can check independently, each part checking whether there
has been a signal since that part last checked.

<br><pre>sig_atomic_t process_status_change;

sig_atomic_t last_process_status_change;

<small>...</small>
{
  sig_atomic_t prev = last_process_status_change;
  last_process_status_change = process_status_change;
  if (last_process_status_change != prev) {
    struct process *p;
    for (p = process_list; p; p = p-&gt;next)
      if (p-&gt;have_status) {
        <small>...</small> Examine <code>p-&gt;status</code> <small>...</small>
      }
  }
}
</pre>

<p><hr>
Node:<a name="Nonreentrancy">Nonreentrancy</a>,
Next:<a rel=next accesskey=n href="#Atomic%20Data%20Access">Atomic Data Access</a>,
Previous:<a rel=previous accesskey=p href="#Merged%20Signals">Merged Signals</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Signal Handling and Nonreentrant Functions</h4>

<p>Handler functions usually don't do very much.  The best practice is to
write a handler that does nothing but set an external variable that the
program checks regularly, and leave all serious work to the program. 
This is best because the handler can be called asynchronously, at
unpredictable times--perhaps in the middle of a primitive function, or
even between the beginning and the end of a C operator that requires
multiple instructions.  The data structures being manipulated might
therefore be in an inconsistent state when the handler function is
invoked.  Even copying one <code>int</code> variable into another can take two
instructions on most machines.

<p>This means you have to be very careful about what you do in a signal
handler.

<ul>
<li>If your handler needs to access any global variables from your program,
declare those variables <code>volatile</code>.  This tells the compiler that
the value of the variable might change asynchronously, and inhibits
certain optimizations that would be invalidated by such modifications.

<li>If you call a function in the handler, make sure it is <dfn>reentrant</dfn>
with respect to signals, or else make sure that the signal cannot
interrupt a call to a related function. 
</ul>

<p>A function can be non-reentrant if it uses memory that is not on the
stack.

<ul>
<li>If a function uses a static variable or a global variable, or a
dynamically-allocated object that it finds for itself, then it is
non-reentrant and any two calls to the function can interfere.

<p>For example, suppose that the signal handler uses <code>gethostbyname</code>. 
This function returns its value in a static object, reusing the same
object each time.  If the signal happens to arrive during a call to
<code>gethostbyname</code>, or even after one (while the program is still
using the value), it will clobber the value that the program asked for.

<p>However, if the program does not use <code>gethostbyname</code> or any other
function that returns information in the same object, or if it always
blocks signals around each use, then you are safe.

<p>There are a large number of library functions that return values in a
fixed object, always reusing the same object in this fashion, and all of
them cause the same problem.  Function descriptions in this manual
always mention this behavior.

</p><li>If a function uses and modifies an object that you supply, then it is
potentially non-reentrant; two calls can interfere if they use the same
object.

<p>This case arises when you do I/O using streams.  Suppose that the
signal handler prints a message with <code>fprintf</code>.  Suppose that the
program was in the middle of an <code>fprintf</code> call using the same
stream when the signal was delivered.  Both the signal handler's message
and the program's data could be corrupted, because both calls operate on
the same data structure--the stream itself.

<p>However, if you know that the stream that the handler uses cannot
possibly be used by the program at a time when signals can arrive, then
you are safe.  It is no problem if the program uses some other stream.

</p><li>On most systems, <code>malloc</code> and <code>free</code> are not reentrant,
because they use a static data structure which records what memory
blocks are free.  As a result, no library functions that allocate or
free memory are reentrant.  This includes functions that allocate space
to store a result.

<p>The best way to avoid the need to allocate memory in a handler is to
allocate in advance space for signal handlers to use.

<p>The best way to avoid freeing memory in a handler is to flag or record
the objects to be freed, and have the program check from time to time
whether anything is waiting to be freed.  But this must be done with
care, because placing an object on a chain is not atomic, and if it is
interrupted by another signal handler that does the same thing, you
could "lose" one of the objects.

</p><li>Any function that modifies <code>errno</code> is non-reentrant, but you can
correct for this: in the handler, save the original value of
<code>errno</code> and restore it before returning normally.  This prevents
errors that occur within the signal handler from being confused with
errors from system calls at the point the program is interrupted to run
the handler.

<p>This technique is generally applicable; if you want to call in a handler
a function that modifies a particular object in memory, you can make
this safe by saving and restoring that object.

</p><li>Merely reading from a memory object is safe provided that you can deal
with any of the values that might appear in the object at a time when
the signal can be delivered.  Keep in mind that assignment to some data
types requires more than one instruction, which means that the handler
could run "in the middle of" an assignment to the variable if its type
is not atomic.  See <a href="#Atomic%20Data%20Access">Atomic Data Access</a>.

<li>Merely writing into a memory object is safe as long as a sudden change
in the value, at any time when the handler might run, will not disturb
anything. 
</ul>

<p><hr>
Node:<a name="Atomic%20Data%20Access">Atomic Data Access</a>,
Previous:<a rel=previous accesskey=p href="#Nonreentrancy">Nonreentrancy</a>,
Up:<a rel=up accesskey=u href="#Defining%20Handlers">Defining Handlers</a>
<br>

<h4>Atomic Data Access and Signal Handling</h4>

<p>Whether the data in your application concerns atoms, or mere text, you
have to be careful about the fact that access to a single datum is not
necessarily <dfn>atomic</dfn>.  This means that it can take more than one
instruction to read or write a single object.  In such cases, a signal
handler might be invoked in the middle of reading or writing the object.

<p>There are three ways you can cope with this problem.  You can use data
types that are always accessed atomically; you can carefully arrange
that nothing untoward happens if an access is interrupted, or you can
block all signals around any access that had better not be interrupted
(see <a href="#Blocking%20Signals">Blocking Signals</a>).

<ul>
<li><a accesskey=1 href="#Non-atomic%20Example">Non-atomic Example</a>: 		A program illustrating interrupted access. 
<li><a accesskey=2 href="#Atomic%20Types">Types</a>: 		Data types that guarantee no interruption. 
<li><a accesskey=3 href="#Atomic%20Usage">Usage</a>: 		Proving that interruption is harmless. 
</ul>

<p><hr>
Node:<a name="Non-atomic%20Example">Non-atomic Example</a>,
Next:<a rel=next accesskey=n href="#Atomic%20Types">Atomic Types</a>,
Up:<a rel=up accesskey=u href="#Atomic%20Data%20Access">Atomic Data Access</a>
<br>

<h5>Problems with Non-Atomic Access</h5>

<p>Here is an example which shows what can happen if a signal handler runs
in the middle of modifying a variable.  (Interrupting the reading of a
variable can also lead to paradoxical results, but here we only show
writing.)

<br><pre>#include &lt;signal.h&gt;
#include &lt;stdio.h&gt;

struct two_words { int a, b; } memory;

void
handler(int signum)
{
   printf ("%d,%d\n", memory.a, memory.b);
   alarm (1);
}

int
main (void)
{
   static struct two_words zeros = { 0, 0 }, ones = { 1, 1 };
   signal (SIGALRM, handler);
   memory = zeros;
   alarm (1);
   while (1)
     {
       memory = zeros;
       memory = ones;
     }
}
</pre>

<p>This program fills <code>memory</code> with zeros, ones, zeros, ones,
alternating forever; meanwhile, once per second, the alarm signal handler
prints the current contents.  (Calling <code>printf</code> in the handler is
safe in this program because it is certainly not being called outside
the handler when the signal happens.)

<p>Clearly, this program can print a pair of zeros or a pair of ones.  But
that's not all it can do!  On most machines, it takes several
instructions to store a new value in <code>memory</code>, and the value is
stored one word at a time.  If the signal is delivered in between these
instructions, the handler might find that <code>memory.a</code> is zero and
<code>memory.b</code> is one (or vice versa).

<p>On some machines it may be possible to store a new value in
<code>memory</code> with just one instruction that cannot be interrupted.  On
these machines, the handler will always print two zeros or two ones.

<p><hr>
Node:<a name="Atomic%20Types">Atomic Types</a>,
Next:<a rel=next accesskey=n href="#Atomic%20Usage">Atomic Usage</a>,
Previous:<a rel=previous accesskey=p href="#Non-atomic%20Example">Non-atomic Example</a>,
Up:<a rel=up accesskey=u href="#Atomic%20Data%20Access">Atomic Data Access</a>
<br>

<h5>Atomic Types</h5>

<p>To avoid uncertainty about interrupting access to a variable, you can
use a particular data type for which access is always atomic:
<code>sig_atomic_t</code>.  Reading and writing this data type is guaranteed
to happen in a single instruction, so there's no way for a handler to
run "in the middle" of an access.

<p>The type <code>sig_atomic_t</code> is always an integer data type, but which
one it is, and how many bits it contains, may vary from machine to
machine.

<p>
<table width="100%">
<tr>
<td align="left"><b>sig_atomic_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer data type.  Objects of this type are always accessed
atomically. 
</td></tr>
</table>

<p>In practice, you can assume that <code>int</code> and other integer types no
longer than <code>int</code> are atomic.  You can also assume that pointer
types are atomic; that is very convenient.  Both of these assumptions
are true on all of the machines that the GNU C library supports and on
all POSIX systems we know of.

<p><hr>
Node:<a name="Atomic%20Usage">Atomic Usage</a>,
Previous:<a rel=previous accesskey=p href="#Atomic%20Types">Atomic Types</a>,
Up:<a rel=up accesskey=u href="#Atomic%20Data%20Access">Atomic Data Access</a>
<br>

<h5>Atomic Usage Patterns</h5>

<p>Certain patterns of access avoid any problem even if an access is
interrupted.  For example, a flag which is set by the handler, and
tested and cleared by the main program from time to time, is always safe
even if access actually requires two instructions.  To show that this is
so, we must consider each access that could be interrupted, and show
that there is no problem if it is interrupted.

<p>An interrupt in the middle of testing the flag is safe because either it's
recognized to be nonzero, in which case the precise value doesn't
matter, or it will be seen to be nonzero the next time it's tested.

<p>An interrupt in the middle of clearing the flag is no problem because
either the value ends up zero, which is what happens if a signal comes
in just before the flag is cleared, or the value ends up nonzero, and
subsequent events occur as if the signal had come in just after the flag
was cleared.  As long as the code handles both of these cases properly,
it can also handle a signal in the middle of clearing the flag.  (This
is an example of the sort of reasoning you need to do to figure out
whether non-atomic usage is safe.)

<p>Sometimes you can insure uninterrupted access to one object by
protecting its use with another object, perhaps one whose type
guarantees atomicity.  See <a href="#Merged%20Signals">Merged Signals</a>, for an example.

<p><hr>
Node:<a name="Interrupted%20Primitives">Interrupted Primitives</a>,
Next:<a rel=next accesskey=n href="#Generating%20Signals">Generating Signals</a>,
Previous:<a rel=previous accesskey=p href="#Defining%20Handlers">Defining Handlers</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Primitives Interrupted by Signals</h3>

<p>A signal can arrive and be handled while an I/O primitive such as
<code>open</code> or <code>read</code> is waiting for an I/O device.  If the signal
handler returns, the system faces the question: what should happen next?

<p>POSIX specifies one approach: make the primitive fail right away.  The
error code for this kind of failure is <code>EINTR</code>.  This is flexible,
but usually inconvenient.  Typically, POSIX applications that use signal
handlers must check for <code>EINTR</code> after each library function that
can return it, in order to try the call again.  Often programmers forget
to check, which is a common source of error.

<p>The GNU library provides a convenient way to retry a call after a
temporary failure, with the macro <code>TEMP_FAILURE_RETRY</code>:

<p>
<table width="100%">
<tr>
<td align="left"><b>TEMP_FAILURE_RETRY</b><i> (<var>expression</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro evaluates <var>expression</var> once.  If it fails and reports
error code <code>EINTR</code>, <code>TEMP_FAILURE_RETRY</code> evaluates it again,
and over and over until the result is not a temporary failure.

<p>The value returned by <code>TEMP_FAILURE_RETRY</code> is whatever value
<var>expression</var> produced. 
</td></tr>
</table>

<p>BSD avoids <code>EINTR</code> entirely and provides a more convenient
approach: to restart the interrupted primitive, instead of making it
fail.  If you choose this approach, you need not be concerned with
<code>EINTR</code>.

<p>You can choose either approach with the GNU library.  If you use
<code>sigaction</code> to establish a signal handler, you can specify how that
handler should behave.  If you specify the <code>SA_RESTART</code> flag,
return from that handler will resume a primitive; otherwise, return from
that handler will cause <code>EINTR</code>.  See <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>.

<p>Another way to specify the choice is with the <code>siginterrupt</code>
function.  See <a href="#BSD%20Handler">BSD Handler</a>.

<p>When you don't specify with <code>sigaction</code> or <code>siginterrupt</code> what
a particular handler should do, it uses a default choice.  The default
choice in the GNU library depends on the feature test macros you have
defined.  If you define <code>_BSD_SOURCE</code> or <code>_GNU_SOURCE</code> before
calling <code>signal</code>, the default is to resume primitives; otherwise,
the default is to make them fail with <code>EINTR</code>.  (The library
contains alternate versions of the <code>signal</code> function, and the
feature test macros determine which one you really call.)  See <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<p>The description of each primitive affected by this issue
lists <code>EINTR</code> among the error codes it can return.

<p>There is one situation where resumption never happens no matter which
choice you make: when a data-transfer function such as <code>read</code> or
<code>write</code> is interrupted by a signal after transferring part of the
data.  In this case, the function returns the number of bytes already
transferred, indicating partial success.

<p>This might at first appear to cause unreliable behavior on
record-oriented devices (including datagram sockets; see <a href="#Datagrams">Datagrams</a>),
where splitting one <code>read</code> or <code>write</code> into two would read or
write two records.  Actually, there is no problem, because interruption
after a partial transfer cannot happen on such devices; they always
transfer an entire record in one burst, with no waiting once data
transfer has started.

<p><hr>
Node:<a name="Generating%20Signals">Generating Signals</a>,
Next:<a rel=next accesskey=n href="#Blocking%20Signals">Blocking Signals</a>,
Previous:<a rel=previous accesskey=p href="#Interrupted%20Primitives">Interrupted Primitives</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Generating Signals</h3>

<p>Besides signals that are generated as a result of a hardware trap or
interrupt, your program can explicitly send signals to itself or to
another process.

<ul>
<li><a accesskey=1 href="#Signaling%20Yourself">Signaling Yourself</a>:           A process can send a signal to itself. 
<li><a accesskey=2 href="#Signaling%20Another%20Process">Signaling Another Process</a>:    Send a signal to another process. 
<li><a accesskey=3 href="#Permission%20for%20kill">Permission for kill</a>:          Permission for using <code>kill</code>. 
<li><a accesskey=4 href="#Kill%20Example">Kill Example</a>:                 Using <code>kill</code> for Communication. 
</ul>

<p><hr>
Node:<a name="Signaling%20Yourself">Signaling Yourself</a>,
Next:<a rel=next accesskey=n href="#Signaling%20Another%20Process">Signaling Another Process</a>,
Up:<a rel=up accesskey=u href="#Generating%20Signals">Generating Signals</a>
<br>

<h4>Signaling Yourself</h4>

<p>A process can send itself a signal with the <code>raise</code> function.  This
function is declared in <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>raise</b><i> (int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>raise</code> function sends the signal <var>signum</var> to the calling
process.  It returns zero if successful and a nonzero value if it fails. 
About the only reason for failure would be if the value of <var>signum</var>
is invalid. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>gsignal</b><i> (int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>gsignal</code> function does the same thing as <code>raise</code>; it is
provided only for compatibility with SVID. 
</td></tr>
</table>

<p>One convenient use for <code>raise</code> is to reproduce the default behavior
of a signal that you have trapped.  For instance, suppose a user of your
program types the SUSP character (usually <kbd>C-z</kbd>; see <a href="#Special%20Characters">Special Characters</a>) to send it an interactive stop signal
(<code>SIGTSTP</code>), and you want to clean up some internal data buffers
before stopping.  You might set this up like this:

<br><pre>#include &lt;signal.h&gt;

/* When a stop signal arrives, set the action back to the default
   and then resend the signal after doing cleanup actions. */

void
tstp_handler (int sig)
{
  signal (SIGTSTP, SIG_DFL);
  /* Do cleanup actions here. */
  <small>...</small>
  raise (SIGTSTP);
}

/* When the process is continued again, restore the signal handler. */

void
cont_handler (int sig)
{
  signal (SIGCONT, cont_handler);
  signal (SIGTSTP, tstp_handler);
}

/* Enable both handlers during program initialization. */

int
main (void)
{
  signal (SIGCONT, cont_handler);
  signal (SIGTSTP, tstp_handler);
  <small>...</small>
}
</pre>

<p><strong>Portability note:</strong> <code>raise</code> was invented by the ISO&nbsp;C
committee.  Older systems may not support it, so using <code>kill</code> may
be more portable.  See <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<p><hr>
Node:<a name="Signaling%20Another%20Process">Signaling Another Process</a>,
Next:<a rel=next accesskey=n href="#Permission%20for%20kill">Permission for kill</a>,
Previous:<a rel=previous accesskey=p href="#Signaling%20Yourself">Signaling Yourself</a>,
Up:<a rel=up accesskey=u href="#Generating%20Signals">Generating Signals</a>
<br>

<h4>Signaling Another Process</h4>

<p>The <code>kill</code> function can be used to send a signal to another process. 
In spite of its name, it can be used for a lot of things other than
causing a process to terminate.  Some examples of situations where you
might want to send signals between processes are:

<ul>
<li>A parent process starts a child to perform a task--perhaps having the
child running an infinite loop--and then terminates the child when the
task is no longer needed.

<li>A process executes as part of a group, and needs to terminate or notify
the other processes in the group when an error or other event occurs.

<li>Two processes need to synchronize while working together. 
</ul>

<p>This section assumes that you know a little bit about how processes
work.  For more information on this subject, see <a href="#Processes">Processes</a>.

<p>The <code>kill</code> function is declared in <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>kill</b><i> (pid_t <var>pid</var>, int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>kill</code> function sends the signal <var>signum</var> to the process
or process group specified by <var>pid</var>.  Besides the signals listed in
<a href="#Standard%20Signals">Standard Signals</a>, <var>signum</var> can also have a value of zero to
check the validity of the <var>pid</var>.

<p>The <var>pid</var> specifies the process or process group to receive the
signal:

<dl>
<dt><code><var>pid</var> &gt; 0</code>
<dd>The process whose identifier is <var>pid</var>.

<br><dt><code><var>pid</var> == 0</code>
<dd>All processes in the same process group as the sender.

<br><dt><code><var>pid</var> &lt; -1</code>
<dd>The process group whose identifier is -<var>pid</var>.

<br><dt><code><var>pid</var> == -1</code>
<dd>If the process is privileged, send the signal to all processes except
for some special system processes.  Otherwise, send the signal to all
processes with the same effective user ID. 
</dl>

<p>A process can send a signal to itself with a call like <code>kill&nbsp;(getpid(),&nbsp;<var>signum</var>)</code>.  If <code>kill</code> is used by a process to send
a signal to itself, and the signal is not blocked, then <code>kill</code>
delivers at least one signal (which might be some other pending
unblocked signal instead of the signal <var>signum</var>) to that process
before it returns.

<p>The return value from <code>kill</code> is zero if the signal can be sent
successfully.  Otherwise, no signal is sent, and a value of <code>-1</code> is
returned.  If <var>pid</var> specifies sending a signal to several processes,
<code>kill</code> succeeds if it can send the signal to at least one of them. 
There's no way you can tell which of the processes got the signal
or whether all of them did.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>signum</var> argument is an invalid or unsupported number.

<br><dt><code>EPERM</code>
<dd>You do not have the privilege to send a signal to the process or any of
the processes in the process group named by <var>pid</var>.

<br><dt><code>ESCRH</code>
<dd>The <var>pid</var> argument does not refer to an existing process or group. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>killpg</b><i> (int <var>pgid</var>, int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>kill</code>, but sends signal <var>signum</var> to the
process group <var>pgid</var>.  This function is provided for compatibility
with BSD; using <code>kill</code> to do this is more portable. 
</td></tr>
</table>

<p>As a simple example of <code>kill</code>, the call <code>kill&nbsp;(getpid&nbsp;(),&nbsp;<var>sig</var>)</code> has the same effect as <code>raise&nbsp;(<var>sig</var>)</code>.

<p><hr>
Node:<a name="Permission%20for%20kill">Permission for kill</a>,
Next:<a rel=next accesskey=n href="#Kill%20Example">Kill Example</a>,
Previous:<a rel=previous accesskey=p href="#Signaling%20Another%20Process">Signaling Another Process</a>,
Up:<a rel=up accesskey=u href="#Generating%20Signals">Generating Signals</a>
<br>

<h4>Permission for using <code>kill</code></h4>

<p>There are restrictions that prevent you from using <code>kill</code> to send
signals to any random process.  These are intended to prevent antisocial
behavior such as arbitrarily killing off processes belonging to another
user.  In typical use, <code>kill</code> is used to pass signals between
parent, child, and sibling processes, and in these situations you
normally do have permission to send signals.  The only common exception
is when you run a setuid program in a child process; if the program
changes its real UID as well as its effective UID, you may not have
permission to send a signal.  The <code>su</code> program does this.

<p>Whether a process has permission to send a signal to another process
is determined by the user IDs of the two processes.  This concept is
discussed in detail in <a href="#Process%20Persona">Process Persona</a>.

<p>Generally, for a process to be able to send a signal to another process,
either the sending process must belong to a privileged user (like
<code>root</code>), or the real or effective user ID of the sending process
must match the real or effective user ID of the receiving process.  If
the receiving process has changed its effective user ID from the
set-user-ID mode bit on its process image file, then the owner of the
process image file is used in place of its current effective user ID. 
In some implementations, a parent process might be able to send signals
to a child process even if the user ID's don't match, and other
implementations might enforce other restrictions.

<p>The <code>SIGCONT</code> signal is a special case.  It can be sent if the
sender is part of the same session as the receiver, regardless of
user IDs.

<p><hr>
Node:<a name="Kill%20Example">Kill Example</a>,
Previous:<a rel=previous accesskey=p href="#Permission%20for%20kill">Permission for kill</a>,
Up:<a rel=up accesskey=u href="#Generating%20Signals">Generating Signals</a>
<br>

<h4>Using <code>kill</code> for Communication</h4>

<p>Here is a longer example showing how signals can be used for
interprocess communication.  This is what the <code>SIGUSR1</code> and
<code>SIGUSR2</code> signals are provided for.  Since these signals are fatal
by default, the process that is supposed to receive them must trap them
through <code>signal</code> or <code>sigaction</code>.

<p>In this example, a parent process forks a child process and then waits
for the child to complete its initialization.  The child process tells
the parent when it is ready by sending it a <code>SIGUSR1</code> signal, using
the <code>kill</code> function.

<br><pre>

#include &lt;signal.h&gt;
#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;

/* When a <code>SIGUSR1</code> signal arrives, set this variable. */
volatile sig_atomic_t usr_interrupt = 0;

void
synch_signal (int sig)
{
  usr_interrupt = 1;
}

/* The child process executes this function. */
void
child_function (void)
{
  /* Perform initialization. */
  printf ("I'm here!!!  My pid is %d.\n", (int) getpid ());

  /* Let parent know you're done. */
  kill (getppid (), SIGUSR1);

  /* Continue with execution. */
  puts ("Bye, now....");
  exit (0);
}

int
main (void)
{
  struct sigaction usr_action;
  sigset_t block_mask;
  pid_t child_id;

  /* Establish the signal handler. */
  sigfillset (&amp;block_mask);
  usr_action.sa_handler = synch_signal;
  usr_action.sa_mask = block_mask;
  usr_action.sa_flags = 0;
  sigaction (SIGUSR1, &amp;usr_action, NULL);

  /* Create the child process. */
  child_id = fork ();
  if (child_id == 0)
    child_function ();          /* Does not return. */

  /* Busy wait for the child to send a signal. */
  while (!usr_interrupt)
    ;

  /* Now continue execution. */
  puts ("That's all, folks!");

  return 0;
}
</pre>

<p>This example uses a busy wait, which is bad, because it wastes CPU
cycles that other programs could otherwise use.  It is better to ask the
system to wait until the signal arrives.  See the example in
<a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>.

<p><hr>
Node:<a name="Blocking%20Signals">Blocking Signals</a>,
Next:<a rel=next accesskey=n href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>,
Previous:<a rel=previous accesskey=p href="#Generating%20Signals">Generating Signals</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Blocking Signals</h3>

<p>Blocking a signal means telling the operating system to hold it and
deliver it later.  Generally, a program does not block signals
indefinitely--it might as well ignore them by setting their actions to
<code>SIG_IGN</code>.  But it is useful to block signals briefly, to prevent
them from interrupting sensitive operations.  For instance:

<ul>
<li>You can use the <code>sigprocmask</code> function to block signals while you
modify global variables that are also modified by the handlers for these
signals.

<li>You can set <code>sa_mask</code> in your <code>sigaction</code> call to block
certain signals while a particular signal handler runs.  This way, the
signal handler can run without being interrupted itself by signals. 
</ul>

<ul>
<li><a accesskey=1 href="#Why%20Block">Why Block</a>:                            The purpose of blocking signals. 
<li><a accesskey=2 href="#Signal%20Sets">Signal Sets</a>:                          How to specify which signals to
                                         block. 
<li><a accesskey=3 href="#Process%20Signal%20Mask">Process Signal Mask</a>:                  Blocking delivery of signals to your
				         process during normal execution. 
<li><a accesskey=4 href="#Testing%20for%20Delivery">Testing for Delivery</a>:                 Blocking to Test for Delivery of
                                         a Signal. 
<li><a accesskey=5 href="#Blocking%20for%20Handler">Blocking for Handler</a>:                 Blocking additional signals while a
				         handler is being run. 
<li><a accesskey=6 href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>:         Checking for Pending Signals
<li><a accesskey=7 href="#Remembering%20a%20Signal">Remembering a Signal</a>:                 How you can get almost the same
                                         effect as blocking a signal, by
                                         handling it and setting a flag
                                         to be tested later. 
</ul>

<p><hr>
Node:<a name="Why%20Block">Why Block</a>,
Next:<a rel=next accesskey=n href="#Signal%20Sets">Signal Sets</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Why Blocking Signals is Useful</h4>

<p>Temporary blocking of signals with <code>sigprocmask</code> gives you a way to
prevent interrupts during critical parts of your code.  If signals
arrive in that part of the program, they are delivered later, after you
unblock them.

<p>One example where this is useful is for sharing data between a signal
handler and the rest of the program.  If the type of the data is not
<code>sig_atomic_t</code> (see <a href="#Atomic%20Data%20Access">Atomic Data Access</a>), then the signal
handler could run when the rest of the program has only half finished
reading or writing the data.  This would lead to confusing consequences.

<p>To make the program reliable, you can prevent the signal handler from
running while the rest of the program is examining or modifying that
data--by blocking the appropriate signal around the parts of the
program that touch the data.

<p>Blocking signals is also necessary when you want to perform a certain
action only if a signal has not arrived.  Suppose that the handler for
the signal sets a flag of type <code>sig_atomic_t</code>; you would like to
test the flag and perform the action if the flag is not set.  This is
unreliable.  Suppose the signal is delivered immediately after you test
the flag, but before the consequent action: then the program will
perform the action even though the signal has arrived.

<p>The only way to test reliably for whether a signal has yet arrived is to
test while the signal is blocked.

<p><hr>
Node:<a name="Signal%20Sets">Signal Sets</a>,
Next:<a rel=next accesskey=n href="#Process%20Signal%20Mask">Process Signal Mask</a>,
Previous:<a rel=previous accesskey=p href="#Why%20Block">Why Block</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Signal Sets</h4>

<p>All of the signal blocking functions use a data structure called a
<dfn>signal set</dfn> to specify what signals are affected.  Thus, every
activity involves two stages: creating the signal set, and then passing
it as an argument to a library function.

<p>These facilities are declared in the header file <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>sigset_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigset_t</code> data type is used to represent a signal set. 
Internally, it may be implemented as either an integer or structure
type.

<p>For portability, use only the functions described in this section to
initialize, change, and retrieve information from <code>sigset_t</code>
objects--don't try to manipulate them directly. 
</td></tr>
</table>

<p>There are two ways to initialize a signal set.  You can initially
specify it to be empty with <code>sigemptyset</code> and then add specified
signals individually.  Or you can specify it to be full with
<code>sigfillset</code> and then delete specified signals individually.

<p>You must always initialize the signal set with one of these two
functions before using it in any other way.  Don't try to set all the
signals explicitly because the <code>sigset_t</code> object might include some
other information (like a version field) that needs to be initialized as
well.  (In addition, it's not wise to put into your program an
assumption that the system has no signals aside from the ones you know
about.)

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigemptyset</b><i> (sigset_t *<var>set</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initializes the signal set <var>set</var> to exclude all of the
defined signals.  It always returns <code>0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigfillset</b><i> (sigset_t *<var>set</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initializes the signal set <var>set</var> to include
all of the defined signals.  Again, the return value is <code>0</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigaddset</b><i> (sigset_t *<var>set</var>, int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function adds the signal <var>signum</var> to the signal set <var>set</var>. 
All <code>sigaddset</code> does is modify <var>set</var>; it does not block or
unblock any signals.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
The following <code>errno</code> error condition is defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>signum</var> argument doesn't specify a valid signal. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigdelset</b><i> (sigset_t *<var>set</var>, int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function removes the signal <var>signum</var> from the signal set
<var>set</var>.  All <code>sigdelset</code> does is modify <var>set</var>; it does not
block or unblock any signals.  The return value and error conditions are
the same as for <code>sigaddset</code>. 
</td></tr>
</table>

<p>Finally, there is a function to test what signals are in a signal set:

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigismember</b><i> (const sigset_t *<var>set</var>, int <var>signum</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigismember</code> function tests whether the signal <var>signum</var> is
a member of the signal set <var>set</var>.  It returns <code>1</code> if the signal
is in the set, <code>0</code> if not, and <code>-1</code> if there is an error.

<p>The following <code>errno</code> error condition is defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>signum</var> argument doesn't specify a valid signal. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Process%20Signal%20Mask">Process Signal Mask</a>,
Next:<a rel=next accesskey=n href="#Testing%20for%20Delivery">Testing for Delivery</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Sets">Signal Sets</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Process Signal Mask</h4>

<p>The collection of signals that are currently blocked is called the
<dfn>signal mask</dfn>.  Each process has its own signal mask.  When you
create a new process (see <a href="#Creating%20a%20Process">Creating a Process</a>), it inherits its
parent's mask.  You can block or unblock signals with total flexibility
by modifying the signal mask.

<p>The prototype for the <code>sigprocmask</code> function is in <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigprocmask</b><i> (int <var>how</var>, const sigset_t *restrict <var>set</var>, sigset_t *restrict <var>oldset</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigprocmask</code> function is used to examine or change the calling
process's signal mask.  The <var>how</var> argument determines how the signal
mask is changed, and must be one of the following values:

<dl>
<dt><code>SIG_BLOCK</code>
<dd>Block the signals in <code>set</code>--add them to the existing mask.  In
other words, the new mask is the union of the existing mask and
<var>set</var>.

<br><dt><code>SIG_UNBLOCK</code>
<dd>Unblock the signals in <var>set</var>--remove them from the existing mask.

<br><dt><code>SIG_SETMASK</code>
<dd>Use <var>set</var> for the mask; ignore the previous value of the mask. 
</dl>

<p>The last argument, <var>oldset</var>, is used to return information about the
old process signal mask.  If you just want to change the mask without
looking at it, pass a null pointer as the <var>oldset</var> argument. 
Similarly, if you want to know what's in the mask without changing it,
pass a null pointer for <var>set</var> (in this case the <var>how</var> argument
is not significant).  The <var>oldset</var> argument is often used to
remember the previous signal mask in order to restore it later.  (Since
the signal mask is inherited over <code>fork</code> and <code>exec</code> calls, you
can't predict what its contents are when your program starts running.)

<p>If invoking <code>sigprocmask</code> causes any pending signals to be
unblocked, at least one of those signals is delivered to the process
before <code>sigprocmask</code> returns.  The order in which pending signals
are delivered is not specified, but you can control the order explicitly
by making multiple <code>sigprocmask</code> calls to unblock various signals
one at a time.

<p>The <code>sigprocmask</code> function returns <code>0</code> if successful, and <code>-1</code>
to indicate an error.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The <var>how</var> argument is invalid. 
</dl>

<p>You can't block the <code>SIGKILL</code> and <code>SIGSTOP</code> signals, but
if the signal set includes these, <code>sigprocmask</code> just ignores
them instead of returning an error status.

<p>Remember, too, that blocking program error signals such as <code>SIGFPE</code>
leads to undesirable results for signals generated by an actual program
error (as opposed to signals sent with <code>raise</code> or <code>kill</code>). 
This is because your program may be too broken to be able to continue
executing to a point where the signal is unblocked again. 
See <a href="#Program%20Error%20Signals">Program Error Signals</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Testing%20for%20Delivery">Testing for Delivery</a>,
Next:<a rel=next accesskey=n href="#Blocking%20for%20Handler">Blocking for Handler</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Signal%20Mask">Process Signal Mask</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Blocking to Test for Delivery of a Signal</h4>

<p>Now for a simple example.  Suppose you establish a handler for
<code>SIGALRM</code> signals that sets a flag whenever a signal arrives, and
your main program checks this flag from time to time and then resets it. 
You can prevent additional <code>SIGALRM</code> signals from arriving in the
meantime by wrapping the critical part of the code with calls to
<code>sigprocmask</code>, like this:

<br><pre>/* This variable is set by the SIGALRM signal handler. */
volatile sig_atomic_t flag = 0;

int
main (void)
{
  sigset_t block_alarm;

  <small>...</small>

  /* Initialize the signal mask. */
  sigemptyset (&amp;block_alarm);
  sigaddset (&amp;block_alarm, SIGALRM);

  while (1)
    {
      /* Check if a signal has arrived; if so, reset the flag. */
      sigprocmask (SIG_BLOCK, &amp;block_alarm, NULL);
      if (flag)
        {
          <var>actions-if-not-arrived</var>
          flag = 0;
        }
      sigprocmask (SIG_UNBLOCK, &amp;block_alarm, NULL);

      <small>...</small>
    }
}
</pre>

<p><hr>
Node:<a name="Blocking%20for%20Handler">Blocking for Handler</a>,
Next:<a rel=next accesskey=n href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>,
Previous:<a rel=previous accesskey=p href="#Testing%20for%20Delivery">Testing for Delivery</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Blocking Signals for a Handler</h4>

<p>When a signal handler is invoked, you usually want it to be able to
finish without being interrupted by another signal.  From the moment the
handler starts until the moment it finishes, you must block signals that
might confuse it or corrupt its data.

<p>When a handler function is invoked on a signal, that signal is
automatically blocked (in addition to any other signals that are already
in the process's signal mask) during the time the handler is running. 
If you set up a handler for <code>SIGTSTP</code>, for instance, then the
arrival of that signal forces further <code>SIGTSTP</code> signals to wait
during the execution of the handler.

<p>However, by default, other kinds of signals are not blocked; they can
arrive during handler execution.

<p>The reliable way to block other kinds of signals during the execution of
the handler is to use the <code>sa_mask</code> member of the <code>sigaction</code>
structure.

<p>Here is an example:

<br><pre>#include &lt;signal.h&gt;
#include &lt;stddef.h&gt;

void catch_stop ();

void
install_handler (void)
{
  struct sigaction setup_action;
  sigset_t block_mask;

  sigemptyset (&amp;block_mask);
  /* Block other terminal-generated signals while handler runs. */
  sigaddset (&amp;block_mask, SIGINT);
  sigaddset (&amp;block_mask, SIGQUIT);
  setup_action.sa_handler = catch_stop;
  setup_action.sa_mask = block_mask;
  setup_action.sa_flags = 0;
  sigaction (SIGTSTP, &amp;setup_action, NULL);
}
</pre>

<p>This is more reliable than blocking the other signals explicitly in the
code for the handler.  If you block signals explicitly in the handler,
you can't avoid at least a short interval at the beginning of the
handler where they are not yet blocked.

<p>You cannot remove signals from the process's current mask using this
mechanism.  However, you can make calls to <code>sigprocmask</code> within
your handler to block or unblock signals as you wish.

<p>In any case, when the handler returns, the system restores the mask that
was in place before the handler was entered.  If any signals that become
unblocked by this restoration are pending, the process will receive
those signals immediately, before returning to the code that was
interrupted.

<p><hr>
Node:<a name="Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>,
Next:<a rel=next accesskey=n href="#Remembering%20a%20Signal">Remembering a Signal</a>,
Previous:<a rel=previous accesskey=p href="#Blocking%20for%20Handler">Blocking for Handler</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Checking for Pending Signals</h4>

<p>You can find out which signals are pending at any time by calling
<code>sigpending</code>.  This function is declared in <code>signal.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigpending</b><i> (sigset_t *<var>set</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigpending</code> function stores information about pending signals
in <var>set</var>.  If there is a pending signal that is blocked from
delivery, then that signal is a member of the returned set.  (You can
test whether a particular signal is a member of this set using
<code>sigismember</code>; see <a href="#Signal%20Sets">Signal Sets</a>.)

<p>The return value is <code>0</code> if successful, and <code>-1</code> on failure. 
</td></tr>
</table>

<p>Testing whether a signal is pending is not often useful.  Testing when
that signal is not blocked is almost certainly bad design.

<p>Here is an example.

<br><pre>#include &lt;signal.h&gt;
#include &lt;stddef.h&gt;

sigset_t base_mask, waiting_mask;

sigemptyset (&amp;base_mask);
sigaddset (&amp;base_mask, SIGINT);
sigaddset (&amp;base_mask, SIGTSTP);

/* Block user interrupts while doing other processing. */
sigprocmask (SIG_SETMASK, &amp;base_mask, NULL);
<small>...</small>

/* After a while, check to see whether any signals are pending. */
sigpending (&amp;waiting_mask);
if (sigismember (&amp;waiting_mask, SIGINT)) {
  /* User has tried to kill the process. */
}
else if (sigismember (&amp;waiting_mask, SIGTSTP)) {
  /* User has tried to stop the process. */
}
</pre>

<p>Remember that if there is a particular signal pending for your process,
additional signals of that same type that arrive in the meantime might
be discarded.  For example, if a <code>SIGINT</code> signal is pending when
another <code>SIGINT</code> signal arrives, your program will probably only
see one of them when you unblock this signal.

<p><strong>Portability Note:</strong> The <code>sigpending</code> function is new in
POSIX.1.  Older systems have no equivalent facility.

<p><hr>
Node:<a name="Remembering%20a%20Signal">Remembering a Signal</a>,
Previous:<a rel=previous accesskey=p href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>,
Up:<a rel=up accesskey=u href="#Blocking%20Signals">Blocking Signals</a>
<br>

<h4>Remembering a Signal to Act On Later</h4>

<p>Instead of blocking a signal using the library facilities, you can get
almost the same results by making the handler set a flag to be tested
later, when you "unblock".  Here is an example:

<br><pre>/* If this flag is nonzero, don't handle the signal right away. */
volatile sig_atomic_t signal_pending;

/* This is nonzero if a signal arrived and was not handled. */
volatile sig_atomic_t defer_signal;

void
handler (int signum)
{
  if (defer_signal)
    signal_pending = signum;
  else
    <small>...</small> /* "Really" handle the signal. */
}

<small>...</small>

void
update_mumble (int frob)
{
  /* Prevent signals from having immediate effect. */
  defer_signal++;
  /* Now update <code>mumble</code>, without worrying about interruption. */
  mumble.a = 1;
  mumble.b = hack ();
  mumble.c = frob;
  /* We have updated <code>mumble</code>.  Handle any signal that came in. */
  defer_signal--;
  if (defer_signal == 0 &amp;&amp; signal_pending != 0)
    raise (signal_pending);
}
</pre>

<p>Note how the particular signal that arrives is stored in
<code>signal_pending</code>.  That way, we can handle several types of
inconvenient signals with the same mechanism.

<p>We increment and decrement <code>defer_signal</code> so that nested critical
sections will work properly; thus, if <code>update_mumble</code> were called
with <code>signal_pending</code> already nonzero, signals would be deferred
not only within <code>update_mumble</code>, but also within the caller.  This
is also why we do not check <code>signal_pending</code> if <code>defer_signal</code>
is still nonzero.

<p>The incrementing and decrementing of <code>defer_signal</code> each require more
than one instruction; it is possible for a signal to happen in the
middle.  But that does not cause any problem.  If the signal happens
early enough to see the value from before the increment or decrement,
that is equivalent to a signal which came before the beginning of the
increment or decrement, which is a case that works properly.

<p>It is absolutely vital to decrement <code>defer_signal</code> before testing
<code>signal_pending</code>, because this avoids a subtle bug.  If we did
these things in the other order, like this,

<br><pre>  if (defer_signal == 1 &amp;&amp; signal_pending != 0)
    raise (signal_pending);
  defer_signal--;
</pre>

<p>then a signal arriving in between the <code>if</code> statement and the decrement
would be effectively "lost" for an indefinite amount of time.  The
handler would merely set <code>defer_signal</code>, but the program having
already tested this variable, it would not test the variable again.

<p>Bugs like these are called <dfn>timing errors</dfn>.  They are especially bad
because they happen only rarely and are nearly impossible to reproduce. 
You can't expect to find them with a debugger as you would find a
reproducible bug.  So it is worth being especially careful to avoid
them.

<p>(You would not be tempted to write the code in this order, given the use
of <code>defer_signal</code> as a counter which must be tested along with
<code>signal_pending</code>.  After all, testing for zero is cleaner than
testing for one.  But if you did not use <code>defer_signal</code> as a
counter, and gave it values of zero and one only, then either order
might seem equally simple.  This is a further advantage of using a
counter for <code>defer_signal</code>: it will reduce the chance you will
write the code in the wrong order and create a subtle bug.)

<p><hr>
Node:<a name="Waiting%20for%20a%20Signal">Waiting for a Signal</a>,
Next:<a rel=next accesskey=n href="#Signal%20Stack">Signal Stack</a>,
Previous:<a rel=previous accesskey=p href="#Blocking%20Signals">Blocking Signals</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Waiting for a Signal</h3>

<p>If your program is driven by external events, or uses signals for
synchronization, then when it has nothing to do it should probably wait
until a signal arrives.

<ul>
<li><a accesskey=1 href="#Using%20Pause">Using Pause</a>:                  The simple way, using <code>pause</code>. 
<li><a accesskey=2 href="#Pause%20Problems">Pause Problems</a>:               Why the simple way is often not very good. 
<li><a accesskey=3 href="#Sigsuspend">Sigsuspend</a>:                   Reliably waiting for a specific signal. 
</ul>

<p><hr>
Node:<a name="Using%20Pause">Using Pause</a>,
Next:<a rel=next accesskey=n href="#Pause%20Problems">Pause Problems</a>,
Up:<a rel=up accesskey=u href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<br>

<h4>Using <code>pause</code></h4>

<p>The simple way to wait until a signal arrives is to call <code>pause</code>. 
Please read about its disadvantages, in the following section, before
you use it.

<p>
<table width="100%">
<tr>
<td align="left">int <b>pause</b><i> ()
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pause</code> function suspends program execution until a signal
arrives whose action is either to execute a handler function, or to
terminate the process.

<p>If the signal causes a handler function to be executed, then
<code>pause</code> returns.  This is considered an unsuccessful return (since
"successful" behavior would be to suspend the program forever), so the
return value is <code>-1</code>.  Even if you specify that other primitives
should resume when a system handler returns (see <a href="#Interrupted%20Primitives">Interrupted Primitives</a>), this has no effect on <code>pause</code>; it always fails when a
signal is handled.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINTR</code>
<dd>The function was interrupted by delivery of a signal. 
</dl>

<p>If the signal causes program termination, <code>pause</code> doesn't return
(obviously).

<p>This function is a cancellation point in multithreaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>pause</code> is
called.  If the thread gets cancelled these resources stay allocated
until the program ends.  To avoid this calls to <code>pause</code> should be
protected using cancellation handlers.

<p>The <code>pause</code> function is declared in  <code>unistd.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Pause%20Problems">Pause Problems</a>,
Next:<a rel=next accesskey=n href="#Sigsuspend">Sigsuspend</a>,
Previous:<a rel=previous accesskey=p href="#Using%20Pause">Using Pause</a>,
Up:<a rel=up accesskey=u href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<br>

<h4>Problems with <code>pause</code></h4>

<p>The simplicity of <code>pause</code> can conceal serious timing errors that
can make a program hang mysteriously.

<p>It is safe to use <code>pause</code> if the real work of your program is done
by the signal handlers themselves, and the "main program" does nothing
but call <code>pause</code>.  Each time a signal is delivered, the handler
will do the next batch of work that is to be done, and then return, so
that the main loop of the program can call <code>pause</code> again.

<p>You can't safely use <code>pause</code> to wait until one more signal arrives,
and then resume real work.  Even if you arrange for the signal handler
to cooperate by setting a flag, you still can't use <code>pause</code>
reliably.  Here is an example of this problem:

<br><pre>/* <code>usr_interrupt</code> is set by the signal handler.  */
if (!usr_interrupt)
  pause ();

/* Do work once the signal arrives.  */
<small>...</small>
</pre>

<p>This has a bug: the signal could arrive after the variable
<code>usr_interrupt</code> is checked, but before the call to <code>pause</code>. 
If no further signals arrive, the process would never wake up again.

<p>You can put an upper limit on the excess waiting by using <code>sleep</code>
in a loop, instead of using <code>pause</code>.  (See <a href="#Sleeping">Sleeping</a>, for more
about <code>sleep</code>.)  Here is what this looks like:

<br><pre>/* <code>usr_interrupt</code> is set by the signal handler.
while (!usr_interrupt)
  sleep (1);

/* Do work once the signal arrives.  */
<small>...</small>
</pre>

<p>For some purposes, that is good enough.  But with a little more
complexity, you can wait reliably until a particular signal handler is
run, using <code>sigsuspend</code>.

<p><hr>
Node:<a name="Sigsuspend">Sigsuspend</a>,
Previous:<a rel=previous accesskey=p href="#Pause%20Problems">Pause Problems</a>,
Up:<a rel=up accesskey=u href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<br>

<h4>Using <code>sigsuspend</code></h4>

<p>The clean and reliable way to wait for a signal to arrive is to block it
and then use <code>sigsuspend</code>.  By using <code>sigsuspend</code> in a loop,
you can wait for certain kinds of signals, while letting other kinds of
signals be handled by their handlers.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigsuspend</b><i> (const sigset_t *<var>set</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function replaces the process's signal mask with <var>set</var> and then
suspends the process until a signal is delivered whose action is either
to terminate the process or invoke a signal handling function.  In other
words, the program is effectively suspended until one of the signals that
is not a member of <var>set</var> arrives.

<p>If the process is woken up by delivery of a signal that invokes a handler
function, and the handler function returns, then <code>sigsuspend</code> also
returns.

<p>The mask remains <var>set</var> only as long as <code>sigsuspend</code> is waiting. 
The function <code>sigsuspend</code> always restores the previous signal mask
when it returns.

<p>The return value and error conditions are the same as for <code>pause</code>. 
</td></tr>
</table>

<p>With <code>sigsuspend</code>, you can replace the <code>pause</code> or <code>sleep</code>
loop in the previous section with something completely reliable:

<br><pre>sigset_t mask, oldmask;

<small>...</small>

/* Set up the mask of signals to temporarily block. */
sigemptyset (&amp;mask);
sigaddset (&amp;mask, SIGUSR1);

<small>...</small>

/* Wait for a signal to arrive. */
sigprocmask (SIG_BLOCK, &amp;mask, &amp;oldmask);
while (!usr_interrupt)
  sigsuspend (&amp;oldmask);
sigprocmask (SIG_UNBLOCK, &amp;mask, NULL);
</pre>

<p>This last piece of code is a little tricky.  The key point to remember
here is that when <code>sigsuspend</code> returns, it resets the process's
signal mask to the original value, the value from before the call to
<code>sigsuspend</code>--in this case, the <code>SIGUSR1</code> signal is once
again blocked.  The second call to <code>sigprocmask</code> is
necessary to explicitly unblock this signal.

<p>One other point: you may be wondering why the <code>while</code> loop is
necessary at all, since the program is apparently only waiting for one
<code>SIGUSR1</code> signal.  The answer is that the mask passed to
<code>sigsuspend</code> permits the process to be woken up by the delivery of
other kinds of signals, as well--for example, job control signals.  If
the process is woken up by a signal that doesn't set
<code>usr_interrupt</code>, it just suspends itself again until the "right"
kind of signal eventually arrives.

<p>This technique takes a few more lines of preparation, but that is needed
just once for each kind of wait criterion you want to use.  The code
that actually waits is just four lines.

<p><hr>
Node:<a name="Signal%20Stack">Signal Stack</a>,
Next:<a rel=next accesskey=n href="#BSD%20Signal%20Handling">BSD Signal Handling</a>,
Previous:<a rel=previous accesskey=p href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>Using a Separate Signal Stack</h3>

<p>A signal stack is a special area of memory to be used as the execution
stack during signal handlers.  It should be fairly large, to avoid any
danger that it will overflow in turn; the macro <code>SIGSTKSZ</code> is
defined to a canonical size for signal stacks.  You can use
<code>malloc</code> to allocate the space for the stack.  Then call
<code>sigaltstack</code> or <code>sigstack</code> to tell the system to use that
space for the signal stack.

<p>You don't need to write signal handlers differently in order to use a
signal stack.  Switching from one stack to the other happens
automatically.  (Some non-GNU debuggers on some machines may get
confused if you examine a stack trace while a handler that uses the
signal stack is running.)

<p>There are two interfaces for telling the system to use a separate signal
stack.  <code>sigstack</code> is the older interface, which comes from 4.2
BSD.  <code>sigaltstack</code> is the newer interface, and comes from 4.4
BSD.  The <code>sigaltstack</code> interface has the advantage that it does
not require your program to know which direction the stack grows, which
depends on the specific machine and operating system.

<p>
<table width="100%">
<tr>
<td align="left"><b>stack_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure describes a signal stack.  It contains the following members:

<dl>
<dt><code>void *ss_sp</code>
<dd>This points to the base of the signal stack.

<br><dt><code>size_t ss_size</code>
<dd>This is the size (in bytes) of the signal stack which <code>ss_sp</code> points to. 
You should set this to however much space you allocated for the stack.

<p>There are two macros defined in <code>signal.h</code> that you should use in
calculating this size:

<dl>
<dt><code>SIGSTKSZ</code>
<dd>This is the canonical size for a signal stack.  It is judged to be
sufficient for normal uses.

<br><dt><code>MINSIGSTKSZ</code>
<dd>This is the amount of signal stack space the operating system needs just
to implement signal delivery.  The size of a signal stack <strong>must</strong>
be greater than this.

<p>For most cases, just using <code>SIGSTKSZ</code> for <code>ss_size</code> is
sufficient.  But if you know how much stack space your program's signal
handlers will need, you may want to use a different size.  In this case,
you should allocate <code>MINSIGSTKSZ</code> additional bytes for the signal
stack and increase <code>ss_size</code> accordingly. 
</dl>

<br><dt><code>int ss_flags</code>
<dd>This field contains the bitwise <small>OR</small> of these flags:

<dl>
<dt><code>SS_DISABLE</code>
<dd>This tells the system that it should not use the signal stack.

<br><dt><code>SS_ONSTACK</code>
<dd>This is set by the system, and indicates that the signal stack is
currently in use.  If this bit is not set, then signals will be
delivered on the normal user stack. 
</dl>
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigaltstack</b><i> (const stack_t *restrict <var>stack</var>, stack_t *restrict <var>oldstack</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigaltstack</code> function specifies an alternate stack for use
during signal handling.  When a signal is received by the process and
its action indicates that the signal stack is used, the system arranges
a switch to the currently installed signal stack while the handler for
that signal is executed.

<p>If <var>oldstack</var> is not a null pointer, information about the currently
installed signal stack is returned in the location it points to.  If
<var>stack</var> is not a null pointer, then this is installed as the new
stack for use by signal handlers.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  If
<code>sigaltstack</code> fails, it sets <code>errno</code> to one of these values:

<dl>
<dt><code>EINVAL</code>
<dd>You tried to disable a stack that was in fact currently in use.

<br><dt><code>ENOMEM</code>
<dd>The size of the alternate stack was too small. 
It must be greater than <code>MINSIGSTKSZ</code>. 
</dl>
</td></tr>
</table>

<p>Here is the older <code>sigstack</code> interface.  You should use
<code>sigaltstack</code> instead on systems that have it.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sigstack</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure describes a signal stack.  It contains the following members:

<dl>
<dt><code>void *ss_sp</code>
<dd>This is the stack pointer.  If the stack grows downwards on your
machine, this should point to the top of the area you allocated.  If the
stack grows upwards, it should point to the bottom.

<br><dt><code>int ss_onstack</code>
<dd>This field is true if the process is currently using this stack. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigstack</b><i> (const struct sigstack *<var>stack</var>, struct sigstack *<var>oldstack</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sigstack</code> function specifies an alternate stack for use during
signal handling.  When a signal is received by the process and its
action indicates that the signal stack is used, the system arranges a
switch to the currently installed signal stack while the handler for
that signal is executed.

<p>If <var>oldstack</var> is not a null pointer, information about the currently
installed signal stack is returned in the location it points to.  If
<var>stack</var> is not a null pointer, then this is installed as the new
stack for use by signal handlers.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
</td></tr>
</table>

<p><hr>
Node:<a name="BSD%20Signal%20Handling">BSD Signal Handling</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Stack">Signal Stack</a>,
Up:<a rel=up accesskey=u href="#Signal%20Handling">Signal Handling</a>
<br>

<h3>BSD Signal Handling</h3>

<p>This section describes alternative signal handling functions derived
from BSD Unix.  These facilities were an advance, in their time; today,
they are mostly obsolete, and supported mainly for compatibility with
BSD Unix.

<p>There are many similarities between the BSD and POSIX signal handling
facilities, because the POSIX facilities were inspired by the BSD
facilities.  Besides having different names for all the functions to
avoid conflicts, the main differences between the two are:

<ul>
<li>BSD Unix represents signal masks as an <code>int</code> bit mask, rather than
as a <code>sigset_t</code> object.

<li>The BSD facilities use a different default for whether an interrupted
primitive should fail or resume.  The POSIX facilities make system
calls fail unless you specify that they should resume.  With the BSD
facility, the default is to make system calls resume unless you say they
should fail.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</ul>

<p>The BSD facilities are declared in <code>signal.h</code>.

<ul>
<li><a accesskey=1 href="#BSD%20Handler">BSD Handler</a>:                  BSD Function to Establish a Handler. 
<li><a accesskey=2 href="#Blocking%20in%20BSD">Blocking in BSD</a>:              BSD Functions for Blocking Signals. 
</ul>

<p><hr>
Node:<a name="BSD%20Handler">BSD Handler</a>,
Next:<a rel=next accesskey=n href="#Blocking%20in%20BSD">Blocking in BSD</a>,
Up:<a rel=up accesskey=u href="#BSD%20Signal%20Handling">BSD Signal Handling</a>
<br>

<h4>BSD Function to Establish a Handler</h4>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct sigvec</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type is the BSD equivalent of <code>struct sigaction</code>
(see <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>); it is used to specify signal actions
to the <code>sigvec</code> function.  It contains the following members:

<dl>
<dt><code>sighandler_t sv_handler</code>
<dd>This is the handler function.

<br><dt><code>int sv_mask</code>
<dd>This is the mask of additional signals to be blocked while the handler
function is being called.

<br><dt><code>int sv_flags</code>
<dd>This is a bit mask used to specify various flags which affect the
behavior of the signal.  You can also refer to this field as
<code>sv_onstack</code>. 
</dl>
</td></tr>
</table>

<p>These symbolic constants can be used to provide values for the
<code>sv_flags</code> field of a <code>sigvec</code> structure.  This field is a bit
mask value, so you bitwise-OR the flags of interest to you together.

<p>
<table width="100%">
<tr>
<td align="left">int <b>SV_ONSTACK</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set in the <code>sv_flags</code> field of a <code>sigvec</code>
structure, it means to use the signal stack when delivering the signal. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SV_INTERRUPT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set in the <code>sv_flags</code> field of a <code>sigvec</code>
structure, it means that system calls interrupted by this kind of signal
should not be restarted if the handler returns; instead, the system
calls should return with a <code>EINTR</code> error status.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SV_RESETHAND</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this bit is set in the <code>sv_flags</code> field of a <code>sigvec</code>
structure, it means to reset the action for the signal back to
<code>SIG_DFL</code> when the signal is received. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigvec</b><i> (int <var>signum</var>, const struct sigvec *<var>action</var>,struct sigvec *<var>old-action</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the equivalent of <code>sigaction</code> (see <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>); it installs the action <var>action</var> for the signal <var>signum</var>,
returning information about the previous action in effect for that signal
in <var>old-action</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>siginterrupt</b><i> (int <var>signum</var>, int <var>failflag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function specifies which approach to use when certain primitives
are interrupted by handling signal <var>signum</var>.  If <var>failflag</var> is
false, signal <var>signum</var> restarts primitives.  If <var>failflag</var> is
true, handling <var>signum</var> causes these primitives to fail with error
code <code>EINTR</code>.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Blocking%20in%20BSD">Blocking in BSD</a>,
Previous:<a rel=previous accesskey=p href="#BSD%20Handler">BSD Handler</a>,
Up:<a rel=up accesskey=u href="#BSD%20Signal%20Handling">BSD Signal Handling</a>
<br>

<h4>BSD Functions for Blocking Signals</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigmask</b><i> (int <var>signum</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a signal mask that has the bit for signal <var>signum</var>
set.  You can bitwise-OR the results of several calls to <code>sigmask</code>
together to specify more than one signal.  For example,

<br><pre>(sigmask (SIGTSTP) | sigmask (SIGSTOP)
 | sigmask (SIGTTIN) | sigmask (SIGTTOU))
</pre>

<p>specifies a mask that includes all the job-control stop signals. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigblock</b><i> (int <var>mask</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is equivalent to <code>sigprocmask</code> (see <a href="#Process%20Signal%20Mask">Process Signal Mask</a>) with a <var>how</var> argument of <code>SIG_BLOCK</code>: it adds the
signals specified by <var>mask</var> to the calling process's set of blocked
signals.  The return value is the previous set of blocked signals. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigsetmask</b><i> (int <var>mask</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function equivalent to <code>sigprocmask</code> (see <a href="#Process%20Signal%20Mask">Process Signal Mask</a>) with a <var>how</var> argument of <code>SIG_SETMASK</code>: it sets
the calling process's signal mask to <var>mask</var>.  The return value is
the previous set of blocked signals. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sigpause</b><i> (int <var>mask</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is the equivalent of <code>sigsuspend</code> (see <a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>):  it sets the calling process's signal mask to <var>mask</var>,
and waits for a signal to arrive.  On return the previous set of blocked
signals is restored. 
</td></tr>
</table>

<p><hr>
Node:<a name="Program%20Basics">Program Basics</a>,
Next:<a rel=next accesskey=n href="#Processes">Processes</a>,
Previous:<a rel=previous accesskey=p href="#Signal%20Handling">Signal Handling</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>The Basic Program/System Interface</h2>

<p><dfn>Processes</dfn> are the primitive units for allocation of system
resources.  Each process has its own address space and (usually) one
thread of control.  A process executes a program; you can have multiple
processes executing the same program, but each process has its own copy
of the program within its own address space and executes it
independently of the other copies.  Though it may have multiple threads
of control within the same program and a program may be composed of
multiple logically separate modules, a process always executes exactly
one program.

<p>Note that we are using a specific definition of "program" for the
purposes of this manual, which corresponds to a common definition in the
context of Unix system.  In popular usage, "program" enjoys a much
broader definition; it can refer for example to a system's kernel, an
editor macro, a complex package of software, or a discrete section of
code executing within a process.

<p>Writing the program is what this manual is all about.  This chapter
explains the most basic interface between your program and the system
that runs, or calls, it.  This includes passing of parameters (arguments
and environment) from the system, requesting basic services from the
system, and telling the system the program is done.

<p>A program starts another program with the <code>exec</code> family of system calls. 
This chapter looks at program startup from the execee's point of view.  To
see the event from the execor's point of view, See <a href="#Executing%20a%20File">Executing a File</a>.

<ul>
<li><a accesskey=1 href="#Program%20Arguments">Program Arguments</a>:            Parsing your program's command-line arguments. 
<li><a accesskey=2 href="#Environment%20Variables">Environment Variables</a>:        Less direct parameters affecting your program
<li><a accesskey=3 href="#System%20Calls">System Calls</a>:                 Requesting service from the system
<li><a accesskey=4 href="#Program%20Termination">Program Termination</a>:          Telling the system you're done; return status
</ul>

<p><hr>
Node:<a name="Program%20Arguments">Program Arguments</a>,
Next:<a rel=next accesskey=n href="#Environment%20Variables">Environment Variables</a>,
Up:<a rel=up accesskey=u href="#Program%20Basics">Program Basics</a>
<br>

<h3>Program Arguments</h3>

<p>The system starts a C program by calling the function <code>main</code>.  It
is up to you to write a function named <code>main</code>--otherwise, you
won't even be able to link your program without errors.

<p>In ISO&nbsp;C you can define <code>main</code> either to take no arguments, or to
take two arguments that represent the command line arguments to the
program, like this:

<br><pre>int main (int <var>argc</var>, char *<var>argv</var>[])
</pre>

<p>The command line arguments are the whitespace-separated tokens given in
the shell command used to invoke the program; thus, in <code>cat foo
bar</code>, the arguments are <code>foo</code> and <code>bar</code>.  The only way a
program can look at its command line arguments is via the arguments of
<code>main</code>.  If <code>main</code> doesn't take arguments, then you cannot get
at the command line.

<p>The value of the <var>argc</var> argument is the number of command line
arguments.  The <var>argv</var> argument is a vector of C strings; its
elements are the individual command line argument strings.  The file
name of the program being run is also included in the vector as the
first element; the value of <var>argc</var> counts this element.  A null
pointer always follows the last element: <code><var>argv</var>[<var>argc</var>]</code>
is this null pointer.

<p>For the command <code>cat foo bar</code>, <var>argc</var> is 3 and <var>argv</var> has
three elements, <code>"cat"</code>, <code>"foo"</code> and <code>"bar"</code>.

<p>In Unix systems you can define <code>main</code> a third way, using three arguments:

<br><pre>int main (int <var>argc</var>, char *<var>argv</var>[], char *<var>envp</var>[])
</pre>

<p>The first two arguments are just the same.  The third argument
<var>envp</var> gives the program's environment; it is the same as the value
of <code>environ</code>.  See <a href="#Environment%20Variables">Environment Variables</a>.  POSIX.1 does not
allow this three-argument form, so to be portable it is best to write
<code>main</code> to take two arguments, and use the value of <code>environ</code>.

<ul>
<li><a accesskey=1 href="#Argument%20Syntax">Argument Syntax</a>:              By convention, options start with a hyphen. 
<li><a accesskey=2 href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>:    Ways to parse program options and arguments. 
</ul>

<p><hr>
Node:<a name="Argument%20Syntax">Argument Syntax</a>,
Next:<a rel=next accesskey=n href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>,
Up:<a rel=up accesskey=u href="#Program%20Arguments">Program Arguments</a>
<br>

<h4>Program Argument Syntax Conventions</h4>

<p>POSIX recommends these conventions for command line arguments. 
<code>getopt</code> (see <a href="#Getopt">Getopt</a>) and <code>argp_parse</code> (see <a href="#Argp">Argp</a>) make
it easy to implement them.

<ul>
<li>Arguments are options if they begin with a hyphen delimiter (<code>-</code>).

<li>Multiple options may follow a hyphen delimiter in a single token if
the options do not take arguments.  Thus, <code>-abc</code> is equivalent to
<code>-a -b -c</code>.

<li>Option names are single alphanumeric characters (as for <code>isalnum</code>;
see <a href="#Classification%20of%20Characters">Classification of Characters</a>).

<li>Certain options require an argument.  For example, the <code>-o</code> command
of the <code>ld</code> command requires an argument--an output file name.

<li>An option and its argument may or may not appear as separate tokens.  (In
other words, the whitespace separating them is optional.)  Thus,
<code>-o&nbsp;foo</code> and <code>-ofoo</code> are equivalent.

<li>Options typically precede other non-option arguments.

<p>The implementations of <code>getopt</code> and <code>argp_parse</code> in the GNU C
library normally make it appear as if all the option arguments were
specified before all the non-option arguments for the purposes of
parsing, even if the user of your program intermixed option and
non-option arguments.  They do this by reordering the elements of the
<var>argv</var> array.  This behavior is nonstandard; if you want to suppress
it, define the <code>_POSIX_OPTION_ORDER</code> environment variable. 
See <a href="#Standard%20Environment">Standard Environment</a>.

</p><li>The argument <code>--</code> terminates all options; any following arguments
are treated as non-option arguments, even if they begin with a hyphen.

<li>A token consisting of a single hyphen character is interpreted as an
ordinary non-option argument.  By convention, it is used to specify
input from or output to the standard input and output streams.

<li>Options may be supplied in any order, or appear multiple times.  The
interpretation is left up to the particular application program. 
</ul>

<p>GNU adds <dfn>long options</dfn> to these conventions.  Long options consist
of <code>--</code> followed by a name made of alphanumeric characters and
dashes.  Option names are typically one to three words long, with
hyphens to separate words.  Users can abbreviate the option names as
long as the abbreviations are unique.

<p>To specify an argument for a long option, write
<code>--<var>name</var>=<var>value</var></code>.  This syntax enables a long option to
accept an argument that is itself optional.

<p>Eventually, the GNU system will provide completion for long option names
in the shell.

<p><hr>
Node:<a name="Parsing%20Program%20Arguments">Parsing Program Arguments</a>,
Previous:<a rel=previous accesskey=p href="#Argument%20Syntax">Argument Syntax</a>,
Up:<a rel=up accesskey=u href="#Program%20Arguments">Program Arguments</a>
<br>

<h4>Parsing Program Arguments</h4>

<p>If the syntax for the command line arguments to your program is simple
enough, you can simply pick the arguments off from <var>argv</var> by hand. 
But unless your program takes a fixed number of arguments, or all of the
arguments are interpreted in the same way (as file names, for example),
you are usually better off using <code>getopt</code> (see <a href="#Getopt">Getopt</a>) or
<code>argp_parse</code> (see <a href="#Argp">Argp</a>) to do the parsing.

<p><code>getopt</code> is more standard (the short-option only version of it is a
part of the POSIX standard), but using <code>argp_parse</code> is often
easier, both for very simple and very complex option structures, because
it does more of the dirty work for you.

<ul>
<li><a accesskey=1 href="#Getopt">Getopt</a>:                       Parsing program options using <code>getopt</code>. 
<li><a accesskey=2 href="#Argp">Argp</a>:                         Parsing program options using <code>argp_parse</code>. 
<li><a accesskey=3 href="#Suboptions">Suboptions</a>:                   Some programs need more detailed options. 
<li><a accesskey=4 href="#Suboptions%20Example">Suboptions Example</a>:           This shows how it could be done for <code>mount</code>. 
</ul>

<p><hr>
Node:<a name="Getopt">Getopt</a>,
Next:<a rel=next accesskey=n href="#Argp">Argp</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<br>

<h3>Parsing program options using <code>getopt</code></h3>

<p>The <code>getopt</code> and <code>getopt_long</code> functions automate some of the
chore involved in parsing typical unix command line options.

<ul>
<li><a accesskey=1 href="#Using%20Getopt">Using Getopt</a>:                 Using the <code>getopt</code> function. 
<li><a accesskey=2 href="#Example%20of%20Getopt">Example of Getopt</a>:            An example of parsing options with <code>getopt</code>. 
<li><a accesskey=3 href="#Getopt%20Long%20Options">Getopt Long Options</a>:          GNU suggests utilities accept long-named
                                 options; here is one way to do. 
<li><a accesskey=4 href="#Getopt%20Long%20Option%20Example">Getopt Long Option Example</a>:   An example of using <code>getopt_long</code>. 
</ul>

<p><hr>
Node:<a name="Using%20Getopt">Using Getopt</a>,
Next:<a rel=next accesskey=n href="#Example%20of%20Getopt">Example of Getopt</a>,
Up:<a rel=up accesskey=u href="#Getopt">Getopt</a>
<br>

<h4>Using the <code>getopt</code> function</h4>

<p>Here are the details about how to call the <code>getopt</code> function.  To
use this facility, your program must include the header file
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>opterr</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the value of this variable is nonzero, then <code>getopt</code> prints an
error message to the standard error stream if it encounters an unknown
option character or an option with a missing required argument.  This is
the default behavior.  If you set this variable to zero, <code>getopt</code>
does not print any messages, but it still returns the character <code>?</code>
to indicate an error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>optopt</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
When <code>getopt</code> encounters an unknown option character or an option
with a missing required argument, it stores that option character in
this variable.  You can use this for providing your own diagnostic
messages. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>optind</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable is set by <code>getopt</code> to the index of the next element
of the <var>argv</var> array to be processed.  Once <code>getopt</code> has found
all of the option arguments, you can use this variable to determine
where the remaining non-option arguments begin.  The initial value of
this variable is <code>1</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>optarg</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This variable is set by <code>getopt</code> to point at the value of the
option argument, for those options that accept arguments. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getopt</b><i> (int <var>argc</var>, char **<var>argv</var>, const char *<var>options</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getopt</code> function gets the next option argument from the
argument list specified by the <var>argv</var> and <var>argc</var> arguments. 
Normally these values come directly from the arguments received by
<code>main</code>.

<p>The <var>options</var> argument is a string that specifies the option
characters that are valid for this program.  An option character in this
string can be followed by a colon (<code>:</code>) to indicate that it takes a
required argument.  If an option character is followed by two colons
(<code>::</code>), its argument is optional; this is a GNU extension.

<p><code>getopt</code> has three ways to deal with options that follow
non-options <var>argv</var> elements.  The special argument <code>--</code> forces
in all cases the end of option scanning.

<ul>
<li>The default is to permute the contents of <var>argv</var> while scanning it
so that eventually all the non-options are at the end.  This allows
options to be given in any order, even with programs that were not
written to expect this.

<li>If the <var>options</var> argument string begins with a hyphen (<code>-</code>), this
is treated specially.  It permits arguments that are not options to be
returned as if they were associated with option character <code>\1</code>.

<li>POSIX demands the following behavior: The first non-option stops option
processing.  This mode is selected by either setting the environment
variable <code>POSIXLY_CORRECT</code> or beginning the <var>options</var> argument
string with a plus sign (<code>+</code>). 
</ul>

<p>The <code>getopt</code> function returns the option character for the next
command line option.  When no more option arguments are available, it
returns <code>-1</code>.  There may still be more non-option arguments; you
must compare the external variable <code>optind</code> against the <var>argc</var>
parameter to check this.

<p>If the option has an argument, <code>getopt</code> returns the argument by
storing it in the variable <var>optarg</var>.  You don't ordinarily need to
copy the <code>optarg</code> string, since it is a pointer into the original
<var>argv</var> array, not into a static area that might be overwritten.

<p>If <code>getopt</code> finds an option character in <var>argv</var> that was not
included in <var>options</var>, or a missing option argument, it returns
<code>?</code> and sets the external variable <code>optopt</code> to the actual
option character.  If the first character of <var>options</var> is a colon
(<code>:</code>), then <code>getopt</code> returns <code>:</code> instead of <code>?</code> to
indicate a missing option argument.  In addition, if the external
variable <code>opterr</code> is nonzero (which is the default), <code>getopt</code>
prints an error message. 
</td></tr>
</table>

<p><hr>
Node:<a name="Example%20of%20Getopt">Example of Getopt</a>,
Next:<a rel=next accesskey=n href="#Getopt%20Long%20Options">Getopt Long Options</a>,
Previous:<a rel=previous accesskey=p href="#Using%20Getopt">Using Getopt</a>,
Up:<a rel=up accesskey=u href="#Getopt">Getopt</a>
<br>

<h4>Example of Parsing Arguments with <code>getopt</code></h4>

<p>Here is an example showing how <code>getopt</code> is typically used.  The
key points to notice are:

<ul>
<li>Normally, <code>getopt</code> is called in a loop.  When <code>getopt</code> returns
<code>-1</code>, indicating no more options are present, the loop terminates.

<li>A <code>switch</code> statement is used to dispatch on the return value from
<code>getopt</code>.  In typical use, each case just sets a variable that
is used later in the program.

<li>A second loop is used to process the remaining non-option arguments. 
</ul>

<br><pre>

#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;

int
main (int argc, char **argv)
{
  int aflag = 0;
  int bflag = 0;
  char *cvalue = NULL;
  int index;
  int c;

  opterr = 0;

  while ((c = getopt (argc, argv, "abc:")) != -1)
    switch (c)
      {
      case 'a':
        aflag = 1;
        break;
      case 'b':
        bflag = 1;
        break;
      case 'c':
        cvalue = optarg;
        break;
      case '?':
        if (isprint (optopt))
          fprintf (stderr, "Unknown option `-%c'.\n", optopt);
        else
          fprintf (stderr,
                   "Unknown option character `\\x%x'.\n",
                   optopt);
        return 1;
      default:
        abort ();
      }

  printf ("aflag = %d, bflag = %d, cvalue = %s\n",
          aflag, bflag, cvalue);

  for (index = optind; index &lt; argc; index++)
    printf ("Non-option argument %s\n", argv[index]);
  return 0;
}
</pre>

<p>Here are some examples showing what this program prints with different
combinations of arguments:

<br><pre>% testopt
aflag = 0, bflag = 0, cvalue = (null)

% testopt -a -b
aflag = 1, bflag = 1, cvalue = (null)

% testopt -ab
aflag = 1, bflag = 1, cvalue = (null)

% testopt -c foo
aflag = 0, bflag = 0, cvalue = foo

% testopt -cfoo
aflag = 0, bflag = 0, cvalue = foo

% testopt arg1
aflag = 0, bflag = 0, cvalue = (null)
Non-option argument arg1

% testopt -a arg1
aflag = 1, bflag = 0, cvalue = (null)
Non-option argument arg1

% testopt -c foo arg1
aflag = 0, bflag = 0, cvalue = foo
Non-option argument arg1

% testopt -a -- -b
aflag = 1, bflag = 0, cvalue = (null)
Non-option argument -b

% testopt -a -
aflag = 1, bflag = 0, cvalue = (null)
Non-option argument -
</pre>

<p><hr>
Node:<a name="Getopt%20Long%20Options">Getopt Long Options</a>,
Next:<a rel=next accesskey=n href="#Getopt%20Long%20Option%20Example">Getopt Long Option Example</a>,
Previous:<a rel=previous accesskey=p href="#Example%20of%20Getopt">Example of Getopt</a>,
Up:<a rel=up accesskey=u href="#Getopt">Getopt</a>
<br>

<h4>Parsing Long Options with <code>getopt_long</code></h4>

<p>To accept GNU-style long options as well as single-character options,
use <code>getopt_long</code> instead of <code>getopt</code>.  This function is
declared in <code>getopt.h</code>, not <code>unistd.h</code>.  You should make every
program accept long options if it uses any options, for this takes
little extra work and helps beginners remember how to use the program.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct option</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure describes a single long option name for the sake of
<code>getopt_long</code>.  The argument <var>longopts</var> must be an array of
these structures, one for each long option.  Terminate the array with an
element containing all zeros.

<p>The <code>struct option</code> structure has these fields:

<dl>
<dt><code>const char *name</code>
<dd>This field is the name of the option.  It is a string.

<br><dt><code>int has_arg</code>
<dd>This field says whether the option takes an argument.  It is an integer,
and there are three legitimate values: <code>no_argument</code>,
<code>required_argument</code> and <code>optional_argument</code>.

<br><dt><code>int *flag</code>
<dt><code>int val</code>
<dd>These fields control how to report or act on the option when it occurs.

<p>If <code>flag</code> is a null pointer, then the <code>val</code> is a value which
identifies this option.  Often these values are chosen to uniquely
identify particular long options.

<p>If <code>flag</code> is not a null pointer, it should be the address of an
<code>int</code> variable which is the flag for this option.  The value in
<code>val</code> is the value to store in the flag to indicate that the option
was seen. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getopt_long</b><i> (int <var>argc</var>, char *const *<var>argv</var>, const char *<var>shortopts</var>, const struct option *<var>longopts</var>, int *<var>indexptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Decode options from the vector <var>argv</var> (whose length is <var>argc</var>). 
The argument <var>shortopts</var> describes the short options to accept, just as
it does in <code>getopt</code>.  The argument <var>longopts</var> describes the long
options to accept (see above).

<p>When <code>getopt_long</code> encounters a short option, it does the same
thing that <code>getopt</code> would do: it returns the character code for the
option, and stores the options argument (if it has one) in <code>optarg</code>.

<p>When <code>getopt_long</code> encounters a long option, it takes actions based
on the <code>flag</code> and <code>val</code> fields of the definition of that
option.

<p>If <code>flag</code> is a null pointer, then <code>getopt_long</code> returns the
contents of <code>val</code> to indicate which option it found.  You should
arrange distinct values in the <code>val</code> field for options with
different meanings, so you can decode these values after
<code>getopt_long</code> returns.  If the long option is equivalent to a short
option, you can use the short option's character code in <code>val</code>.

<p>If <code>flag</code> is not a null pointer, that means this option should just
set a flag in the program.  The flag is a variable of type <code>int</code>
that you define.  Put the address of the flag in the <code>flag</code> field. 
Put in the <code>val</code> field the value you would like this option to
store in the flag.  In this case, <code>getopt_long</code> returns <code>0</code>.

<p>For any long option, <code>getopt_long</code> tells you the index in the array
<var>longopts</var> of the options definition, by storing it into
<code>*<var>indexptr</var></code>.  You can get the name of the option with
<code><var>longopts</var>[*<var>indexptr</var>].name</code>.  So you can distinguish among
long options either by the values in their <code>val</code> fields or by their
indices.  You can also distinguish in this way among long options that
set flags.

<p>When a long option has an argument, <code>getopt_long</code> puts the argument
value in the variable <code>optarg</code> before returning.  When the option
has no argument, the value in <code>optarg</code> is a null pointer.  This is
how you can tell whether an optional argument was supplied.

<p>When <code>getopt_long</code> has no more options to handle, it returns
<code>-1</code>, and leaves in the variable <code>optind</code> the index in
<var>argv</var> of the next remaining argument. 
</td></tr>
</table>

<p>Since long option names were used before before the <code>getopt_long</code>
options was invented there are program interfaces which require programs
to recognize options like <code>-option&nbsp;value</code> instead of
<code>--option&nbsp;value</code>.  To enable these programs to use the GNU
getopt functionality there is one more function available.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getopt_long_only</b><i> (int <var>argc</var>, char *const *<var>argv</var>, const char *<var>shortopts</var>, const struct option *<var>longopts</var>, int *<var>indexptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>getopt_long_only</code> function is equivalent to the
<code>getopt_long</code> function but it allows to specify the user of the
application to pass long options with only <code>-</code> instead of
<code>--</code>.  The <code>--</code> prefix is still recognized but instead of
looking through the short options if a <code>-</code> is seen it is first
tried whether this parameter names a long option.  If not, it is parsed
as a short option.

<p>Assuming <code>getopt_long_only</code> is used starting an application with

<br><pre>  app -foo
</pre>

<p>the <code>getopt_long_only</code> will first look for a long option named
<code>foo</code>.  If this is not found, the short options <code>f</code>, <code>o</code>,
and again <code>o</code> are recognized. 
</td></tr>
</table>

<p><hr>
Node:<a name="Getopt%20Long%20Option%20Example">Getopt Long Option Example</a>,
Previous:<a rel=previous accesskey=p href="#Getopt%20Long%20Options">Getopt Long Options</a>,
Up:<a rel=up accesskey=u href="#Getopt">Getopt</a>
<br>

<h4>Example of Parsing Long Options with <code>getopt_long</code></h4>

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;getopt.h&gt;

/* Flag set by <code>--verbose</code>. */
static int verbose_flag;

int
main (argc, argv)
     int argc;
     char **argv;
{
  int c;

  while (1)
    {
      static struct option long_options[] =
        {
          /* These options set a flag. */
          {"verbose", no_argument,       &amp;verbose_flag, 1},
          {"brief",   no_argument,       &amp;verbose_flag, 0},
          /* These options don't set a flag.
             We distinguish them by their indices. */
          {"add",     no_argument,       0, 'a'},
          {"append",  no_argument,       0, 'b'},
          {"delete",  required_argument, 0, 'd'},
          {"create",  required_argument, 0, 'c'},
          {"file",    required_argument, 0, 'f'},
          {0, 0, 0, 0}
        };
      /* <code>getopt_long</code> stores the option index here. */
      int option_index = 0;

      c = getopt_long (argc, argv, "abc:d:f:",
                       long_options, &amp;option_index);

      /* Detect the end of the options. */
      if (c == -1)
        break;

      switch (c)
        {
        case 0:
          /* If this option set a flag, do nothing else now. */
          if (long_options[option_index].flag != 0)
            break;
          printf ("option %s", long_options[option_index].name);
          if (optarg)
            printf (" with arg %s", optarg);
          printf ("\n");
          break;

        case 'a':
          puts ("option -a\n");
          break;

        case 'b':
          puts ("option -b\n");
          break;

        case 'c':
          printf ("option -c with value `%s'\n", optarg);
          break;

        case 'd':
          printf ("option -d with value `%s'\n", optarg);
          break;

        case 'f':
          printf ("option -f with value `%s'\n", optarg);
          break;

        case '?':
          /* <code>getopt_long</code> already printed an error message. */
          break;

        default:
          abort ();
        }
    }

  /* Instead of reporting <code>--verbose</code>
     and <code>--brief</code> as they are encountered,
     we report the final status resulting from them. */
  if (verbose_flag)
    puts ("verbose flag is set");

  /* Print any remaining command line arguments (not options). */
  if (optind &lt; argc)
    {
      printf ("non-option ARGV-elements: ");
      while (optind &lt; argc)
        printf ("%s ", argv[optind++]);
      putchar ('\n');
    }

  exit (0);
}
</pre>

<p><hr>
Node:<a name="Argp">Argp</a>,
Next:<a rel=next accesskey=n href="#Suboptions">Suboptions</a>,
Previous:<a rel=previous accesskey=p href="#Getopt">Getopt</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<br>

<h3>Parsing Program Options with Argp</h3>

<p><dfn>Argp</dfn> is an interface for parsing unix-style argument vectors. 
See <a href="#Program%20Arguments">Program Arguments</a>.

<p>Argp provides features unavailable in the more commonly used
<code>getopt</code> interface.  These features include automatically producing
output in response to the <code>--help</code> and <code>--version</code> options, as
described in the GNU coding standards.  Using argp makes it less likely
that programmers will neglect to implement these additional options or
keep them up to date.

<p>Argp also provides the ability to merge several independently defined
option parsers into one, mediating conflicts between them and making the
result appear seamless.  A library can export an argp option parser that
user programs might employ in conjunction with their own option parsers,
resulting in less work for the user programs.  Some programs may use only
argument parsers exported by libraries, thereby achieving consistent and
efficient option-parsing for abstractions implemented by the libraries.

<p>The header file <code>&lt;argp.h&gt;</code> should be included to use argp.

<h4>The <code>argp_parse</code> Function</h4>

<p>The main interface to argp is the <code>argp_parse</code> function.  In many
cases, calling <code>argp_parse</code> is the only argument-parsing code
needed in <code>main</code>. 
See <a href="#Program%20Arguments">Program Arguments</a>.

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argp_parse</b><i> (const struct argp *<var>argp</var>, int <var>argc</var>, char **<var>argv</var>, unsigned <var>flags</var>, int *<var>arg_index</var>, void *<var>input</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>argp_parse</code> function parses the arguments in <var>argv</var>, of
length <var>argc</var>, using the argp parser <var>argp</var>.  See <a href="#Argp%20Parsers">Argp Parsers</a>.

<p>A value of zero is the same as a <code>struct argp</code>containing all
zeros.  <var>flags</var> is a set of flag bits that modify the parsing
behavior.  See <a href="#Argp%20Flags">Argp Flags</a>.  <var>input</var> is passed through to the argp
parser <var>argp</var>, and has meaning defined by <var>argp</var>.  A typical
usage is to pass a pointer to a structure which is used for specifying
parameters to the parser and passing back the results.

<p>Unless the <code>ARGP_NO_EXIT</code> or <code>ARGP_NO_HELP</code> flags are included
in <var>flags</var>, calling <code>argp_parse</code> may result in the program
exiting.  This behavior is true if an error is detected, or when an
unknown option is encountered.  See <a href="#Program%20Termination">Program Termination</a>.

<p>If <var>arg_index</var> is non-null, the index of the first unparsed option
in <var>argv</var> is returned as a value.

<p>The return value is zero for successful parsing, or an error code
(see <a href="#Error%20Codes">Error Codes</a>) if an error is detected.  Different argp parsers
may return arbitrary error codes, but the standard error codes are:
<code>ENOMEM</code> if a memory allocation error occurred, or <code>EINVAL</code> if
an unknown option or option argument is encountered. 
</td></tr>
</table>

<ul>
<li><a accesskey=1 href="#Argp%20Global%20Variables">Globals</a>:   Global argp parameters. 
<li><a accesskey=2 href="#Argp%20Parsers">Parsers</a>:         Defining parsers for use with <code>argp_parse</code>. 
<li><a accesskey=3 href="#Argp%20Flags">Flags</a>:             Flags that modify the behavior of <code>argp_parse</code>. 
<li><a accesskey=4 href="#Argp%20Help">Help</a>:               Printing help messages when not parsing. 
<li><a accesskey=5 href="#Argp%20Examples">Examples</a>:       Simple examples of programs using argp. 
<li><a accesskey=6 href="#Argp%20User%20Customization">Customization</a>: 
                                Users may control the <code>--help</code> output format. 
</ul>

<p><hr>
Node:<a name="Argp%20Global%20Variables">Argp Global Variables</a>,
Next:<a rel=next accesskey=n href="#Argp%20Parsers">Argp Parsers</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>Argp Global Variables</h4>

<p>These variables make it easy for user programs to implement the
<code>--version</code> option and provide a bug-reporting address in the
<code>--help</code> output.  These are implemented in argp by default.

<p>
<table width="100%">
<tr>
<td align="left">const char * <b>argp_program_version</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined or set by the user program to a non-zero value, then a
<code>--version</code> option is added when parsing with <code>argp_parse</code>,
which will print the <code>--version</code> string followed by a newline and
exit.  The exception to this is if the <code>ARGP_NO_EXIT</code> flag is used. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">const char * <b>argp_program_bug_address</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined or set by the user program to a non-zero value,
<code>argp_program_bug_address</code> should point to a string that will be
printed at the end of the standard output for the <code>--help</code> option,
embedded in a sentence that says <code>Report bugs to <var>address</var>.</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>argp_program_version_hook</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined or set by the user program to a non-zero value, a
<code>--version</code> option is added when parsing with <code>arg_parse</code>,
which prints the program version and exits with a status of zero.  This
is not the case if the <code>ARGP_NO_HELP</code> flag is used.  If the
<code>ARGP_NO_EXIT</code> flag is set, the exit behavior of the program is
suppressed or modified, as when the argp parser is going to be used by
other programs.

<p>It should point to a function with this type of signature:

<br><pre>void <var>print-version</var> (FILE *<var>stream</var>, struct argp_state *<var>state</var>)
</pre>

<p>See <a href="#Argp%20Parsing%20State">Argp Parsing State</a>, for an explanation of <var>state</var>.

<p>This variable takes precedence over <code>argp_program_version</code>, and is
useful if a program has version information not easily expressed in a
simple string. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">error_t <b>argp_err_exit_status</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the exit status used when argp exits due to a parsing error.  If
not defined or set by the user program, this defaults to:
<code>EX_USAGE</code> from <code>&lt;sysexits.h&gt;</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Argp%20Parsers">Argp Parsers</a>,
Next:<a rel=next accesskey=n href="#Argp%20Flags">Argp Flags</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Global%20Variables">Argp Global Variables</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>Specifying Argp Parsers</h4>

<p>The first argument to the <code>argp_parse</code> function is a pointer to a
<code>struct argp</code>, which is known as an <dfn>argp parser</dfn>:

<p>
<table width="100%">
<tr>
<td align="left"><b>struct argp</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure specifies how to parse a given set of options and
arguments, perhaps in conjunction with other argp parsers.  It has the
following fields:

<dl>
<dt><code>const struct argp_option *options</code>
<dd>A pointer to a vector of <code>argp_option</code> structures specifying which
options this argp parser understands; it may be zero if there are no
options at all.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.

<br><dt><code>argp_parser_t parser</code>
<dd>A pointer to a function that defines actions for this parser; it is
called for each option parsed, and at other well-defined points in the
parsing process.  A value of zero is the same as a pointer to a function
that always returns <code>ARGP_ERR_UNKNOWN</code>.  See <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>.

<br><dt><code>const char *args_doc</code>
<dd>If non-zero, a string describing what non-option arguments are called by
this parser.  This is only used to print the <code>Usage:</code> message.  If
it contains newlines, the strings separated by them are considered
alternative usage patterns and printed on separate lines.  Lines after
the first are prefixed by <code> or: </code> instead of <code>Usage:</code>.

<br><dt><code>const char *doc</code>
<dd>If non-zero, a string containing extra text to be printed before and
after the options in a long help message, with the two sections
separated by a vertical tab (<code>'\v'</code>, <code>'\013'</code>) character.  By
convention, the documentation before the options is just a short string
explaining what the program does.  Documentation printed after the
options describe behavior in more detail.

<br><dt><code>const struct argp_child *children</code>
<dd>A pointer to a vector of <code>argp_children</code> structures.  This pointer
specifies which additional argp parsers should be combined with this
one.  See <a href="#Argp%20Children">Argp Children</a>.

<br><dt><code>char *(*help_filter)(int <var>key</var>, const char *<var>text</var>, void *<var>input</var>)</code>
<dd>If non-zero, a pointer to a function that filters the output of help
messages.  See <a href="#Argp%20Help%20Filtering">Argp Help Filtering</a>.

<br><dt><code>const char *argp_domain</code>
<dd>If non-zero, the strings used in the argp library are translated using
the domain described by this string.  If zero, the current default domain
is used.

</dl>
</td></tr>
</table>

<p>Of the above group, <code>options</code>, <code>parser</code>, <code>args_doc</code>, and
the <code>doc</code> fields are usually all that are needed.  If an argp
parser is defined as an initialized C variable, only the fields used
need be specified in the initializer.  The rest will default to zero due
to the way C structure initialization works.  This design is exploited in
most argp structures; the most-used fields are grouped near the
beginning, the unused fields left unspecified.

<ul>
<li><a accesskey=1 href="#Argp%20Option%20Vectors">Options</a>:    Specifying options in an argp parser. 
<li><a accesskey=2 href="#Argp%20Parser%20Functions">Argp Parser Functions</a>:          Defining actions for an argp parser. 
<li><a accesskey=3 href="#Argp%20Children">Children</a>:         Combining multiple argp parsers. 
<li><a accesskey=4 href="#Argp%20Help%20Filtering">Help Filtering</a>:   Customizing help output for an argp parser. 
</ul>

<p><hr>
Node:<a name="Argp%20Option%20Vectors">Argp Option Vectors</a>,
Next:<a rel=next accesskey=n href="#Argp%20Parser%20Functions">Argp Parser Functions</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Parsers">Argp Parsers</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parsers">Argp Parsers</a>
<br>

<h4>Specifying Options in an Argp Parser</h4>

<p>The <code>options</code> field in a <code>struct argp</code> points to a vector of
<code>struct argp_option</code> structures, each of which specifies an option
that the argp parser supports.  Multiple entries may be used for a single
option provided it has multiple names.  This should be terminated by an
entry with zero in all fields.  Note that when using an initialized C
array for options, writing <code>{ 0 }</code> is enough to achieve this.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct argp_option</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure specifies a single option that an argp parser
understands, as well as how to parse and document that option.  It has
the following fields:

<dl>
<dt><code>const char *name</code>
<dd>The long name for this option, corresponding to the long option
<code>--<var>name</var></code>; this field may be zero if this option <em>only</em>
has a short name.  To specify multiple names for an option, additional
entries may follow this one, with the <code>OPTION_ALIAS</code> flag
set.  See <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>int key</code>
<dd>The integer key provided by the current option to the option parser.  If
<var>key</var> has a value that is a printable <small>ASCII</small> character (i.e.,
<code>isascii (<var>key</var>)</code> is true), it <em>also</em> specifies a short
option <code>-<var>char</var></code>, where <var>char</var> is the <small>ASCII</small> character
with the code <var>key</var>.

<br><dt><code>const char *arg</code>
<dd>If non-zero, this is the name of an argument associated with this
option, which must be provided (e.g., with the
<code>--<var>name</var>=<var>value</var></code> or <code>-<var>char</var> <var>value</var></code>
syntaxes), unless the <code>OPTION_ARG_OPTIONAL</code> flag (see <a href="#Argp%20Option%20Flags">Argp Option Flags</a>) is set, in which case it <em>may</em> be provided.

<br><dt><code>int flags</code>
<dd>Flags associated with this option, some of which are referred to above. 
See <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>const char *doc</code>
<dd>A documentation string for this option, for printing in help messages.

<p>If both the <code>name</code> and <code>key</code> fields are zero, this string
will be printed tabbed left from the normal option column, making it
useful as a group header.  This will be the first thing printed in its
group.  In this usage, it's conventional to end the string with a
<code>:</code> character.

<br><dt><code>int group</code>
<dd>Group identity for this option.

<p>In a long help message, options are sorted alphabetically within each
group, and the groups presented in the order 0, 1, 2, <small>...</small>, <var>n</var>,
-<var>m</var>, <small>...</small>, -2, -1.

<p>Every entry in an options array with this field 0 will inherit the group
number of the previous entry, or zero if it's the first one.  If it's a
group header with <code>name</code> and <code>key</code> fields both zero, the
previous entry + 1 is the default.  Automagic options such as
<code>--help</code> are put into group -1.

<p>Note that because of C structure initialization rules, this field often
need not be specified, because 0 is the correct value. 
</dl>
</td></tr>
</table>

<ul>
<li><a accesskey=1 href="#Argp%20Option%20Flags">Flags</a>:      Flags for options. 
</ul>

<p><hr>
Node:<a name="Argp%20Option%20Flags">Argp Option Flags</a>,
Up:<a rel=up accesskey=u href="#Argp%20Option%20Vectors">Argp Option Vectors</a>
<br>

<h5>Flags for Argp Options</h5>

<p>The following flags may be or'd together in the <code>flags</code> field of a
<code>struct argp_option</code>.  These flags control various aspects of how
that option is parsed or displayed in help messages:

<dl>
<dt><code>OPTION_ARG_OPTIONAL</code>
<dd>The argument associated with this option is optional.

<br><dt><code>OPTION_HIDDEN</code>
<dd>This option isn't displayed in any help messages.

<br><dt><code>OPTION_ALIAS</code>
<dd>This option is an alias for the closest previous non-alias option.  This
means that it will be displayed in the same help entry, and will inherit
fields other than <code>name</code> and <code>key</code> from the option being
aliased.

<br><dt><code>OPTION_DOC</code>
<dd>This option isn't actually an option and should be ignored by the actual
option parser.  It is an arbitrary section of documentation that should
be displayed in much the same manner as the options.  This is known as a
<dfn>documentation option</dfn>.

<p>If this flag is set, then the option <code>name</code> field is displayed
unmodified (e.g., no <code>--</code> prefix is added) at the left-margin where
a <em>short</em> option would normally be displayed, and this
documentation string is left in it's usual place.  For purposes of
sorting, any leading whitespace and punctuation is ignored, unless the
first non-whitespace character is <code>-</code>.  This entry is displayed
after all options, after <code>OPTION_DOC</code> entries with a leading
<code>-</code>, in the same group.

<br><dt><code>OPTION_NO_USAGE</code>
<dd>This option shouldn't be included in `long' usage messages, but should
still be included in other help messages.  This is intended for options
that are completely documented in an argp's <code>args_doc</code>
field.  See <a href="#Argp%20Parsers">Argp Parsers</a>.  Including this option in the generic usage
list would be redundant, and should be avoided.

<p>For instance, if <code>args_doc</code> is <code>"FOO BAR\n-x BLAH"</code>, and the
<code>-x</code> option's purpose is to distinguish these two cases, <code>-x</code>
should probably be marked <code>OPTION_NO_USAGE</code>. 
</dl>

<p><hr>
Node:<a name="Argp%20Parser%20Functions">Argp Parser Functions</a>,
Next:<a rel=next accesskey=n href="#Argp%20Children">Argp Children</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Option%20Vectors">Argp Option Vectors</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parsers">Argp Parsers</a>
<br>

<h4>Argp Parser Functions</h4>

<p>The function pointed to by the <code>parser</code> field in a <code>struct
argp</code> (see <a href="#Argp%20Parsers">Argp Parsers</a>) defines what actions take place in response
to each option or argument parsed.  It is also used as a hook, allowing a
parser to perform tasks at certain other points during parsing.

<p>Argp parser functions have the following type signature:

<br><pre>error_t <var>parser</var> (int <var>key</var>, char *<var>arg</var>, struct argp_state *<var>state</var>)
</pre>

<p>where the arguments are as follows:

<dl>
<dt><var>key</var>
<dd>For each option that is parsed, <var>parser</var> is called with a value of
<var>key</var> from that option's <code>key</code> field in the option
vector.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.  <var>parser</var> is also called at
other times with special reserved keys, such as <code>ARGP_KEY_ARG</code> for
non-option arguments.  See <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><var>arg</var>
<dd>If <var>key</var> is an option, <var>arg</var> is its given value.  This defaults
to zero if no value is specified.  Only options that have a non-zero
<code>arg</code> field can ever have a value.  These must <em>always</em> have a
value unless the <code>OPTION_ARG_OPTIONAL</code> flag is specified.  If the
input being parsed specifies a value for an option that doesn't allow
one, an error results before <var>parser</var> ever gets called.

<p>If <var>key</var> is <code>ARGP_KEY_ARG</code>, <var>arg</var> is a non-option
argument.  Other special keys always have a zero <var>arg</var>.

<br><dt><var>state</var>
<dd><var>state</var> points to a <code>struct argp_state</code>, containing useful
information about the current parsing state for use by
<var>parser</var>.  See <a href="#Argp%20Parsing%20State">Argp Parsing State</a>. 
</dl>

<p>When <var>parser</var> is called, it should perform whatever action is
appropriate for <var>key</var>, and return <code>0</code> for success,
<code>ARGP_ERR_UNKNOWN</code> if the value of <var>key</var> is not handled by this
parser function, or a unix error code if a real error
occurred.  See <a href="#Error%20Codes">Error Codes</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ARGP_ERR_UNKNOWN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Argp parser functions should return <code>ARGP_ERR_UNKNOWN</code> for any
<var>key</var> value they do not recognize, or for non-option arguments
(<code><var>key</var> == ARGP_KEY_ARG</code>) that they are not equipped to handle. 
</td></tr>
</table>

<p>A typical parser function uses a switch statement on <var>key</var>:

<br><pre>error_t
parse_opt (int key, char *arg, struct argp_state *state)
{
  switch (key)
    {
    case <var>option_key</var>:
      <var>action</var>
      break;
    <small>...</small>
    default:
      return ARGP_ERR_UNKNOWN;
    }
  return 0;
}
</pre>

<ul>
<li><a accesskey=1 href="#Argp%20Special%20Keys">Keys</a>:            Special values for the <var>key</var> argument. 
<li><a accesskey=2 href="#Argp%20Parsing%20State">State</a>:          What the <var>state</var> argument refers to. 
<li><a accesskey=3 href="#Argp%20Helper%20Functions">Functions</a>:   Functions to help during argp parsing. 
</ul>

<p><hr>
Node:<a name="Argp%20Special%20Keys">Argp Special Keys</a>,
Next:<a rel=next accesskey=n href="#Argp%20Parsing%20State">Argp Parsing State</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<br>

<h5>Special Keys for Argp Parser Functions</h5>

<p>In addition to key values corresponding to user options, the <var>key</var>
argument to argp parser functions may have a number of other special
values.  In the following example <var>arg</var> and <var>state</var> refer to
parser function arguments.  See <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>.

<dl>
<dt><code>ARGP_KEY_ARG</code>
<dd>This is not an option at all, but rather a command line argument, whose
value is pointed to by <var>arg</var>.

<p>When there are multiple parser functions in play due to argp parsers
being combined, it's impossible to know which one will handle a specific
argument.  Each is called until one returns 0 or an error other than
<code>ARGP_ERR_UNKNOWN</code>; if an argument is not handled,
<code>argp_parse</code> immediately returns success, without parsing any more
arguments.

<p>Once a parser function returns success for this key, that fact is
recorded, and the <code>ARGP_KEY_NO_ARGS</code> case won't be
used.  <em>However</em>, if while processing the argument a parser function
decrements the <code>next</code> field of its <var>state</var> argument, the option
won't be considered processed; this is to allow you to actually modify
the argument, perhaps into an option, and have it processed again.

<br><dt><code>ARGP_KEY_ARGS</code>
<dd>If a parser function returns <code>ARGP_ERR_UNKNOWN</code> for
<code>ARGP_KEY_ARG</code>, it is immediately called again with the key
<code>ARGP_KEY_ARGS</code>, which has a similar meaning, but is slightly more
convenient for consuming all remaining arguments.  <var>arg</var> is 0, and
the tail of the argument vector may be found at <code><var>state</var>-&gt;argv
+ <var>state</var>-&gt;next</code>.  If success is returned for this key, and
<code><var>state</var>-&gt;next</code> is unchanged, all remaining arguments are
considered to have been consumed.  Otherwise, the amount by which
<code><var>state</var>-&gt;next</code> has been adjusted indicates how many were used. 
Here's an example that uses both, for different args:

<br><pre>...
case ARGP_KEY_ARG:
  if (<var>state</var>-&gt;arg_num == 0)
    /* First argument */
    first_arg = <var>arg</var>;
  else
    /* Let the next case parse it.  */
    return ARGP_KEY_UNKNOWN;
  break;
case ARGP_KEY_ARGS:
  remaining_args = <var>state</var>-&gt;argv + <var>state</var>-&gt;next;
  num_remaining_args = <var>state</var>-&gt;argc - <var>state</var>-&gt;next;
  break;
</pre>

<br><dt><code>ARGP_KEY_END</code>
<dd>This indicates that there are no more command line arguments.  Parser
functions are called in a different order, children first.  This allows
each parser to clean up its state for the parent.

<br><dt><code>ARGP_KEY_NO_ARGS</code>
<dd>Because it's common to do some special processing if there aren't any
non-option args, parser functions are called with this key if they
didn't successfully process any non-option arguments.  This is called
just before <code>ARGP_KEY_END</code>, where more general validity checks on
previously parsed arguments take place.

<br><dt><code>ARGP_KEY_INIT</code>
<dd>This is passed in before any parsing is done.  Afterwards, the values of
each element of the <code>child_input</code> field of <var>state</var>, if any, are
copied to each child's state to be the initial value of the <code>input</code>
when <em>their</em> parsers are called.

<br><dt><code>ARGP_KEY_SUCCESS</code>
<dd>Passed in when parsing has successfully been completed, even if
arguments remain.

<br><dt><code>ARGP_KEY_ERROR</code>
<dd>Passed in if an error has occurred and parsing is terminated.  In this
case a call with a key of <code>ARGP_KEY_SUCCESS</code> is never made.

<br><dt><code>ARGP_KEY_FINI</code>
<dd>The final key ever seen by any parser, even after
<code>ARGP_KEY_SUCCESS</code> and <code>ARGP_KEY_ERROR</code>.  Any resources
allocated by <code>ARGP_KEY_INIT</code> may be freed here.  At times, certain
resources allocated are to be returned to the caller after a successful
parse.  In that case, those particular resources can be freed in the
<code>ARGP_KEY_ERROR</code> case. 
</dl>

<p>In all cases, <code>ARGP_KEY_INIT</code> is the first key seen by parser
functions, and <code>ARGP_KEY_FINI</code> the last, unless an error was
returned by the parser for <code>ARGP_KEY_INIT</code>.  Other keys can occur
in one the following orders.  <var>opt</var> refers to an arbitrary option
key:

<dl>
<dt><var>opt</var><small>...</small> <code>ARGP_KEY_NO_ARGS</code> <code>ARGP_KEY_END</code> <code>ARGP_KEY_SUCCESS</code>
<dd>The arguments being parsed did not contain any non-option arguments.

<br><dt>( <var>opt</var> | <code>ARGP_KEY_ARG</code> )<small>...</small> <code>ARGP_KEY_END</code> <code>ARGP_KEY_SUCCESS</code>
<dd>All non-option arguments were successfully handled by a parser
function.  There may be multiple parser functions if multiple argp
parsers were combined.

<br><dt>( <var>opt</var> | <code>ARGP_KEY_ARG</code> )<small>...</small> <code>ARGP_KEY_SUCCESS</code>
<dd>Some non-option argument went unrecognized.

<p>This occurs when every parser function returns <code>ARGP_KEY_UNKNOWN</code>
for an argument, in which case parsing stops at that argument if
<var>arg_index</var> is a null pointer.  Otherwise an error occurs. 
</dl>

<p>In all cases, if a non-null value for <var>arg_index</var> gets passed to
<code>argp_parse</code>, the index of the first unparsed command-line argument
is passed back in that value.

<p>If an error occurs and is either detected by argp or because a parser
function returned an error value, each parser is called with
<code>ARGP_KEY_ERROR</code>.  No further calls are made, except the final call
with <code>ARGP_KEY_FINI</code>.

<p><hr>
Node:<a name="Argp%20Helper%20Functions">Argp Helper Functions</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Parsing%20State">Argp Parsing State</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<br>

<h5>Functions For Use in Argp Parsers</h5>

<p>Argp provides a number of functions available to the user of argp
(see <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>), mostly for producing error messages. 
These take as their first argument the <var>state</var> argument to the
parser function.  See <a href="#Argp%20Parsing%20State">Argp Parsing State</a>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>argp_usage</b><i> (const struct argp_state *<var>state</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Outputs the standard usage message for the argp parser referred to by
<var>state</var> to <code><var>state</var>-&gt;err_stream</code> and terminate the program
with <code>exit (argp_err_exit_status)</code>.  See <a href="#Argp%20Global%20Variables">Argp Global Variables</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>argp_error</b><i> (const struct argp_state *<var>state</var>, const char *<var>fmt</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Prints the printf format string <var>fmt</var> and following args, preceded
by the program name and <code>:</code>, and followed by a <code>Try&nbsp;<small>...</small>&nbsp;--help</code> message, and terminates the program with an exit status of
<code>argp_err_exit_status</code>.  See <a href="#Argp%20Global%20Variables">Argp Global Variables</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>argp_failure</b><i> (const struct argp_state *<var>state</var>, int <var>status</var>, int <var>errnum</var>, const char *<var>fmt</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Similar to the standard gnu error-reporting function <code>error</code>, this
prints the program name and <code>:</code>, the printf format string
<var>fmt</var>, and the appropriate following args.  If it is non-zero, the
standard unix error text for <var>errnum</var> is printed.  If <var>status</var> is
non-zero, it terminates the program with that value as its exit status.

<p>The difference between <code>argp_failure</code> and <code>argp_error</code> is that
<code>argp_error</code> is for <em>parsing errors</em>, whereas
<code>argp_failure</code> is for other problems that occur during parsing but
don't reflect a syntactic problem with the input, such as illegal values
for options, bad phase of the moon, etc. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>argp_state_help</b><i> (const struct argp_state *<var>state</var>, FILE *<var>stream</var>, unsigned <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Outputs a help message for the argp parser referred to by <var>state</var>,
to <var>stream</var>.  The <var>flags</var> argument determines what sort of help
message is produced.  See <a href="#Argp%20Help%20Flags">Argp Help Flags</a>. 
</td></tr>
</table>

<p>Error output is sent to <code><var>state</var>-&gt;err_stream</code>, and the program
name printed is <code><var>state</var>-&gt;name</code>.

<p>The output or program termination behavior of these functions may be
suppressed if the <code>ARGP_NO_EXIT</code> or <code>ARGP_NO_ERRS</code> flags are
passed to <code>argp_parse</code>.  See <a href="#Argp%20Flags">Argp Flags</a>.

<p>This behavior is useful if an argp parser is exported for use by other
programs (e.g., by a library), and may be used in a context where it is
not desirable to terminate the program in response to parsing errors.  In
argp parsers intended for such general use, and for the case where the
program <em>doesn't</em> terminate, calls to any of these functions should
be followed by code that returns the appropriate error code:

<br><pre>if (<var>bad argument syntax</var>)
  {
     argp_usage (<var>state</var>);
     return EINVAL;
  }
</pre>

<p>If a parser function will <em>only</em> be used when <code>ARGP_NO_EXIT</code>
is not set, the return may be omitted.

<p><hr>
Node:<a name="Argp%20Parsing%20State">Argp Parsing State</a>,
Next:<a rel=next accesskey=n href="#Argp%20Helper%20Functions">Argp Helper Functions</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Special%20Keys">Argp Special Keys</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<br>

<h5>Argp Parsing State</h5>

<p>The third argument to argp parser functions (see <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>) is a pointer to a <code>struct argp_state</code>, which contains
information about the state of the option parsing.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct argp_state</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure has the following fields, which may be modified as noted:

<dl>
<dt><code>const struct argp *const root_argp</code>
<dd>The top level argp parser being parsed.  Note that this is often
<em>not</em> the same <code>struct argp</code> passed into <code>argp_parse</code> by
the invoking program.  See <a href="#Argp">Argp</a>.  It is an internal argp parser that
contains options implemented by <code>argp_parse</code> itself, such as
<code>--help</code>.

<br><dt><code>int argc</code>
<dt><code>char **argv</code>
<dd>The argument vector being parsed.  This may be modified.

<br><dt><code>int next</code>
<dd>The index in <code>argv</code> of the next argument to be parsed.  This may be
modified.

<p>One way to consume all remaining arguments in the input is to set
<code><var>state</var>-&gt;next = <var>state</var>-&gt;argc</code>, perhaps after recording
the value of the <code>next</code> field to find the consumed arguments.  The
current option can be re-parsed immediately by decrementing this field,
then modifying <code><var>state</var>-&gt;argv[<var>state</var>-&gt;next]</code> to reflect
the option that should be reexamined.

<br><dt><code>unsigned flags</code>
<dd>The flags supplied to <code>argp_parse</code>.  These may be modified, although
some flags may only take effect when <code>argp_parse</code> is first
invoked.  See <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>unsigned arg_num</code>
<dd>While calling a parsing function with the <var>key</var> argument
<code>ARGP_KEY_ARG</code>, this represents the number of the current arg,
starting at 0.  It is incremented after each <code>ARGP_KEY_ARG</code> call
returns.  At all other times, this is the number of <code>ARGP_KEY_ARG</code>
arguments that have been processed.

<br><dt><code>int quoted</code>
<dd>If non-zero, the index in <code>argv</code> of the first argument following a
special <code>--</code> argument.  This prevents anything that follows from
being interpreted as an option.  It is only set after argument parsing
has proceeded past this point.

<br><dt><code>void *input</code>
<dd>An arbitrary pointer passed in from the caller of <code>argp_parse</code>, in
the <var>input</var> argument.

<br><dt><code>void **child_inputs</code>
<dd>These are values that will be passed to child parsers.  This vector will
be the same length as the number of children in the current parser.  Each
child parser will be given the value of
<code><var>state</var>-&gt;child_inputs[<var>i</var>]</code> as <em>its</em>
<code><var>state</var>-&gt;input</code> field, where <var>i</var> is the index of the child
in the this parser's <code>children</code> field.  See <a href="#Argp%20Children">Argp Children</a>.

<br><dt><code>void *hook</code>
<dd>For the parser function's use.  Initialized to 0, but otherwise ignored
by argp.

<br><dt><code>char *name</code>
<dd>The name used when printing messages.  This is initialized to
<code>argv[0]</code>, or <code>program_invocation_name</code> if <code>argv[0]</code> is
unavailable.

<br><dt><code>FILE *err_stream</code>
<dt><code>FILE *out_stream</code>
<dd>The stdio streams used when argp prints.  Error messages are printed to
<code>err_stream</code>, all other output, such as <code>--help</code> output) to
<code>out_stream</code>.  These are initialized to <code>stderr</code> and
<code>stdout</code> respectively.  See <a href="#Standard%20Streams">Standard Streams</a>.

<br><dt><code>void *pstate</code>
<dd>Private, for use by the argp implementation. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Argp%20Children">Argp Children</a>,
Next:<a rel=next accesskey=n href="#Argp%20Help%20Filtering">Argp Help Filtering</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Parser%20Functions">Argp Parser Functions</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parsers">Argp Parsers</a>
<br>

<h4>Combining Multiple Argp Parsers</h4>

<p>The <code>children</code> field in a <code>struct argp</code> enables other argp
parsers to be combined with the referencing one for the parsing of a
single set of arguments.  This field should point to a vector of
<code>struct argp_child</code>, which is terminated by an entry having a value
of zero in the <code>argp</code> field.

<p>Where conflicts between combined parsers arise, as when two specify an
option with the same name, the parser conflicts are resolved in favor of
the parent argp parser(s), or the earlier of the argp parsers in the
list of children.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct argp_child</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An entry in the list of subsidiary argp parsers pointed to by the
<code>children</code> field in a <code>struct argp</code>.  The fields are as
follows:

<dl>
<dt><code>const struct argp *argp</code>
<dd>The child argp parser, or zero to end of the list.

<br><dt><code>int flags</code>
<dd>Flags for this child.

<br><dt><code>const char *header</code>
<dd>If non-zero, this is an optional header to be printed within help output
before the child options.  As a side-effect, a non-zero value forces the
child options to be grouped together.  To achieve this effect without
actually printing a header string, use a value of <code>""</code>.  As with
header strings specified in an option entry, the conventional value of
the last character is <code>:</code>.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.

<br><dt><code>int group</code>
<dd>This is where the child options are grouped relative to the other
`consolidated' options in the parent argp parser.  The values are the
same as the <code>group</code> field in <code>struct argp_option</code>.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.  All child-groupings follow parent options at a
particular group level.  If both this field and <code>header</code> are zero,
then the child's options aren't grouped together, they are merged with
parent options at the parent option group level.

</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Argp%20Flags">Argp Flags</a>,
Next:<a rel=next accesskey=n href="#Argp%20Help">Argp Help</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Parsers">Argp Parsers</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>Flags for <code>argp_parse</code></h4>

<p>The default behavior of <code>argp_parse</code> is designed to be convenient
for the most common case of parsing program command line argument.  To
modify these defaults, the following flags may be or'd together in the
<var>flags</var> argument to <code>argp_parse</code>:

<dl>
<dt><code>ARGP_PARSE_ARGV0</code>
<dd>Don't ignore the first element of the <var>argv</var> argument to
<code>argp_parse</code>.  Unless <code>ARGP_NO_ERRS</code> is set, the first element
of the argument vector is skipped for option parsing purposes, as it
corresponds to the program name in a command line.

<br><dt><code>ARGP_NO_ERRS</code>
<dd>Don't print error messages for unknown options to <code>stderr</code>; unless
this flag is set, <code>ARGP_PARSE_ARGV0</code> is ignored, as <code>argv[0]</code>
is used as the program name in the error messages.  This flag implies
<code>ARGP_NO_EXIT</code>.  This is based on the assumption that silent exiting
upon errors is bad behavior.

<br><dt><code>ARGP_NO_ARGS</code>
<dd>Don't parse any non-option args.  Normally these are parsed by calling
the parse functions with a key of <code>ARGP_KEY_ARG</code>, the actual
argument being the value.  This flag needn't normally be set, as the
default behavior is to stop parsing as soon as an argument fails to be
parsed.  See <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>.

<br><dt><code>ARGP_IN_ORDER</code>
<dd>Parse options and arguments in the same order they occur on the command
line.  Normally they're rearranged so that all options come first.

<br><dt><code>ARGP_NO_HELP</code>
<dd>Don't provide the standard long option <code>--help</code>, which ordinarily
causes usage and option help information to be output to <code>stdout</code>
and <code>exit (0)</code>.

<br><dt><code>ARGP_NO_EXIT</code>
<dd>Don't exit on errors, although they may still result in error messages.

<br><dt><code>ARGP_LONG_ONLY</code>
<dd>Use the gnu getopt `long-only' rules for parsing arguments.  This allows
long-options to be recognized with only a single <code>-</code>
(i.e.  <code>-help</code>).  This results in a less useful interface, and its
use is discouraged as it conflicts with the way most GNU programs work
as well as the GNU coding standards.

<br><dt><code>ARGP_SILENT</code>
<dd>Turns off any message-printing/exiting options, specifically
<code>ARGP_NO_EXIT</code>, <code>ARGP_NO_ERRS</code>, and <code>ARGP_NO_HELP</code>. 
</dl>

<p><hr>
Node:<a name="Argp%20Help%20Filtering">Argp Help Filtering</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Children">Argp Children</a>,
Up:<a rel=up accesskey=u href="#Argp%20Parsers">Argp Parsers</a>
<br>

<h4>Customizing Argp Help Output</h4>

<p>The <code>help_filter</code> field in a <code>struct argp</code> is a pointer to a
function that filters the text of help messages before displaying
them.  They have a function signature like:

<br><pre>char *<var>help-filter</var> (int <var>key</var>, const char *<var>text</var>, void *<var>input</var>)
</pre>

<p>Where <var>key</var> is either a key from an option, in which case <var>text</var>
is that option's help text.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.  Alternately, one
of the special keys with names beginning with <code>ARGP_KEY_HELP_</code>
might be used, describing which other help text <var>text</var> will contain. 
See <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<p>The function should return either <var>text</var> if it remains as-is, or a
replacement string allocated using <code>malloc</code>.  This will be either be
freed by argp or zero, which prints nothing.  The value of <var>text</var> is
supplied <em>after</em> any translation has been done, so if any of the
replacement text needs translation, it will be done by the filter
function.  <var>input</var> is either the input supplied to <code>argp_parse</code>
or it is zero, if <code>argp_help</code> was called directly by the user.

<ul>
<li><a accesskey=1 href="#Argp%20Help%20Filter%20Keys">Keys</a>:   Special <var>key</var> values for help filter functions. 
</ul>

<p><hr>
Node:<a name="Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>,
Up:<a rel=up accesskey=u href="#Argp%20Help%20Filtering">Argp Help Filtering</a>
<br>

<h5>Special Keys for Argp Help Filter Functions</h5>

<p>The following special values may be passed to an argp help filter
function as the first argument in addition to key values for user
options.  They specify which help text the <var>text</var> argument contains:

<dl>
<dt><code>ARGP_KEY_HELP_PRE_DOC</code>
<dd>The help text preceding options.

<br><dt><code>ARGP_KEY_HELP_POST_DOC</code>
<dd>The help text following options.

<br><dt><code>ARGP_KEY_HELP_HEADER</code>
<dd>The option header string.

<br><dt><code>ARGP_KEY_HELP_EXTRA</code>
<dd>This is used after all other documentation; <var>text</var> is zero for this key.

<br><dt><code>ARGP_KEY_HELP_DUP_ARGS_NOTE</code>
<dd>The explanatory note printed when duplicate option arguments have been suppressed.

<br><dt><code>ARGP_KEY_HELP_ARGS_DOC</code>
<dd>The argument doc string; formally the <code>args_doc</code> field from the argp parser.  See <a href="#Argp%20Parsers">Argp Parsers</a>. 
</dl>

<p><hr>
Node:<a name="Argp%20Help">Argp Help</a>,
Next:<a rel=next accesskey=n href="#Argp%20Examples">Argp Examples</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Flags">Argp Flags</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>The <code>argp_help</code> Function</h4>

<p>Normally programs using argp need not be written with particular
printing argument-usage-type help messages in mind as the standard
<code>--help</code> option is handled automatically by argp.  Typical error
cases can be handled using <code>argp_usage</code> and
<code>argp_error</code>.  See <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>.  However, if it's
desirable to print a help message in some context other than parsing the
program options, argp offers the <code>argp_help</code> interface.

<p>
<table width="100%">
<tr>
<td align="left">void <b>argp_help</b><i> (const struct argp *<var>argp</var>, FILE *<var>stream</var>, unsigned <var>flags</var>, char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This outputs a help message for the argp parser <var>argp</var> to
<var>stream</var>.  The type of messages printed will be determined by
<var>flags</var>.

<p>Any options such as <code>--help</code> that are implemented automatically by
argp itself will <em>not</em> be present in the help output; for this
reason it is best to use <code>argp_state_help</code> if calling from within
an argp parser function.  See <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>. 
</td></tr>
</table>

<ul>
<li><a accesskey=1 href="#Argp%20Help%20Flags">Flags</a>:        Specifying what sort of help message to print. 
</ul>

<p><hr>
Node:<a name="Argp%20Help%20Flags">Argp Help Flags</a>,
Up:<a rel=up accesskey=u href="#Argp%20Help">Argp Help</a>
<br>

<h4>Flags for the <code>argp_help</code> Function</h4>

<p>When calling <code>argp_help</code> (see <a href="#Argp%20Help">Argp Help</a>) or
<code>argp_state_help</code> (see <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>) the exact output
is determined by the <var>flags</var> argument.  This should consist of any of
the following flags, or'd together:

<dl>
<dt><code>ARGP_HELP_USAGE</code>
<dd>A unix <code>Usage:</code> message that explicitly lists all options.

<br><dt><code>ARGP_HELP_SHORT_USAGE</code>
<dd>A unix <code>Usage:</code> message that displays an appropriate placeholder to
indicate where the options go; useful for showing the non-option
argument syntax.

<br><dt><code>ARGP_HELP_SEE</code>
<dd>A <code>Try <small>...</small> for more help</code> message; <code><small>...</small></code> contains the
program name and <code>--help</code>.

<br><dt><code>ARGP_HELP_LONG</code>
<dd>A verbose option help message that gives each option available along
with its documentation string.

<br><dt><code>ARGP_HELP_PRE_DOC</code>
<dd>The part of the argp parser doc string preceding the verbose option help.

<br><dt><code>ARGP_HELP_POST_DOC</code>
<dd>The part of the argp parser doc string that following the verbose option help.

<br><dt><code>ARGP_HELP_DOC</code>
<dd><code>(ARGP_HELP_PRE_DOC | ARGP_HELP_POST_DOC)</code>

<br><dt><code>ARGP_HELP_BUG_ADDR</code>
<dd>A message that prints where to report bugs for this program, if the
<code>argp_program_bug_address</code> variable contains this information.

<br><dt><code>ARGP_HELP_LONG_ONLY</code>
<dd>This will modify any output to reflect the <code>ARGP_LONG_ONLY</code> mode. 
</dl>

<p>The following flags are only understood when used with
<code>argp_state_help</code>.  They control whether the function returns after
printing its output, or terminates the program:

<dl>
<dt><code>ARGP_HELP_EXIT_ERR</code>
<dd>This will terminate the program with <code>exit (argp_err_exit_status)</code>.

<br><dt><code>ARGP_HELP_EXIT_OK</code>
<dd>This will terminate the program with <code>exit (0)</code>. 
</dl>

<p>The following flags are combinations of the basic flags for printing
standard messages:

<dl>
<dt><code>ARGP_HELP_STD_ERR</code>
<dd>Assuming that an error message for a parsing error has printed, this
prints a message on how to get help, and terminates the program with an
error.

<br><dt><code>ARGP_HELP_STD_USAGE</code>
<dd>This prints a standard usage message and terminates the program with an
error.  This is used when no other specific error messages are
appropriate or available.

<br><dt><code>ARGP_HELP_STD_HELP</code>
<dd>This prints the standard response for a <code>--help</code> option, and
terminates the program successfully. 
</dl>

<p><hr>
Node:<a name="Argp%20Examples">Argp Examples</a>,
Next:<a rel=next accesskey=n href="#Argp%20User%20Customization">Argp User Customization</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Help">Argp Help</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>Argp Examples</h4>

<p>These example programs demonstrate the basic usage of argp.

<ul>
<li><a accesskey=1 href="#Argp%20Example%201">1</a>:             A minimal program using argp. 
<li><a accesskey=2 href="#Argp%20Example%202">2</a>:             A program using only default options. 
<li><a accesskey=3 href="#Argp%20Example%203">3</a>:             A simple program with user options. 
<li><a accesskey=4 href="#Argp%20Example%204">4</a>:             Combining multiple argp parsers. 
</ul>

<p><hr>
Node:<a name="Argp%20Example%201">Argp Example 1</a>,
Next:<a rel=next accesskey=n href="#Argp%20Example%202">Argp Example 2</a>,
Up:<a rel=up accesskey=u href="#Argp%20Examples">Argp Examples</a>
<br>

<h5>A Minimal Program Using Argp</h5>

<p>This is perhaps the smallest program possible that uses argp.  It won't
do much except give an error messages and exit when there are any
arguments, and prints a rather pointless message for <code>--help</code>.

<br><pre>

/* Argp example #1 - a minimal program using argp */

/* This is (probably) the smallest possible program that
   uses argp.  It won't do much except give an error
   messages and exit when there are any arguments, and print
   a (rather pointless) messages for -help. */

#include &lt;argp.h&gt;

int main (int argc, char **argv)
{
  argp_parse (0, argc, argv, 0, 0, 0);
  exit (0);
}
</pre>

<p><hr>
Node:<a name="Argp%20Example%202">Argp Example 2</a>,
Next:<a rel=next accesskey=n href="#Argp%20Example%203">Argp Example 3</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Example%201">Argp Example 1</a>,
Up:<a rel=up accesskey=u href="#Argp%20Examples">Argp Examples</a>
<br>

<h5>A Program Using Argp with Only Default Options</h5>

<p>This program doesn't use any options or arguments, it uses argp to be
compliant with the GNU standard command line format.

<p>In addition to giving no arguments and implementing a <code>--help</code>
option, this example has a <code>--version</code> option, which will put the
given documentation string and bug address in the <code>--help</code> output,
as per GNU standards.

<p>The variable <code>argp</code> contains the argument parser
specification.  Adding fields to this structure is the way most
parameters are passed to <code>argp_parse</code>.  The first three fields are
normally used, but they are not in this small program.  There are also
two global variables that argp can use defined here,
<code>argp_program_version</code> and <code>argp_program_bug_address</code>.  They
are considered global variables because they will almost always be
constant for a given program, even if they use different argument
parsers for various tasks.

<br><pre>

/* Argp example #2 - a pretty minimal program using argp */

/* This program doesn't use any options or arguments, but uses
   argp to be compliant with the GNU standard command line
   format.

   In addition to making sure no arguments are given, and
   implementing a -help option, this example will have a
   -version option, and will put the given documentation string
   and bug address in the -help output, as per GNU standards.

   The variable ARGP contains the argument parser specification;
   adding fields to this structure is the way most parameters are
   passed to argp_parse (the first three fields are usually used,
   but not in this small program).  There are also two global
   variables that argp knows about defined here,
   ARGP_PROGRAM_VERSION and ARGP_PROGRAM_BUG_ADDRESS (they are
   global variables because they will almost always be constant
   for a given program, even if it uses different argument
   parsers for various tasks). */

#include &lt;argp.h&gt;

const char *argp_program_version =
  "argp-ex2 1.0";
const char *argp_program_bug_address =
  "&lt;bug-gnu-utils@gnu.org&gt;";

/* Program documentation. */
static char doc[] =
  "Argp example #2 -- a pretty minimal program using argp";

/* Our argument parser.  The <code>options</code>, <code>parser</code>, and
   <code>args_doc</code> fields are zero because we have neither options or
   arguments; <code>doc</code> and <code>argp_program_bug_address</code> will be
   used in the output for <code>--help</code>, and the <code>--version</code>
   option will print out <code>argp_program_version</code>. */
static struct argp argp = { 0, 0, 0, doc };

int main (int argc, char **argv)
{
  argp_parse (&amp;argp, argc, argv, 0, 0, 0);
  exit (0);
}
</pre>

<p><hr>
Node:<a name="Argp%20Example%203">Argp Example 3</a>,
Next:<a rel=next accesskey=n href="#Argp%20Example%204">Argp Example 4</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Example%202">Argp Example 2</a>,
Up:<a rel=up accesskey=u href="#Argp%20Examples">Argp Examples</a>
<br>

<h5>A Program Using Argp with User Options</h5>

<p>This program uses the same features as example 2, adding user options
and arguments.

<p>We now use the first four fields in <code>argp</code> (see <a href="#Argp%20Parsers">Argp Parsers</a>)
and specify <code>parse_opt</code> as the parser function.  See <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>.

<p>Note that in this example, <code>main</code> uses a structure to communicate
with the <code>parse_opt</code> function, a pointer to which it passes in the
<code>input</code> argument to <code>argp_parse</code>.  See <a href="#Argp">Argp</a>.  It is retrieved
by <code>parse_opt</code> through the <code>input</code> field in its <code>state</code>
argument.  See <a href="#Argp%20Parsing%20State">Argp Parsing State</a>.  Of course, it's also possible to
use global variables instead, but using a structure like this is
somewhat more flexible and clean.

<br><pre>

/* Argp example #3 - a program with options and arguments using argp */

/* This program uses the same features as example 2, and uses options and
   arguments.

   We now use the first four fields in ARGP, so here's a description of them:
     OPTIONS  - A pointer to a vector of struct argp_option (see below)
     PARSER   - A function to parse a single option, called by argp
     ARGS_DOC - A string describing how the non-option arguments should look
     DOC      - A descriptive string about this program; if it contains a
                 vertical tab character (\v), the part after it will be
                 printed *following* the options

   The function PARSER takes the following arguments:
     KEY  - An integer specifying which option this is (taken
             from the KEY field in each struct argp_option), or
             a special key specifying something else; the only
             special keys we use here are ARGP_KEY_ARG, meaning
             a non-option argument, and ARGP_KEY_END, meaning
             that all arguments have been parsed
     ARG  - For an option KEY, the string value of its
             argument, or NULL if it has none
     STATE- A pointer to a struct argp_state, containing
             various useful information about the parsing state; used here
             are the INPUT field, which reflects the INPUT argument to
             argp_parse, and the ARG_NUM field, which is the number of the
             current non-option argument being parsed
   It should return either 0, meaning success, ARGP_ERR_UNKNOWN, meaning the
   given KEY wasn't recognized, or an errno value indicating some other
   error.

   Note that in this example, main uses a structure to communicate with the
   parse_opt function, a pointer to which it passes in the INPUT argument to
   argp_parse.  Of course, it's also possible to use global variables
   instead, but this is somewhat more flexible.

   The OPTIONS field contains a pointer to a vector of struct argp_option's;
   that structure has the following fields (if you assign your option
   structures using array initialization like this example, unspecified
   fields will be defaulted to 0, and need not be specified):
     NAME   - The name of this option's long option (may be zero)
     KEY    - The KEY to pass to the PARSER function when parsing this option,
               *and* the name of this option's short option, if it is a
               printable ascii character
     ARG    - The name of this option's argument, if any
     FLAGS  - Flags describing this option; some of them are:
                 OPTION_ARG_OPTIONAL - The argument to this option is optional
                 OPTION_ALIAS        - This option is an alias for the
                                        previous option
                 OPTION_HIDDEN       - Don't show this option in -help output
     DOC    - A documentation string for this option, shown in -help output

   An options vector should be terminated by an option with all fields zero. */

#include &lt;argp.h&gt;

const char *argp_program_version =
  "argp-ex3 1.0";
const char *argp_program_bug_address =
  "&lt;bug-gnu-utils@gnu.org&gt;";

/* Program documentation. */
static char doc[] =
  "Argp example #3 -- a program with options and arguments using argp";

/* A description of the arguments we accept. */
static char args_doc[] = "ARG1 ARG2";

/* The options we understand. */
static struct argp_option options[] = {
  {"verbose",  'v', 0,      0,  "Produce verbose output" },
  {"quiet",    'q', 0,      0,  "Don't produce any output" },
  {"silent",   's', 0,      OPTION_ALIAS },
  {"output",   'o', "FILE", 0,
   "Output to FILE instead of standard output" },
  { 0 }
};

/* Used by <code>main</code> to communicate with <code>parse_opt</code>. */
struct arguments
{
  char *args[2];                /* <var>arg1</var> &amp; <var>arg2</var> */
  int silent, verbose;
  char *output_file;
};

/* Parse a single option. */
static error_t
parse_opt (int key, char *arg, struct argp_state *state)
{
  /* Get the <var>input</var> argument from <code>argp_parse</code>, which we
     know is a pointer to our arguments structure. */
  struct arguments *arguments = state-&gt;input;

  switch (key)
    {
    case 'q': case 's':
      arguments-&gt;silent = 1;
      break;
    case 'v':
      arguments-&gt;verbose = 1;
      break;
    case 'o':
      arguments-&gt;output_file = arg;
      break;

    case ARGP_KEY_ARG:
      if (state-&gt;arg_num &gt;= 2)
        /* Too many arguments. */
        argp_usage (state);

      arguments-&gt;args[state-&gt;arg_num] = arg;

      break;

    case ARGP_KEY_END:
      if (state-&gt;arg_num &lt; 2)
        /* Not enough arguments. */
        argp_usage (state);
      break;

    default:
      return ARGP_ERR_UNKNOWN;
    }
  return 0;
}

/* Our argp parser. */
static struct argp argp = { options, parse_opt, args_doc, doc };

int main (int argc, char **argv)
{
  struct arguments arguments;

  /* Default values. */
  arguments.silent = 0;
  arguments.verbose = 0;
  arguments.output_file = "-";

  /* Parse our arguments; every option seen by <code>parse_opt</code> will
     be reflected in <code>arguments</code>. */
  argp_parse (&amp;argp, argc, argv, 0, 0, &amp;arguments);

  printf ("ARG1 = %s\nARG2 = %s\nOUTPUT_FILE = %s\n"
          "VERBOSE = %s\nSILENT = %s\n",
          arguments.args[0], arguments.args[1],
          arguments.output_file,
          arguments.verbose ? "yes" : "no",
          arguments.silent ? "yes" : "no");

  exit (0);
}
</pre>

<p><hr>
Node:<a name="Argp%20Example%204">Argp Example 4</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Example%203">Argp Example 3</a>,
Up:<a rel=up accesskey=u href="#Argp%20Examples">Argp Examples</a>
<br>

<h5>A Program Using Multiple Combined Argp Parsers</h5>

<p>This program uses the same features as example 3, but has more options,
and presents more structure in the <code>--help</code> output.  It also
illustrates how you can `steal' the remainder of the input arguments
past a certain point for programs that accept a list of items.  It also
illustrates the <var>key</var> value <code>ARGP_KEY_NO_ARGS</code>, which is only
given if no non-option arguments were supplied to the
program.  See <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<p>For structuring help output, two features are used: <em>headers</em> and a
two part option string.  The <em>headers</em> are entries in the options
vector.  See <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.  The first four fields are zero.  The
two part documentation string are in the variable <code>doc</code>, which
allows documentation both before and after the options.  See <a href="#Argp%20Parsers">Argp Parsers</a>, the two parts of <code>doc</code> are separated by a vertical-tab
character (<code>'\v'</code>, or <code>'\013'</code>).  By convention, the
documentation before the options is a short string stating what the
program does, and after any options it is longer, describing the
behavior in more detail.  All documentation strings are automatically
filled for output, although newlines may be included to force a line
break at a particular point.  In addition, documentation strings are
passed to the <code>gettext</code> function, for possible translation into the
current locale.

<br><pre>

/* Argp example #4 - a program with somewhat more complicated options */

/* This program uses the same features as example 3, but has more
   options, and somewhat more structure in the -help output.  It
   also shows how you can `steal' the remainder of the input
   arguments past a certain point, for programs that accept a
   list of items.  It also shows the special argp KEY value
   ARGP_KEY_NO_ARGS, which is only given if no non-option
   arguments were supplied to the program.

   For structuring the help output, two features are used,
   *headers* which are entries in the options vector with the
   first four fields being zero, and a two part documentation
   string (in the variable DOC), which allows documentation both
   before and after the options; the two parts of DOC are
   separated by a vertical-tab character ('\v', or '\013').  By
   convention, the documentation before the options is just a
   short string saying what the program does, and that afterwards
   is longer, describing the behavior in more detail.  All
   documentation strings are automatically filled for output,
   although newlines may be included to force a line break at a
   particular point.  All documentation strings are also passed to
   the `gettext' function, for possible translation into the
   current locale. */

#include &lt;stdlib.h&gt;
#include &lt;error.h&gt;
#include &lt;argp.h&gt;

const char *argp_program_version =
  "argp-ex4 1.0";
const char *argp_program_bug_address =
  "&lt;bug-gnu-utils@prep.ai.mit.edu&gt;";

/* Program documentation. */
static char doc[] =
  "Argp example #4 -- a program with somewhat more complicated\
options\
\vThis part of the documentation comes *after* the options;\
 note that the text is automatically filled, but it's possible\
 to force a line-break, e.g.\n&lt;-- here.";

/* A description of the arguments we accept. */
static char args_doc[] = "ARG1 [STRING...]";

/* Keys for options without short-options. */
#define OPT_ABORT  1            /* -abort */

/* The options we understand. */
static struct argp_option options[] = {
  {"verbose",  'v', 0,       0, "Produce verbose output" },
  {"quiet",    'q', 0,       0, "Don't produce any output" },
  {"silent",   's', 0,       OPTION_ALIAS },
  {"output",   'o', "FILE",  0,
   "Output to FILE instead of standard output" },

  {0,0,0,0, "The following options should be grouped together:" },
  {"repeat",   'r', "COUNT", OPTION_ARG_OPTIONAL,
   "Repeat the output COUNT (default 10) times"},
  {"abort",    OPT_ABORT, 0, 0, "Abort before showing any output"},

  { 0 }
};

/* Used by <code>main</code> to communicate with <code>parse_opt</code>. */
struct arguments
{
  char *arg1;                   /* <var>arg1</var> */
  char **strings;               /* [<var>string</var><small>...</small>] */
  int silent, verbose, abort;   /* <code>-s</code>, <code>-v</code>, <code>--abort</code> */
  char *output_file;            /* <var>file</var> arg to <code>--output</code> */
  int repeat_count;             /* <var>count</var> arg to <code>--repeat</code> */
};

/* Parse a single option. */
static error_t
parse_opt (int key, char *arg, struct argp_state *state)
{
  /* Get the <code>input</code> argument from <code>argp_parse</code>, which we
     know is a pointer to our arguments structure. */
  struct arguments *arguments = state-&gt;input;

  switch (key)
    {
    case 'q': case 's':
      arguments-&gt;silent = 1;
      break;
    case 'v':
      arguments-&gt;verbose = 1;
      break;
    case 'o':
      arguments-&gt;output_file = arg;
      break;
    case 'r':
      arguments-&gt;repeat_count = arg ? atoi (arg) : 10;
      break;
    case OPT_ABORT:
      arguments-&gt;abort = 1;
      break;

    case ARGP_KEY_NO_ARGS:
      argp_usage (state);

    case ARGP_KEY_ARG:
      /* Here we know that <code>state-&gt;arg_num == 0</code>, since we
         force argument parsing to end before any more arguments can
         get here. */
      arguments-&gt;arg1 = arg;

      /* Now we consume all the rest of the arguments.
         <code>state-&gt;next</code> is the index in <code>state-&gt;argv</code> of the
         next argument to be parsed, which is the first <var>string</var>
         we're interested in, so we can just use
         <code>&amp;state-&gt;argv[state-&gt;next]</code> as the value for
         arguments-&gt;strings.

         <em>In addition</em>, by setting <code>state-&gt;next</code> to the end
         of the arguments, we can force argp to stop parsing here and
         return. */
      arguments-&gt;strings = &amp;state-&gt;argv[state-&gt;next];
      state-&gt;next = state-&gt;argc;

      break;

    default:
      return ARGP_ERR_UNKNOWN;
    }
  return 0;
}

/* Our argp parser. */
static struct argp argp = { options, parse_opt, args_doc, doc };

int main (int argc, char **argv)
{
  int i, j;
  struct arguments arguments;

  /* Default values. */
  arguments.silent = 0;
  arguments.verbose = 0;
  arguments.output_file = "-";
  arguments.repeat_count = 1;
  arguments.abort = 0;

  /* Parse our arguments; every option seen by <code>parse_opt</code> will be
     reflected in <code>arguments</code>. */
  argp_parse (&amp;argp, argc, argv, 0, 0, &amp;arguments);

  if (arguments.abort)
    error (10, 0, "ABORTED");

  for (i = 0; i &lt; arguments.repeat_count; i++)
    {
      printf ("ARG1 = %s\n", arguments.arg1);
      printf ("STRINGS = ");
      for (j = 0; arguments.strings[j]; j++)
        printf (j == 0 ? "%s" : ", %s", arguments.strings[j]);
      printf ("\n");
      printf ("OUTPUT_FILE = %s\nVERBOSE = %s\nSILENT = %s\n",
              arguments.output_file,
              arguments.verbose ? "yes" : "no",
              arguments.silent ? "yes" : "no");
    }

  exit (0);
}
</pre>

<p><hr>
Node:<a name="Argp%20User%20Customization">Argp User Customization</a>,
Previous:<a rel=previous accesskey=p href="#Argp%20Examples">Argp Examples</a>,
Up:<a rel=up accesskey=u href="#Argp">Argp</a>
<br>

<h4>Argp User Customization</h4>

<p>The formatting of argp <code>--help</code> output may be controlled to some
extent by a program's users, by setting the <code>ARGP_HELP_FMT</code>
environment variable to a comma-separated list of tokens.  Whitespace is
ignored:

<dl>
<dt><code>dup-args</code>
<dt><code>no-dup-args</code>
<dd>These turn <dfn>duplicate-argument-mode</dfn> on or off.  In duplicate
argument mode, if an option that accepts an argument has multiple names,
the argument is shown for each name.  Otherwise, it is only shown for the
first long option.  A note is subsequently printed so the user knows that
it applies to other names as well.  The default is <code>no-dup-args</code>,
which is less consistent, but prettier.

<br><dt><code>dup-args-note</code>
<br><dt><code>no-dup-args-note</code>
<dd>These will enable or disable the note informing the user of suppressed
option argument duplication.  The default is <code>dup-args-note</code>.

<br><dt><code>short-opt-col=<var>n</var></code>
<dd>This prints the first short option in column <var>n</var>.  The default is 2.

<br><dt><code>long-opt-col=<var>n</var></code>
<dd>This prints the first long option in column <var>n</var>.  The default is 6.

<br><dt><code>doc-opt-col=<var>n</var></code>
<dd>This prints `documentation options' (see <a href="#Argp%20Option%20Flags">Argp Option Flags</a>) in
column <var>n</var>.  The default is 2.

<br><dt><code>opt-doc-col=<var>n</var></code>
<dd>This prints the documentation for options starting in column
<var>n</var>.  The default is 29.

<br><dt><code>header-col=<var>n</var></code>
<dd>This will indent the group headers that document groups of options to
column <var>n</var>.  The default is 1.

<br><dt><code>usage-indent=<var>n</var></code>
<dd>This will indent continuation lines in <code>Usage:</code> messages to column
<var>n</var>.  The default is 12.

<br><dt><code>rmargin=<var>n</var></code>
<dd>This will word wrap help output at or before column <var>n</var>.  The default
is 79. 
</dl>

<p><hr>
Node:<a name="Suboptions">Suboptions</a>,
Next:<a rel=next accesskey=n href="#Suboptions%20Example">Suboptions Example</a>,
Previous:<a rel=previous accesskey=p href="#Argp">Argp</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<br>

<h5>Parsing of Suboptions</h5>

<p>Having a single level of options is sometimes not enough.  There might
be too many options which have to be available or a set of options is
closely related.

<p>For this case some programs use suboptions.  One of the most prominent
programs is certainly <code>mount</code>(8).  The <code>-o</code> option take one
argument which itself is a comma separated list of options.  To ease the
programming of code like this the function <code>getsubopt</code> is
available.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getsubopt</b><i> (char **<var>optionp</var>, const char* const *<var>tokens</var>, char **<var>valuep</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <var>optionp</var> parameter must be a pointer to a variable containing
the address of the string to process.  When the function returns the
reference is updated to point to the next suboption or to the
terminating <code>\0</code> character if there is no more suboption available.

<p>The <var>tokens</var> parameter references an array of strings containing the
known suboptions.  All strings must be <code>\0</code> terminated and to mark
the end a null pointer must be stored.  When <code>getsubopt</code> finds a
possible legal suboption it compares it with all strings available in
the <var>tokens</var> array and returns the index in the string as the
indicator.

<p>In case the suboption has an associated value introduced by a <code>=</code>
character, a pointer to the value is returned in <var>valuep</var>.  The
string is <code>\0</code> terminated.  If no argument is available
<var>valuep</var> is set to the null pointer.  By doing this the caller can
check whether a necessary value is given or whether no unexpected value
is present.

<p>In case the next suboption in the string is not mentioned in the
<var>tokens</var> array the starting address of the suboption including a
possible value is returned in <var>valuep</var> and the return value of the
function is <code>-1</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Suboptions%20Example">Suboptions Example</a>,
Previous:<a rel=previous accesskey=p href="#Suboptions">Suboptions</a>,
Up:<a rel=up accesskey=u href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<br>

<h4>Parsing of Suboptions Example</h4>

<p>The code which might appear in the <code>mount</code>(8) program is a perfect
example of the use of <code>getsubopt</code>:

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

int do_all;
const char *type;
int read_size;
int write_size;
int read_only;

enum
{
  RO_OPTION = 0,
  RW_OPTION,
  READ_SIZE_OPTION,
  WRITE_SIZE_OPTION,
  THE_END
};

const char *mount_opts[] =
{
  [RO_OPTION] = "ro",
  [RW_OPTION] = "rw",
  [READ_SIZE_OPTION] = "rsize",
  [WRITE_SIZE_OPTION] = "wsize",
  [THE_END] = NULL
};

int
main (int argc, char *argv[])
{
  char *subopts, *value;
  int opt;

  while ((opt = getopt (argc, argv, "at:o:")) != -1)
    switch (opt)
      {
      case 'a':
        do_all = 1;
        break;
      case 't':
        type = optarg;
        break;
      case 'o':
        subopts = optarg;
        while (*subopts != '\0')
          switch (getsubopt (&amp;subopts, mount_opts, &amp;value))
            {
            case RO_OPTION:
              read_only = 1;
              break;
            case RW_OPTION:
              read_only = 0;
              break;
            case READ_SIZE_OPTION:
              if (value == NULL)
                abort ();
              read_size = atoi (value);
              break;
            case WRITE_SIZE_OPTION:
              if (value == NULL)
                abort ();
              write_size = atoi (value);
              break;
            default:
              /* Unknown suboption. */
              printf ("Unknown suboption `%s'\n", value);
              break;
            }
        break;
      default:
        abort ();
      }

  /* Do the real work. */

  return 0;
}
</pre>

<p><hr>
Node:<a name="Environment%20Variables">Environment Variables</a>,
Next:<a rel=next accesskey=n href="#System%20Calls">System Calls</a>,
Previous:<a rel=previous accesskey=p href="#Program%20Arguments">Program Arguments</a>,
Up:<a rel=up accesskey=u href="#Program%20Basics">Program Basics</a>
<br>

<h3>Environment Variables</h3>

<p>When a program is executed, it receives information about the context in
which it was invoked in two ways.  The first mechanism uses the
<var>argv</var> and <var>argc</var> arguments to its <code>main</code> function, and is
discussed in <a href="#Program%20Arguments">Program Arguments</a>.  The second mechanism uses
<dfn>environment variables</dfn> and is discussed in this section.

<p>The <var>argv</var> mechanism is typically used to pass command-line
arguments specific to the particular program being invoked.  The
environment, on the other hand, keeps track of information that is
shared by many programs, changes infrequently, and that is less
frequently used.

<p>The environment variables discussed in this section are the same
environment variables that you set using assignments and the
<code>export</code> command in the shell.  Programs executed from the shell
inherit all of the environment variables from the shell.

<p>Standard environment variables are used for information about the user's
home directory, terminal type, current locale, and so on; you can define
additional variables for other purposes.  The set of all environment
variables that have values is collectively known as the
<dfn>environment</dfn>.

<p>Names of environment variables are case-sensitive and must not contain
the character <code>=</code>.  System-defined environment variables are
invariably uppercase.

<p>The values of environment variables can be anything that can be
represented as a string.  A value must not contain an embedded null
character, since this is assumed to terminate the string.

<ul>
<li><a accesskey=1 href="#Environment%20Access">Environment Access</a>:           How to get and set the values of
				 environment variables. 
<li><a accesskey=2 href="#Standard%20Environment">Standard Environment</a>:         These environment variables have
                		 standard interpretations. 
</ul>

<p><hr>
Node:<a name="Environment%20Access">Environment Access</a>,
Next:<a rel=next accesskey=n href="#Standard%20Environment">Standard Environment</a>,
Up:<a rel=up accesskey=u href="#Environment%20Variables">Environment Variables</a>
<br>

<h4>Environment Access</h4>

<p>The value of an environment variable can be accessed with the
<code>getenv</code> function.  This is declared in the header file
<code>stdlib.h</code>.  All of the following functions can be safely used in
multi-threaded programs.  It is made sure that concurrent modifications
to the environment do not lead to errors.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getenv</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a string that is the value of the environment
variable <var>name</var>.  You must not modify this string.  In some non-Unix
systems not using the GNU library, it might be overwritten by subsequent
calls to <code>getenv</code> (but not by any other library function).  If the
environment variable <var>name</var> is not defined, the value is a null
pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putenv</b><i> (char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>putenv</code> function adds or removes definitions from the environment. 
If the <var>string</var> is of the form <code><var>name</var>=<var>value</var></code>, the
definition is added to the environment.  Otherwise, the <var>string</var> is
interpreted as the name of an environment variable, and any definition
for this variable in the environment is removed.

<p>The difference to the <code>setenv</code> function is that the exact string
given as the parameter <var>string</var> is put into the environment.  If the
user should change the string after the <code>putenv</code> call this will
reflect in automatically in the environment.  This also requires that
<var>string</var> is no automatic variable which scope is left before the
variable is removed from the environment.  The same applies of course to
dynamically allocated variables which are freed later.

<p>This function is part of the extended Unix interface.  Since it was also
available in old SVID libraries you should define either
<var>_XOPEN_SOURCE</var> or <var>_SVID_SOURCE</var> before including any header. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setenv</b><i> (const char *<var>name</var>, const char *<var>value</var>, int <var>replace</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setenv</code> function can be used to add a new definition to the
environment.  The entry with the name <var>name</var> is replaced by the
value <code><var>name</var>=<var>value</var></code>.  Please note that this is also true
if <var>value</var> is the empty string.  To do this a new string is created
and the strings <var>name</var> and <var>value</var> are copied.  A null pointer
for the <var>value</var> parameter is illegal.  If the environment already
contains an entry with key <var>name</var> the <var>replace</var> parameter
controls the action.  If replace is zero, nothing happens.  Otherwise
the old entry is replaced by the new one.

<p>Please note that you cannot remove an entry completely using this function.

<p>This function was originally part of the BSD library but is now part of
the Unix standard. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>unsetenv</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Using this function one can remove an entry completely from the
environment.  If the environment contains an entry with the key
<var>name</var> this whole entry is removed.  A call to this function is
equivalent to a call to <code>putenv</code> when the <var>value</var> part of the
string is empty.

<p>The function return <code>-1</code> if <var>name</var> is a null pointer, points to
an empty string, or points to a string containing a <code>=</code> character. 
It returns <code>0</code> if the call succeeded.

<p>This function was originally part of the BSD library but is now part of
the Unix standard.  The BSD version had no return value, though. 
</td></tr>
</table>

<p>There is one more function to modify the whole environment.  This
function is said to be used in the POSIX.9 (POSIX bindings for Fortran
77) and so one should expect it did made it into POSIX.1.  But this
never happened.  But we still provide this function as a GNU extension
to enable writing standard compliant Fortran environments.

<p>
<table width="100%">
<tr>
<td align="left">int <b>clearenv</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>clearenv</code> function removes all entries from the environment. 
Using <code>putenv</code> and <code>setenv</code> new entries can be added again
later.

<p>If the function is successful it returns <code>0</code>.  Otherwise the return
value is nonzero. 
</td></tr>
</table>

<p>You can deal directly with the underlying representation of environment
objects to add more variables to the environment (for example, to
communicate with another program you are about to execute;
see <a href="#Executing%20a%20File">Executing a File</a>).

<p>
<table width="100%">
<tr>
<td align="left">char ** <b>environ</b><i>
</i></td>
<td align="right">Variable</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The environment is represented as an array of strings.  Each string is
of the format <code><var>name</var>=<var>value</var></code>.  The order in which
strings appear in the environment is not significant, but the same
<var>name</var> must not appear more than once.  The last element of the
array is a null pointer.

<p>This variable is declared in the header file <code>unistd.h</code>.

<p>If you just want to get the value of an environment variable, use
<code>getenv</code>. 
</td></tr>
</table>

<p>Unix systems, and the GNU system, pass the initial value of
<code>environ</code> as the third argument to <code>main</code>. 
See <a href="#Program%20Arguments">Program Arguments</a>.

<p><hr>
Node:<a name="Standard%20Environment">Standard Environment</a>,
Previous:<a rel=previous accesskey=p href="#Environment%20Access">Environment Access</a>,
Up:<a rel=up accesskey=u href="#Environment%20Variables">Environment Variables</a>
<br>

<h4>Standard Environment Variables</h4>

<p>These environment variables have standard meanings.  This doesn't mean
that they are always present in the environment; but if these variables
<em>are</em> present, they have these meanings.  You shouldn't try to use
these environment variable names for some other purpose.

<dl>
<dt><code>HOME</code>
<dd>

<p>This is a string representing the user's <dfn>home directory</dfn>, or
initial default working directory.

<p>The user can set <code>HOME</code> to any value. 
If you need to make sure to obtain the proper home directory
for a particular user, you should not use <code>HOME</code>; instead,
look up the user's name in the user database (see <a href="#User%20Database">User Database</a>).

<p>For most purposes, it is better to use <code>HOME</code>, precisely because
this lets the user specify the value.

<br><dt><code>LOGNAME</code>
<dd>

<p>This is the name that the user used to log in.  Since the value in the
environment can be tweaked arbitrarily, this is not a reliable way to
identify the user who is running a program; a function like
<code>getlogin</code> (see <a href="#Who%20Logged%20In">Who Logged In</a>) is better for that purpose.

<p>For most purposes, it is better to use <code>LOGNAME</code>, precisely because
this lets the user specify the value.

<br><dt><code>PATH</code>
<dd>

<p>A <dfn>path</dfn> is a sequence of directory names which is used for
searching for a file.  The variable <code>PATH</code> holds a path used
for searching for programs to be run.

<p>The <code>execlp</code> and <code>execvp</code> functions (see <a href="#Executing%20a%20File">Executing a File</a>)
use this environment variable, as do many shells and other utilities
which are implemented in terms of those functions.

<p>The syntax of a path is a sequence of directory names separated by
colons.  An empty string instead of a directory name stands for the
current directory (see <a href="#Working%20Directory">Working Directory</a>).

<p>A typical value for this environment variable might be a string like:

<br><pre>:/bin:/etc:/usr/bin:/usr/new/X11:/usr/new:/usr/local/bin
</pre>

<p>This means that if the user tries to execute a program named <code>foo</code>,
the system will look for files named <code>foo</code>, <code>/bin/foo</code>,
<code>/etc/foo</code>, and so on.  The first of these files that exists is
the one that is executed.

<br><dt><code>TERM</code>
<dd>

<p>This specifies the kind of terminal that is receiving program output. 
Some programs can make use of this information to take advantage of
special escape sequences or terminal modes supported by particular kinds
of terminals.  Many programs which use the termcap library
(see <a href="termcap.html#Finding%20a%20Terminal%20Description">Find</a>) use the <code>TERM</code> environment variable, for example.

<br><dt><code>TZ</code>
<dd>

<p>This specifies the time zone.  See <a href="#TZ%20Variable">TZ Variable</a>, for information about
the format of this string and how it is used.

<br><dt><code>LANG</code>
<dd>

<p>This specifies the default locale to use for attribute categories where
neither <code>LC_ALL</code> nor the specific environment variable for that
category is set.  See <a href="#Locales">Locales</a>, for more information about
locales.

<br><dt><code>LC_ALL</code>
<dd>

<p>If this environment variable is set it overrides the selection for all
the locales done using the other <code>LC_*</code> environment variables.  The
value of the other <code>LC_*</code> environment variables is simply ignored
in this case.

<br><dt><code>LC_COLLATE</code>
<dd>

<p>This specifies what locale to use for string sorting.

<br><dt><code>LC_CTYPE</code>
<dd>

<p>This specifies what locale to use for character sets and character
classification.

<br><dt><code>LC_MESSAGES</code>
<dd>

<p>This specifies what locale to use for printing messages and to parse
responses.

<br><dt><code>LC_MONETARY</code>
<dd>

<p>This specifies what locale to use for formatting monetary values.

<br><dt><code>LC_NUMERIC</code>
<dd>

<p>This specifies what locale to use for formatting numbers.

<br><dt><code>LC_TIME</code>
<dd>

<p>This specifies what locale to use for formatting date/time values.

<br><dt><code>NLSPATH</code>
<dd>

<p>This specifies the directories in which the <code>catopen</code> function
looks for message translation catalogs.

<br><dt><code>_POSIX_OPTION_ORDER</code>
<dd>

<p>If this environment variable is defined, it suppresses the usual
reordering of command line arguments by <code>getopt</code> and
<code>argp_parse</code>.  See <a href="#Argument%20Syntax">Argument Syntax</a>.

</dl>

<p><hr>
Node:<a name="System%20Calls">System Calls</a>,
Next:<a rel=next accesskey=n href="#Program%20Termination">Program Termination</a>,
Previous:<a rel=previous accesskey=p href="#Environment%20Variables">Environment Variables</a>,
Up:<a rel=up accesskey=u href="#Program%20Basics">Program Basics</a>
<br>

<h3>System Calls</h3>

<p>A system call is a request for service that a program makes of the
kernel.  The service is generally something that only the kernel has
the privilege to do, such as doing I/O.  Programmers don't normally
need to be concerned with system calls because there are functions in
the GNU C library to do virtually everything that system calls do. 
These functions work by making system calls themselves.  For example,
there is a system call that changes the permissions of a file, but
you don't need to know about it because you can just use the GNU C
library's <code>chmod</code> function.

<p>System calls are sometimes called kernel calls.

<p>However, there are times when you want to make a system call explicitly,
and for that, the GNU C library provides the <code>syscall</code> function. 
<code>syscall</code> is harder to use and less portable than functions like
<code>chmod</code>, but easier and more portable than coding the system call
in assembler instructions.

<p><code>syscall</code> is most useful when you are working with a system call
which is special to your system or is newer than the GNU C library you
are using.  <code>syscall</code> is implemented in an entirely generic way;
the function does not know anything about what a particular system
call does or even if it is valid.

<p>The description of <code>syscall</code> in this section assumes a certain
protocol for system calls on the various platforms on which the GNU C
library runs.  That protocol is not defined by any strong authority, but
we won't describe it here either because anyone who is coding
<code>syscall</code> probably won't accept anything less than kernel and C
library source code as a specification of the interface between them
anyway.

<p><code>syscall</code> is declared in <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>syscall</b><i> (long int <var>sysno</var>, ...)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>syscall</code> performs a generic system call.

<p><var>sysno</var> is the system call number.  Each kind of system call is
identified by a number.  Macros for all the possible system call numbers
are defined in <code>sys/syscall.h</code>

<p>The remaining arguments are the arguments for the system call, in
order, and their meanings depend on the kind of system call.  Each kind
of system call has a definite number of arguments, from zero to five. 
If you code more arguments than the system call takes, the extra ones to
the right are ignored.

<p>The return value is the return value from the system call, unless the
system call failed.  In that case, <code>syscall</code> returns <code>-1</code> and
sets <code>errno</code> to an error code that the system call returned.  Note
that system calls do not return <code>-1</code> when they succeed.

<p>If you specify an invalid <var>sysno</var>, <code>syscall</code> returns <code>-1</code>
with <code>errno</code> = <code>ENOSYS</code>.

<p>Example:

<br><pre>
#include &lt;unistd.h&gt;
#include &lt;sys/syscall.h&gt;
#include &lt;errno.h&gt;

...

int rc;

rc = syscall(SYS_chmod, "/etc/passwd", 0444);

if (rc == -1)
   fprintf(stderr, "chmod failed, errno = %d\n", errno);

</pre>

<p>This, if all the compatibility stars are aligned, is equivalent to the
following preferable code:

<br><pre>
#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;errno.h&gt;

...

int rc;

rc = chmod("/etc/passwd", 0444);
if (rc == -1)
   fprintf(stderr, "chmod failed, errno = %d\n", errno);

</pre>

</td></tr>
</table>

<p><hr>
Node:<a name="Program%20Termination">Program Termination</a>,
Previous:<a rel=previous accesskey=p href="#System%20Calls">System Calls</a>,
Up:<a rel=up accesskey=u href="#Program%20Basics">Program Basics</a>
<br>

<h3>Program Termination</h3>

<p>The usual way for a program to terminate is simply for its <code>main</code>
function to return.  The <dfn>exit status value</dfn> returned from the
<code>main</code> function is used to report information back to the process's
parent process or shell.

<p>A program can also terminate normally by calling the <code>exit</code>
function.

<p>In addition, programs can be terminated by signals; this is discussed in
more detail in <a href="#Signal%20Handling">Signal Handling</a>.  The <code>abort</code> function causes
a signal that kills the program.

<ul>
<li><a accesskey=1 href="#Normal%20Termination">Normal Termination</a>:           If a program calls <code>exit</code>, a
                                 process terminates normally. 
<li><a accesskey=2 href="#Exit%20Status">Exit Status</a>:                  The <code>exit status</code> provides information
                                 about why the process terminated. 
<li><a accesskey=3 href="#Cleanups%20on%20Exit">Cleanups on Exit</a>:             A process can run its own cleanup
                                 functions upon normal termination. 
<li><a accesskey=4 href="#Aborting%20a%20Program">Aborting a Program</a>:           The <code>abort</code> function causes
                                 abnormal program termination. 
<li><a accesskey=5 href="#Termination%20Internals">Termination Internals</a>:        What happens when a process terminates. 
</ul>

<p><hr>
Node:<a name="Normal%20Termination">Normal Termination</a>,
Next:<a rel=next accesskey=n href="#Exit%20Status">Exit Status</a>,
Up:<a rel=up accesskey=u href="#Program%20Termination">Program Termination</a>
<br>

<h4>Normal Termination</h4>

<p>A process terminates normally when its program signals it is done by
calling <code>exit</code>.  Returning from <code>main</code> is equivalent to
calling <code>exit</code>, and the value that <code>main</code> returns is used as
the argument to <code>exit</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>exit</b><i> (int <var>status</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>exit</code> function tells the system that the program is done, which
causes it to terminate the process.

<p><var>status</var> is the program's exit status, which becomes part of the
process' termination status.  This function does not return. 
</td></tr>
</table>

<p>Normal termination causes the following actions:

<ol type=1 start=1>
</p><li>Functions that were registered with the <code>atexit</code> or <code>on_exit</code>
functions are called in the reverse order of their registration.  This
mechanism allows your application to specify its own "cleanup" actions
to be performed at program termination.  Typically, this is used to do
things like saving program state information in a file, or unlocking
locks in shared data bases.

<li>All open streams are closed, writing out any buffered output data.  See
<a href="#Closing%20Streams">Closing Streams</a>.  In addition, temporary files opened
with the <code>tmpfile</code> function are removed; see <a href="#Temporary%20Files">Temporary Files</a>.

<li><code>_exit</code> is called, terminating the program.  See <a href="#Termination%20Internals">Termination Internals</a>.
</ol>

<p><hr>
Node:<a name="Exit%20Status">Exit Status</a>,
Next:<a rel=next accesskey=n href="#Cleanups%20on%20Exit">Cleanups on Exit</a>,
Previous:<a rel=previous accesskey=p href="#Normal%20Termination">Normal Termination</a>,
Up:<a rel=up accesskey=u href="#Program%20Termination">Program Termination</a>
<br>

<h4>Exit Status</h4>

<p>When a program exits, it can return to the parent process a small
amount of information about the cause of termination, using the
<dfn>exit status</dfn>.  This is a value between 0 and 255 that the exiting
process passes as an argument to <code>exit</code>.

<p>Normally you should use the exit status to report very broad information
about success or failure.  You can't provide a lot of detail about the
reasons for the failure, and most parent processes would not want much
detail anyway.

<p>There are conventions for what sorts of status values certain programs
should return.  The most common convention is simply 0 for success and 1
for failure.  Programs that perform comparison use a different
convention: they use status 1 to indicate a mismatch, and status 2 to
indicate an inability to compare.  Your program should follow an
existing convention if an existing convention makes sense for it.

<p>A general convention reserves status values 128 and up for special
purposes.  In particular, the value 128 is used to indicate failure to
execute another program in a subprocess.  This convention is not
universally obeyed, but it is a good idea to follow it in your programs.

<p><strong>Warning:</strong> Don't try to use the number of errors as the exit
status.  This is actually not very useful; a parent process would
generally not care how many errors occurred.  Worse than that, it does
not work, because the status value is truncated to eight bits. 
Thus, if the program tried to report 256 errors, the parent would
receive a report of 0 errors--that is, success.

<p>For the same reason, it does not work to use the value of <code>errno</code>
as the exit status--these can exceed 255.

<p><strong>Portability note:</strong> Some non-POSIX systems use different
conventions for exit status values.  For greater portability, you can
use the macros <code>EXIT_SUCCESS</code> and <code>EXIT_FAILURE</code> for the
conventional status value for success and failure, respectively.  They
are declared in the file <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>EXIT_SUCCESS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro can be used with the <code>exit</code> function to indicate
successful program completion.

<p>On POSIX systems, the value of this macro is <code>0</code>.  On other
systems, the value might be some other (possibly non-constant) integer
expression. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EXIT_FAILURE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro can be used with the <code>exit</code> function to indicate
unsuccessful program completion in a general sense.

<p>On POSIX systems, the value of this macro is <code>1</code>.  On other
systems, the value might be some other (possibly non-constant) integer
expression.  Other nonzero status values also indicate failures.  Certain
programs use different nonzero status values to indicate particular
kinds of "non-success".  For example, <code>diff</code> uses status value
<code>1</code> to mean that the files are different, and <code>2</code> or more to
mean that there was difficulty in opening the files. 
</td></tr>
</table>

<p>Don't confuse a program's exit status with a process' termination status. 
There are lots of ways a process can terminate besides having it's program
finish.  In the event that the process termination <em>is</em> caused by program
termination (i.e. <code>exit</code>), though, the program's exit status becomes
part of the process' termination status.

<p><hr>
Node:<a name="Cleanups%20on%20Exit">Cleanups on Exit</a>,
Next:<a rel=next accesskey=n href="#Aborting%20a%20Program">Aborting a Program</a>,
Previous:<a rel=previous accesskey=p href="#Exit%20Status">Exit Status</a>,
Up:<a rel=up accesskey=u href="#Program%20Termination">Program Termination</a>
<br>

<h4>Cleanups on Exit</h4>

<p>Your program can arrange to run its own cleanup functions if normal
termination happens.  If you are writing a library for use in various
application programs, then it is unreliable to insist that all
applications call the library's cleanup functions explicitly before
exiting.  It is much more robust to make the cleanup invisible to the
application, by setting up a cleanup function in the library itself
using <code>atexit</code> or <code>on_exit</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>atexit</b><i> (void (*<var>function</var>) (void))
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>atexit</code> function registers the function <var>function</var> to be
called at normal program termination.  The <var>function</var> is called with
no arguments.

<p>The return value from <code>atexit</code> is zero on success and nonzero if
the function cannot be registered. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>on_exit</b><i> (void (*<var>function</var>)(int <var>status</var>, void *<var>arg</var>), void *<var>arg</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is a somewhat more powerful variant of <code>atexit</code>.  It
accepts two arguments, a function <var>function</var> and an arbitrary
pointer <var>arg</var>.  At normal program termination, the <var>function</var> is
called with two arguments:  the <var>status</var> value passed to <code>exit</code>,
and the <var>arg</var>.

<p>This function is included in the GNU C library only for compatibility
for SunOS, and may not be supported by other implementations. 
</td></tr>
</table>

<p>Here's a trivial program that illustrates the use of <code>exit</code> and
<code>atexit</code>:

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

void
bye (void)
{
  puts ("Goodbye, cruel world....");
}

int
main (void)
{
  atexit (bye);
  exit (EXIT_SUCCESS);
}
</pre>

<p>When this program is executed, it just prints the message and exits.

<p><hr>
Node:<a name="Aborting%20a%20Program">Aborting a Program</a>,
Next:<a rel=next accesskey=n href="#Termination%20Internals">Termination Internals</a>,
Previous:<a rel=previous accesskey=p href="#Cleanups%20on%20Exit">Cleanups on Exit</a>,
Up:<a rel=up accesskey=u href="#Program%20Termination">Program Termination</a>
<br>

<h4>Aborting a Program</h4>

<p>You can abort your program using the <code>abort</code> function.  The prototype
for this function is in <code>stdlib.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>abort</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>abort</code> function causes abnormal program termination.  This
does not execute cleanup functions registered with <code>atexit</code> or
<code>on_exit</code>.

<p>This function actually terminates the process by raising a
<code>SIGABRT</code> signal, and your program can include a handler to
intercept this signal; see <a href="#Signal%20Handling">Signal Handling</a>. 
</td></tr>
</table>

<p><strong>Future Change Warning:</strong> Proposed Federal censorship regulations
may prohibit us from giving you information about the possibility of
calling this function.  We would be required to say that this is not an
acceptable way of terminating a program.

<p><hr>
Node:<a name="Termination%20Internals">Termination Internals</a>,
Previous:<a rel=previous accesskey=p href="#Aborting%20a%20Program">Aborting a Program</a>,
Up:<a rel=up accesskey=u href="#Program%20Termination">Program Termination</a>
<br>

<h4>Termination Internals</h4>

<p>The <code>_exit</code> function is the primitive used for process termination
by <code>exit</code>.  It is declared in the header file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>_exit</b><i> (int <var>status</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>_exit</code> function is the primitive for causing a process to
terminate with status <var>status</var>.  Calling this function does not
execute cleanup functions registered with <code>atexit</code> or
<code>on_exit</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>_Exit</b><i> (int <var>status</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>_Exit</code> function is the ISO&nbsp;C equivalent to <code>_exit</code>. 
The ISO&nbsp;C committee members were not sure whether the definitions of
<code>_exit</code> and <code>_Exit</code> were compatible so they have not used the
POSIX name.

<p>This function was introduced in ISO&nbsp;C99 and is declared in
<code>stdlib.h</code>. 
</td></tr>
</table>

<p>When a process terminates for any reason--either because the program
terminates, or as a result of a signal--the
following things happen:

<ul>
<li>All open file descriptors in the process are closed.  See <a href="#Low-Level%20I%2fO">Low-Level I/O</a>. 
Note that streams are not flushed automatically when the process
terminates; see <a href="#I%2fO%20on%20Streams">I/O on Streams</a>.

<li>A process exit status is saved to be reported back to the parent process
via <code>wait</code> or <code>waitpid</code>; see <a href="#Process%20Completion">Process Completion</a>.  If the
program exited, this status includes as its low-order 8 bits the program
exit status.

<li>Any child processes of the process being terminated are assigned a new
parent process.  (On most systems, including GNU, this is the <code>init</code>
process, with process ID 1.)

<li>A <code>SIGCHLD</code> signal is sent to the parent process.

<li>If the process is a session leader that has a controlling terminal, then
a <code>SIGHUP</code> signal is sent to each process in the foreground job,
and the controlling terminal is disassociated from that session. 
See <a href="#Job%20Control">Job Control</a>.

<li>If termination of a process causes a process group to become orphaned,
and any member of that process group is stopped, then a <code>SIGHUP</code>
signal and a <code>SIGCONT</code> signal are sent to each process in the
group.  See <a href="#Job%20Control">Job Control</a>. 
</ul>

<p><hr>
Node:<a name="Processes">Processes</a>,
Next:<a rel=next accesskey=n href="#Job%20Control">Job Control</a>,
Previous:<a rel=previous accesskey=p href="#Program%20Basics">Program Basics</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Processes</h2>

<p><dfn>Processes</dfn> are the primitive units for allocation of system
resources.  Each process has its own address space and (usually) one
thread of control.  A process executes a program; you can have multiple
processes executing the same program, but each process has its own copy
of the program within its own address space and executes it
independently of the other copies.

<p>Processes are organized hierarchically.  Each process has a <dfn>parent
process</dfn> which explicitly arranged to create it.  The processes created
by a given parent are called its <dfn>child processes</dfn>.  A child
inherits many of its attributes from the parent process.

<p>This chapter describes how a program can create, terminate, and control
child processes.  Actually, there are three distinct operations
involved: creating a new child process, causing the new process to
execute a program, and coordinating the completion of the child process
with the original program.

<p>The <code>system</code> function provides a simple, portable mechanism for
running another program; it does all three steps automatically.  If you
need more control over the details of how this is done, you can use the
primitive functions to do each step individually instead.

<ul>
<li><a accesskey=1 href="#Running%20a%20Command">Running a Command</a>:            The easy way to run another program. 
<li><a accesskey=2 href="#Process%20Creation%20Concepts">Process Creation Concepts</a>:    An overview of the hard way to do it. 
<li><a accesskey=3 href="#Process%20Identification">Process Identification</a>:       How to get the process ID of a process. 
<li><a accesskey=4 href="#Creating%20a%20Process">Creating a Process</a>:           How to fork a child process. 
<li><a accesskey=5 href="#Executing%20a%20File">Executing a File</a>:             How to make a process execute another program. 
<li><a accesskey=6 href="#Process%20Completion">Process Completion</a>:           How to tell when a child process has completed. 
<li><a accesskey=7 href="#Process%20Completion%20Status">Process Completion Status</a>:    How to interpret the status value
                                 returned from a child process. 
<li><a accesskey=8 href="#BSD%20Wait%20Functions">BSD Wait Functions</a>:   	More functions, for backward compatibility. 
<li><a accesskey=9 href="#Process%20Creation%20Example">Process Creation Example</a>:     A complete example program. 
</ul>

<p><hr>
Node:<a name="Running%20a%20Command">Running a Command</a>,
Next:<a rel=next accesskey=n href="#Process%20Creation%20Concepts">Process Creation Concepts</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Running a Command</h3>

<p>The easy way to run another program is to use the <code>system</code>
function.  This function does all the work of running a subprogram, but
it doesn't give you much control over the details: you have to wait
until the subprogram terminates before you can do anything else.

<p>
<table width="100%">
<tr>
<td align="left">int <b>system</b><i> (const char *<var>command</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function executes <var>command</var> as a shell command.  In the GNU C
library, it always uses the default shell <code>sh</code> to run the command. 
In particular, it searches the directories in <code>PATH</code> to find
programs to execute.  The return value is <code>-1</code> if it wasn't
possible to create the shell process, and otherwise is the status of the
shell process.  See <a href="#Process%20Completion">Process Completion</a>, for details on how this
status code can be interpreted.

<p>If the <var>command</var> argument is a null pointer, a return value of zero
indicates that no command processor is available.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>system</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>system</code> should be
protected using cancellation handlers.

<p>The <code>system</code> function is declared in the header file
<code>stdlib.h</code>. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> Some C implementations may not have any
notion of a command processor that can execute other programs.  You can
determine whether a command processor exists by executing
<code>system&nbsp;(NULL)</code>; if the return value is nonzero, a command
processor is available.

<p>The <code>popen</code> and <code>pclose</code> functions (see <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>) are closely related to the <code>system</code> function.  They
allow the parent process to communicate with the standard input and
output channels of the command being executed.

<p><hr>
Node:<a name="Process%20Creation%20Concepts">Process Creation Concepts</a>,
Next:<a rel=next accesskey=n href="#Process%20Identification">Process Identification</a>,
Previous:<a rel=previous accesskey=p href="#Running%20a%20Command">Running a Command</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Process Creation Concepts</h3>

<p>This section gives an overview of processes and of the steps involved in
creating a process and making it run another program.

<p>Each process is named by a <dfn>process ID</dfn> number.  A unique process ID
is allocated to each process when it is created.  The <dfn>lifetime</dfn> of
a process ends when its termination is reported to its parent process;
at that time, all of the process resources, including its process ID,
are freed.

<p>Processes are created with the <code>fork</code> system call (so the operation
of creating a new process is sometimes called <dfn>forking</dfn> a process). 
The <dfn>child process</dfn> created by <code>fork</code> is a copy of the original
<dfn>parent process</dfn>, except that it has its own process ID.

<p>After forking a child process, both the parent and child processes
continue to execute normally.  If you want your program to wait for a
child process to finish executing before continuing, you must do this
explicitly after the fork operation, by calling <code>wait</code> or
<code>waitpid</code> (see <a href="#Process%20Completion">Process Completion</a>).  These functions give you
limited information about why the child terminated--for example, its
exit status code.

<p>A newly forked child process continues to execute the same program as
its parent process, at the point where the <code>fork</code> call returns. 
You can use the return value from <code>fork</code> to tell whether the program
is running in the parent process or the child.

<p>Having several processes run the same program is only occasionally
useful.  But the child can execute another program using one of the
<code>exec</code> functions; see <a href="#Executing%20a%20File">Executing a File</a>.  The program that the
process is executing is called its <dfn>process image</dfn>.  Starting
execution of a new program causes the process to forget all about its
previous process image; when the new program exits, the process exits
too, instead of returning to the previous process image.

<p><hr>
Node:<a name="Process%20Identification">Process Identification</a>,
Next:<a rel=next accesskey=n href="#Creating%20a%20Process">Creating a Process</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Creation%20Concepts">Process Creation Concepts</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Process Identification</h3>

<p>The <code>pid_t</code> data type represents process IDs.  You can get the
process ID of a process by calling <code>getpid</code>.  The function
<code>getppid</code> returns the process ID of the parent of the current
process (this is also known as the <dfn>parent process ID</dfn>).  Your
program should include the header files <code>unistd.h</code> and
<code>sys/types.h</code> to use these functions.

<p>
<table width="100%">
<tr>
<td align="left"><b>pid_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pid_t</code> data type is a signed integer type which is capable
of representing a process ID.  In the GNU library, this is an <code>int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>getpid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getpid</code> function returns the process ID of the current process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>getppid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getppid</code> function returns the process ID of the parent of the
current process. 
</td></tr>
</table>

<p><hr>
Node:<a name="Creating%20a%20Process">Creating a Process</a>,
Next:<a rel=next accesskey=n href="#Executing%20a%20File">Executing a File</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Identification">Process Identification</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Creating a Process</h3>

<p>The <code>fork</code> function is the primitive for creating a process. 
It is declared in the header file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>fork</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fork</code> function creates a new process.

<p>If the operation is successful, there are then both parent and child
processes and both see <code>fork</code> return, but with different values: it
returns a value of <code>0</code> in the child process and returns the child's
process ID in the parent process.

<p>If process creation failed, <code>fork</code> returns a value of <code>-1</code> in
the parent process.  The following <code>errno</code> error conditions are
defined for <code>fork</code>:

<dl>
<dt><code>EAGAIN</code>
<dd>There aren't enough system resources to create another process, or the
user already has too many processes running.  This means exceeding the
<code>RLIMIT_NPROC</code> resource limit, which can usually be increased;
see <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>ENOMEM</code>
<dd>The process requires more space than the system can supply. 
</dl>
</td></tr>
</table>

<p>The specific attributes of the child process that differ from the
parent process are:

<ul>
<li>The child process has its own unique process ID.

<li>The parent process ID of the child process is the process ID of its
parent process.

<li>The child process gets its own copies of the parent process's open file
descriptors.  Subsequently changing attributes of the file descriptors
in the parent process won't affect the file descriptors in the child,
and vice versa.  See <a href="#Control%20Operations">Control Operations</a>.  However, the file position
associated with each descriptor is shared by both processes;
see <a href="#File%20Position">File Position</a>.

<li>The elapsed processor times for the child process are set to zero;
see <a href="#Processor%20Time">Processor Time</a>.

<li>The child doesn't inherit file locks set by the parent process. 
See <a href="#Control%20Operations">Control Operations</a>.

<li>The child doesn't inherit alarms set by the parent process. 
See <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<li>The set of pending signals (see <a href="#Delivery%20of%20Signal">Delivery of Signal</a>) for the child
process is cleared.  (The child process inherits its mask of blocked
signals and signal actions from the parent process.) 
</ul>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>vfork</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>vfork</code> function is similar to <code>fork</code> but on some systems
it is more efficient; however, there are restrictions you must follow to
use it safely.

<p>While <code>fork</code> makes a complete copy of the calling process's address
space and allows both the parent and child to execute independently,
<code>vfork</code> does not make this copy.  Instead, the child process
created with <code>vfork</code> shares its parent's address space until it
calls <code>_exit</code> or one of the <code>exec</code> functions.  In the
meantime, the parent process suspends execution.

<p>You must be very careful not to allow the child process created with
<code>vfork</code> to modify any global data or even local variables shared
with the parent.  Furthermore, the child process cannot return from (or
do a long jump out of) the function that called <code>vfork</code>!  This
would leave the parent process's control information very confused.  If
in doubt, use <code>fork</code> instead.

<p>Some operating systems don't really implement <code>vfork</code>.  The GNU C
library permits you to use <code>vfork</code> on all systems, but actually
executes <code>fork</code> if <code>vfork</code> isn't available.  If you follow
the proper precautions for using <code>vfork</code>, your program will still
work even if the system uses <code>fork</code> instead. 
</td></tr>
</table>

<p><hr>
Node:<a name="Executing%20a%20File">Executing a File</a>,
Next:<a rel=next accesskey=n href="#Process%20Completion">Process Completion</a>,
Previous:<a rel=previous accesskey=p href="#Creating%20a%20Process">Creating a Process</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Executing a File</h3>

<p>This section describes the <code>exec</code> family of functions, for executing
a file as a process image.  You can use these functions to make a child
process execute a new program after it has been forked.

<p>To see the effects of <code>exec</code> from the point of view of the called
program, See <a href="#Program%20Basics">Program Basics</a>.

<p>The functions in this family differ in how you specify the arguments,
but otherwise they all do the same thing.  They are declared in the
header file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>execv</b><i> (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>execv</code> function executes the file named by <var>filename</var> as a
new process image.

<p>The <var>argv</var> argument is an array of null-terminated strings that is
used to provide a value for the <code>argv</code> argument to the <code>main</code>
function of the program to be executed.  The last element of this array
must be a null pointer.  By convention, the first element of this array
is the file name of the program sans directory names.  See <a href="#Program%20Arguments">Program Arguments</a>, for full details on how programs can access these arguments.

<p>The environment for the new process image is taken from the
<code>environ</code> variable of the current process image; see
<a href="#Environment%20Variables">Environment Variables</a>, for information about environments. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>execl</b><i> (const char *<var>filename</var>, const char *<var>arg0</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>execv</code>, but the <var>argv</var> strings are
specified individually instead of as an array.  A null pointer must be
passed as the last such argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>execve</b><i> (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>, char *const <var>env</var><tt>[]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>execv</code>, but permits you to specify the environment
for the new program explicitly as the <var>env</var> argument.  This should
be an array of strings in the same format as for the <code>environ</code>
variable; see <a href="#Environment%20Access">Environment Access</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>execle</b><i> (const char *<var>filename</var>, const char *<var>arg0</var>, char *const <var>env</var><tt>[]</tt>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is similar to <code>execl</code>, but permits you to specify the
environment for the new program explicitly.  The environment argument is
passed following the null pointer that marks the last <var>argv</var>
argument, and should be an array of strings in the same format as for
the <code>environ</code> variable. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>execvp</b><i> (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>execvp</code> function is similar to <code>execv</code>, except that it
searches the directories listed in the <code>PATH</code> environment variable
(see <a href="#Standard%20Environment">Standard Environment</a>) to find the full file name of a
file from <var>filename</var> if <var>filename</var> does not contain a slash.

<p>This function is useful for executing system utility programs, because
it looks for them in the places that the user has chosen.  Shells use it
to run the commands that users type. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>execlp</b><i> (const char *<var>filename</var>, const char *<var>arg0</var>, <small>...</small>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is like <code>execl</code>, except that it performs the same
file name searching as the <code>execvp</code> function. 
</td></tr>
</table>

<p>The size of the argument list and environment list taken together must
not be greater than <code>ARG_MAX</code> bytes.  See <a href="#General%20Limits">General Limits</a>.  In
the GNU system, the size (which compares against <code>ARG_MAX</code>)
includes, for each string, the number of characters in the string, plus
the size of a <code>char *</code>, plus one, rounded up to a multiple of the
size of a <code>char *</code>.  Other systems may have somewhat different
rules for counting.

<p>These functions normally don't return, since execution of a new program
causes the currently executing program to go away completely.  A value
of <code>-1</code> is returned in the event of a failure.  In addition to the
usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>), the following
<code>errno</code> error conditions are defined for these functions:

<dl>
<dt><code>E2BIG</code>
<dd>The combined size of the new program's argument list and environment
list is larger than <code>ARG_MAX</code> bytes.  The GNU system has no
specific limit on the argument list size, so this error code cannot
result, but you may get <code>ENOMEM</code> instead if the arguments are too
big for available memory.

<br><dt><code>ENOEXEC</code>
<dd>The specified file can't be executed because it isn't in the right format.

<br><dt><code>ENOMEM</code>
<dd>Executing the specified file requires more storage than is available. 
</dl>

<p>If execution of the new file succeeds, it updates the access time field
of the file as if the file had been read.  See <a href="#File%20Times">File Times</a>, for more
details about access times of files.

<p>The point at which the file is closed again is not specified, but
is at some point before the process exits or before another process
image is executed.

<p>Executing a new process image completely changes the contents of memory,
copying only the argument and environment strings to new locations.  But
many other attributes of the process are unchanged:

<ul>
<li>The process ID and the parent process ID.  See <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>.

<li>Session and process group membership.  See <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>.

<li>Real user ID and group ID, and supplementary group IDs.  See <a href="#Process%20Persona">Process Persona</a>.

<li>Pending alarms.  See <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<li>Current working directory and root directory.  See <a href="#Working%20Directory">Working Directory</a>.  In the GNU system, the root directory is not copied when
executing a setuid program; instead the system default root directory
is used for the new program.

<li>File mode creation mask.  See <a href="#Setting%20Permissions">Setting Permissions</a>.

<li>Process signal mask; see <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.

<li>Pending signals; see <a href="#Blocking%20Signals">Blocking Signals</a>.

<li>Elapsed processor time associated with the process; see <a href="#Processor%20Time">Processor Time</a>. 
</ul>

<p>If the set-user-ID and set-group-ID mode bits of the process image file
are set, this affects the effective user ID and effective group ID
(respectively) of the process.  These concepts are discussed in detail
in <a href="#Process%20Persona">Process Persona</a>.

<p>Signals that are set to be ignored in the existing process image are
also set to be ignored in the new process image.  All other signals are
set to the default action in the new process image.  For more
information about signals, see <a href="#Signal%20Handling">Signal Handling</a>.

<p>File descriptors open in the existing process image remain open in the
new process image, unless they have the <code>FD_CLOEXEC</code>
(close-on-exec) flag set.  The files that remain open inherit all
attributes of the open file description from the existing process image,
including file locks.  File descriptors are discussed in <a href="#Low-Level%20I%2fO">Low-Level I/O</a>.

<p>Streams, by contrast, cannot survive through <code>exec</code> functions,
because they are located in the memory of the process itself.  The new
process image has no streams except those it creates afresh.  Each of
the streams in the pre-<code>exec</code> process image has a descriptor inside
it, and these descriptors do survive through <code>exec</code> (provided that
they do not have <code>FD_CLOEXEC</code> set).  The new process image can
reconnect these to new streams using <code>fdopen</code> (see <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>).

<p><hr>
Node:<a name="Process%20Completion">Process Completion</a>,
Next:<a rel=next accesskey=n href="#Process%20Completion%20Status">Process Completion Status</a>,
Previous:<a rel=previous accesskey=p href="#Executing%20a%20File">Executing a File</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Process Completion</h3>

<p>The functions described in this section are used to wait for a child
process to terminate or stop, and determine its status.  These functions
are declared in the header file <code>sys/wait.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>waitpid</b><i> (pid_t <var>pid</var>, int *<var>status-ptr</var>, int <var>options</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>waitpid</code> function is used to request status information from a
child process whose process ID is <var>pid</var>.  Normally, the calling
process is suspended until the child process makes status information
available by terminating.

<p>Other values for the <var>pid</var> argument have special interpretations.  A
value of <code>-1</code> or <code>WAIT_ANY</code> requests status information for
any child process; a value of <code>0</code> or <code>WAIT_MYPGRP</code> requests
information for any child process in the same process group as the
calling process; and any other negative value - <var>pgid</var>
requests information for any child process whose process group ID is
<var>pgid</var>.

<p>If status information for a child process is available immediately, this
function returns immediately without waiting.  If more than one eligible
child process has status information available, one of them is chosen
randomly, and its status is returned immediately.  To get the status
from the other eligible child processes, you need to call <code>waitpid</code>
again.

<p>The <var>options</var> argument is a bit mask.  Its value should be the
bitwise OR (that is, the <code>|</code> operator) of zero or more of the
<code>WNOHANG</code> and <code>WUNTRACED</code> flags.  You can use the
<code>WNOHANG</code> flag to indicate that the parent process shouldn't wait;
and the <code>WUNTRACED</code> flag to request status information from stopped
processes as well as processes that have terminated.

<p>The status information from the child process is stored in the object
that <var>status-ptr</var> points to, unless <var>status-ptr</var> is a null pointer.

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>waitpid</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>waitpid</code> should be
protected using cancellation handlers.

<p>The return value is normally the process ID of the child process whose
status is reported.  If there are child processes but none of them is
waiting to be noticed, <code>waitpid</code> will block until one is.  However,
if the <code>WNOHANG</code> option was specified, <code>waitpid</code> will return
zero instead of blocking.

<p>If a specific PID to wait for was given to <code>waitpid</code>, it will
ignore all other children (if any).  Therefore if there are children
waiting to be noticed but the child whose PID was specified is not one
of them, <code>waitpid</code> will block or return zero as described above.

<p>A value of <code>-1</code> is returned in case of error.  The following
<code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINTR</code>
<dd>The function was interrupted by delivery of a signal to the calling
process.  See <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>ECHILD</code>
<dd>There are no child processes to wait for, or the specified <var>pid</var>
is not a child of the calling process.

<br><dt><code>EINVAL</code>
<dd>An invalid value was provided for the <var>options</var> argument. 
</dl>
</td></tr>
</table>

<p>These symbolic constants are defined as values for the <var>pid</var> argument
to the <code>waitpid</code> function.

<dl>
<dt><code>WAIT_ANY</code>
<dd>
This constant macro (whose value is <code>-1</code>) specifies that
<code>waitpid</code> should return status information about any child process.

<br><dt><code>WAIT_MYPGRP</code>
<dd>This constant (with value <code>0</code>) specifies that <code>waitpid</code> should
return status information about any child process in the same process
group as the calling process. 
</dl>

<p>These symbolic constants are defined as flags for the <var>options</var>
argument to the <code>waitpid</code> function.  You can bitwise-OR the flags
together to obtain a value to use as the argument.

<dl>
<dt><code>WNOHANG</code>
<dd>
This flag specifies that <code>waitpid</code> should return immediately
instead of waiting, if there is no child process ready to be noticed.

<br><dt><code>WUNTRACED</code>
<dd>
This flag specifies that <code>waitpid</code> should report the status of any
child processes that have been stopped as well as those that have
terminated. 
</dl>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>wait</b><i> (int *<var>status-ptr</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a simplified version of <code>waitpid</code>, and is used to wait
until any one child process terminates.  The call:

<br><pre>wait (&amp;status)
</pre>

<p>is exactly equivalent to:

<br><pre>waitpid (-1, &amp;status, 0)
</pre>

<p>This function is a cancellation point in multi-threaded programs.  This
is a problem if the thread allocates some resources (like memory, file
descriptors, semaphores or whatever) at the time <code>wait</code> is
called.  If the thread gets canceled these resources stay allocated
until the program ends.  To avoid this calls to <code>wait</code> should be
protected using cancellation handlers. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>wait4</b><i> (pid_t <var>pid</var>, int *<var>status-ptr</var>, int <var>options</var>, struct rusage *<var>usage</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>usage</var> is a null pointer, <code>wait4</code> is equivalent to
<code>waitpid (<var>pid</var>, <var>status-ptr</var>, <var>options</var>)</code>.

<p>If <var>usage</var> is not null, <code>wait4</code> stores usage figures for the
child process in <code>*<var>rusage</var></code> (but only if the child has
terminated, not if it has stopped).  See <a href="#Resource%20Usage">Resource Usage</a>.

<p>This function is a BSD extension. 
</td></tr>
</table>

<p>Here's an example of how to use <code>waitpid</code> to get the status from
all child processes that have terminated, without ever waiting.  This
function is designed to be a handler for <code>SIGCHLD</code>, the signal that
indicates that at least one child process has terminated.

<br><pre>void
sigchld_handler (int signum)
{
  int pid, status, serrno;
  serrno = errno;
  while (1)
    {
      pid = waitpid (WAIT_ANY, &amp;status, WNOHANG);
      if (pid &lt; 0)
        {
          perror ("waitpid");
          break;
        }
      if (pid == 0)
        break;
      notice_termination (pid, status);
    }
  errno = serrno;
}
</pre>

<p><hr>
Node:<a name="Process%20Completion%20Status">Process Completion Status</a>,
Next:<a rel=next accesskey=n href="#BSD%20Wait%20Functions">BSD Wait Functions</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Completion">Process Completion</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Process Completion Status</h3>

<p>If the exit status value (see <a href="#Program%20Termination">Program Termination</a>) of the child
process is zero, then the status value reported by <code>waitpid</code> or
<code>wait</code> is also zero.  You can test for other kinds of information
encoded in the returned status value using the following macros. 
These macros are defined in the header file <code>sys/wait.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>WIFEXITED</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if the child process terminated
normally with <code>exit</code> or <code>_exit</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WEXITSTATUS</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <code>WIFEXITED</code> is true of <var>status</var>, this macro returns the
low-order 8 bits of the exit status value from the child process. 
See <a href="#Exit%20Status">Exit Status</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WIFSIGNALED</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if the child process terminated
because it received a signal that was not handled. 
See <a href="#Signal%20Handling">Signal Handling</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WTERMSIG</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <code>WIFSIGNALED</code> is true of <var>status</var>, this macro returns the
signal number of the signal that terminated the child process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WCOREDUMP</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if the child process terminated
and produced a core dump. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WIFSTOPPED</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns a nonzero value if the child process is stopped. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>WSTOPSIG</b><i> (int <var>status</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <code>WIFSTOPPED</code> is true of <var>status</var>, this macro returns the
signal number of the signal that caused the child process to stop. 
</td></tr>
</table>

<p><hr>
Node:<a name="BSD%20Wait%20Functions">BSD Wait Functions</a>,
Next:<a rel=next accesskey=n href="#Process%20Creation%20Example">Process Creation Example</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Completion%20Status">Process Completion Status</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>BSD Process Wait Functions</h3>

<p>The GNU library also provides these related facilities for compatibility
with BSD Unix.  BSD uses the <code>union wait</code> data type to represent
status values rather than an <code>int</code>.  The two representations are
actually interchangeable; they describe the same bit patterns.  The GNU
C Library defines macros such as <code>WEXITSTATUS</code> so that they will
work on either kind of object, and the <code>wait</code> function is defined
to accept either type of pointer as its <var>status-ptr</var> argument.

<p>These functions are declared in <code>sys/wait.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>union wait</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This data type represents program termination status values.  It has
the following members:

<dl>
<dt><code>int w_termsig</code>
<dd>The value of this member is the same as that of the
<code>WTERMSIG</code> macro.

<br><dt><code>int w_coredump</code>
<dd>The value of this member is the same as that of the
<code>WCOREDUMP</code> macro.

<br><dt><code>int w_retcode</code>
<dd>The value of this member is the same as that of the
<code>WEXITSTATUS</code> macro.

<br><dt><code>int w_stopsig</code>
<dd>The value of this member is the same as that of the
<code>WSTOPSIG</code> macro. 
</dl>

<p>Instead of accessing these members directly, you should use the
equivalent macros. 
</td></tr>
</table>

<p>The <code>wait3</code> function is the predecessor to <code>wait4</code>, which is
more flexible.  <code>wait3</code> is now obsolete.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>wait3</b><i> (union wait *<var>status-ptr</var>, int <var>options</var>, struct rusage *<var>usage</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If <var>usage</var> is a null pointer, <code>wait3</code> is equivalent to
<code>waitpid (-1, <var>status-ptr</var>, <var>options</var>)</code>.

<p>If <var>usage</var> is not null, <code>wait3</code> stores usage figures for the
child process in <code>*<var>rusage</var></code> (but only if the child has
terminated, not if it has stopped).  See <a href="#Resource%20Usage">Resource Usage</a>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Process%20Creation%20Example">Process Creation Example</a>,
Previous:<a rel=previous accesskey=p href="#BSD%20Wait%20Functions">BSD Wait Functions</a>,
Up:<a rel=up accesskey=u href="#Processes">Processes</a>
<br>

<h3>Process Creation Example</h3>

<p>Here is an example program showing how you might write a function
similar to the built-in <code>system</code>.  It executes its <var>command</var>
argument using the equivalent of <code>sh -c <var>command</var></code>.

<br><pre>#include &lt;stddef.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/wait.h&gt;

/* Execute the command using this shell program.  */
#define SHELL "/bin/sh"

int
my_system (const char *command)
{
  int status;
  pid_t pid;

  pid = fork ();
  if (pid == 0)
    {
      /* This is the child process.  Execute the shell command. */
      execl (SHELL, SHELL, "-c", command, NULL);
      _exit (EXIT_FAILURE);
    }
  else if (pid &lt; 0)
    /* The fork failed.  Report failure.  */
    status = -1;
  else
    /* This is the parent process.  Wait for the child to complete.  */
    if (waitpid (pid, &amp;status, 0) != pid)
      status = -1;
  return status;
}
</pre>

<p>There are a couple of things you should pay attention to in this
example.

<p>Remember that the first <code>argv</code> argument supplied to the program
represents the name of the program being executed.  That is why, in the
call to <code>execl</code>, <code>SHELL</code> is supplied once to name the program
to execute and a second time to supply a value for <code>argv[0]</code>.

<p>The <code>execl</code> call in the child process doesn't return if it is
successful.  If it fails, you must do something to make the child
process terminate.  Just returning a bad status code with <code>return</code>
would leave two processes running the original program.  Instead, the
right behavior is for the child process to report failure to its parent
process.

<p>Call <code>_exit</code> to accomplish this.  The reason for using <code>_exit</code>
instead of <code>exit</code> is to avoid flushing fully buffered streams such
as <code>stdout</code>.  The buffers of these streams probably contain data
that was copied from the parent process by the <code>fork</code>, data that
will be output eventually by the parent process.  Calling <code>exit</code> in
the child would output the data twice.  See <a href="#Termination%20Internals">Termination Internals</a>.

<p><hr>
Node:<a name="Job%20Control">Job Control</a>,
Next:<a rel=next accesskey=n href="#Name%20Service%20Switch">Name Service Switch</a>,
Previous:<a rel=previous accesskey=p href="#Processes">Processes</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Job Control</h2>

<p><dfn>Job control</dfn> refers to the protocol for allowing a user to move
between multiple <dfn>process groups</dfn> (or <dfn>jobs</dfn>) within a single
<dfn>login session</dfn>.  The job control facilities are set up so that
appropriate behavior for most programs happens automatically and they
need not do anything special about job control.  So you can probably
ignore the material in this chapter unless you are writing a shell or
login program.

<p>You need to be familiar with concepts relating to process creation
(see <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>) and signal handling (see <a href="#Signal%20Handling">Signal Handling</a>) in order to understand this material presented in this
chapter.

<ul>
<li><a accesskey=1 href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>:      Jobs can be controlled by a shell. 
<li><a accesskey=2 href="#Job%20Control%20is%20Optional">Job Control is Optional</a>:      Not all POSIX systems support job control. 
<li><a accesskey=3 href="#Controlling%20Terminal">Controlling Terminal</a>:         How a process gets its controlling terminal. 
<li><a accesskey=4 href="#Access%20to%20the%20Terminal">Access to the Terminal</a>:       How processes share the controlling terminal. 
<li><a accesskey=5 href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>:      Jobs left after the user logs out. 
<li><a accesskey=6 href="#Implementing%20a%20Shell">Implementing a Shell</a>:         What a shell must do to implement job control. 
<li><a accesskey=7 href="#Functions%20for%20Job%20Control">Functions for Job Control</a>:    Functions to control process groups. 
</ul>

<p><hr>
Node:<a name="Concepts%20of%20Job%20Control">Concepts of Job Control</a>,
Next:<a rel=next accesskey=n href="#Job%20Control%20is%20Optional">Job Control is Optional</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Concepts of Job Control</h3>

<p>The fundamental purpose of an interactive shell is to read
commands from the user's terminal and create processes to execute the
programs specified by those commands.  It can do this using the
<code>fork</code> (see <a href="#Creating%20a%20Process">Creating a Process</a>) and <code>exec</code>
(see <a href="#Executing%20a%20File">Executing a File</a>) functions.

<p>A single command may run just one process--but often one command uses
several processes.  If you use the <code>|</code> operator in a shell command,
you explicitly request several programs in their own processes.  But
even if you run just one program, it can use multiple processes
internally.  For example, a single compilation command such as <code>cc
-c foo.c</code> typically uses four processes (though normally only two at any
given time).  If you run <code>make</code>, its job is to run other programs
in separate processes.

<p>The processes belonging to a single command are called a <dfn>process
group</dfn> or <dfn>job</dfn>.  This is so that you can operate on all of them at
once.  For example, typing <kbd>C-c</kbd> sends the signal <code>SIGINT</code> to
terminate all the processes in the foreground process group.

<p>A <dfn>session</dfn> is a larger group of processes.  Normally all the
processes that stem from a single login belong to the same session.

<p>Every process belongs to a process group.  When a process is created, it
becomes a member of the same process group and session as its parent
process.  You can put it in another process group using the
<code>setpgid</code> function, provided the process group belongs to the same
session.

<p>The only way to put a process in a different session is to make it the
initial process of a new session, or a <dfn>session leader</dfn>, using the
<code>setsid</code> function.  This also puts the session leader into a new
process group, and you can't move it out of that process group again.

<p>Usually, new sessions are created by the system login program, and the
session leader is the process running the user's login shell.

<p>A shell that supports job control must arrange to control which job can
use the terminal at any time.  Otherwise there might be multiple jobs
trying to read from the terminal at once, and confusion about which
process should receive the input typed by the user.  To prevent this,
the shell must cooperate with the terminal driver using the protocol
described in this chapter.

<p>The shell can give unlimited access to the controlling terminal to only
one process group at a time.  This is called the <dfn>foreground job</dfn> on
that controlling terminal.  Other process groups managed by the shell
that are executing without such access to the terminal are called
<dfn>background jobs</dfn>.

<p>If a background job needs to read from its controlling
terminal, it is <dfn>stopped</dfn> by the terminal driver; if the
<code>TOSTOP</code> mode is set, likewise for writing.  The user can stop
a foreground job by typing the SUSP character (see <a href="#Special%20Characters">Special Characters</a>) and a program can stop any job by sending it a
<code>SIGSTOP</code> signal.  It's the responsibility of the shell to notice
when jobs stop, to notify the user about them, and to provide mechanisms
for allowing the user to interactively continue stopped jobs and switch
jobs between foreground and background.

<p>See <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>, for more information about I/O to the
controlling terminal,

<p><hr>
Node:<a name="Job%20Control%20is%20Optional">Job Control is Optional</a>,
Next:<a rel=next accesskey=n href="#Controlling%20Terminal">Controlling Terminal</a>,
Previous:<a rel=previous accesskey=p href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Job Control is Optional</h3>

<p>Not all operating systems support job control.  The GNU system does
support job control, but if you are using the GNU library on some other
system, that system may not support job control itself.

<p>You can use the <code>_POSIX_JOB_CONTROL</code> macro to test at compile-time
whether the system supports job control.  See <a href="#System%20Options">System Options</a>.

<p>If job control is not supported, then there can be only one process
group per session, which behaves as if it were always in the foreground. 
The functions for creating additional process groups simply fail with
the error code <code>ENOSYS</code>.

<p>The macros naming the various job control signals (see <a href="#Job%20Control%20Signals">Job Control Signals</a>) are defined even if job control is not supported.  However,
the system never generates these signals, and attempts to send a job
control signal or examine or specify their actions report errors or do
nothing.

<p><hr>
Node:<a name="Controlling%20Terminal">Controlling Terminal</a>,
Next:<a rel=next accesskey=n href="#Access%20to%20the%20Terminal">Access to the Terminal</a>,
Previous:<a rel=previous accesskey=p href="#Job%20Control%20is%20Optional">Job Control is Optional</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Controlling Terminal of a Process</h3>

<p>One of the attributes of a process is its controlling terminal.  Child
processes created with <code>fork</code> inherit the controlling terminal from
their parent process.  In this way, all the processes in a session
inherit the controlling terminal from the session leader.  A session
leader that has control of a terminal is called the <dfn>controlling
process</dfn> of that terminal.

<p>You generally do not need to worry about the exact mechanism used to
allocate a controlling terminal to a session, since it is done for you
by the system when you log in.

<p>An individual process disconnects from its controlling terminal when it
calls <code>setsid</code> to become the leader of a new session. 
See <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<p><hr>
Node:<a name="Access%20to%20the%20Terminal">Access to the Terminal</a>,
Next:<a rel=next accesskey=n href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>,
Previous:<a rel=previous accesskey=p href="#Controlling%20Terminal">Controlling Terminal</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Access to the Controlling Terminal</h3>

<p>Processes in the foreground job of a controlling terminal have
unrestricted access to that terminal; background processes do not.  This
section describes in more detail what happens when a process in a
background job tries to access its controlling terminal.

<p>When a process in a background job tries to read from its controlling
terminal, the process group is usually sent a <code>SIGTTIN</code> signal. 
This normally causes all of the processes in that group to stop (unless
they handle the signal and don't stop themselves).  However, if the
reading process is ignoring or blocking this signal, then <code>read</code>
fails with an <code>EIO</code> error instead.

<p>Similarly, when a process in a background job tries to write to its
controlling terminal, the default behavior is to send a <code>SIGTTOU</code>
signal to the process group.  However, the behavior is modified by the
<code>TOSTOP</code> bit of the local modes flags (see <a href="#Local%20Modes">Local Modes</a>).  If
this bit is not set (which is the default), then writing to the
controlling terminal is always permitted without sending a signal. 
Writing is also permitted if the <code>SIGTTOU</code> signal is being ignored
or blocked by the writing process.

<p>Most other terminal operations that a program can do are treated as
reading or as writing.  (The description of each operation should say
which.)

<p>For more information about the primitive <code>read</code> and <code>write</code>
functions, see <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<p><hr>
Node:<a name="Orphaned%20Process%20Groups">Orphaned Process Groups</a>,
Next:<a rel=next accesskey=n href="#Implementing%20a%20Shell">Implementing a Shell</a>,
Previous:<a rel=previous accesskey=p href="#Access%20to%20the%20Terminal">Access to the Terminal</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Orphaned Process Groups</h3>

<p>When a controlling process terminates, its terminal becomes free and a
new session can be established on it.  (In fact, another user could log
in on the terminal.)  This could cause a problem if any processes from
the old session are still trying to use that terminal.

<p>To prevent problems, process groups that continue running even after the
session leader has terminated are marked as <dfn>orphaned process
groups</dfn>.

<p>When a process group becomes an orphan, its processes are sent a
<code>SIGHUP</code> signal.  Ordinarily, this causes the processes to
terminate.  However, if a program ignores this signal or establishes a
handler for it (see <a href="#Signal%20Handling">Signal Handling</a>), it can continue running as in
the orphan process group even after its controlling process terminates;
but it still cannot access the terminal any more.

<p><hr>
Node:<a name="Implementing%20a%20Shell">Implementing a Shell</a>,
Next:<a rel=next accesskey=n href="#Functions%20for%20Job%20Control">Functions for Job Control</a>,
Previous:<a rel=previous accesskey=p href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Implementing a Job Control Shell</h3>

<p>This section describes what a shell must do to implement job control, by
presenting an extensive sample program to illustrate the concepts
involved.

<ul>
<li><a accesskey=1 href="#Data%20Structures">Data Structures</a>:              Introduction to the sample shell. 
<li><a accesskey=2 href="#Initializing%20the%20Shell">Initializing the Shell</a>:       What the shell must do to take
				 responsibility for job control. 
<li><a accesskey=3 href="#Launching%20Jobs">Launching Jobs</a>:               Creating jobs to execute commands. 
<li><a accesskey=4 href="#Foreground%20and%20Background">Foreground and Background</a>:    Putting a job in foreground of background. 
<li><a accesskey=5 href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>:   Reporting job status. 
<li><a accesskey=6 href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>:      How to continue a stopped job in
				 the foreground or background. 
<li><a accesskey=7 href="#Missing%20Pieces">Missing Pieces</a>:               Other parts of the shell. 
</ul>

<p><hr>
Node:<a name="Data%20Structures">Data Structures</a>,
Next:<a rel=next accesskey=n href="#Initializing%20the%20Shell">Initializing the Shell</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Data Structures for the Shell</h4>

<p>All of the program examples included in this chapter are part of
a simple shell program.  This section presents data structures
and utility functions which are used throughout the example.

<p>The sample shell deals mainly with two data structures.  The
<code>job</code> type contains information about a job, which is a
set of subprocesses linked together with pipes.  The <code>process</code> type
holds information about a single subprocess.  Here are the relevant
data structure declarations:

<br><pre>/* A process is a single process.  */
typedef struct process
{
  struct process *next;       /* next process in pipeline */
  char **argv;                /* for exec */
  pid_t pid;                  /* process ID */
  char completed;             /* true if process has completed */
  char stopped;               /* true if process has stopped */
  int status;                 /* reported status value */
} process;

/* A job is a pipeline of processes.  */
typedef struct job
{
  struct job *next;           /* next active job */
  char *command;              /* command line, used for messages */
  process *first_process;     /* list of processes in this job */
  pid_t pgid;                 /* process group ID */
  char notified;              /* true if user told about stopped job */
  struct termios tmodes;      /* saved terminal modes */
  int stdin, stdout, stderr;  /* standard i/o channels */
} job;

/* The active jobs are linked into a list.  This is its head.   */
job *first_job = NULL;
</pre>

<p>Here are some utility functions that are used for operating on <code>job</code>
objects.

<br><pre>/* Find the active job with the indicated <var>pgid</var>.  */
job *
find_job (pid_t pgid)
{
  job *j;

  for (j = first_job; j; j = j-&gt;next)
    if (j-&gt;pgid == pgid)
      return j;
  return NULL;
}

/* Return true if all processes in the job have stopped or completed.  */
int
job_is_stopped (job *j)
{
  process *p;

  for (p = j-&gt;first_process; p; p = p-&gt;next)
    if (!p-&gt;completed &amp;&amp; !p-&gt;stopped)
      return 0;
  return 1;
}

/* Return true if all processes in the job have completed.  */
int
job_is_completed (job *j)
{
  process *p;

  for (p = j-&gt;first_process; p; p = p-&gt;next)
    if (!p-&gt;completed)
      return 0;
  return 1;
}
</pre>

<p><hr>
Node:<a name="Initializing%20the%20Shell">Initializing the Shell</a>,
Next:<a rel=next accesskey=n href="#Launching%20Jobs">Launching Jobs</a>,
Previous:<a rel=previous accesskey=p href="#Data%20Structures">Data Structures</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Initializing the Shell</h4>

<p>When a shell program that normally performs job control is started, it
has to be careful in case it has been invoked from another shell that is
already doing its own job control.

<p>A subshell that runs interactively has to ensure that it has been placed
in the foreground by its parent shell before it can enable job control
itself.  It does this by getting its initial process group ID with the
<code>getpgrp</code> function, and comparing it to the process group ID of the
current foreground job associated with its controlling terminal (which
can be retrieved using the <code>tcgetpgrp</code> function).

<p>If the subshell is not running as a foreground job, it must stop itself
by sending a <code>SIGTTIN</code> signal to its own process group.  It may not
arbitrarily put itself into the foreground; it must wait for the user to
tell the parent shell to do this.  If the subshell is continued again,
it should repeat the check and stop itself again if it is still not in
the foreground.

<p>Once the subshell has been placed into the foreground by its parent
shell, it can enable its own job control.  It does this by calling
<code>setpgid</code> to put itself into its own process group, and then
calling <code>tcsetpgrp</code> to place this process group into the
foreground.

<p>When a shell enables job control, it should set itself to ignore all the
job control stop signals so that it doesn't accidentally stop itself. 
You can do this by setting the action for all the stop signals to
<code>SIG_IGN</code>.

<p>A subshell that runs non-interactively cannot and should not support job
control.  It must leave all processes it creates in the same process
group as the shell itself; this allows the non-interactive shell and its
child processes to be treated as a single job by the parent shell.  This
is easy to do--just don't use any of the job control primitives--but
you must remember to make the shell do it.

<p>Here is the initialization code for the sample shell that shows how to
do all of this.

<br><pre>/* Keep track of attributes of the shell.  */

#include &lt;sys/types.h&gt;
#include &lt;termios.h&gt;
#include &lt;unistd.h&gt;

pid_t shell_pgid;
struct termios shell_tmodes;
int shell_terminal;
int shell_is_interactive;


/* Make sure the shell is running interactively as the foreground job
   before proceeding. */

void
init_shell ()
{

  /* See if we are running interactively.  */
  shell_terminal = STDIN_FILENO;
  shell_is_interactive = isatty (shell_terminal);

  if (shell_is_interactive)
    {
      /* Loop until we are in the foreground.  */
      while (tcgetpgrp (shell_terminal) != (shell_pgid = getpgrp ()))
        kill (- shell_pgid, SIGTTIN);

      /* Ignore interactive and job-control signals.  */
      signal (SIGINT, SIG_IGN);
      signal (SIGQUIT, SIG_IGN);
      signal (SIGTSTP, SIG_IGN);
      signal (SIGTTIN, SIG_IGN);
      signal (SIGTTOU, SIG_IGN);
      signal (SIGCHLD, SIG_IGN);

      /* Put ourselves in our own process group.  */
      shell_pgid = getpid ();
      if (setpgid (shell_pgid, shell_pgid) &lt; 0)
        {
          perror ("Couldn't put the shell in its own process group");
          exit (1);
        }

      /* Grab control of the terminal.  */
      tcsetpgrp (shell_terminal, shell_pgid);

      /* Save default terminal attributes for shell.  */
      tcgetattr (shell_terminal, &amp;shell_tmodes);
    }
}
</pre>

<p><hr>
Node:<a name="Launching%20Jobs">Launching Jobs</a>,
Next:<a rel=next accesskey=n href="#Foreground%20and%20Background">Foreground and Background</a>,
Previous:<a rel=previous accesskey=p href="#Initializing%20the%20Shell">Initializing the Shell</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Launching Jobs</h4>

<p>Once the shell has taken responsibility for performing job control on
its controlling terminal, it can launch jobs in response to commands
typed by the user.

<p>To create the processes in a process group, you use the same <code>fork</code>
and <code>exec</code> functions described in <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>. 
Since there are multiple child processes involved, though, things are a
little more complicated and you must be careful to do things in the
right order.  Otherwise, nasty race conditions can result.

<p>You have two choices for how to structure the tree of parent-child
relationships among the processes.  You can either make all the
processes in the process group be children of the shell process, or you
can make one process in group be the ancestor of all the other processes
in that group.  The sample shell program presented in this chapter uses
the first approach because it makes bookkeeping somewhat simpler.

<p>As each process is forked, it should put itself in the new process group
by calling <code>setpgid</code>; see <a href="#Process%20Group%20Functions">Process Group Functions</a>.  The first
process in the new group becomes its <dfn>process group leader</dfn>, and its
process ID becomes the <dfn>process group ID</dfn> for the group.

<p>The shell should also call <code>setpgid</code> to put each of its child
processes into the new process group.  This is because there is a
potential timing problem: each child process must be put in the process
group before it begins executing a new program, and the shell depends on
having all the child processes in the group before it continues
executing.  If both the child processes and the shell call
<code>setpgid</code>, this ensures that the right things happen no matter which
process gets to it first.

<p>If the job is being launched as a foreground job, the new process group
also needs to be put into the foreground on the controlling terminal
using <code>tcsetpgrp</code>.  Again, this should be done by the shell as well
as by each of its child processes, to avoid race conditions.

<p>The next thing each child process should do is to reset its signal
actions.

<p>During initialization, the shell process set itself to ignore job
control signals; see <a href="#Initializing%20the%20Shell">Initializing the Shell</a>.  As a result, any child
processes it creates also ignore these signals by inheritance.  This is
definitely undesirable, so each child process should explicitly set the
actions for these signals back to <code>SIG_DFL</code> just after it is forked.

<p>Since shells follow this convention, applications can assume that they
inherit the correct handling of these signals from the parent process. 
But every application has a responsibility not to mess up the handling
of stop signals.  Applications that disable the normal interpretation of
the SUSP character should provide some other mechanism for the user to
stop the job.  When the user invokes this mechanism, the program should
send a <code>SIGTSTP</code> signal to the process group of the process, not
just to the process itself.  See <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<p>Finally, each child process should call <code>exec</code> in the normal way. 
This is also the point at which redirection of the standard input and
output channels should be handled.  See <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>,
for an explanation of how to do this.

<p>Here is the function from the sample shell program that is responsible
for launching a program.  The function is executed by each child process
immediately after it has been forked by the shell, and never returns.

<br><pre>void
launch_process (process *p, pid_t pgid,
                int infile, int outfile, int errfile,
                int foreground)
{
  pid_t pid;

  if (shell_is_interactive)
    {
      /* Put the process into the process group and give the process group
         the terminal, if appropriate.
         This has to be done both by the shell and in the individual
         child processes because of potential race conditions.  */
      pid = getpid ();
      if (pgid == 0) pgid = pid;
      setpgid (pid, pgid);
      if (foreground)
        tcsetpgrp (shell_terminal, pgid);

      /* Set the handling for job control signals back to the default.  */
      signal (SIGINT, SIG_DFL);
      signal (SIGQUIT, SIG_DFL);
      signal (SIGTSTP, SIG_DFL);
      signal (SIGTTIN, SIG_DFL);
      signal (SIGTTOU, SIG_DFL);
      signal (SIGCHLD, SIG_DFL);
    }

  /* Set the standard input/output channels of the new process.  */
  if (infile != STDIN_FILENO)
    {
      dup2 (infile, STDIN_FILENO);
      close (infile);
    }
  if (outfile != STDOUT_FILENO)
    {
      dup2 (outfile, STDOUT_FILENO);
      close (outfile);
    }
  if (errfile != STDERR_FILENO)
    {
      dup2 (errfile, STDERR_FILENO);
      close (errfile);
    }

  /* Exec the new process.  Make sure we exit.  */
  execvp (p-&gt;argv[0], p-&gt;argv);
  perror ("execvp");
  exit (1);
}
</pre>

<p>If the shell is not running interactively, this function does not do
anything with process groups or signals.  Remember that a shell not
performing job control must keep all of its subprocesses in the same
process group as the shell itself.

<p>Next, here is the function that actually launches a complete job. 
After creating the child processes, this function calls some other
functions to put the newly created job into the foreground or background;
these are discussed in <a href="#Foreground%20and%20Background">Foreground and Background</a>.

<br><pre>void
launch_job (job *j, int foreground)
{
  process *p;
  pid_t pid;
  int mypipe[2], infile, outfile;

  infile = j-&gt;stdin;
  for (p = j-&gt;first_process; p; p = p-&gt;next)
    {
      /* Set up pipes, if necessary.  */
      if (p-&gt;next)
        {
          if (pipe (mypipe) &lt; 0)
            {
              perror ("pipe");
              exit (1);
            }
          outfile = mypipe[1];
        }
      else
        outfile = j-&gt;stdout;

      /* Fork the child processes.  */
      pid = fork ();
      if (pid == 0)
        /* This is the child process.  */
        launch_process (p, j-&gt;pgid, infile,
                        outfile, j-&gt;stderr, foreground);
      else if (pid &lt; 0)
        {
          /* The fork failed.  */
          perror ("fork");
          exit (1);
        }
      else
        {
          /* This is the parent process.  */
          p-&gt;pid = pid;
          if (shell_is_interactive)
            {
              if (!j-&gt;pgid)
                j-&gt;pgid = pid;
              setpgid (pid, j-&gt;pgid);
            }
        }

      /* Clean up after pipes.  */
      if (infile != j-&gt;stdin)
        close (infile);
      if (outfile != j-&gt;stdout)
        close (outfile);
      infile = mypipe[0];
    }

  format_job_info (j, "launched");

  if (!shell_is_interactive)
    wait_for_job (j);
  else if (foreground)
    put_job_in_foreground (j, 0);
  else
    put_job_in_background (j, 0);
}
</pre>

<p><hr>
Node:<a name="Foreground%20and%20Background">Foreground and Background</a>,
Next:<a rel=next accesskey=n href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>,
Previous:<a rel=previous accesskey=p href="#Launching%20Jobs">Launching Jobs</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Foreground and Background</h4>

<p>Now let's consider what actions must be taken by the shell when it
launches a job into the foreground, and how this differs from what
must be done when a background job is launched.

<p>When a foreground job is launched, the shell must first give it access
to the controlling terminal by calling <code>tcsetpgrp</code>.  Then, the
shell should wait for processes in that process group to terminate or
stop.  This is discussed in more detail in <a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>.

<p>When all of the processes in the group have either completed or stopped,
the shell should regain control of the terminal for its own process
group by calling <code>tcsetpgrp</code> again.  Since stop signals caused by
I/O from a background process or a SUSP character typed by the user
are sent to the process group, normally all the processes in the job
stop together.

<p>The foreground job may have left the terminal in a strange state, so the
shell should restore its own saved terminal modes before continuing.  In
case the job is merely stopped, the shell should first save the current
terminal modes so that it can restore them later if the job is
continued.  The functions for dealing with terminal modes are
<code>tcgetattr</code> and <code>tcsetattr</code>; these are described in
<a href="#Terminal%20Modes">Terminal Modes</a>.

<p>Here is the sample shell's function for doing all of this.

<br><pre>/* Put job <var>j</var> in the foreground.  If <var>cont</var> is nonzero,
   restore the saved terminal modes and send the process group a
   <code>SIGCONT</code> signal to wake it up before we block.  */

void
put_job_in_foreground (job *j, int cont)
{
  /* Put the job into the foreground.  */
  tcsetpgrp (shell_terminal, j-&gt;pgid);

  /* Send the job a continue signal, if necessary.  */
  if (cont)
    {
      tcsetattr (shell_terminal, TCSADRAIN, &amp;j-&gt;tmodes);
      if (kill (- j-&gt;pgid, SIGCONT) &lt; 0)
        perror ("kill (SIGCONT)");
    }

  /* Wait for it to report.  */
  wait_for_job (j);

  /* Put the shell back in the foreground.  */
  tcsetpgrp (shell_terminal, shell_pgid);

  /* Restore the shell's terminal modes.  */
  tcgetattr (shell_terminal, &amp;j-&gt;tmodes);
  tcsetattr (shell_terminal, TCSADRAIN, &amp;shell_tmodes);
}
</pre>

<p>If the process group is launched as a background job, the shell should
remain in the foreground itself and continue to read commands from
the terminal.

<p>In the sample shell, there is not much that needs to be done to put
a job into the background.  Here is the function it uses:

<br><pre>/* Put a job in the background.  If the cont argument is true, send
   the process group a <code>SIGCONT</code> signal to wake it up.  */

void
put_job_in_background (job *j, int cont)
{
  /* Send the job a continue signal, if necessary.  */
  if (cont)
    if (kill (-j-&gt;pgid, SIGCONT) &lt; 0)
      perror ("kill (SIGCONT)");
}
</pre>

<p><hr>
Node:<a name="Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>,
Next:<a rel=next accesskey=n href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>,
Previous:<a rel=previous accesskey=p href="#Foreground%20and%20Background">Foreground and Background</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Stopped and Terminated Jobs</h4>

<p>When a foreground process is launched, the shell must block until all of
the processes in that job have either terminated or stopped.  It can do
this by calling the <code>waitpid</code> function; see <a href="#Process%20Completion">Process Completion</a>.  Use the <code>WUNTRACED</code> option so that status is reported
for processes that stop as well as processes that terminate.

<p>The shell must also check on the status of background jobs so that it
can report terminated and stopped jobs to the user; this can be done by
calling <code>waitpid</code> with the <code>WNOHANG</code> option.  A good place to
put a such a check for terminated and stopped jobs is just before
prompting for a new command.

<p>The shell can also receive asynchronous notification that there is
status information available for a child process by establishing a
handler for <code>SIGCHLD</code> signals.  See <a href="#Signal%20Handling">Signal Handling</a>.

<p>In the sample shell program, the <code>SIGCHLD</code> signal is normally
ignored.  This is to avoid reentrancy problems involving the global data
structures the shell manipulates.  But at specific times when the shell
is not using these data structures--such as when it is waiting for
input on the terminal--it makes sense to enable a handler for
<code>SIGCHLD</code>.  The same function that is used to do the synchronous
status checks (<code>do_job_notification</code>, in this case) can also be
called from within this handler.

<p>Here are the parts of the sample shell program that deal with checking
the status of jobs and reporting the information to the user.

<br><pre>/* Store the status of the process <var>pid</var> that was returned by waitpid.
   Return 0 if all went well, nonzero otherwise.  */

int
mark_process_status (pid_t pid, int status)
{
  job *j;
  process *p;

  if (pid &gt; 0)
    {
      /* Update the record for the process.  */
      for (j = first_job; j; j = j-&gt;next)
        for (p = j-&gt;first_process; p; p = p-&gt;next)
          if (p-&gt;pid == pid)
            {
              p-&gt;status = status;
              if (WIFSTOPPED (status))
                p-&gt;stopped = 1;
              else
                {
                  p-&gt;completed = 1;
                  if (WIFSIGNALED (status))
                    fprintf (stderr, "%d: Terminated by signal %d.\n",
                             (int) pid, WTERMSIG (p-&gt;status));
                }
              return 0;
             }
      fprintf (stderr, "No child process %d.\n", pid);
      return -1;
    }
  else if (pid == 0 || errno == ECHILD)
    /* No processes ready to report.  */
    return -1;
  else {
    /* Other weird errors.  */
    perror ("waitpid");
    return -1;
  }
}

/* Check for processes that have status information available,
   without blocking.  */

void
update_status (void)
{
  int status;
  pid_t pid;

  do
    pid = waitpid (WAIT_ANY, &amp;status, WUNTRACED|WNOHANG);
  while (!mark_process_status (pid, status));
}

/* Check for processes that have status information available,
   blocking until all processes in the given job have reported.  */

void
wait_for_job (job *j)
{
  int status;
  pid_t pid;

  do
    pid = waitpid (WAIT_ANY, &amp;status, WUNTRACED);
  while (!mark_process_status (pid, status)
         &amp;&amp; !job_is_stopped (j)
         &amp;&amp; !job_is_completed (j));
}

/* Format information about job status for the user to look at.  */

void
format_job_info (job *j, const char *status)
{
  fprintf (stderr, "%ld (%s): %s\n", (long)j-&gt;pgid, status, j-&gt;command);
}

/* Notify the user about stopped or terminated jobs.
   Delete terminated jobs from the active job list.  */

void
do_job_notification (void)
{
  job *j, *jlast, *jnext;
  process *p;

  /* Update status information for child processes.  */
  update_status ();

  jlast = NULL;
  for (j = first_job; j; j = jnext)
    {
      jnext = j-&gt;next;

      /* If all processes have completed, tell the user the job has
         completed and delete it from the list of active jobs.  */
      if (job_is_completed (j)) {
        format_job_info (j, "completed");
        if (jlast)
          jlast-&gt;next = jnext;
        else
          first_job = jnext;
        free_job (j);
      }

      /* Notify the user about stopped jobs,
         marking them so that we won't do this more than once.  */
      else if (job_is_stopped (j) &amp;&amp; !j-&gt;notified) {
        format_job_info (j, "stopped");
        j-&gt;notified = 1;
        jlast = j;
      }

      /* Don't say anything about jobs that are still running.  */
      else
        jlast = j;
    }
}
</pre>

<p><hr>
Node:<a name="Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>,
Next:<a rel=next accesskey=n href="#Missing%20Pieces">Missing Pieces</a>,
Previous:<a rel=previous accesskey=p href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>Continuing Stopped Jobs</h4>

<p>The shell can continue a stopped job by sending a <code>SIGCONT</code> signal
to its process group.  If the job is being continued in the foreground,
the shell should first invoke <code>tcsetpgrp</code> to give the job access to
the terminal, and restore the saved terminal settings.  After continuing
a job in the foreground, the shell should wait for the job to stop or
complete, as if the job had just been launched in the foreground.

<p>The sample shell program handles both newly created and continued jobs
with the same pair of functions, <code>put_job_in_foreground</code> and
<code>put_job_in_background</code>.  The definitions of these functions
were given in <a href="#Foreground%20and%20Background">Foreground and Background</a>.  When continuing a
stopped job, a nonzero value is passed as the <var>cont</var> argument to
ensure that the <code>SIGCONT</code> signal is sent and the terminal modes
reset, as appropriate.

<p>This leaves only a function for updating the shell's internal bookkeeping
about the job being continued:

<br><pre>/* Mark a stopped job J as being running again.  */

void
mark_job_as_running (job *j)
{
  Process *p;

  for (p = j-&gt;first_process; p; p = p-&gt;next)
    p-&gt;stopped = 0;
  j-&gt;notified = 0;
}

/* Continue the job J.  */

void
continue_job (job *j, int foreground)
{
  mark_job_as_running (j);
  if (foreground)
    put_job_in_foreground (j, 1);
  else
    put_job_in_background (j, 1);
}
</pre>

<p><hr>
Node:<a name="Missing%20Pieces">Missing Pieces</a>,
Previous:<a rel=previous accesskey=p href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>,
Up:<a rel=up accesskey=u href="#Implementing%20a%20Shell">Implementing a Shell</a>
<br>

<h4>The Missing Pieces</h4>

<p>The code extracts for the sample shell included in this chapter are only
a part of the entire shell program.  In particular, nothing at all has
been said about how <code>job</code> and <code>program</code> data structures are
allocated and initialized.

<p>Most real shells provide a complex user interface that has support for
a command language; variables; abbreviations, substitutions, and pattern
matching on file names; and the like.  All of this is far too complicated
to explain here!  Instead, we have concentrated on showing how to
implement the core process creation and job control functions that can
be called from such a shell.

<p>Here is a table summarizing the major entry points we have presented:

<dl>
<dt><code>void init_shell (void)</code>
<dd>Initialize the shell's internal state.  See <a href="#Initializing%20the%20Shell">Initializing the Shell</a>.

<br><dt><code>void launch_job (job *<var>j</var>, int <var>foreground</var>)</code>
<dd>Launch the job <var>j</var> as either a foreground or background job. 
See <a href="#Launching%20Jobs">Launching Jobs</a>.

<br><dt><code>void do_job_notification (void)</code>
<dd>Check for and report any jobs that have terminated or stopped.  Can be
called synchronously or within a handler for <code>SIGCHLD</code> signals. 
See <a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>.

<br><dt><code>void continue_job (job *<var>j</var>, int <var>foreground</var>)</code>
<dd>Continue the job <var>j</var>.  See <a href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>. 
</dl>

<p>Of course, a real shell would also want to provide other functions for
managing jobs.  For example, it would be useful to have commands to list
all active jobs or to send a signal (such as <code>SIGKILL</code>) to a job.

<p><hr>
Node:<a name="Functions%20for%20Job%20Control">Functions for Job Control</a>,
Previous:<a rel=previous accesskey=p href="#Implementing%20a%20Shell">Implementing a Shell</a>,
Up:<a rel=up accesskey=u href="#Job%20Control">Job Control</a>
<br>

<h3>Functions for Job Control</h3>

<p>This section contains detailed descriptions of the functions relating
to job control.

<ul>
<li><a accesskey=1 href="#Identifying%20the%20Terminal">Identifying the Terminal</a>:     Determining the controlling terminal's name. 
<li><a accesskey=2 href="#Process%20Group%20Functions">Process Group Functions</a>:      Functions for manipulating process groups. 
<li><a accesskey=3 href="#Terminal%20Access%20Functions">Terminal Access Functions</a>:    Functions for controlling terminal access. 
</ul>

<p><hr>
Node:<a name="Identifying%20the%20Terminal">Identifying the Terminal</a>,
Next:<a rel=next accesskey=n href="#Process%20Group%20Functions">Process Group Functions</a>,
Up:<a rel=up accesskey=u href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<br>

<h4>Identifying the Controlling Terminal</h4>

<p>You can use the <code>ctermid</code> function to get a file name that you can
use to open the controlling terminal.  In the GNU library, it returns
the same string all the time: <code>"/dev/tty"</code>.  That is a special
"magic" file name that refers to the controlling terminal of the
current process (if it has one).  To find the name of the specific
terminal device, use <code>ttyname</code>; see <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>.

<p>The function <code>ctermid</code> is declared in the header file
<code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>ctermid</b><i> (char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>ctermid</code> function returns a string containing the file name of
the controlling terminal for the current process.  If <var>string</var> is
not a null pointer, it should be an array that can hold at least
<code>L_ctermid</code> characters; the string is returned in this array. 
Otherwise, a pointer to a string in a static area is returned, which
might get overwritten on subsequent calls to this function.

<p>An empty string is returned if the file name cannot be determined for
any reason.  Even if a file name is returned, access to the file it
represents is not guaranteed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>L_ctermid</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that
represents the size of a string large enough to hold the file name
returned by <code>ctermid</code>. 
</td></tr>
</table>

<p>See also the <code>isatty</code> and <code>ttyname</code> functions, in
<a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>.

<p><hr>
Node:<a name="Process%20Group%20Functions">Process Group Functions</a>,
Next:<a rel=next accesskey=n href="#Terminal%20Access%20Functions">Terminal Access Functions</a>,
Previous:<a rel=previous accesskey=p href="#Identifying%20the%20Terminal">Identifying the Terminal</a>,
Up:<a rel=up accesskey=u href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<br>

<h4>Process Group Functions</h4>

<p>Here are descriptions of the functions for manipulating process groups. 
Your program should include the header files <code>sys/types.h</code> and
<code>unistd.h</code> to use these functions.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>setsid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setsid</code> function creates a new session.  The calling process
becomes the session leader, and is put in a new process group whose
process group ID is the same as the process ID of that process.  There
are initially no other processes in the new process group, and no other
process groups in the new session.

<p>This function also makes the calling process have no controlling terminal.

<p>The <code>setsid</code> function returns the new process group ID of the
calling process if successful.  A return value of <code>-1</code> indicates an
error.  The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EPERM</code>
<dd>The calling process is already a process group leader, or there is
already another process group around that has the same process group ID. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>getsid</b><i> (pid_t <var>pid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>getsid</code> function returns the process group ID of the session
leader of the specified process.  If a <var>pid</var> is <code>0</code>, the
process group ID of the session leader of the current process is
returned.

<p>In case of error <code>-1</code> is returned and <code>errno</code> is set.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>ESRCH</code>
<dd>There is no process with the given process ID <var>pid</var>. 
<br><dt><code>EPERM</code>
<dd>The calling process and the process specified by <var>pid</var> are in
different sessions, and the implementation doesn't allow to access the
process group ID of the session leader of the process with ID <var>pid</var>
from the calling process. 
</dl>
</td></tr>
</table>

<p>The <code>getpgrp</code> function has two definitions: one derived from BSD
Unix, and one from the POSIX.1 standard.  The feature test macros you
have selected (see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>) determine which definition
you get.  Specifically, you get the BSD version if you define
<code>_BSD_SOURCE</code>; otherwise, you get the POSIX version if you define
<code>_POSIX_SOURCE</code> or <code>_GNU_SOURCE</code>.  Programs written for old
BSD systems will not include <code>unistd.h</code>, which defines
<code>getpgrp</code> specially under <code>_BSD_SOURCE</code>.  You must link such
programs with the <code>-lbsd-compat</code> option to get the BSD definition.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>getpgrp</b><i> (void)
</i></td>
<td align="right">POSIX.1 Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The POSIX.1 definition of <code>getpgrp</code> returns the process group ID of
the calling process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>getpgrp</b><i> (pid_t <var>pid</var>)
</i></td>
<td align="right">BSD Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The BSD definition of <code>getpgrp</code> returns the process group ID of the
process <var>pid</var>.  You can supply a value of <code>0</code> for the <var>pid</var>
argument to get information about the calling process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpgid</b><i> (pid_t <var>pid</var>)
</i></td>
<td align="right">System V Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>getpgid</code> is the same as the BSD function <code>getpgrp</code>.  It
returns the process group ID of the process <var>pid</var>.  You can supply a
value of <code>0</code> for the <var>pid</var> argument to get information about
the calling process.

<p>In case of error <code>-1</code> is returned and <code>errno</code> is set.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>ESRCH</code>
<dd>There is no process with the given process ID <var>pid</var>. 
The calling process and the process specified by <var>pid</var> are in
different sessions, and the implementation doesn't allow to access the
process group ID of the process with ID <var>pid</var> from the calling
process. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setpgid</b><i> (pid_t <var>pid</var>, pid_t <var>pgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setpgid</code> function puts the process <var>pid</var> into the process
group <var>pgid</var>.  As a special case, either <var>pid</var> or <var>pgid</var> can
be zero to indicate the process ID of the calling process.

<p>This function fails on a system that does not support job control. 
See <a href="#Job%20Control%20is%20Optional">Job Control is Optional</a>, for more information.

<p>If the operation is successful, <code>setpgid</code> returns zero.  Otherwise
it returns <code>-1</code>.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EACCES</code>
<dd>The child process named by <var>pid</var> has executed an <code>exec</code>
function since it was forked.

<br><dt><code>EINVAL</code>
<dd>The value of the <var>pgid</var> is not valid.

<br><dt><code>ENOSYS</code>
<dd>The system doesn't support job control.

<br><dt><code>EPERM</code>
<dd>The process indicated by the <var>pid</var> argument is a session leader,
or is not in the same session as the calling process, or the value of
the <var>pgid</var> argument doesn't match a process group ID in the same
session as the calling process.

<br><dt><code>ESRCH</code>
<dd>The process indicated by the <var>pid</var> argument is not the calling
process or a child of the calling process. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setpgrp</b><i> (pid_t <var>pid</var>, pid_t <var>pgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the BSD Unix name for <code>setpgid</code>.  Both functions do exactly
the same thing. 
</td></tr>
</table>

<p><hr>
Node:<a name="Terminal%20Access%20Functions">Terminal Access Functions</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Group%20Functions">Process Group Functions</a>,
Up:<a rel=up accesskey=u href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<br>

<h4>Functions for Controlling Terminal Access</h4>

<p>These are the functions for reading or setting the foreground
process group of a terminal.  You should include the header files
<code>sys/types.h</code> and <code>unistd.h</code> in your application to use
these functions.

<p>Although these functions take a file descriptor argument to specify
the terminal device, the foreground job is associated with the terminal
file itself and not a particular open file descriptor.

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>tcgetpgrp</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the process group ID of the foreground process
group associated with the terminal open on descriptor <var>filedes</var>.

<p>If there is no foreground process group, the return value is a number
greater than <code>1</code> that does not match the process group ID of any
existing process group.  This can happen if all of the processes in the
job that was formerly the foreground job have terminated, and no other
job has yet been moved into the foreground.

<p>In case of an error, a value of <code>-1</code> is returned.  The
following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOSYS</code>
<dd>The system doesn't support job control.

<br><dt><code>ENOTTY</code>
<dd>The terminal file associated with the <var>filedes</var> argument isn't the
controlling terminal of the calling process. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>tcsetpgrp</b><i> (int <var>filedes</var>, pid_t <var>pgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to set a terminal's foreground process group ID. 
The argument <var>filedes</var> is a descriptor which specifies the terminal;
<var>pgid</var> specifies the process group.  The calling process must be a
member of the same session as <var>pgid</var> and must have the same
controlling terminal.

<p>For terminal access purposes, this function is treated as output.  If it
is called from a background process on its controlling terminal,
normally all processes in the process group are sent a <code>SIGTTOU</code>
signal.  The exception is if the calling process itself is ignoring or
blocking <code>SIGTTOU</code> signals, in which case the operation is
performed and no signal is sent.

<p>If successful, <code>tcsetpgrp</code> returns <code>0</code>.  A return value of
<code>-1</code> indicates an error.  The following <code>errno</code> error
conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The <var>pgid</var> argument is not valid.

<br><dt><code>ENOSYS</code>
<dd>The system doesn't support job control.

<br><dt><code>ENOTTY</code>
<dd>The <var>filedes</var> isn't the controlling terminal of the calling process.

<br><dt><code>EPERM</code>
<dd>The <var>pgid</var> isn't a process group in the same session as the calling
process. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">pid_t <b>tcgetsid</b><i> (int <var>fildes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to obtain the process group ID of the session
for which the terminal specified by <var>fildes</var> is the controlling terminal. 
If the call is successful the group ID is returned.  Otherwise the
return value is <code>(pid_t) -1</code> and the global variable <var>errno</var>
is set to the following value:
<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>ENOTTY</code>
<dd>The calling process does not have a controlling terminal, or the file
is not the controlling terminal. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Name%20Service%20Switch">Name Service Switch</a>,
Next:<a rel=next accesskey=n href="#Users%20and%20Groups">Users and Groups</a>,
Previous:<a rel=previous accesskey=p href="#Job%20Control">Job Control</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>System Databases and Name Service Switch</h2>

<p>Various functions in the C Library need to be configured to work
correctly in the local environment.  Traditionally, this was done by
using files (e.g., <code>/etc/passwd</code>), but other nameservices (like the
Network Information Service (NIS) and the Domain Name Service (DNS))
became popular, and were hacked into the C library, usually with a fixed
search order (see <a href="jargon.html#frobnicate">frobnicate</a>).

<p>The GNU C Library contains a cleaner solution of this problem.  It is
designed after a method used by Sun Microsystems in the C library of
Solaris&nbsp;2.  GNU C Library follows their name and calls this
scheme <dfn>Name Service Switch</dfn> (NSS).

<p>Though the interface might be similar to Sun's version there is no
common code.  We never saw any source code of Sun's implementation and
so the internal interface is incompatible.  This also manifests in the
file names we use as we will see later.

<ul>
<li><a accesskey=1 href="#NSS%20Basics">NSS Basics</a>:                   What is this NSS good for. 
<li><a accesskey=2 href="#NSS%20Configuration%20File">NSS Configuration File</a>:       Configuring NSS. 
<li><a accesskey=3 href="#NSS%20Module%20Internals">NSS Module Internals</a>:         How does it work internally. 
<li><a accesskey=4 href="#Extending%20NSS">Extending NSS</a>:                What to do to add services or databases. 
</ul>

<p><hr>
Node:<a name="NSS%20Basics">NSS Basics</a>,
Next:<a rel=next accesskey=n href="#NSS%20Configuration%20File">NSS Configuration File</a>,
Previous:<a rel=previous accesskey=p href="#Name%20Service%20Switch">Name Service Switch</a>,
Up:<a rel=up accesskey=u href="#Name%20Service%20Switch">Name Service Switch</a>
<br>

<h3>NSS Basics</h3>

<p>The basic idea is to put the implementation of the different services
offered to access the databases in separate modules.  This has some
advantages:

<ol type=1 start=1>
</p><li>Contributors can add new services without adding them to GNU C Library. 
<li>The modules can be updated separately. 
<li>The C library image is smaller.
</ol>

<p>To fulfill the first goal above the ABI of the modules will be described
below.  For getting the implementation of a new service right it is
important to understand how the functions in the modules get called. 
They are in no way designed to be used by the programmer directly. 
Instead the programmer should only use the documented and standardized
functions to access the databases.

<p>The databases available in the NSS are

<dl>
<dt><code>aliases</code>
<dd>Mail aliases
<br><dt><code>ethers</code>
<dd>Ethernet numbers,
<br><dt><code>group</code>
<dd>Groups of users, see <a href="#Group%20Database">Group Database</a>. 
<br><dt><code>hosts</code>
<dd>Host names and numbers, see <a href="#Host%20Names">Host Names</a>. 
<br><dt><code>netgroup</code>
<dd>Network wide list of host and users, see <a href="#Netgroup%20Database">Netgroup Database</a>. 
<br><dt><code>networks</code>
<dd>Network names and numbers, see <a href="#Networks%20Database">Networks Database</a>. 
<br><dt><code>protocols</code>
<dd>Network protocols, see <a href="#Protocols%20Database">Protocols Database</a>. 
<br><dt><code>passwd</code>
<dd>User passwords, see <a href="#User%20Database">User Database</a>. 
<br><dt><code>rpc</code>
<dd>Remote procedure call names and numbers,
<br><dt><code>services</code>
<dd>Network services, see <a href="#Services%20Database">Services Database</a>. 
<br><dt><code>shadow</code>
<dd>Shadow user passwords,
</dl>

<p>There will be some more added later (<code>automount</code>, <code>bootparams</code>,
<code>netmasks</code>, and <code>publickey</code>).

<p><hr>
Node:<a name="NSS%20Configuration%20File">NSS Configuration File</a>,
Next:<a rel=next accesskey=n href="#NSS%20Module%20Internals">NSS Module Internals</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Basics">NSS Basics</a>,
Up:<a rel=up accesskey=u href="#Name%20Service%20Switch">Name Service Switch</a>
<br>

<h3>The NSS Configuration File</h3>

<p>Somehow the NSS code must be told about the wishes of the user.  For
this reason there is the file <code>/etc/nsswitch.conf</code>.  For each
database this file contain a specification how the lookup process should
work.  The file could look like this:

<br><pre>

# /etc/nsswitch.conf
#
# Name Service Switch configuration file.
#

passwd:     db files nis
shadow:     files
group:      db files nis

hosts:      files nisplus nis dns
networks:   nisplus [NOTFOUND=return] files

ethers:     nisplus [NOTFOUND=return] db files
protocols:  nisplus [NOTFOUND=return] db files
rpc:        nisplus [NOTFOUND=return] db files
services:   nisplus [NOTFOUND=return] db files
</pre>

<p>The first column is the database as you can guess from the table above. 
The rest of the line specifies how the lookup process works.  Please
note that you specify the way it works for each database individually. 
This cannot be done with the old way of a monolithic implementation.

<p>The configuration specification for each database can contain two
different items:

<ul>
<li>the service specification like <code>files</code>, <code>db</code>, or <code>nis</code>. 
<li>the reaction on lookup result like <code>[NOTFOUND=return]</code>. 
</ul>

<ul>
<li><a accesskey=1 href="#Services%20in%20the%20NSS%20configuration">Services in the NSS configuration</a>:   Service names in the NSS configuration. 
<li><a accesskey=2 href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>:   React appropriately to the lookup result. 
<li><a accesskey=3 href="#Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>:   Things to take care about while
                                     configuring NSS. 
</ul>

<p><hr>
Node:<a name="Services%20in%20the%20NSS%20configuration">Services in the NSS configuration</a>,
Next:<a rel=next accesskey=n href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Configuration%20File">NSS Configuration File</a>,
Up:<a rel=up accesskey=u href="#NSS%20Configuration%20File">NSS Configuration File</a>
<br>

<h4>Services in the NSS configuration File</h4>

<p>The above example file mentions four different services: <code>files</code>,
<code>db</code>, <code>nis</code>, and <code>nisplus</code>.  This does not mean these
services are available on all sites and it does also not mean these are
all the services which will ever be available.

<p>In fact, these names are simply strings which the NSS code uses to find
the implicitly addressed functions.  The internal interface will be
described later.  Visible to the user are the modules which implement an
individual service.

<p>Assume the service <var>name</var> shall be used for a lookup.  The code for
this service is implemented in a module called <code>libnss_<var>name</var></code>. 
On a system supporting shared libraries this is in fact a shared library
with the name (for example) <code>libnss_<var>name</var>.so.2</code>.  The number
at the end is the currently used version of the interface which will not
change frequently.  Normally the user should not have to be cognizant of
these files since they should be placed in a directory where they are
found automatically.  Only the names of all available services are
important.

<p><hr>
Node:<a name="Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>,
Next:<a rel=next accesskey=n href="#Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>,
Previous:<a rel=previous accesskey=p href="#Services%20in%20the%20NSS%20configuration">Services in the NSS configuration</a>,
Up:<a rel=up accesskey=u href="#NSS%20Configuration%20File">NSS Configuration File</a>
<br>

<h4>Actions in the NSS configuration</h4>

<p>The second item in the specification gives the user much finer control
on the lookup process.  Action items are placed between two service
names and are written within brackets.  The general form is

<br><pre><code>[</code> ( <code>!</code>? <var>status</var> <code>=</code> <var>action</var> )+ <code>]</code>
</pre>

<p>where

<br><pre><var>status</var> =&gt; success | notfound | unavail | tryagain
<var>action</var> =&gt; return | continue
</pre>

<p>The case of the keywords is insignificant.  The <var>status</var>
values are the results of a call to a lookup function of a specific
service.  They mean

<dl>
<dt><code>success</code>
<dd>No error occurred and the wanted entry is returned.  The default action
for this is <code>return</code>.

<br><dt><code>notfound</code>
<dd>The lookup process works ok but the needed value was not found.  The
default action is <code>continue</code>.

<br><dt><code>unavail</code>
<dd>The service is permanently unavailable.  This can either mean the needed
file is not available, or, for DNS, the server is not available or does
not allow queries.  The default action is <code>continue</code>.

<br><dt><code>tryagain</code>
<dd>The service is temporarily unavailable.  This could mean a file is
locked or a server currently cannot accept more connections.  The
default action is <code>continue</code>. 
</dl>

<p>If we have a line like

<br><pre>ethers: nisplus [NOTFOUND=return] db files
</pre>

<p>this is equivalent to

<br><pre>ethers: nisplus [SUCCESS=return NOTFOUND=return UNAVAIL=continue
                 TRYAGAIN=continue]
        db      [SUCCESS=return NOTFOUND=continue UNAVAIL=continue
                 TRYAGAIN=continue]
        files
</pre>

<p>(except that it would have to be written on one line).  The default
value for the actions are normally what you want, and only need to be
changed in exceptional cases.

<p>If the optional <code>!</code> is placed before the <var>status</var> this means
the following action is used for all statuses but <var>status</var> itself. 
I.e., <code>!</code> is negation as in the C language (and others).

<p>Before we explain the exception which makes this action item necessary
one more remark: obviously it makes no sense to add another action
item after the <code>files</code> service.  Since there is no other service
following the action <em>always</em> is <code>return</code>.

<p>Now, why is this <code>[NOTFOUND=return]</code> action useful?  To understand
this we should know that the <code>nisplus</code> service is often
complete; i.e., if an entry is not available in the NIS+ tables it is
not available anywhere else.  This is what is expressed by this action
item: it is useless to examine further services since they will not give
us a result.

<p>The situation would be different if the NIS+ service is not available
because the machine is booting.  In this case the return value of the
lookup function is not <code>notfound</code> but instead <code>unavail</code>.  And
as you can see in the complete form above: in this situation the
<code>db</code> and <code>files</code> services are used.  Neat, isn't it?  The
system administrator need not pay special care for the time the system
is not completely ready to work (while booting or shutdown or
network problems).

<p><hr>
Node:<a name="Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>,
Previous:<a rel=previous accesskey=p href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>,
Up:<a rel=up accesskey=u href="#NSS%20Configuration%20File">NSS Configuration File</a>
<br>

<h4>Notes on the NSS Configuration File</h4>

<p>Finally a few more hints.  The NSS implementation is not completely
helpless if <code>/etc/nsswitch.conf</code> does not exist.  For
all supported databases there is a default value so it should normally
be possible to get the system running even if the file is corrupted or
missing.

<p>For the <code>hosts</code> and <code>networks</code> databases the default value is
<code>dns [!UNAVAIL=return] files</code>.  I.e., the system is prepared for
the DNS service not to be available but if it is available the answer it
returns is definitive.

<p>The <code>passwd</code>, <code>group</code>, and <code>shadow</code> databases are
traditionally handled in a special way.  The appropriate files in the
<code>/etc</code> directory are read but if an entry with a name starting
with a <code>+</code> character is found NIS is used.  This kind of lookup
remains possible by using the special lookup service <code>compat</code>
and the default value for the three databases above is
<code>compat [NOTFOUND=return] files</code>.

<p>For all other databases the default value is
<code>nis [NOTFOUND=return] files</code>.  This solution give the best
chance to be correct since NIS and file based lookup is used.

<p>A second point is that the user should try to optimize the lookup
process.  The different service have different response times. 
A simple file look up on a local file could be fast, but if the file
is long and the needed entry is near the end of the file this may take
quite some time.  In this case it might be better to use the <code>db</code>
service which allows fast local access to large data sets.

<p>Often the situation is that some global information like NIS must be
used.  So it is unavoidable to use service entries like <code>nis</code> etc. 
But one should avoid slow services like this if possible.

<p><hr>
Node:<a name="NSS%20Module%20Internals">NSS Module Internals</a>,
Next:<a rel=next accesskey=n href="#Extending%20NSS">Extending NSS</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Configuration%20File">NSS Configuration File</a>,
Up:<a rel=up accesskey=u href="#Name%20Service%20Switch">Name Service Switch</a>
<br>

<h3>NSS Module Internals</h3>

<p>Now it is time to describe what the modules look like.  The functions
contained in a module are identified by their names.  I.e., there is no
jump table or the like.  How this is done is of no interest here; those
interested in this topic should read about Dynamic Linking.

<ul>
<li><a accesskey=1 href="#NSS%20Module%20Names">NSS Module Names</a>:             Construction of the interface function of
                                the NSS modules. 
<li><a accesskey=2 href="#NSS%20Modules%20Interface">NSS Modules Interface</a>:        Programming interface in the NSS module
                                functions. 
</ul>

<p><hr>
Node:<a name="NSS%20Module%20Names">NSS Module Names</a>,
Next:<a rel=next accesskey=n href="#NSS%20Modules%20Interface">NSS Modules Interface</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Module%20Internals">NSS Module Internals</a>,
Up:<a rel=up accesskey=u href="#NSS%20Module%20Internals">NSS Module Internals</a>
<br>

<h4>The Naming Scheme of the NSS Modules</h4>

<p>The name of each function consist of various parts:

<blockquote>
       _nss_<var>service</var>_<var>function</var>
</blockquote>

<p><var>service</var> of course corresponds to the name of the module this
function is found in.<a rel=footnote href="#fn-3"><sup>3</sup></a>  The <var>function</var> part is derived
from the interface function in the C library itself.  If the user calls
the function <code>gethostbyname</code> and the service used is <code>files</code>
the function

<br><pre>       _nss_files_gethostbyname_r
</pre>

<p>in the module

<br><pre>       libnss_files.so.2
</pre>

<p>is used.  You see, what is explained above in not the whole truth.  In
fact the NSS modules only contain reentrant versions of the lookup
functions.  I.e., if the user would call the <code>gethostbyname_r</code>
function this also would end in the above function.  For all user
interface functions the C library maps this call to a call to the
reentrant function.  For reentrant functions this is trivial since the
interface is (nearly) the same.  For the non-reentrant version The
library keeps internal buffers which are used to replace the user
supplied buffer.

<p>I.e., the reentrant functions <em>can</em> have counterparts.  No service
module is forced to have functions for all databases and all kinds to
access them.  If a function is not available it is simply treated as if
the function would return <code>unavail</code>
(see <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>).

<p>The file name <code>libnss_files.so.2</code> would be on a Solaris&nbsp;2
system <code>nss_files.so.2</code>.  This is the difference mentioned above. 
Sun's NSS modules are usable as modules which get indirectly loaded
only.

<p>The NSS modules in the GNU C Library are prepared to be used as normal
libraries themselves.  This is <em>not</em> true at the moment, though. 
However,  the organization of the name space in the modules does not make it
impossible like it is for Solaris.  Now you can see why the modules are
still libraries.<a rel=footnote href="#fn-4"><sup>4</sup></a>

<p><hr>
Node:<a name="NSS%20Modules%20Interface">NSS Modules Interface</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Module%20Names">NSS Module Names</a>,
Up:<a rel=up accesskey=u href="#NSS%20Module%20Internals">NSS Module Internals</a>
<br>

<h4>The Interface of the Function in NSS Modules</h4>

<p>Now we know about the functions contained in the modules.  It is now
time to describe the types.  When we mentioned the reentrant versions of
the functions above, this means there are some additional arguments
(compared with the standard, non-reentrant version).  The prototypes for
the non-reentrant and reentrant versions of our function above are:

<br><pre>struct hostent *gethostbyname (const char *name)

int gethostbyname_r (const char *name, struct hostent *result_buf,
                     char *buf, size_t buflen, struct hostent **result,
                     int *h_errnop)
</pre>

<p>The actual prototype of the function in the NSS modules in this case is

<br><pre>enum nss_status _nss_files_gethostbyname_r (const char *name,
                                            struct hostent *result_buf,
                                            char *buf, size_t buflen,
                                            int *errnop, int *h_errnop)
</pre>

<p>I.e., the interface function is in fact the reentrant function with the
change of the return value and the omission of the <var>result</var>
parameter.  While the user-level function returns a pointer to the
result the reentrant function return an <code>enum nss_status</code> value:

<dl>
<dt><code>NSS_STATUS_TRYAGAIN</code>
<dd>numeric value <code>-2</code>

<br><dt><code>NSS_STATUS_UNAVAIL</code>
<dd>numeric value <code>-1</code>

<br><dt><code>NSS_STATUS_NOTFOUND</code>
<dd>numeric value <code>0</code>

<br><dt><code>NSS_STATUS_SUCCESS</code>
<dd>numeric value <code>1</code>
</dl>

<p>Now you see where the action items of the <code>/etc/nsswitch.conf</code> file
are used.

<p>If you study the source code you will find there is a fifth value:
<code>NSS_STATUS_RETURN</code>.  This is an internal use only value, used by a
few functions in places where none of the above value can be used.  If
necessary the source code should be examined to learn about the details.

<p>In case the interface function has to return an error it is important
that the correct error code is stored in <code>*<var>errnop</var></code>.  Some
return status value have only one associated error code, others have
more.

<p><table><tr align="left"><td valign="top"><code>NSS_STATUS_TRYAGAIN</code> </td><td valign="top">
        <code>EAGAIN</code> </td><td valign="top">One of the functions used ran temporarily out of
resources or a service is currently not available. 
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top">
        <code>ERANGE</code> </td><td valign="top">The provided buffer is not large enough. 
The function should be called again with a larger buffer. 
<br></td></tr><tr align="left"><td valign="top"><code>NSS_STATUS_UNAVAIL</code> </td><td valign="top">
        <code>ENOENT</code> </td><td valign="top">A necessary input file cannot be found. 
<br></td></tr><tr align="left"><td valign="top"><code>NSS_STATUS_NOTFOUND</code> </td><td valign="top">
        <code>ENOENT</code> </td><td valign="top">The requested entry is not available.
<br></td></tr></table>

<p>These are proposed values.  There can be other error codes and the
described error codes can have different meaning.  <strong>With one
exception:</strong> when returning <code>NSS_STATUS_TRYAGAIN</code> the error code
<code>ERANGE</code> <em>must</em> mean that the user provided buffer is too
small.  Everything is non-critical.

<p>The above function has something special which is missing for almost all
the other module functions.  There is an argument <var>h_errnop</var>.  This
points to a variable which will be filled with the error code in case
the execution of the function fails for some reason.  The reentrant
function cannot use the global variable <var>h_errno</var>;
<code>gethostbyname</code> calls <code>gethostbyname_r</code> with the last argument
set to <code>&amp;h_errno</code>.

<p>The <code>get<var>XXX</var>by<var>YYY</var></code> functions are the most important
functions in the NSS modules.  But there are others which implement
the other ways to access system databases (say for the
password database, there are <code>setpwent</code>, <code>getpwent</code>, and
<code>endpwent</code>).  These will be described in more detail later. 
Here we give a general way to determine the
signature of the module function:

<ul>
<li>the return value is <code>int</code>;
<li>the name is as explained in see <a href="#NSS%20Module%20Names">NSS Module Names</a>;
<li>the first arguments are identical to the arguments of the non-reentrant
function;
<li>the next three arguments are:

<dl>
<dt><code>STRUCT_TYPE *result_buf</code>
<dd>pointer to buffer where the result is stored.  <code>STRUCT_TYPE</code> is
normally a struct which corresponds to the database. 
<br><dt><code>char *buffer</code>
<dd>pointer to a buffer where the function can store additional data for
the result etc. 
<br><dt><code>size_t buflen</code>
<dd>length of the buffer pointed to by <var>buffer</var>. 
</dl>

<li>possibly a last argument <var>h_errnop</var>, for the host name and network
name lookup functions. 
</ul>

<p>This table is correct for all functions but the <code>set<small>...</small>ent</code>
and <code>end<small>...</small>ent</code> functions.

<p><hr>
Node:<a name="Extending%20NSS">Extending NSS</a>,
Previous:<a rel=previous accesskey=p href="#NSS%20Module%20Internals">NSS Module Internals</a>,
Up:<a rel=up accesskey=u href="#Name%20Service%20Switch">Name Service Switch</a>
<br>

<h3>Extending NSS</h3>

<p>One of the advantages of NSS mentioned above is that it can be extended
quite easily.  There are two ways in which the extension can happen:
adding another database or adding another service.  The former is
normally done only by the C library developers.  It is
here only important to remember that adding another database is
independent from adding another service because a service need not
support all databases or lookup functions.

<p>A designer/implementor of a new service is therefore free to choose the
databases s/he is interested in and leave the rest for later (or
completely aside).

<ul>
<li><a accesskey=1 href="#Adding%20another%20Service%20to%20NSS">Adding another Service to NSS</a>:   What is to do to add a new service. 
<li><a accesskey=2 href="#NSS%20Module%20Function%20Internals">NSS Module Function Internals</a>:   Guidelines for writing new NSS
                                        service functions. 
</ul>

<p><hr>
Node:<a name="Adding%20another%20Service%20to%20NSS">Adding another Service to NSS</a>,
Next:<a rel=next accesskey=n href="#NSS%20Module%20Function%20Internals">NSS Module Function Internals</a>,
Previous:<a rel=previous accesskey=p href="#Extending%20NSS">Extending NSS</a>,
Up:<a rel=up accesskey=u href="#Extending%20NSS">Extending NSS</a>
<br>

<h4>Adding another Service to NSS</h4>

<p>The sources for a new service need not (and should not) be part of the
GNU C Library itself.  The developer retains complete control over the
sources and its development.  The links between the C library and the
new service module consists solely of the interface functions.

<p>Each module is designed following a specific interface specification. 
For now the version is 2 (the interface in version 1 was not adequate)
and this manifests in the version number of the shared library object of
the NSS modules: they have the extension <code>.2</code>.  If the interface
changes again in an incompatible way, this number will be increased. 
Modules using the old interface will still be usable.

<p>Developers of a new service will have to make sure that their module is
created using the correct interface number.  This means the file itself
must have the correct name and on ELF systems the <dfn>soname</dfn> (Shared
Object Name) must also have this number.  Building a module from a bunch
of object files on an ELF system using GNU CC could be done like this:

<br><pre>gcc -shared -o libnss_NAME.so.2 -Wl,-soname,libnss_NAME.so.2 OBJECTS
</pre>

<a href="gcc.html#Link%20Options">Options for Linking</a>, to learn
more about this command line.

<p>To use the new module the library must be able to find it.  This can be
achieved by using options for the dynamic linker so that it will search
the directory where the binary is placed.  For an ELF system this could be
done by adding the wanted directory to the value of
<code>LD_LIBRARY_PATH</code>.

<p>But this is not always possible since some programs (those which run
under IDs which do not belong to the user) ignore this variable. 
Therefore the stable version of the module should be placed into a
directory which is searched by the dynamic linker.  Normally this should
be the directory <code>$prefix/lib</code>, where <code>$prefix</code> corresponds to
the value given to configure using the <code>--prefix</code> option.  But be
careful: this should only be done if it is clear the module does not
cause any harm.  System administrators should be careful.

<p><hr>
Node:<a name="NSS%20Module%20Function%20Internals">NSS Module Function Internals</a>,
Previous:<a rel=previous accesskey=p href="#Adding%20another%20Service%20to%20NSS">Adding another Service to NSS</a>,
Up:<a rel=up accesskey=u href="#Extending%20NSS">Extending NSS</a>
<br>

<h4>Internals of the NSS Module Functions</h4>

<p>Until now we only provided the syntactic interface for the functions in
the NSS module.  In fact there is not much more we can say since the
implementation obviously is different for each function.  But a few
general rules must be followed by all functions.

<p>In fact there are four kinds of different functions which may appear in
the interface.  All derive from the traditional ones for system databases. 
<var>db</var> in the following table is normally an abbreviation for the
database (e.g., it is <code>pw</code> for the password database).

<dl>
<dt><code>enum nss_status _nss_<var>database</var>_set<var>db</var>ent (void)</code>
<dd>This function prepares the service for following operations.  For a
simple file based lookup this means files could be opened, for other
services this function simply is a noop.

<p>One special case for this function is that it takes an additional
argument for some <var>database</var>s (i.e., the interface is
<code>int set<var>db</var>ent (int)</code>).  <a href="#Host%20Names">Host Names</a>, which describes the
<code>sethostent</code> function.

<p>The return value should be <var>NSS_STATUS_SUCCESS</var> or according to the
table above in case of an error (see <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>).

<br><dt><code>enum nss_status _nss_<var>database</var>_end<var>db</var>ent (void)</code>
<dd>This function simply closes all files which are still open or removes
buffer caches.  If there are no files or buffers to remove this is again
a simple noop.

<p>There normally is no return value different to <var>NSS_STATUS_SUCCESS</var>.

<br><dt><code>enum nss_status _nss_<var>database</var>_get<var>db</var>ent_r (<var>STRUCTURE</var> *result, char *buffer, size_t buflen, int *errnop)</code>
<dd>Since this function will be called several times in a row to retrieve
one entry after the other it must keep some kind of state.  But this
also means the functions are not really reentrant.  They are reentrant
only in that simultaneous calls to this function will not try to
write the retrieved data in the same place (as it would be the case for
the non-reentrant functions); instead, it writes to the structure
pointed to by the <var>result</var> parameter.  But the calls share a common
state and in the case of a file access this means they return neighboring
entries in the file.

<p>The buffer of length <var>buflen</var> pointed to by <var>buffer</var> can be used
for storing some additional data for the result.  It is <em>not</em>
guaranteed that the same buffer will be passed for the next call of this
function.  Therefore one must not misuse this buffer to save some state
information from one call to another.

<p>Before the function returns the implementation should store the value of
the local <var>errno</var> variable in the variable pointed to be
<var>errnop</var>.  This is important to guarantee the module working in
statically linked programs.

<p>As explained above this function could also have an additional last
argument.  This depends on the database used; it happens only for
<code>host</code> and <code>networks</code>.

<p>The function shall return <code>NSS_STATUS_SUCCESS</code> as long as there are
more entries.  When the last entry was read it should return
<code>NSS_STATUS_NOTFOUND</code>.  When the buffer given as an argument is too
small for the data to be returned <code>NSS_STATUS_TRYAGAIN</code> should be
returned.  When the service was not formerly initialized by a call to
<code>_nss_<var>DATABASE</var>_set<var>db</var>ent</code> all return value allowed for
this function can also be returned here.

<br><dt><code>enum nss_status _nss_<var>DATABASE</var>_get<var>db</var>by<var>XX</var>_r (<var>PARAMS</var>, <var>STRUCTURE</var> *result, char *buffer, size_t buflen, int *errnop)</code>
<dd>This function shall return the entry from the database which is
addressed by the <var>PARAMS</var>.  The type and number of these arguments
vary.  It must be individually determined by looking to the user-level
interface functions.  All arguments given to the non-reentrant version
are here described by <var>PARAMS</var>.

<p>The result must be stored in the structure pointed to by <var>result</var>. 
If there is additional data to return (say strings, where the
<var>result</var> structure only contains pointers) the function must use the
<var>buffer</var> or length <var>buflen</var>.  There must not be any references
to non-constant global data.

<p>The implementation of this function should honor the <var>stayopen</var>
flag set by the <code>set<var>DB</var>ent</code> function whenever this makes sense.

<p>Before the function returns the implementation should store the value of
the local <var>errno</var> variable in the variable pointed to be
<var>errnop</var>.  This is important to guarantee the module working in
statically linked programs.

<p>Again, this function takes an additional last argument for the
<code>host</code> and <code>networks</code> database.

<p>The return value should as always follow the rules given above
(see <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>).

</dl>

<p><hr>
Node:<a name="Users%20and%20Groups">Users and Groups</a>,
Next:<a rel=next accesskey=n href="#System%20Management">System Management</a>,
Previous:<a rel=previous accesskey=p href="#Name%20Service%20Switch">Name Service Switch</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Users and Groups</h2>

<p>Every user who can log in on the system is identified by a unique number
called the <dfn>user ID</dfn>.  Each process has an effective user ID which
says which user's access permissions it has.

<p>Users are classified into <dfn>groups</dfn> for access control purposes.  Each
process has one or more <dfn>group ID values</dfn> which say which groups the
process can use for access to files.

<p>The effective user and group IDs of a process collectively form its
<dfn>persona</dfn>.  This determines which files the process can access. 
Normally, a process inherits its persona from the parent process, but
under special circumstances a process can change its persona and thus
change its access permissions.

<p>Each file in the system also has a user ID and a group ID.  Access
control works by comparing the user and group IDs of the file with those
of the running process.

<p>The system keeps a database of all the registered users, and another
database of all the defined groups.  There are library functions you
can use to examine these databases.

<ul>
<li><a accesskey=1 href="#User%20and%20Group%20IDs">User and Group IDs</a>:           Each user has a unique numeric ID;
				 likewise for groups. 
<li><a accesskey=2 href="#Process%20Persona">Process Persona</a>:              The user IDs and group IDs of a process. 
<li><a accesskey=3 href="#Why%20Change%20Persona">Why Change Persona</a>:           Why a program might need to change
				 its user and/or group IDs. 
<li><a accesskey=4 href="#How%20Change%20Persona">How Change Persona</a>:           Changing the user and group IDs. 
<li><a accesskey=5 href="#Reading%20Persona">Reading Persona</a>:              How to examine the user and group IDs.

<p>
</p><li><a accesskey=6 href="#Setting%20User%20ID">Setting User ID</a>:              Functions for setting the user ID. 
<li><a accesskey=7 href="#Setting%20Groups">Setting Groups</a>:               Functions for setting the group IDs.

<p>
</p><li><a accesskey=8 href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>:        Turning setuid access on and off. 
<li><a accesskey=9 href="#Setuid%20Program%20Example">Setuid Program Example</a>:       The pertinent parts of one sample program. 
<li><a href="#Tips%20for%20Setuid">Tips for Setuid</a>:              How to avoid granting unlimited access.

<p>
</p><li><a href="#Who%20Logged%20In">Who Logged In</a>:                Getting the name of the user who logged in,
				 or of the real user ID of the current process.

<p>
</p><li><a href="#User%20Accounting%20Database">User Accounting Database</a>:     Keeping information about users and various
                                 actions in databases.

<p>
</p><li><a href="#User%20Database">User Database</a>:                Functions and data structures for
                        	 accessing the user database. 
<li><a href="#Group%20Database">Group Database</a>:               Functions and data structures for
                        	 accessing the group database. 
<li><a href="#Database%20Example">Database Example</a>:             Example program showing the use of database
				 inquiry functions. 
<li><a href="#Netgroup%20Database">Netgroup Database</a>:            Functions for accessing the netgroup database. 
</ul>

<p><hr>
Node:<a name="User%20and%20Group%20IDs">User and Group IDs</a>,
Next:<a rel=next accesskey=n href="#Process%20Persona">Process Persona</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>User and Group IDs</h3>

<p>Each user account on a computer system is identified by a <dfn>user
name</dfn> (or <dfn>login name</dfn>) and <dfn>user ID</dfn>.  Normally, each user name
has a unique user ID, but it is possible for several login names to have
the same user ID.  The user names and corresponding user IDs are stored
in a data base which you can access as described in <a href="#User%20Database">User Database</a>.

<p>Users are classified in <dfn>groups</dfn>.  Each user name belongs to one
<dfn>default group</dfn> and may also belong to any number of
<dfn>supplementary groups</dfn>. Users who are members of the same group can
share resources (such as files) that are not accessible to users who are
not a member of that group.  Each group has a <dfn>group name</dfn> and
<dfn>group ID</dfn>.  See <a href="#Group%20Database">Group Database</a>, for how to find information
about a group ID or group name.

<p><hr>
Node:<a name="Process%20Persona">Process Persona</a>,
Next:<a rel=next accesskey=n href="#Why%20Change%20Persona">Why Change Persona</a>,
Previous:<a rel=previous accesskey=p href="#User%20and%20Group%20IDs">User and Group IDs</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>The Persona of a Process</h3>

<p>At any time, each process has an <dfn>effective user ID</dfn>, a <dfn>effective
group ID</dfn>, and a set of <dfn>supplementary group IDs</dfn>.  These IDs
determine the privileges of the process.  They are collectively
called the <dfn>persona</dfn> of the process, because they determine "who it
is" for purposes of access control.

<p>Your login shell starts out with a persona which consists of your user
ID, your default group ID, and your supplementary group IDs (if you are
in more than one group).  In normal circumstances, all your other processes
inherit these values.

<p>A process also has a <dfn>real user ID</dfn> which identifies the user who
created the process, and a <dfn>real group ID</dfn> which identifies that
user's default group.  These values do not play a role in access
control, so we do not consider them part of the persona.  But they are
also important.

<p>Both the real and effective user ID can be changed during the lifetime
of a process.  See <a href="#Why%20Change%20Persona">Why Change Persona</a>.

<p>For details on how a process's effective user ID and group IDs affect
its permission to access files, see <a href="#Access%20Permission">Access Permission</a>.

<p>The effective user ID of a process also controls permissions for sending
signals using the <code>kill</code> function.  See <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<p>Finally, there are many operations which can only be performed by a
process whose effective user ID is zero.  A process with this user ID is
a <dfn>privileged process</dfn>.  Commonly the user name <code>root</code> is
associated with user ID 0, but there may be other user names with this
ID.

<p><hr>
Node:<a name="Why%20Change%20Persona">Why Change Persona</a>,
Next:<a rel=next accesskey=n href="#How%20Change%20Persona">How Change Persona</a>,
Previous:<a rel=previous accesskey=p href="#Process%20Persona">Process Persona</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Why Change the Persona of a Process?</h3>

<p>The most obvious situation where it is necessary for a process to change
its user and/or group IDs is the <code>login</code> program.  When
<code>login</code> starts running, its user ID is <code>root</code>.  Its job is to
start a shell whose user and group IDs are those of the user who is
logging in.  (To accomplish this fully, <code>login</code> must set the real
user and group IDs as well as its persona.  But this is a special case.)

<p>The more common case of changing persona is when an ordinary user
program needs access to a resource that wouldn't ordinarily be
accessible to the user actually running it.

<p>For example, you may have a file that is controlled by your program but
that shouldn't be read or modified directly by other users, either
because it implements some kind of locking protocol, or because you want
to preserve the integrity or privacy of the information it contains. 
This kind of restricted access can be implemented by having the program
change its effective user or group ID to match that of the resource.

<p>Thus, imagine a game program that saves scores in a file.  The game
program itself needs to be able to update this file no matter who is
running it, but if users can write the file without going through the
game, they can give themselves any scores they like.  Some people
consider this undesirable, or even reprehensible.  It can be prevented
by creating a new user ID and login name (say, <code>games</code>) to own the
scores file, and make the file writable only by this user.  Then, when
the game program wants to update this file, it can change its effective
user ID to be that for <code>games</code>.  In effect, the program must
adopt the persona of <code>games</code> so it can write the scores file.

<p><hr>
Node:<a name="How%20Change%20Persona">How Change Persona</a>,
Next:<a rel=next accesskey=n href="#Reading%20Persona">Reading Persona</a>,
Previous:<a rel=previous accesskey=p href="#Why%20Change%20Persona">Why Change Persona</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>How an Application Can Change Persona</h3>

<p>The ability to change the persona of a process can be a source of
unintentional privacy violations, or even intentional abuse.  Because of
the potential for problems, changing persona is restricted to special
circumstances.

<p>You can't arbitrarily set your user ID or group ID to anything you want;
only privileged processes can do that.  Instead, the normal way for a
program to change its persona is that it has been set up in advance to
change to a particular user or group.  This is the function of the setuid
and setgid bits of a file's access mode.  See <a href="#Permission%20Bits">Permission Bits</a>.

<p>When the setuid bit of an executable file is on, executing that file
gives the process a third user ID: the <dfn>file user ID</dfn>.  This ID is
set to the owner ID of the file.  The system then changes the effective
user ID to the file user ID.  The real user ID remains as it was. 
Likewise, if the setgid bit is on, the process is given a <dfn>file
group ID</dfn> equal to the group ID of the file, and its effective group ID
is changed to the file group ID.

<p>If a process has a file ID (user or group), then it can at any time
change its effective ID to its real ID and back to its file ID. 
Programs use this feature to relinquish their special privileges except
when they actually need them.  This makes it less likely that they can
be tricked into doing something inappropriate with their privileges.

<p><strong>Portability Note:</strong> Older systems do not have file IDs. 
To determine if a system has this feature, you can test the compiler
define <code>_POSIX_SAVED_IDS</code>.  (In the POSIX standard, file IDs are
known as saved IDs.)

<p>See <a href="#File%20Attributes">File Attributes</a>, for a more general discussion of file modes and
accessibility.

<p><hr>
Node:<a name="Reading%20Persona">Reading Persona</a>,
Next:<a rel=next accesskey=n href="#Setting%20User%20ID">Setting User ID</a>,
Previous:<a rel=previous accesskey=p href="#How%20Change%20Persona">How Change Persona</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Reading the Persona of a Process</h3>

<p>Here are detailed descriptions of the functions for reading the user and
group IDs of a process, both real and effective.  To use these
facilities, you must include the header files <code>sys/types.h</code> and
<code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>uid_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer data type used to represent user IDs.  In the GNU
library, this is an alias for <code>unsigned int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>gid_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an integer data type used to represent group IDs.  In the GNU
library, this is an alias for <code>unsigned int</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uid_t <b>getuid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getuid</code> function returns the real user ID of the process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">gid_t <b>getgid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getgid</code> function returns the real group ID of the process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">uid_t <b>geteuid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>geteuid</code> function returns the effective user ID of the process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">gid_t <b>getegid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getegid</code> function returns the effective group ID of the process. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getgroups</b><i> (int <var>count</var>, gid_t *<var>groups</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getgroups</code> function is used to inquire about the supplementary
group IDs of the process.  Up to <var>count</var> of these group IDs are
stored in the array <var>groups</var>; the return value from the function is
the number of group IDs actually stored.  If <var>count</var> is smaller than
the total number of supplementary group IDs, then <code>getgroups</code>
returns a value of <code>-1</code> and <code>errno</code> is set to <code>EINVAL</code>.

<p>If <var>count</var> is zero, then <code>getgroups</code> just returns the total
number of supplementary group IDs.  On systems that do not support
supplementary groups, this will always be zero.

<p>Here's how to use <code>getgroups</code> to read all the supplementary group
IDs:

<br><pre>gid_t *
read_all_groups (void)
{
  int ngroups = getgroups (0, NULL);
  gid_t *groups
    = (gid_t *) xmalloc (ngroups * sizeof (gid_t));
  int val = getgroups (ngroups, groups);
  if (val &lt; 0)
    {
      free (groups);
      return NULL;
    }
  return groups;
}
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Setting%20User%20ID">Setting User ID</a>,
Next:<a rel=next accesskey=n href="#Setting%20Groups">Setting Groups</a>,
Previous:<a rel=previous accesskey=p href="#Reading%20Persona">Reading Persona</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Setting the User ID</h3>

<p>This section describes the functions for altering the user ID (real
and/or effective) of a process.  To use these facilities, you must
include the header files <code>sys/types.h</code> and <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>seteuid</b><i> (uid_t <var>neweuid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the effective user ID of a process to <var>newuid</var>,
provided that the process is allowed to change its effective user ID.  A
privileged process (effective user ID zero) can change its effective
user ID to any legal value.  An unprivileged process with a file user ID
can change its effective user ID to its real user ID or to its file user
ID.  Otherwise, a process may not change its effective user ID at all.

<p>The <code>seteuid</code> function returns a value of <code>0</code> to indicate
successful completion, and a value of <code>-1</code> to indicate an error. 
The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EINVAL</code>
<dd>The value of the <var>newuid</var> argument is invalid.

<br><dt><code>EPERM</code>
<dd>The process may not change to the specified ID. 
</dl>

<p>Older systems (those without the <code>_POSIX_SAVED_IDS</code> feature) do not
have this function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setuid</b><i> (uid_t <var>newuid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If the calling process is privileged, this function sets both the real
and effective user ID of the process to <var>newuid</var>.  It also deletes
the file user ID of the process, if any.  <var>newuid</var> may be any
legal value.  (Once this has been done, there is no way to recover the
old effective user ID.)

<p>If the process is not privileged, and the system supports the
<code>_POSIX_SAVED_IDS</code> feature, then this function behaves like
<code>seteuid</code>.

<p>The return values and error conditions are the same as for <code>seteuid</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setreuid</b><i> (uid_t <var>ruid</var>, uid_t <var>euid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the real user ID of the process to <var>ruid</var> and the
effective user ID to <var>euid</var>.  If <var>ruid</var> is <code>-1</code>, it means
not to change the real user ID; likewise if <var>euid</var> is <code>-1</code>, it
means not to change the effective user ID.

<p>The <code>setreuid</code> function exists for compatibility with 4.3 BSD Unix,
which does not support file IDs.  You can use this function to swap the
effective and real user IDs of the process.  (Privileged processes are
not limited to this particular usage.)  If file IDs are supported, you
should use that feature instead of this function.  See <a href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EPERM</code>
<dd>The process does not have the appropriate privileges; you do not
have permission to change to the specified ID. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Setting%20Groups">Setting Groups</a>,
Next:<a rel=next accesskey=n href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20User%20ID">Setting User ID</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Setting the Group IDs</h3>

<p>This section describes the functions for altering the group IDs (real
and effective) of a process.  To use these facilities, you must include
the header files <code>sys/types.h</code> and <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setegid</b><i> (gid_t <var>newgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the effective group ID of the process to
<var>newgid</var>, provided that the process is allowed to change its group
ID.  Just as with <code>seteuid</code>, if the process is privileged it may
change its effective group ID to any value; if it isn't, but it has a
file group ID, then it may change to its real group ID or file group ID;
otherwise it may not change its effective group ID.

<p>Note that a process is only privileged if its effective <em>user</em> ID
is zero.  The effective group ID only affects access permissions.

<p>The return values and error conditions for <code>setegid</code> are the same
as those for <code>seteuid</code>.

<p>This function is only present if <code>_POSIX_SAVED_IDS</code> is defined. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setgid</b><i> (gid_t <var>newgid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets both the real and effective group ID of the process
to <var>newgid</var>, provided that the process is privileged.  It also
deletes the file group ID, if any.

<p>If the process is not privileged, then <code>setgid</code> behaves like
<code>setegid</code>.

<p>The return values and error conditions for <code>setgid</code> are the same
as those for <code>seteuid</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setregid</b><i> (gid_t <var>rgid</var>, gid_t <var>egid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the real group ID of the process to <var>rgid</var> and
the effective group ID to <var>egid</var>.  If <var>rgid</var> is <code>-1</code>, it
means not to change the real group ID; likewise if <var>egid</var> is
<code>-1</code>, it means not to change the effective group ID.

<p>The <code>setregid</code> function is provided for compatibility with 4.3 BSD
Unix, which does not support file IDs.  You can use this function to
swap the effective and real group IDs of the process.  (Privileged
processes are not limited to this usage.)  If file IDs are supported,
you should use that feature instead of using this function. 
See <a href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>.

<p>The return values and error conditions for <code>setregid</code> are the same
as those for <code>setreuid</code>. 
</td></tr>
</table>

<p><code>setuid</code> and <code>setgid</code> behave differently depending on whether
the effective user ID at the time is zero.  If it is not zero, they
behave like <code>seteuid</code> and <code>setegid</code>.  If it is, they change
both effective and real IDs and delete the file ID.  To avoid confusion,
we recommend you always use <code>seteuid</code> and <code>setegid</code> except
when you know the effective user ID is zero and your intent is to change
the persona permanently.  This case is rare--most of the programs that
need it, such as <code>login</code> and <code>su</code>, have already been written.

<p>Note that if your program is setuid to some user other than <code>root</code>,
there is no way to drop privileges permanently.

<p>The system also lets privileged processes change their supplementary
group IDs.  To use <code>setgroups</code> or <code>initgroups</code>, your programs
should include the header file <code>grp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setgroups</b><i> (size_t <var>count</var>, gid_t *<var>groups</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function sets the process's supplementary group IDs.  It can only
be called from privileged processes.  The <var>count</var> argument specifies
the number of group IDs in the array <var>groups</var>.

<p>This function returns <code>0</code> if successful and <code>-1</code> on error. 
The following <code>errno</code> error conditions are defined for this
function:

<dl>
<dt><code>EPERM</code>
<dd>The calling process is not privileged. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>initgroups</b><i> (const char *<var>user</var>, gid_t <var>group</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>initgroups</code> function sets the process's supplementary group
IDs to be the normal default for the user name <var>user</var>.  The group
<var>group</var> is automatically included.

<p>This function works by scanning the group database for all the groups
<var>user</var> belongs to.  It then calls <code>setgroups</code> with the list it
has constructed.

<p>The return values and error conditions are the same as for
<code>setgroups</code>. 
</td></tr>
</table>

<p>If you are interested in the groups a particular user belongs to, but do
not want to change the process's supplementary group IDs, you can use
<code>getgrouplist</code>.  To use <code>getgrouplist</code>, your programs should
include the header file <code>grp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getgrouplist</b><i> (const char *<var>user</var>, gid_t <var>group</var>, gid_t *<var>groups</var>, int *<var>ngroups</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getgrouplist</code> function scans the group database for all the
groups <var>user</var> belongs to.  Up to *<var>ngroups</var> group IDs
corresponding to these groups are stored in the array <var>groups</var>; the
return value from the function is the number of group IDs actually
stored.  If *<var>ngroups</var> is smaller than the total number of groups
found, then <code>getgrouplist</code> returns a value of <code>-1</code> and stores
the actual number of groups in *<var>ngroups</var>.  The group <var>group</var> is
automatically included in the list of groups returned by
<code>getgrouplist</code>.

<p>Here's how to use <code>getgrouplist</code> to read all supplementary groups
for <var>user</var>:

<br><pre>gid_t *
supplementary_groups (char *user)
{
  int ngroups = 16;
  gid_t *groups
    = (gid_t *) xmalloc (ngroups * sizeof (gid_t));
  struct passwd *pw = getpwnam (user);

  if (pw == NULL)
    return NULL;

  if (getgrouplist (pw-&gt;pw_name, pw-&gt;pw_gid, groups, &amp;ngroups) &lt; 0)
    {
      groups = xrealloc (ngroups * sizeof (gid_t));
      getgrouplist (pw-&gt;pw_name, pw-&gt;pw_gid, groups, &amp;ngroups);
    }
  return groups;
}
</pre>
</td></tr>
</table>

<p><hr>
Node:<a name="Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>,
Next:<a rel=next accesskey=n href="#Setuid%20Program%20Example">Setuid Program Example</a>,
Previous:<a rel=previous accesskey=p href="#Setting%20Groups">Setting Groups</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Enabling and Disabling Setuid Access</h3>

<p>A typical setuid program does not need its special access all of the
time.  It's a good idea to turn off this access when it isn't needed,
so it can't possibly give unintended access.

<p>If the system supports the <code>_POSIX_SAVED_IDS</code> feature, you can
accomplish this with <code>seteuid</code>.  When the game program starts, its
real user ID is <code>jdoe</code>, its effective user ID is <code>games</code>, and
its saved user ID is also <code>games</code>.  The program should record both
user ID values once at the beginning, like this:

<br><pre>user_user_id = getuid ();
game_user_id = geteuid ();
</pre>

<p>Then it can turn off game file access with

<br><pre>seteuid (user_user_id);
</pre>

<p>and turn it on with

<br><pre>seteuid (game_user_id);
</pre>

<p>Throughout this process, the real user ID remains <code>jdoe</code> and the
file user ID remains <code>games</code>, so the program can always set its
effective user ID to either one.

<p>On other systems that don't support file user IDs, you can
turn setuid access on and off by using <code>setreuid</code> to swap the real
and effective user IDs of the process, as follows:

<br><pre>setreuid (geteuid (), getuid ());
</pre>

<p>This special case is always allowed--it cannot fail.

<p>Why does this have the effect of toggling the setuid access?  Suppose a
game program has just started, and its real user ID is <code>jdoe</code> while
its effective user ID is <code>games</code>.  In this state, the game can
write the scores file.  If it swaps the two uids, the real becomes
<code>games</code> and the effective becomes <code>jdoe</code>; now the program has
only <code>jdoe</code> access.  Another swap brings <code>games</code> back to
the effective user ID and restores access to the scores file.

<p>In order to handle both kinds of systems, test for the saved user ID
feature with a preprocessor conditional, like this:

<br><pre>#ifdef _POSIX_SAVED_IDS
  setuid (user_user_id);
#else
  setreuid (geteuid (), getuid ());
#endif
</pre>

<p><hr>
Node:<a name="Setuid%20Program%20Example">Setuid Program Example</a>,
Next:<a rel=next accesskey=n href="#Tips%20for%20Setuid">Tips for Setuid</a>,
Previous:<a rel=previous accesskey=p href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Setuid Program Example</h3>

<p>Here's an example showing how to set up a program that changes its
effective user ID.

<p>This is part of a game program called <code>caber-toss</code> that manipulates
a file <code>scores</code> that should be writable only by the game program
itself.  The program assumes that its executable file will be installed
with the setuid bit set and owned by the same user as the <code>scores</code>
file.  Typically, a system administrator will set up an account like
<code>games</code> for this purpose.

<p>The executable file is given mode <code>4755</code>, so that doing an
<code>ls -l</code> on it produces output like:

<br><pre>-rwsr-xr-x   1 games    184422 Jul 30 15:17 caber-toss
</pre>

<p>The setuid bit shows up in the file modes as the <code>s</code>.

<p>The scores file is given mode <code>644</code>, and doing an <code>ls -l</code> on
it shows:

<br><pre>-rw-r--r--  1 games           0 Jul 31 15:33 scores
</pre>

<p>Here are the parts of the program that show how to set up the changed
user ID.  This program is conditionalized so that it makes use of the
file IDs feature if it is supported, and otherwise uses <code>setreuid</code>
to swap the effective and real user IDs.

<br><pre>#include &lt;stdio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;


/* Remember the effective and real UIDs. */

static uid_t euid, ruid;


/* Restore the effective UID to its original value. */

void
do_setuid (void)
{
  int status;

#ifdef _POSIX_SAVED_IDS
  status = seteuid (euid);
#else
  status = setreuid (ruid, euid);
#endif
  if (status &lt; 0) {
    fprintf (stderr, "Couldn't set uid.\n");
    exit (status);
    }
}


/* Set the effective UID to the real UID. */

void
undo_setuid (void)
{
  int status;

#ifdef _POSIX_SAVED_IDS
  status = seteuid (ruid);
#else
  status = setreuid (euid, ruid);
#endif
  if (status &lt; 0) {
    fprintf (stderr, "Couldn't set uid.\n");
    exit (status);
    }
}

/* Main program. */

int
main (void)
{
  /* Remember the real and effective user IDs.  */
  ruid = getuid ();
  euid = geteuid ();
  undo_setuid ();

  /* Do the game and record the score.  */
  <small>...</small>
}
</pre>

<p>Notice how the first thing the <code>main</code> function does is to set the
effective user ID back to the real user ID.  This is so that any other
file accesses that are performed while the user is playing the game use
the real user ID for determining permissions.  Only when the program
needs to open the scores file does it switch back to the file user ID,
like this:

<br><pre>/* Record the score. */

int
record_score (int score)
{
  FILE *stream;
  char *myname;

  /* Open the scores file. */
  do_setuid ();
  stream = fopen (SCORES_FILE, "a");
  undo_setuid ();

  /* Write the score to the file. */
  if (stream)
    {
      myname = cuserid (NULL);
      if (score &lt; 0)
        fprintf (stream, "%10s: Couldn't lift the caber.\n", myname);
      else
        fprintf (stream, "%10s: %d feet.\n", myname, score);
      fclose (stream);
      return 0;
    }
  else
    return -1;
}
</pre>

<p><hr>
Node:<a name="Tips%20for%20Setuid">Tips for Setuid</a>,
Next:<a rel=next accesskey=n href="#Who%20Logged%20In">Who Logged In</a>,
Previous:<a rel=previous accesskey=p href="#Setuid%20Program%20Example">Setuid Program Example</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Tips for Writing Setuid Programs</h3>

<p>It is easy for setuid programs to give the user access that isn't
intended--in fact, if you want to avoid this, you need to be careful. 
Here are some guidelines for preventing unintended access and
minimizing its consequences when it does occur:

<ul>
<li>Don't have <code>setuid</code> programs with privileged user IDs such as
<code>root</code> unless it is absolutely necessary.  If the resource is
specific to your particular program, it's better to define a new,
nonprivileged user ID or group ID just to manage that resource. 
It's better if you can write your program to use a special group than a
special user.

<li>Be cautious about using the <code>exec</code> functions in combination with
changing the effective user ID.  Don't let users of your program execute
arbitrary programs under a changed user ID.  Executing a shell is
especially bad news. Less obviously, the <code>execlp</code> and <code>execvp</code>
functions are a potential risk (since the program they execute depends
on the user's <code>PATH</code> environment variable).

<p>If you must <code>exec</code> another program under a changed ID, specify an
absolute file name (see <a href="#File%20Name%20Resolution">File Name Resolution</a>) for the executable,
and make sure that the protections on that executable and <em>all</em>
containing directories are such that ordinary users cannot replace it
with some other program.

<p>You should also check the arguments passed to the program to make sure
they do not have unexpected effects.  Likewise, you should examine the
environment variables.  Decide which arguments and variables are safe,
and reject all others.

<p>You should never use <code>system</code> in a privileged program, because it
invokes a shell.

</p><li>Only use the user ID controlling the resource in the part of the program
that actually uses that resource.  When you're finished with it, restore
the effective user ID back to the actual user's user ID. 
See <a href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>.

<li>If the <code>setuid</code> part of your program needs to access other files
besides the controlled resource, it should verify that the real user
would ordinarily have permission to access those files.  You can use the
<code>access</code> function (see <a href="#Access%20Permission">Access Permission</a>) to check this; it
uses the real user and group IDs, rather than the effective IDs. 
</ul>

<p><hr>
Node:<a name="Who%20Logged%20In">Who Logged In</a>,
Next:<a rel=next accesskey=n href="#User%20Accounting%20Database">User Accounting Database</a>,
Previous:<a rel=previous accesskey=p href="#Tips%20for%20Setuid">Tips for Setuid</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Identifying Who Logged In</h3>

<p>You can use the functions listed in this section to determine the login
name of the user who is running a process, and the name of the user who
logged in the current session.  See also the function <code>getuid</code> and
friends (see <a href="#Reading%20Persona">Reading Persona</a>).  How this information is collected by
the system and how to control/add/remove information from the background
storage is described in <a href="#User%20Accounting%20Database">User Accounting Database</a>.

<p>The <code>getlogin</code> function is declared in <code>unistd.h</code>, while
<code>cuserid</code> and <code>L_cuserid</code> are declared in <code>stdio.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getlogin</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getlogin</code> function returns a pointer to a string containing the
name of the user logged in on the controlling terminal of the process,
or a null pointer if this information cannot be determined.  The string
is statically allocated and might be overwritten on subsequent calls to
this function or to <code>cuserid</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>cuserid</b><i> (char *<var>string</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>cuserid</code> function returns a pointer to a string containing a
user name associated with the effective ID of the process.  If
<var>string</var> is not a null pointer, it should be an array that can hold
at least <code>L_cuserid</code> characters; the string is returned in this
array.  Otherwise, a pointer to a string in a static area is returned. 
This string is statically allocated and might be overwritten on
subsequent calls to this function or to <code>getlogin</code>.

<p>The use of this function is deprecated since it is marked to be
withdrawn in XPG4.2 and has already been removed from newer revisions of
POSIX.1. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>L_cuserid</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
An integer constant that indicates how long an array you might need to
store a user name. 
</td></tr>
</table>

<p>These functions let your program identify positively the user who is
running or the user who logged in this session.  (These can differ when
setuid programs are involved; see <a href="#Process%20Persona">Process Persona</a>.)  The user cannot
do anything to fool these functions.

<p>For most purposes, it is more useful to use the environment variable
<code>LOGNAME</code> to find out who the user is.  This is more flexible
precisely because the user can set <code>LOGNAME</code> arbitrarily. 
See <a href="#Standard%20Environment">Standard Environment</a>.

<p><hr>
Node:<a name="User%20Accounting%20Database">User Accounting Database</a>,
Next:<a rel=next accesskey=n href="#User%20Database">User Database</a>,
Previous:<a rel=previous accesskey=p href="#Who%20Logged%20In">Who Logged In</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>The User Accounting Database</h3>

<p>Most Unix-like operating systems keep track of logged in users by
maintaining a user accounting database.  This user accounting database
stores for each terminal, who has logged on, at what time, the process
ID of the user's login shell, etc., etc., but also stores information
about the run level of the system, the time of the last system reboot,
and possibly more.

<p>The user accounting database typically lives in <code>/etc/utmp</code>,
<code>/var/adm/utmp</code> or <code>/var/run/utmp</code>.  However, these files
should <strong>never</strong> be accessed directly.  For reading information
from and writing information to the user accounting database, the
functions described in this section should be used.

<ul>
<li><a accesskey=1 href="#Manipulating%20the%20Database">Manipulating the Database</a>:    Scanning and modifying the user
                                 accounting database. 
<li><a accesskey=2 href="#XPG%20Functions">XPG Functions</a>:                A standardized way for doing the same thing. 
<li><a accesskey=3 href="#Logging%20In%20and%20Out">Logging In and Out</a>:           Functions from BSD that modify the user
                                 accounting database. 
</ul>

<p><hr>
Node:<a name="Manipulating%20the%20Database">Manipulating the Database</a>,
Next:<a rel=next accesskey=n href="#XPG%20Functions">XPG Functions</a>,
Up:<a rel=up accesskey=u href="#User%20Accounting%20Database">User Accounting Database</a>
<br>

<h4>Manipulating the User Accounting Database</h4>

<p>These functions and the corresponding data structures are declared in
the header file <code>utmp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct exit_status</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>exit_status</code> data structure is used to hold information about
the exit status of processes marked as <code>DEAD_PROCESS</code> in the user
accounting database.

<dl>
<dt><code>short int e_termination</code>
<dd>The exit status of the process.

<br><dt><code>short int e_exit</code>
<dd>The exit status of the process. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>struct utmp</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utmp</code> data structure is used to hold information about entries
in the user accounting database.  On the GNU system it has the following
members:

<dl>
<dt><code>short int ut_type</code>
<dd>Specifies the type of login; one of <code>EMPTY</code>, <code>RUN_LVL</code>,
<code>BOOT_TIME</code>, <code>OLD_TIME</code>, <code>NEW_TIME</code>, <code>INIT_PROCESS</code>,
<code>LOGIN_PROCESS</code>, <code>USER_PROCESS</code>, <code>DEAD_PROCESS</code> or
<code>ACCOUNTING</code>.

<br><dt><code>pid_t ut_pid</code>
<dd>The process ID number of the login process.

<br><dt><code>char ut_line[]</code>
<dd>The device name of the tty (without <code>/dev/</code>).

<br><dt><code>char ut_id[]</code>
<dd>The inittab ID of the process.

<br><dt><code>char ut_user[]</code>
<dd>The user's login name.

<br><dt><code>char ut_host[]</code>
<dd>The name of the host from which the user logged in.

<br><dt><code>struct exit_status ut_exit</code>
<dd>The exit status of a process marked as <code>DEAD_PROCESS</code>.

<br><dt><code>long ut_session</code>
<dd>The Session ID, used for windowing.

<br><dt><code>struct timeval ut_tv</code>
<dd>Time the entry was made.  For entries of type <code>OLD_TIME</code> this is
the time when the system clock changed, and for entries of type
<code>NEW_TIME</code> this is the time the system clock was set to.

<br><dt><code>int32_t ut_addr_v6[4]</code>
<dd>The Internet address of a remote host. 
</dl>
</td></tr>
</table>

<p>The <code>ut_type</code>, <code>ut_pid</code>, <code>ut_id</code>, <code>ut_tv</code>, and
<code>ut_host</code> fields are not available on all systems.  Portable
applications therefore should be prepared for these situations.  To help
doing this the <code>utmp.h</code> header provides macros
<code>_HAVE_UT_TYPE</code>, <code>_HAVE_UT_PID</code>, <code>_HAVE_UT_ID</code>,
<code>_HAVE_UT_TV</code>, and <code>_HAVE_UT_HOST</code> if the respective field is
available.  The programmer can handle the situations by using
<code>#ifdef</code> in the program code.

<p>The following macros are defined for use as values for the
<code>ut_type</code> member of the <code>utmp</code> structure.  The values are
integer constants.

<dl>
<dt><code>EMPTY</code>
<dd>This macro is used to indicate that the entry contains no valid user
accounting information.

<br><dt><code>RUN_LVL</code>
<dd>This macro is used to identify the systems runlevel.

<br><dt><code>BOOT_TIME</code>
<dd>This macro is used to identify the time of system boot.

<br><dt><code>OLD_TIME</code>
<dd>This macro is used to identify the time when the system clock changed.

<br><dt><code>NEW_TIME</code>
<dd>This macro is used to identify the time after the system changed.

<br><dt><code>INIT_PROCESS</code>
<dd>This macro is used to identify a process spawned by the init process.

<br><dt><code>LOGIN_PROCESS</code>
<dd>This macro is used to identify the session leader of a logged in user.

<br><dt><code>USER_PROCESS</code>
<dd>This macro is used to identify a user process.

<br><dt><code>DEAD_PROCESS</code>
<dd>This macro is used to identify a terminated process.

<br><dt><code>ACCOUNTING</code>
<dd>??? 
</dl>

<p>The size of the <code>ut_line</code>, <code>ut_id</code>, <code>ut_user</code> and
<code>ut_host</code> arrays can be found using the <code>sizeof</code> operator.

<p>Many older systems have, instead of an <code>ut_tv</code> member, an
<code>ut_time</code> member, usually of type <code>time_t</code>, for representing
the time associated with the entry.  Therefore, for backwards
compatibility only, <code>utmp.h</code> defines <code>ut_time</code> as an alias for
<code>ut_tv.tv_sec</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setutent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function opens the user accounting database to begin scanning it. 
You can then call <code>getutent</code>, <code>getutid</code> or <code>getutline</code> to
read entries and <code>pututline</code> to write entries.

<p>If the database is already open, it resets the input to the beginning of
the database. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmp * <b>getutent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getutent</code> function reads the next entry from the user
accounting database.  It returns a pointer to the entry, which is
statically allocated and may be overwritten by subsequent calls to
<code>getutent</code>.  You must copy the contents of the structure if you
wish to save the information or you can use the <code>getutent_r</code>
function which stores the data in a user-provided buffer.

<p>A null pointer is returned in case no further entry is available. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endutent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the user accounting database. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmp * <b>getutid</b><i> (const struct utmp *<var>id</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function searches forward from the current point in the database
for an entry that matches <var>id</var>.  If the <code>ut_type</code> member of the
<var>id</var> structure is one of <code>RUN_LVL</code>, <code>BOOT_TIME</code>,
<code>OLD_TIME</code> or <code>NEW_TIME</code> the entries match if the
<code>ut_type</code> members are identical.  If the <code>ut_type</code> member of
the <var>id</var> structure is <code>INIT_PROCESS</code>, <code>LOGIN_PROCESS</code>,
<code>USER_PROCESS</code> or <code>DEAD_PROCESS</code>, the entries match if the
<code>ut_type</code> member of the entry read from the database is one of
these four, and the <code>ut_id</code> members match.  However if the
<code>ut_id</code> member of either the <var>id</var> structure or the entry read
from the database is empty it checks if the <code>ut_line</code> members match
instead.  If a matching entry is found, <code>getutid</code> returns a pointer
to the entry, which is statically allocated, and may be overwritten by a
subsequent call to <code>getutent</code>, <code>getutid</code> or <code>getutline</code>. 
You must copy the contents of the structure if you wish to save the
information.

<p>A null pointer is returned in case the end of the database is reached
without a match.

<p>The <code>getutid</code> function may cache the last read entry.  Therefore,
if you are using <code>getutid</code> to search for multiple occurrences, it
is necessary to zero out the static data after each call.  Otherwise
<code>getutid</code> could just return a pointer to the same entry over and
over again. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmp * <b>getutline</b><i> (const struct utmp *<var>line</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function searches forward from the current point in the database
until it finds an entry whose <code>ut_type</code> value is
<code>LOGIN_PROCESS</code> or <code>USER_PROCESS</code>, and whose <code>ut_line</code>
member matches the <code>ut_line</code> member of the <var>line</var> structure. 
If it finds such an entry, it returns a pointer to the entry which is
statically allocated, and may be overwritten by a subsequent call to
<code>getutent</code>, <code>getutid</code> or <code>getutline</code>.  You must copy the
contents of the structure if you wish to save the information.

<p>A null pointer is returned in case the end of the database is reached
without a match.

<p>The <code>getutline</code> function may cache the last read entry.  Therefore
if you are using <code>getutline</code> to search for multiple occurrences, it
is necessary to zero out the static data after each call.  Otherwise
<code>getutline</code> could just return a pointer to the same entry over and
over again. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmp * <b>pututline</b><i> (const struct utmp *<var>utmp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pututline</code> function inserts the entry <code>*<var>utmp</var></code> at
the appropriate place in the user accounting database.  If it finds that
it is not already at the correct place in the database, it uses
<code>getutid</code> to search for the position to insert the entry, however
this will not modify the static structure returned by <code>getutent</code>,
<code>getutid</code> and <code>getutline</code>.  If this search fails, the entry
is appended to the database.

<p>The <code>pututline</code> function returns a pointer to a copy of the entry
inserted in the user accounting database, or a null pointer if the entry
could not be added.  The following <code>errno</code> error conditions are
defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>The process does not have the appropriate privileges; you cannot modify
the user accounting database. 
</dl>
</td></tr>
</table>

<p>All the <code>get*</code> functions mentioned before store the information
they return in a static buffer.  This can be a problem in multi-threaded
programs since the data returned for the request is overwritten by the
return value data in another thread.  Therefore the GNU C Library
provides as extensions three more functions which return the data in a
user-provided buffer.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getutent_r</b><i> (struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getutent_r</code> is equivalent to the <code>getutent</code> function.  It
returns the next entry from the database.  But instead of storing the
information in a static buffer it stores it in the buffer pointed to by
the parameter <var>buffer</var>.

<p>If the call was successful, the function returns <code>0</code> and the
pointer variable pointed to by the parameter <var>result</var> contains a
pointer to the buffer which contains the result (this is most probably
the same value as <var>buffer</var>).  If something went wrong during the
execution of <code>getutent_r</code> the function returns <code>-1</code>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getutid_r</b><i> (const struct utmp *<var>id</var>, struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function retrieves just like <code>getutid</code> the next entry matching
the information stored in <var>id</var>.  But the result is stored in the
buffer pointed to by the parameter <var>buffer</var>.

<p>If successful the function returns <code>0</code> and the pointer variable
pointed to by the parameter <var>result</var> contains a pointer to the
buffer with the result (probably the same as <var>result</var>.  If not
successful the function return <code>-1</code>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getutline_r</b><i> (const struct utmp *<var>line</var>, struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function retrieves just like <code>getutline</code> the next entry
matching the information stored in <var>line</var>.  But the result is stored
in the buffer pointed to by the parameter <var>buffer</var>.

<p>If successful the function returns <code>0</code> and the pointer variable
pointed to by the parameter <var>result</var> contains a pointer to the
buffer with the result (probably the same as <var>result</var>.  If not
successful the function return <code>-1</code>.

<p>This function is a GNU extension. 
</td></tr>
</table>

<p>In addition to the user accounting database, most systems keep a number
of similar databases.  For example most systems keep a log file with all
previous logins (usually in <code>/etc/wtmp</code> or <code>/var/log/wtmp</code>).

<p>For specifying which database to examine, the following function should
be used.

<p>
<table width="100%">
<tr>
<td align="left">int <b>utmpname</b><i> (const char *<var>file</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utmpname</code> function changes the name of the database to be
examined to <var>file</var>, and closes any previously opened database.  By
default <code>getutent</code>, <code>getutid</code>, <code>getutline</code> and
<code>pututline</code> read from and write to the user accounting database.

<p>The following macros are defined for use as the <var>file</var> argument:

<p>
<table width="100%">
<tr>
<td align="left">char * <b>_PATH_UTMP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used to specify the user accounting database. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>_PATH_WTMP</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro is used to specify the user accounting log file. 
</td></tr>
</table>

<p>The <code>utmpname</code> function returns a value of <code>0</code> if the new name
was successfully stored, and a value of <code>-1</code> to indicate an error. 
Note that <code>utmpname</code> does not try to open the database, and that
therefore the return value does not say anything about whether the
database can be successfully opened. 
</td></tr>
</table>

<p>Specially for maintaining log-like databases the GNU C Library provides
the following function:

<p>
<table width="100%">
<tr>
<td align="left">void <b>updwtmp</b><i> (const char *<var>wtmp_file</var>, const struct utmp *<var>utmp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>updwtmp</code> function appends the entry *<var>utmp</var> to the
database specified by <var>wtmp_file</var>.  For possible values for the
<var>wtmp_file</var> argument see the <code>utmpname</code> function. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> Although many operating systems provide a
subset of these functions, they are not standardized.  There are often
subtle differences in the return types, and there are considerable
differences between the various definitions of <code>struct utmp</code>.  When
programming for the GNU system, it is probably best to stick
with the functions described in this section.  If however, you want your
program to be portable, consider using the XPG functions described in
<a href="#XPG%20Functions">XPG Functions</a>, or take a look at the BSD compatible functions in
<a href="#Logging%20In%20and%20Out">Logging In and Out</a>.

<p><hr>
Node:<a name="XPG%20Functions">XPG Functions</a>,
Next:<a rel=next accesskey=n href="#Logging%20In%20and%20Out">Logging In and Out</a>,
Previous:<a rel=previous accesskey=p href="#Manipulating%20the%20Database">Manipulating the Database</a>,
Up:<a rel=up accesskey=u href="#User%20Accounting%20Database">User Accounting Database</a>
<br>

<h4>XPG User Accounting Database Functions</h4>

<p>These functions, described in the X/Open Portability Guide, are declared
in the header file <code>utmpx.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct utmpx</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utmpx</code> data structure contains at least the following members:

<dl>
<dt><code>short int ut_type</code>
<dd>Specifies the type of login; one of <code>EMPTY</code>, <code>RUN_LVL</code>,
<code>BOOT_TIME</code>, <code>OLD_TIME</code>, <code>NEW_TIME</code>, <code>INIT_PROCESS</code>,
<code>LOGIN_PROCESS</code>, <code>USER_PROCESS</code> or <code>DEAD_PROCESS</code>.

<br><dt><code>pid_t ut_pid</code>
<dd>The process ID number of the login process.

<br><dt><code>char ut_line[]</code>
<dd>The device name of the tty (without <code>/dev/</code>).

<br><dt><code>char ut_id[]</code>
<dd>The inittab ID of the process.

<br><dt><code>char ut_user[]</code>
<dd>The user's login name.

<br><dt><code>struct timeval ut_tv</code>
<dd>Time the entry was made.  For entries of type <code>OLD_TIME</code> this is
the time when the system clock changed, and for entries of type
<code>NEW_TIME</code> this is the time the system clock was set to. 
</dl>
On the GNU system, <code>struct utmpx</code> is identical to <code>struct
utmp</code> except for the fact that including <code>utmpx.h</code> does not make
visible the declaration of <code>struct exit_status</code>. 
</td></tr>
</table>

<p>The following macros are defined for use as values for the
<code>ut_type</code> member of the <code>utmpx</code> structure.  The values are
integer constants and are, on the GNU system, identical to the
definitions in <code>utmp.h</code>.

<dl>
<dt><code>EMPTY</code>
<dd>This macro is used to indicate that the entry contains no valid user
accounting information.

<br><dt><code>RUN_LVL</code>
<dd>This macro is used to identify the systems runlevel.

<br><dt><code>BOOT_TIME</code>
<dd>This macro is used to identify the time of system boot.

<br><dt><code>OLD_TIME</code>
<dd>This macro is used to identify the time when the system clock changed.

<br><dt><code>NEW_TIME</code>
<dd>This macro is used to identify the time after the system changed.

<br><dt><code>INIT_PROCESS</code>
<dd>This macro is used to identify a process spawned by the init process.

<br><dt><code>LOGIN_PROCESS</code>
<dd>This macro is used to identify the session leader of a logged in user.

<br><dt><code>USER_PROCESS</code>
<dd>This macro is used to identify a user process.

<br><dt><code>DEAD_PROCESS</code>
<dd>This macro is used to identify a terminated process. 
</dl>

<p>The size of the <code>ut_line</code>, <code>ut_id</code> and <code>ut_user</code> arrays
can be found using the <code>sizeof</code> operator.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setutxent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>setutent</code>.  On the GNU system it is
simply an alias for <code>setutent</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmpx * <b>getutxent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getutxent</code> function is similar to <code>getutent</code>, but returns
a pointer to a <code>struct utmpx</code> instead of <code>struct utmp</code>.  On
the GNU system it simply is an alias for <code>getutent</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endutxent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>endutent</code>.  On the GNU system it is
simply an alias for <code>endutent</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmpx * <b>getutxid</b><i> (const struct utmpx *<var>id</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getutid</code>, but uses <code>struct utmpx</code>
instead of <code>struct utmp</code>.  On the GNU system it is simply an alias
for <code>getutid</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmpx * <b>getutxline</b><i> (const struct utmpx *<var>line</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getutid</code>, but uses <code>struct utmpx</code>
instead of <code>struct utmp</code>.  On the GNU system it is simply an alias
for <code>getutline</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct utmpx * <b>pututxline</b><i> (const struct utmpx *<var>utmp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>pututxline</code> function is functionally identical to
<code>pututline</code>, but uses <code>struct utmpx</code> instead of <code>struct
utmp</code>.  On the GNU system, <code>pututxline</code> is simply an alias for
<code>pututline</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>utmpxname</b><i> (const char *<var>file</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utmpxname</code> function is functionally identical to
<code>utmpname</code>.  On the GNU system, <code>utmpxname</code> is simply an
alias for <code>utmpname</code>. 
</td></tr>
</table>

<p>You can translate between a traditional <code>struct utmp</code> and an XPG
<code>struct utmpx</code> with the following functions.  On the GNU system,
these functions are merely copies, since the two structures are
identical.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getutmp</b><i> (const struct utmpx *utmpx, struct utmp *utmp)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>getutmp</code> copies the information, insofar as the structures are
compatible, from <var>utmpx</var> to <var>utmp</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getutmpx</b><i> (const struct utmp *utmp, struct utmpx *utmpx)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
<code>getutmpx</code> copies the information, insofar as the structures are
compatible, from <var>utmp</var> to <var>utmpx</var>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Logging%20In%20and%20Out">Logging In and Out</a>,
Previous:<a rel=previous accesskey=p href="#XPG%20Functions">XPG Functions</a>,
Up:<a rel=up accesskey=u href="#User%20Accounting%20Database">User Accounting Database</a>
<br>

<h4>Logging In and Out</h4>

<p>These functions, derived from BSD, are available in the separate
<code>libutil</code> library, and declared in <code>utmp.h</code>.

<p>Note that the <code>ut_user</code> member of <code>struct utmp</code> is called
<code>ut_name</code> in BSD.  Therefore, <code>ut_name</code> is defined as an alias
for <code>ut_user</code> in <code>utmp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>login_tty</b><i> (int <var>filedes</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function makes <var>filedes</var> the controlling terminal of the
current process, redirects standard input, standard output and
standard error output to this terminal, and closes <var>filedes</var>.

<p>This function returns <code>0</code> on successful completion, and <code>-1</code>
on error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>login</b><i> (const struct utmp *<var>entry</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>login</code> functions inserts an entry into the user accounting
database.  The <code>ut_line</code> member is set to the name of the terminal
on standard input.  If standard input is not a terminal <code>login</code>
uses standard output or standard error output to determine the name of
the terminal.  If <code>struct utmp</code> has a <code>ut_type</code> member,
<code>login</code> sets it to <code>USER_PROCESS</code>, and if there is an
<code>ut_pid</code> member, it will be set to the process ID of the current
process.  The remaining entries are copied from <var>entry</var>.

<p>A copy of the entry is written to the user accounting log file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>logout</b><i> (const char *<var>ut_line</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function modifies the user accounting database to indicate that the
user on <var>ut_line</var> has logged out.

<p>The <code>logout</code> function returns <code>1</code> if the entry was successfully
written to the database, or <code>0</code> on error. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>logwtmp</b><i> (const char *<var>ut_line</var>, const char *<var>ut_name</var>, const char *<var>ut_host</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>logwtmp</code> function appends an entry to the user accounting log
file, for the current time and the information provided in the
<var>ut_line</var>, <var>ut_name</var> and <var>ut_host</var> arguments. 
</td></tr>
</table>

<p><strong>Portability Note:</strong> The BSD <code>struct utmp</code> only has the
<code>ut_line</code>, <code>ut_name</code>, <code>ut_host</code> and <code>ut_time</code>
members.  Older systems do not even have the <code>ut_host</code> member.

<p><hr>
Node:<a name="User%20Database">User Database</a>,
Next:<a rel=next accesskey=n href="#Group%20Database">Group Database</a>,
Previous:<a rel=previous accesskey=p href="#User%20Accounting%20Database">User Accounting Database</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>User Database</h3>

<p>This section describes how to search and scan the database of registered
users.  The database itself is kept in the file <code>/etc/passwd</code> on
most systems, but on some systems a special network server gives access
to it.

<ul>
<li><a accesskey=1 href="#User%20Data%20Structure">User Data Structure</a>:          What each user record contains. 
<li><a accesskey=2 href="#Lookup%20User">Lookup User</a>:                  How to look for a particular user. 
<li><a accesskey=3 href="#Scanning%20All%20Users">Scanning All Users</a>:           Scanning the list of all users, one by one. 
<li><a accesskey=4 href="#Writing%20a%20User%20Entry">Writing a User Entry</a>:         How a program can rewrite a user's record. 
</ul>

<p><hr>
Node:<a name="User%20Data%20Structure">User Data Structure</a>,
Next:<a rel=next accesskey=n href="#Lookup%20User">Lookup User</a>,
Up:<a rel=up accesskey=u href="#User%20Database">User Database</a>
<br>

<h4>The Data Structure that Describes a User</h4>

<p>The functions and data structures for accessing the system user database
are declared in the header file <code>pwd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct passwd</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>passwd</code> data structure is used to hold information about
entries in the system user data base.  It has at least the following members:

<dl>
<dt><code>char *pw_name</code>
<dd>The user's login name.

<br><dt><code>char *pw_passwd.</code>
<dd>The encrypted password string.

<br><dt><code>uid_t pw_uid</code>
<dd>The user ID number.

<br><dt><code>gid_t pw_gid</code>
<dd>The user's default group ID number.

<br><dt><code>char *pw_gecos</code>
<dd>A string typically containing the user's real name, and possibly other
information such as a phone number.

<br><dt><code>char *pw_dir</code>
<dd>The user's home directory, or initial working directory.  This might be
a null pointer, in which case the interpretation is system-dependent.

<br><dt><code>char *pw_shell</code>
<dd>The user's default shell, or the initial program run when the user logs in. 
This might be a null pointer, indicating that the system default should
be used. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Lookup%20User">Lookup User</a>,
Next:<a rel=next accesskey=n href="#Scanning%20All%20Users">Scanning All Users</a>,
Previous:<a rel=previous accesskey=p href="#User%20Data%20Structure">User Data Structure</a>,
Up:<a rel=up accesskey=u href="#User%20Database">User Database</a>
<br>

<h4>Looking Up One User</h4>

<p>You can search the system user database for information about a
specific user using <code>getpwuid</code> or <code>getpwnam</code>.  These
functions are declared in <code>pwd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">struct passwd * <b>getpwuid</b><i> (uid_t <var>uid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a statically-allocated structure
containing information about the user whose user ID is <var>uid</var>.  This
structure may be overwritten on subsequent calls to <code>getpwuid</code>.

<p>A null pointer value indicates there is no user in the data base with
user ID <var>uid</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpwuid_r</b><i> (uid_t <var>uid</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getpwuid</code> in that it returns
information about the user whose user ID is <var>uid</var>.  However, it
fills the user supplied structure pointed to by <var>result_buf</var> with
the information instead of using a static buffer.  The first
<var>buflen</var> bytes of the additional buffer pointed to by <var>buffer</var>
are used to contain additional information, normally strings which are
pointed to by the elements of the result structure.

<p>If a user with ID <var>uid</var> is found, the pointer returned in
<var>result</var> points to the record which contains the wanted data (i.e.,
<var>result</var> contains the value <var>result_buf</var>).  If no user is found
or if an error occurred, the pointer returned in <var>result</var> is a null
pointer.  The function returns zero or an error code.  If the buffer
<var>buffer</var> is too small to contain all the needed information, the
error code <code>ERANGE</code> is returned and <var>errno</var> is set to
<code>ERANGE</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct passwd * <b>getpwnam</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a statically-allocated structure
containing information about the user whose user name is <var>name</var>. 
This structure may be overwritten on subsequent calls to
<code>getpwnam</code>.

<p>A null pointer return indicates there is no user named <var>name</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpwnam_r</b><i> (const char *<var>name</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getpwnam</code> in that is returns
information about the user whose user name is <var>name</var>.  However, like
<code>getpwuid_r</code>, it fills the user supplied buffers in
<var>result_buf</var> and <var>buffer</var> with the information instead of using
a static buffer.

<p>The return values are the same as for <code>getpwuid_r</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Scanning%20All%20Users">Scanning All Users</a>,
Next:<a rel=next accesskey=n href="#Writing%20a%20User%20Entry">Writing a User Entry</a>,
Previous:<a rel=previous accesskey=p href="#Lookup%20User">Lookup User</a>,
Up:<a rel=up accesskey=u href="#User%20Database">User Database</a>
<br>

<h4>Scanning the List of All Users</h4>

<p>This section explains how a program can read the list of all users in
the system, one user at a time.  The functions described here are
declared in <code>pwd.h</code>.

<p>You can use the <code>fgetpwent</code> function to read user entries from a
particular file.

<p>
<table width="100%">
<tr>
<td align="left">struct passwd * <b>fgetpwent</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads the next user entry from <var>stream</var> and returns a
pointer to the entry.  The structure is statically allocated and is
rewritten on subsequent calls to <code>fgetpwent</code>.  You must copy the
contents of the structure if you wish to save the information.

<p>The stream must correspond to a file in the same format as the standard
password database file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetpwent_r</b><i> (FILE *<var>stream</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fgetpwent</code> in that it reads the next
user entry from <var>stream</var>.  But the result is returned in the
structure pointed to by <var>result_buf</var>.  The
first <var>buflen</var> bytes of the additional buffer pointed to by
<var>buffer</var> are used to contain additional information, normally
strings which are pointed to by the elements of the result structure.

<p>The stream must correspond to a file in the same format as the standard
password database file.

<p>If the function returns zero <var>result</var> points to the structure with
the wanted data (normally this is in <var>result_buf</var>).  If errors
occurred the return value is nonzero and <var>result</var> contains a null
pointer. 
</td></tr>
</table>

<p>The way to scan all the entries in the user database is with
<code>setpwent</code>, <code>getpwent</code>, and <code>endpwent</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setpwent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initializes a stream which <code>getpwent</code> and
<code>getpwent_r</code> use to read the user database. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct passwd * <b>getpwent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getpwent</code> function reads the next entry from the stream
initialized by <code>setpwent</code>.  It returns a pointer to the entry.  The
structure is statically allocated and is rewritten on subsequent calls
to <code>getpwent</code>.  You must copy the contents of the structure if you
wish to save the information.

<p>A null pointer is returned when no more entries are available. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getpwent_r</b><i> (struct passwd *<var>result_buf</var>, char *<var>buffer</var>, int <var>buflen</var>, struct passwd **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getpwent</code> in that it returns the next
entry from the stream initialized by <code>setpwent</code>.  Like
<code>fgetpwent_r</code>, it uses the user-supplied buffers in
<var>result_buf</var> and <var>buffer</var> to return the information requested.

<p>The return values are the same as for <code>fgetpwent_r</code>.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endpwent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the internal stream used by <code>getpwent</code> or
<code>getpwent_r</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Writing%20a%20User%20Entry">Writing a User Entry</a>,
Previous:<a rel=previous accesskey=p href="#Scanning%20All%20Users">Scanning All Users</a>,
Up:<a rel=up accesskey=u href="#User%20Database">User Database</a>
<br>

<h4>Writing a User Entry</h4>

<p>
<table width="100%">
<tr>
<td align="left">int <b>putpwent</b><i> (const struct passwd *<var>p</var>, FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function writes the user entry <code>*<var>p</var></code> to the stream
<var>stream</var>, in the format used for the standard user database
file.  The return value is zero on success and nonzero on failure.

<p>This function exists for compatibility with SVID.  We recommend that you
avoid using it, because it makes sense only on the assumption that the
<code>struct passwd</code> structure has no members except the standard ones;
on a system which merges the traditional Unix data base with other
extended information about users, adding an entry using this function
would inevitably leave out much of the important information.

<p>The function <code>putpwent</code> is declared in <code>pwd.h</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Group%20Database">Group Database</a>,
Next:<a rel=next accesskey=n href="#Database%20Example">Database Example</a>,
Previous:<a rel=previous accesskey=p href="#User%20Database">User Database</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Group Database</h3>

<p>This section describes how to search and scan the database of
registered groups.  The database itself is kept in the file
<code>/etc/group</code> on most systems, but on some systems a special network
service provides access to it.

<ul>
<li><a accesskey=1 href="#Group%20Data%20Structure">Group Data Structure</a>:         What each group record contains. 
<li><a accesskey=2 href="#Lookup%20Group">Lookup Group</a>:                 How to look for a particular group. 
<li><a accesskey=3 href="#Scanning%20All%20Groups">Scanning All Groups</a>:          Scanning the list of all groups. 
</ul>

<p><hr>
Node:<a name="Group%20Data%20Structure">Group Data Structure</a>,
Next:<a rel=next accesskey=n href="#Lookup%20Group">Lookup Group</a>,
Up:<a rel=up accesskey=u href="#Group%20Database">Group Database</a>
<br>

<h4>The Data Structure for a Group</h4>

<p>The functions and data structures for accessing the system group
database are declared in the header file <code>grp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct group</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>group</code> structure is used to hold information about an entry in
the system group database.  It has at least the following members:

<dl>
<dt><code>char *gr_name</code>
<dd>The name of the group.

<br><dt><code>gid_t gr_gid</code>
<dd>The group ID of the group.

<br><dt><code>char **gr_mem</code>
<dd>A vector of pointers to the names of users in the group.  Each user name
is a null-terminated string, and the vector itself is terminated by a
null pointer. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Lookup%20Group">Lookup Group</a>,
Next:<a rel=next accesskey=n href="#Scanning%20All%20Groups">Scanning All Groups</a>,
Previous:<a rel=previous accesskey=p href="#Group%20Data%20Structure">Group Data Structure</a>,
Up:<a rel=up accesskey=u href="#Group%20Database">Group Database</a>
<br>

<h4>Looking Up One Group</h4>

<p>You can search the group database for information about a specific
group using <code>getgrgid</code> or <code>getgrnam</code>.  These functions are
declared in <code>grp.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">struct group * <b>getgrgid</b><i> (gid_t <var>gid</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a statically-allocated structure
containing information about the group whose group ID is <var>gid</var>. 
This structure may be overwritten by subsequent calls to
<code>getgrgid</code>.

<p>A null pointer indicates there is no group with ID <var>gid</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getgrgid_r</b><i> (gid_t <var>gid</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getgrgid</code> in that it returns
information about the group whose group ID is <var>gid</var>.  However, it
fills the user supplied structure pointed to by <var>result_buf</var> with
the information instead of using a static buffer.  The first
<var>buflen</var> bytes of the additional buffer pointed to by <var>buffer</var>
are used to contain additional information, normally strings which are
pointed to by the elements of the result structure.

<p>If a group with ID <var>gid</var> is found, the pointer returned in
<var>result</var> points to the record which contains the wanted data (i.e.,
<var>result</var> contains the value <var>result_buf</var>).  If no group is found
or if an error occurred, the pointer returned in <var>result</var> is a null
pointer.  The function returns zero or an error code.  If the buffer
<var>buffer</var> is too small to contain all the needed information, the
error code <code>ERANGE</code> is returned and <var>errno</var> is set to
<code>ERANGE</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct group * <b>getgrnam</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns a pointer to a statically-allocated structure
containing information about the group whose group name is <var>name</var>. 
This structure may be overwritten by subsequent calls to
<code>getgrnam</code>.

<p>A null pointer indicates there is no group named <var>name</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getgrnam_r</b><i> (const char *<var>name</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getgrnam</code> in that is returns
information about the group whose group name is <var>name</var>.  Like
<code>getgrgid_r</code>, it uses the user supplied buffers in
<var>result_buf</var> and <var>buffer</var>, not a static buffer.

<p>The return values are the same as for <code>getgrgid_r</code>
<code>ERANGE</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Scanning%20All%20Groups">Scanning All Groups</a>,
Previous:<a rel=previous accesskey=p href="#Lookup%20Group">Lookup Group</a>,
Up:<a rel=up accesskey=u href="#Group%20Database">Group Database</a>
<br>

<h4>Scanning the List of All Groups</h4>

<p>This section explains how a program can read the list of all groups in
the system, one group at a time.  The functions described here are
declared in <code>grp.h</code>.

<p>You can use the <code>fgetgrent</code> function to read group entries from a
particular file.

<p>
<table width="100%">
<tr>
<td align="left">struct group * <b>fgetgrent</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>fgetgrent</code> function reads the next entry from <var>stream</var>. 
It returns a pointer to the entry.  The structure is statically
allocated and is overwritten on subsequent calls to <code>fgetgrent</code>.  You
must copy the contents of the structure if you wish to save the
information.

<p>The stream must correspond to a file in the same format as the standard
group database file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>fgetgrent_r</b><i> (FILE *<var>stream</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>fgetgrent</code> in that it reads the next
user entry from <var>stream</var>.  But the result is returned in the
structure pointed to by <var>result_buf</var>.  The first <var>buflen</var> bytes
of the additional buffer pointed to by <var>buffer</var> are used to contain
additional information, normally strings which are pointed to by the
elements of the result structure.

<p>This stream must correspond to a file in the same format as the standard
group database file.

<p>If the function returns zero <var>result</var> points to the structure with
the wanted data (normally this is in <var>result_buf</var>).  If errors
occurred the return value is non-zero and <var>result</var> contains a null
pointer. 
</td></tr>
</table>

<p>The way to scan all the entries in the group database is with
<code>setgrent</code>, <code>getgrent</code>, and <code>endgrent</code>.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setgrent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function initializes a stream for reading from the group data base. 
You use this stream by calling <code>getgrent</code> or <code>getgrent_r</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct group * <b>getgrent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getgrent</code> function reads the next entry from the stream
initialized by <code>setgrent</code>.  It returns a pointer to the entry.  The
structure is statically allocated and is overwritten on subsequent calls
to <code>getgrent</code>.  You must copy the contents of the structure if you
wish to save the information. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getgrent_r</b><i> (struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getgrent</code> in that it returns the next
entry from the stream initialized by <code>setgrent</code>.  Like
<code>fgetgrent_r</code>, it places the result in user-supplied buffers
pointed to <var>result_buf</var> and <var>buffer</var>.

<p>If the function returns zero <var>result</var> contains a pointer to the data
(normally equal to <var>result_buf</var>).  If errors occurred the return
value is non-zero and <var>result</var> contains a null pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endgrent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function closes the internal stream used by <code>getgrent</code> or
<code>getgrent_r</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Database%20Example">Database Example</a>,
Next:<a rel=next accesskey=n href="#Netgroup%20Database">Netgroup Database</a>,
Previous:<a rel=previous accesskey=p href="#Group%20Database">Group Database</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>User and Group Database Example</h3>

<p>Here is an example program showing the use of the system database inquiry
functions.  The program prints some information about the user running
the program.

<br><pre>

#include &lt;grp.h&gt;
#include &lt;pwd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdlib.h&gt;

int
main (void)
{
  uid_t me;
  struct passwd *my_passwd;
  struct group *my_group;
  char **members;

  /* Get information about the user ID. */
  me = getuid ();
  my_passwd = getpwuid (me);
  if (!my_passwd)
    {
      printf ("Couldn't find out about user %d.\n", (int) me);
      exit (EXIT_FAILURE);
    }

  /* Print the information. */
  printf ("I am %s.\n", my_passwd-&gt;pw_gecos);
  printf ("My login name is %s.\n", my_passwd-&gt;pw_name);
  printf ("My uid is %d.\n", (int) (my_passwd-&gt;pw_uid));
  printf ("My home directory is %s.\n", my_passwd-&gt;pw_dir);
  printf ("My default shell is %s.\n", my_passwd-&gt;pw_shell);

  /* Get information about the default group ID. */
  my_group = getgrgid (my_passwd-&gt;pw_gid);
  if (!my_group)
    {
      printf ("Couldn't find out about group %d.\n",
              (int) my_passwd-&gt;pw_gid);
      exit (EXIT_FAILURE);
    }

  /* Print the information. */
  printf ("My default group is %s (%d).\n",
          my_group-&gt;gr_name, (int) (my_passwd-&gt;pw_gid));
  printf ("The members of this group are:\n");
  members = my_group-&gt;gr_mem;
  while (*members)
    {
      printf ("  %s\n", *(members));
      members++;
    }

  return EXIT_SUCCESS;
}
</pre>

<p>Here is some output from this program:

<br><pre>I am Throckmorton Snurd.
My login name is snurd.
My uid is 31093.
My home directory is /home/fsg/snurd.
My default shell is /bin/sh.
My default group is guest (12).
The members of this group are:
  friedman
  tami
</pre>

<p><hr>
Node:<a name="Netgroup%20Database">Netgroup Database</a>,
Previous:<a rel=previous accesskey=p href="#Database%20Example">Database Example</a>,
Up:<a rel=up accesskey=u href="#Users%20and%20Groups">Users and Groups</a>
<br>

<h3>Netgroup Database</h3>

<ul>
<li><a accesskey=1 href="#Netgroup%20Data">Netgroup Data</a>:                   Data in the Netgroup database and where
                                   it comes from. 
<li><a accesskey=2 href="#Lookup%20Netgroup">Lookup Netgroup</a>:                 How to look for a particular netgroup. 
<li><a accesskey=3 href="#Netgroup%20Membership">Netgroup Membership</a>:             How to test for netgroup membership. 
</ul>

<p><hr>
Node:<a name="Netgroup%20Data">Netgroup Data</a>,
Next:<a rel=next accesskey=n href="#Lookup%20Netgroup">Lookup Netgroup</a>,
Up:<a rel=up accesskey=u href="#Netgroup%20Database">Netgroup Database</a>
<br>

<h4>Netgroup Data</h4>

<p>Sometimes it is useful to group users according to other criteria
(see <a href="#Group%20Database">Group Database</a>).  E.g., it is useful to associate a certain
group of users with a certain machine.  On the other hand grouping of
host names is not supported so far.

<p>In Sun Microsystems SunOS appeared a new kind of database, the netgroup
database.  It allows grouping hosts, users, and domains freely, giving
them individual names.  To be more concrete, a netgroup is a list of triples
consisting of a host name, a user name, and a domain name where any of
the entries can be a wildcard entry matching all inputs.  A last
possibility is that names of other netgroups can also be given in the
list specifying a netgroup.  So one can construct arbitrary hierarchies
without loops.

<p>Sun's implementation allows netgroups only for the <code>nis</code> or
<code>nisplus</code> service, see <a href="#Services%20in%20the%20NSS%20configuration">Services in the NSS configuration</a>.  The
implementation in the GNU C library has no such restriction.  An entry
in either of the input services must have the following form:

<br><pre><var>groupname</var> ( <var>groupname</var> | <code>(</code><var>hostname</var><code>,</code><var>username</var><code>,</code><code>domainname</code><code>)</code> )+
</pre>

<p>Any of the fields in the triple can be empty which means anything
matches.  While describing the functions we will see that the opposite
case is useful as well.  I.e., there may be entries which will not
match any input.  For entries like this, a name consisting of the single
character <code>-</code> shall be used.

<p><hr>
Node:<a name="Lookup%20Netgroup">Lookup Netgroup</a>,
Next:<a rel=next accesskey=n href="#Netgroup%20Membership">Netgroup Membership</a>,
Previous:<a rel=previous accesskey=p href="#Netgroup%20Data">Netgroup Data</a>,
Up:<a rel=up accesskey=u href="#Netgroup%20Database">Netgroup Database</a>
<br>

<h4>Looking up one Netgroup</h4>

<p>The lookup functions for netgroups are a bit different to all other
system database handling functions.  Since a single netgroup can contain
many entries a two-step process is needed.  First a single netgroup is
selected and then one can iterate over all entries in this netgroup. 
These functions are declared in <code>netdb.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setnetgrent</b><i> (const char *<var>netgroup</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
A call to this function initializes the internal state of the library to
allow following calls of the <code>getnetgrent</code> to iterate over all entries
in the netgroup with name <var>netgroup</var>.

<p>When the call is successful (i.e., when a netgroup with this name exists)
the return value is <code>1</code>.  When the return value is <code>0</code> no
netgroup of this name is known or some other error occurred. 
</td></tr>
</table>

<p>It is important to remember that there is only one single state for
iterating the netgroups.  Even if the programmer uses the
<code>getnetgrent_r</code> function the result is not really reentrant since
always only one single netgroup at a time can be processed.  If the
program needs to process more than one netgroup simultaneously she
must protect this by using external locking.  This problem was
introduced in the original netgroups implementation in SunOS and since
we must stay compatible it is not possible to change this.

<p>Some other functions also use the netgroups state.  Currently these are
the <code>innetgr</code> function and parts of the implementation of the
<code>compat</code> service part of the NSS implementation.

<p>
<table width="100%">
<tr>
<td align="left">int <b>getnetgrent</b><i> (char **<var>hostp</var>, char **<var>userp</var>, char **<var>domainp</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next unprocessed entry of the currently
selected netgroup.  The string pointers, in which addresses are passed in
the arguments <var>hostp</var>, <var>userp</var>, and <var>domainp</var>, will contain
after a successful call pointers to appropriate strings.  If the string
in the next entry is empty the pointer has the value <code>NULL</code>. 
The returned string pointers are only valid if none of the netgroup
related functions are called.

<p>The return value is <code>1</code> if the next entry was successfully read.  A
value of <code>0</code> means no further entries exist or internal errors occurred. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getnetgrent_r</b><i> (char **<var>hostp</var>, char **<var>userp</var>, char **<var>domainp</var>, char *<var>buffer</var>, int <var>buflen</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is similar to <code>getnetgrent</code> with only one exception:
the strings the three string pointers <var>hostp</var>, <var>userp</var>, and
<var>domainp</var> point to, are placed in the buffer of <var>buflen</var> bytes
starting at <var>buffer</var>.  This means the returned values are valid
even after other netgroup related functions are called.

<p>The return value is <code>1</code> if the next entry was successfully read and
the buffer contains enough room to place the strings in it.  <code>0</code> is
returned in case no more entries are found, the buffer is too small, or
internal errors occurred.

<p>This function is a GNU extension.  The original implementation in the
SunOS libc does not provide this function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endnetgrent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function frees all buffers which were allocated to process the last
selected netgroup.  As a result all string pointers returned by calls
to <code>getnetgrent</code> are invalid afterwards. 
</td></tr>
</table>

<p><hr>
Node:<a name="Netgroup%20Membership">Netgroup Membership</a>,
Previous:<a rel=previous accesskey=p href="#Lookup%20Netgroup">Lookup Netgroup</a>,
Up:<a rel=up accesskey=u href="#Netgroup%20Database">Netgroup Database</a>
<br>

<h4>Testing for Netgroup Membership</h4>

<p>It is often not necessary to scan the whole netgroup since often the
only interesting question is whether a given entry is part of the
selected netgroup.

<p>
<table width="100%">
<tr>
<td align="left">int <b>innetgr</b><i> (const char *<var>netgroup</var>, const char *<var>host</var>, const char *<var>user</var>, const char *<var>domain</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function tests whether the triple specified by the parameters
<var>hostp</var>, <var>userp</var>, and <var>domainp</var> is part of the netgroup
<var>netgroup</var>.  Using this function has the advantage that

<ol type=1 start=1>
</p><li>no other netgroup function can use the global netgroup state since
internal locking is used and
<li>the function is implemented more efficiently than successive calls
to the other <code>set</code>/<code>get</code>/<code>endnetgrent</code> functions.
</ol>

<p>Any of the pointers <var>hostp</var>, <var>userp</var>, and <var>domainp</var> can be
<code>NULL</code> which means any value is accepted in this position.  This is
also true for the name <code>-</code> which should not match any other string
otherwise.

<p>The return value is <code>1</code> if an entry matching the given triple is
found in the netgroup.  The return value is <code>0</code> if the netgroup
itself is not found, the netgroup does not contain the triple or
internal errors occurred. 
</td></tr>
</table>

<p><hr>
Node:<a name="System%20Management">System Management</a>,
Next:<a rel=next accesskey=n href="#System%20Configuration">System Configuration</a>,
Previous:<a rel=previous accesskey=p href="#Users%20and%20Groups">Users and Groups</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>System Management</h2>

<p>This chapter describes facilities for controlling the system that
underlies a process (including the operating system and hardware) and
for getting information about it.  Anyone can generally use the
informational facilities, but usually only a properly privileged process
can make changes.

<ul>
<li><a accesskey=1 href="#Host%20Identification">Host Identification</a>:          Determining the name of the machine. 
<li><a accesskey=2 href="#Platform%20Type">Platform Type</a>:                Determining operating system and basic
                                  machine type
<li><a accesskey=3 href="#Filesystem%20Handling">Filesystem Handling</a>:          Controlling/querying mounts
<li><a accesskey=4 href="#System%20Parameters">System Parameters</a>:            Getting and setting various system parameters
</ul>

<p>To get information on parameters of the system that are built into the
system, such as the maximum length of a filename, <a href="#System%20Configuration">System Configuration</a>.

<p><hr>
Node:<a name="Host%20Identification">Host Identification</a>,
Next:<a rel=next accesskey=n href="#Platform%20Type">Platform Type</a>,
Up:<a rel=up accesskey=u href="#System%20Management">System Management</a>
<br>

<h3>Host Identification</h3>

<p>This section explains how to identify the particular system on which your
program is running.  First, let's review the various ways computer systems
are named, which is a little complicated because of the history of the
development of the Internet.

<p>Every Unix system (also known as a host) has a host name, whether it's
connected to a network or not.  In its simplest form, as used before
computer networks were an issue, it's just a word like <code>chicken</code>.

<p>But any system attached to the Internet or any network like it conforms
to a more rigorous naming convention as part of the Domain Name System
(DNS).  In DNS, every host name is composed of two parts:

<ol type=1 start=1>
</p><li>hostname
<li>domain name
</ol>

<p>You will note that "hostname" looks a lot like "host name", but is
not the same thing, and that people often incorrectly refer to entire
host names as "domain names."

<p>In DNS, the full host name is properly called the FQDN (Fully Qualified
Domain Name) and consists of the hostname, then a period, then the
domain name.  The domain name itself usually has multiple components
separated by periods.  So for example, a system's hostname may be
<code>chicken</code> and its domain name might be <code>ai.mit.edu</code>, so
its FQDN (which is its host name) is <code>chicken.ai.mit.edu</code>.

<p>Adding to the confusion, though, is that DNS is not the only name space
in which a computer needs to be known.  Another name space is the
NIS (aka YP) name space.  For NIS purposes, there is another domain
name, which is called the NIS domain name or the YP domain name.  It
need not have anything to do with the DNS domain name.

<p>Confusing things even more is the fact that in DNS, it is possible for
multiple FQDNs to refer to the same system.  However, there is always
exactly one of them that is the true host name, and it is called the
canonical FQDN.

<p>In some contexts, the host name is called a "node name."

<p>For more information on DNS host naming, See <a href="#Host%20Names">Host Names</a>.

<p>Prototypes for these functions appear in <code>unistd.h</code>.

<p>The programs <code>hostname</code>, <code>hostid</code>, and <code>domainname</code> work
by calling these functions.

<p>
<table width="100%">
<tr>
<td align="left">int <b>gethostname</b><i> (char *<var>name</var>, size_t <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the host name of the system on which it is called,
in the array <var>name</var>.  The <var>size</var> argument specifies the size of
this array, in bytes.  Note that this is <em>not</em> the DNS hostname. 
If the system participates in DNS, this is the FQDN (see above).

<p>The return value is <code>0</code> on success and <code>-1</code> on failure.  In
the GNU C library, <code>gethostname</code> fails if <var>size</var> is not large
enough; then you can try again with a larger array.  The following
<code>errno</code> error condition is defined for this function:

<dl>
<dt><code>ENAMETOOLONG</code>
<dd>The <var>size</var> argument is less than the size of the host name plus one. 
</dl>

<p>On some systems, there is a symbol for the maximum possible host name
length: <code>MAXHOSTNAMELEN</code>.  It is defined in <code>sys/param.h</code>. 
But you can't count on this to exist, so it is cleaner to handle
failure and try again.

<p><code>gethostname</code> stores the beginning of the host name in <var>name</var>
even if the host name won't entirely fit.  For some purposes, a
truncated host name is good enough.  If it is, you can ignore the
error code. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sethostname</b><i> (const char *<var>name</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sethostname</code> function sets the host name of the system that
calls it to <var>name</var>, a string with length <var>length</var>.  Only
privileged processes are permitted to do this.

<p>Usually <code>sethostname</code> gets called just once, at system boot time. 
Often, the program that calls it sets it to the value it finds in the
file <code>/etc/hostname</code>.

<p>Be sure to set the host name to the full host name, not just the DNS
hostname (see above).

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
The following <code>errno</code> error condition is defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>This process cannot set the host name because it is not privileged. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>getdomainnname</b><i> (char *<var>name</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>getdomainname</code> returns the NIS (aka YP) domain name of the system
on which it is called.  Note that this is not the more popular DNS
domain name.  Get that with <code>gethostname</code>.

<p>The specifics of this function are analogous to <code>gethostname</code>, above.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>setdomainname</b><i> (const char *<var>name</var>, size_t <var>length</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>getdomainname</code> sets the NIS (aka YP) domain name of the system
on which it is called.  Note that this is not the more popular DNS
domain name.  Set that with <code>sethostname</code>.

<p>The specifics of this function are analogous to <code>sethostname</code>, above.

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>gethostid</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the "host ID" of the machine the program is
running on.  By convention, this is usually the primary Internet IP address
of that machine, converted to a <code>long&nbsp;int</code>.  However, on some
systems it is a meaningless but unique number which is hard-coded for
each machine.

<p>This is not widely used.  It arose in BSD 4.2, but was dropped in BSD 4.4. 
It is not required by POSIX.

<p>The proper way to query the IP address is to use <code>gethostbyname</code>
on the results of <code>gethostname</code>.  For more information on IP addresses,
See <a href="#Host%20Addresses">Host Addresses</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>sethostid</b><i> (long int <var>id</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>sethostid</code> function sets the "host ID" of the host machine
to <var>id</var>.  Only privileged processes are permitted to do this.  Usually
it happens just once, at system boot time.

<p>The proper way to establish the primary IP address of a system
is to configure the IP address resolver to associate that IP address with
the system's host name as returned by <code>gethostname</code>.  For example,
put a record for the system in <code>/etc/hosts</code>.

<p>See <code>gethostid</code> above for more information on host ids.

<p>The return value is <code>0</code> on success and <code>-1</code> on failure. 
The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EPERM</code>
<dd>This process cannot set the host name because it is not privileged.

<br><dt><code>ENOSYS</code>
<dd>The operating system does not support setting the host ID.  On some
systems, the host ID is a meaningless but unique number hard-coded for
each machine. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Platform%20Type">Platform Type</a>,
Next:<a rel=next accesskey=n href="#Filesystem%20Handling">Filesystem Handling</a>,
Previous:<a rel=previous accesskey=p href="#Host%20Identification">Host Identification</a>,
Up:<a rel=up accesskey=u href="#System%20Management">System Management</a>
<br>

<h3>Platform Type Identification</h3>

<p>You can use the <code>uname</code> function to find out some information about
the type of computer your program is running on.  This function and the
associated data type are declared in the header file
<code>sys/utsname.h</code>.

<p>As a bonus, <code>uname</code> also gives some information identifying the
particular system your program is running on.  This is the same information
which you can get with functions targetted to this purpose described in
<a href="#Host%20Identification">Host Identification</a>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct utsname</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>utsname</code> structure is used to hold information returned
by the <code>uname</code> function.  It has the following members:

<dl>
<dt><code>char sysname[]</code>
<dd>This is the name of the operating system in use.

<br><dt><code>char release[]</code>
<dd>This is the current release level of the operating system implementation.

<br><dt><code>char version[]</code>
<dd>This is the current version level within the release of the operating
system.

<br><dt><code>char machine[]</code>
<dd>This is a description of the type of hardware that is in use.

<p>Some systems provide a mechanism to interrogate the kernel directly for
this information.  On systems without such a mechanism, the GNU C
library fills in this field based on the configuration name that was
specified when building and installing the library.

<p>GNU uses a three-part name to describe a system configuration; the three
parts are <var>cpu</var>, <var>manufacturer</var> and <var>system-type</var>, and they
are separated with dashes.  Any possible combination of three names is
potentially meaningful, but most such combinations are meaningless in
practice and even the meaningful ones are not necessarily supported by
any particular GNU program.

<p>Since the value in <code>machine</code> is supposed to describe just the
hardware, it consists of the first two parts of the configuration name:
<code><var>cpu</var>-<var>manufacturer</var></code>.  For example, it might be one of these:

<blockquote>
<code>"sparc-sun"</code>,
<code>"i386-<var>anything</var>"</code>,
<code>"m68k-hp"</code>,
<code>"m68k-sony"</code>,
<code>"m68k-sun"</code>,
<code>"mips-dec"</code>
</blockquote>

<br><dt><code>char nodename[]</code>
<dd>This is the host name of this particular computer.  In the GNU C
library, the value is the same as that returned by <code>gethostname</code>;
see <a href="#Host%20Identification">Host Identification</a>.

<p>gethostname() is implemented with a call to uname().

<br><dt><code>char domainname[]</code>
<dd>This is the NIS or YP domain name.  It is the same value returned by
<code>getdomainname</code>; see <a href="#Host%20Identification">Host Identification</a>.  This element
is a relatively recent invention and use of it is not as portable as
use of the rest of the structure.

</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>uname</b><i> (struct utsname *<var>info</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>uname</code> function fills in the structure pointed to by
<var>info</var> with information about the operating system and host machine. 
A non-negative value indicates that the data was successfully stored.

<p><code>-1</code> as the value indicates an error.  The only error possible is
<code>EFAULT</code>, which we normally don't mention as it is always a
possibility. 
</td></tr>
</table>

<p><hr>
Node:<a name="Filesystem%20Handling">Filesystem Handling</a>,
Next:<a rel=next accesskey=n href="#System%20Parameters">System Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Platform%20Type">Platform Type</a>,
Up:<a rel=up accesskey=u href="#System%20Management">System Management</a>
<br>

<h3>Controlling and Querying Mounts</h3>

<p>All files are in filesystems, and before you can access any file, its
filesystem must be mounted.  Because of Unix's concept of
<em>Everything is a file</em>, mounting of filesystems is central to doing
almost anything.  This section explains how to find out what filesystems
are currently mounted and what filesystems are available for mounting,
and how to change what is mounted.

<p>The classic filesystem is the contents of a disk drive.  The concept is
considerably more abstract, though, and lots of things other than disk
drives can be mounted.

<p>Some block devices don't correspond to traditional devices like disk
drives.  For example, a loop device is a block device whose driver uses
a regular file in another filesystem as its medium.  So if that regular
file contains appropriate data for a filesystem, you can by mounting the
loop device essentially mount a regular file.

<p>Some filesystems aren't based on a device of any kind.  The "proc"
filesystem, for example, contains files whose data is made up by the
filesystem driver on the fly whenever you ask for it.  And when you
write to it, the data you write causes changes in the system.  No data
gets stored.

<ul>
<li><a accesskey=1 href="#Mount%20Information">Mount Information</a>:            What is or could be mounted? 
<li><a accesskey=2 href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>:        Controlling what is mounted and how
</ul>

<p><hr>
Node:<a name="Mount%20Information">Mount Information</a>,
Next:<a rel=next accesskey=n href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>,
Up:<a rel=up accesskey=u href="#Filesystem%20Handling">Filesystem Handling</a>
<br>

<h4>Mount Information</h4>

<p>For some programs it is desirable and necessary to access information
about whether a certain filesystem is mounted and, if it is, where, or
simply to get lists of all the available filesystems.  The GNU libc
provides some functions to retrieve this information portably.

<p>Traditionally Unix systems have a file named <code>/etc/fstab</code> which
describes all possibly mounted filesystems.  The <code>mount</code> program
uses this file to mount at startup time of the system all the necessary
filesystems.  The information about all the filesystems actually mounted
is normally kept in a file named <code>/etc/mtab</code>.  Both files share
the same syntax and it is crucial that this syntax is followed all the
time.  Therefore it is best to never directly write the files.  The
functions described in this section can do this and they also provide
the functionality to convert the external textual representation to the
internal representation.

<p>Note that the <code>fstab</code> and <code>mtab</code> files are maintained on a
system by <em>convention</em>.  It is possible for the files not to exist
or not to be consistent with what is really mounted or available to
mount, if the system's administration policy allows it.  But programs
that mount and unmount filesystems typically maintain and use these
files as described herein.

<p>The filenames given above should never be used directly.  The portable
way to handle these file is to use the macros <code>_PATH_FSTAB</code>,
defined in <code>fstab.h</code> and <code>_PATH_MNTTAB</code>, defined in
<code>mntent.h</code>, respectively.  There are also two alternate macro names
<code>FSTAB</code> and <code>_PATH_MOUNTED</code> defined but both names are
deprecated and kept only for backward compatibility.  The two former
names should always be used.

<ul>
<li><a accesskey=1 href="#fstab">fstab</a>:                        The <code>fstab</code> file
<li><a accesskey=2 href="#mtab">mtab</a>:                         The <code>mtab</code> file
<li><a accesskey=3 href="#Other%20Mount%20Information">Other Mount Information</a>:      Other (non-libc) sources of mount information
</ul>

<p><hr>
Node:<a name="fstab">fstab</a>,
Next:<a rel=next accesskey=n href="#mtab">mtab</a>,
Up:<a rel=up accesskey=u href="#Mount%20Information">Mount Information</a>
<br>

<h5>The <code>fstab</code> file</h5>

<p>The internal representation for entries of the file is <code>struct&nbsp;fstab</code>, defined in <code>fstab.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct fstab</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used with the <code>getfsent</code>, <code>getfsspec</code>, and
<code>getfsfile</code> functions.

<dl>
<dt><code>char *fs_spec</code>
<dd>This element describes the device from which the filesystem is mounted. 
Normally this is the name of a special device, such as a hard disk
partition, but it could also be a more or less generic string.  For
<dfn>NFS</dfn> it would be a hostname and directory name combination.

<p>Even though the element is not declared <code>const</code> it shouldn't be
modified.  The missing <code>const</code> has historic reasons, since this
function predates ISO&nbsp;C.  The same is true for the other string
elements of this structure.

<br><dt><code>char *fs_file</code>
<dd>This describes the mount point on the local system.  I.e., accessing any
file in this filesystem has implicitly or explicitly this string as a
prefix.

<br><dt><code>char *fs_vfstype</code>
<dd>This is the type of the filesystem.  Depending on what the underlying
kernel understands it can be any string.

<br><dt><code>char *fs_mntops</code>
<dd>This is a string containing options passed to the kernel with the
<code>mount</code> call.  Again, this can be almost anything.  There can be
more than one option, separated from the others by a comma.  Each option
consists of a name and an optional value part, introduced by an <code>=</code>
character.

<p>If the value of this element must be processed it should ideally be done
using the <code>getsubopt</code> function; see <a href="#Suboptions">Suboptions</a>.

<br><dt><code>const char *fs_type</code>
<dd>This name is poorly chosen.  This element points to a string (possibly
in the <code>fs_mntops</code> string) which describes the modes with which the
filesystem is mounted.  <code>fstab</code> defines five macros to describe the
possible values:

<dl>
<dt><code>FSTAB_RW</code>
<dd>The filesystems gets mounted with read and write enabled. 
<br><dt><code>FSTAB_RQ</code>
<dd>The filesystems gets mounted with read and write enabled.  Write access
is restricted by quotas. 
<br><dt><code>FSTAB_RO</code>
<dd>The filesystem gets mounted read-only. 
<br><dt><code>FSTAB_SW</code>
<dd>This is not a real filesystem, it is a swap device. 
<br><dt><code>FSTAB_XX</code>
<dd>This entry from the <code>fstab</code> file is totally ignored. 
</dl>

<p>Testing for equality with these value must happen using <code>strcmp</code>
since these are all strings.  Comparing the pointer will probably always
fail.

<br><dt><code>int fs_freq</code>
<dd>This element describes the dump frequency in days.

<br><dt><code>int fs_passno</code>
<dd>This element describes the pass number on parallel dumps.  It is closely
related to the <code>dump</code> utility used on Unix systems. 
</dl>
</td></tr>
</table>

<p>To read the entire content of the of the <code>fstab</code> file the GNU libc
contains a set of three functions which are designed in the usual way.

<p>
<table width="100%">
<tr>
<td align="left">int <b>setfsent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function makes sure that the internal read pointer for the
<code>fstab</code> file is at the beginning of the file.  This is done by
either opening the file or resetting the read pointer.

<p>Since the file handle is internal to the libc this function is not
thread-safe.

<p>This function returns a non-zero value if the operation was successful
and the <code>getfs*</code> functions can be used to read the entries of the
file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>endfsent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function makes sure that all resources acquired by a prior call to
<code>setfsent</code> (explicitly or implicitly by calling <code>getfsent</code>) are
freed. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct fstab * <b>getfsent</b><i> (void)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry of the <code>fstab</code> file.  If this
is the first call to any of the functions handling <code>fstab</code> since
program start or the last call of <code>endfsent</code>, the file will be
opened.

<p>The function returns a pointer to a variable of type <code>struct
fstab</code>.  This variable is shared by all threads and therefore this
function is not thread-safe.  If an error occurred <code>getfsent</code>
returns a <code>NULL</code> pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct fstab * <b>getfsspec</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry of the <code>fstab</code> file which has
a string equal to <var>name</var> pointed to by the <code>fs_spec</code> element. 
Since there is normally exactly one entry for each special device it
makes no sense to call this function more than once for the same
argument.  If this is the first call to any of the functions handling
<code>fstab</code> since program start or the last call of <code>endfsent</code>,
the file will be opened.

<p>The function returns a pointer to a variable of type <code>struct
fstab</code>.  This variable is shared by all threads and therefore this
function is not thread-safe.  If an error occurred <code>getfsent</code>
returns a <code>NULL</code> pointer. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct fstab * <b>getfsfile</b><i> (const char *<var>name</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function returns the next entry of the <code>fstab</code> file which has
a string equal to <var>name</var> pointed to by the <code>fs_file</code> element. 
Since there is normally exactly one entry for each mount point it
makes no sense to call this function more than once for the same
argument.  If this is the first call to any of the functions handling
<code>fstab</code> since program start or the last call of <code>endfsent</code>,
the file will be opened.

<p>The function returns a pointer to a variable of type <code>struct
fstab</code>.  This variable is shared by all threads and therefore this
function is not thread-safe.  If an error occurred <code>getfsent</code>
returns a <code>NULL</code> pointer. 
</td></tr>
</table>

<p><hr>
Node:<a name="mtab">mtab</a>,
Next:<a rel=next accesskey=n href="#Other%20Mount%20Information">Other Mount Information</a>,
Previous:<a rel=previous accesskey=p href="#fstab">fstab</a>,
Up:<a rel=up accesskey=u href="#Mount%20Information">Mount Information</a>
<br>

<h5>The <code>mtab</code> file</h5>

<p>The following functions and data structure access the <code>mtab</code> file.

<p>
<table width="100%">
<tr>
<td align="left"><b>struct mntent</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This structure is used with the <code>getmntent</code>, <code>getmntent_t</code>,
<code>addmntent</code>, and <code>hasmntopt</code> functions.

<dl>
<dt><code>char *mnt_fsname</code>
<dd>This element contains a pointer to a string describing the name of the
special device from which the filesystem is mounted.  It corresponds to
the <code>fs_spec</code> element in <code>struct fstab</code>.

<br><dt><code>char *mnt_dir</code>
<dd>This element points to a string describing the mount point of the
filesystem.  It corresponds to the <code>fs_file</code> element in
<code>struct fstab</code>.

<br><dt><code>char *mnt_type</code>
<dd><code>mnt_type</code> describes the filesystem type and is therefore
equivalent to <code>fs_vfstype</code> in <code>struct fstab</code>.  <code>mntent.h</code>
defines a few symbolic names for some of the values this string can have. 
But since the kernel can support arbitrary filesystems it does not
make much sense to give them symbolic names.  If one knows the symbol
name one also knows the filesystem name.  Nevertheless here follows the
list of the symbols provided in <code>mntent.h</code>.

<dl>
<dt><code>MNTTYPE_IGNORE</code>
<dd>This symbol expands to <code>"ignore"</code>.  The value is sometime used in
<code>fstab</code> files to make sure entries are not used without removing them. 
<br><dt><code>MNTTYPE_NFS</code>
<dd>Expands to <code>"nfs"</code>.  Using this macro sometimes could make sense
since it names the default NFS implementation, in case both version 2
and 3 are supported. 
<br><dt><code>MNTTYPE_SWAP</code>
<dd>This symbol expands to <code>"swap"</code>.  It names the special <code>fstab</code>
entry which names one of the possibly multiple swap partitions. 
</dl>

<br><dt><code>char *mnt_opts</code>
<dd>The element contains a string describing the options used while mounting
the filesystem.  As for the equivalent element <code>fs_mntops</code> of
<code>struct fstab</code> it is best to use the function <code>getsubopt</code>
(see <a href="#Suboptions">Suboptions</a>) to access the parts of this string.

<p>The <code>mntent.h</code> file defines a number of macros with string values
which correspond to some of the options understood by the kernel.  There
might be many more options which are possible so it doesn't make much sense
to rely on these macros but to be consistent here is the list:

<dl>
<dt><code>MNTOPT_DEFAULTS</code>
<dd>Expands to <code>"defaults"</code>.  This option should be used alone since it
indicates all values for the customizable values are chosen to be the
default. 
<br><dt><code>MNTOPT_RO</code>
<dd>Expands to <code>"ro"</code>.  See the <code>FSTAB_RO</code> value, it means the
filesystem is mounted read-only. 
<br><dt><code>MNTOPT_RW</code>
<dd>Expand to <code>"rw"</code>.  See the <code>FSTAB_RW</code> value, it means the
filesystem is mounted with read and write permissions. 
<br><dt><code>MNTOPT_SUID</code>
<dd>Expands to <code>"suid"</code>.  This means that the SUID bit (see <a href="#How%20Change%20Persona">How Change Persona</a>) is respected when a program from the filesystem is
started. 
<br><dt><code>MNTOPT_NOSUID</code>
<dd>Expands to <code>"nosuid"</code>.  This is the opposite of <code>MNTOPT_SUID</code>,
the SUID bit for all files from the filesystem is ignored. 
<br><dt><code>MNTOPT_NOAUTO</code>
<dd>Expands to <code>"noauto"</code>.  At startup time the <code>mount</code> program
will ignore this entry if it is started with the <code>-a</code> option to
mount all filesystems mentioned in the <code>fstab</code> file. 
</dl>

<p>As for the <code>FSTAB_*</code> entries introduced above it is important to
use <code>strcmp</code> to check for equality.

<br><dt><code>mnt_freq</code>
<dd>This elements corresponds to <code>fs_freq</code> and also specifies the
frequency in days in which dumps are made.

<br><dt><code>mnt_passno</code>
<dd>This element is equivalent to <code>fs_passno</code> with the same meaning
which is uninteresting for all programs beside <code>dump</code>. 
</dl>
</td></tr>
</table>

<p>For accessing the <code>mtab</code> file there is again a set of three
functions to access all entries in a row.  Unlike the functions to
handle <code>fstab</code> these functions do not access a fixed file and there
is even a thread safe variant of the get function.  Beside this the GNU
libc contains functions to alter the file and test for specific options.

<p>
<table width="100%">
<tr>
<td align="left">FILE * <b>setmntent</b><i> (const char *<var>file</var>, const char *<var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>setmntent</code> function prepares the file named <var>FILE</var> which
must be in the format of a <code>fstab</code> and <code>mtab</code> file for the
upcoming processing through the other functions of the family.  The
<var>mode</var> parameter can be chosen in the way the <var>opentype</var>
parameter for <code>fopen</code> (see <a href="#Opening%20Streams">Opening Streams</a>) can be chosen.  If
the file is opened for writing the file is also allowed to be empty.

<p>If the file was successfully opened <code>setmntent</code> returns a file
descriptor for future use.  Otherwise the return value is <code>NULL</code>
and <code>errno</code> is set accordingly. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>endmntent</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function takes for the <var>stream</var> parameter a file handle which
previously was returned from the <code>setmntent</code> call. 
<code>endmntent</code> closes the stream and frees all resources.

<p>The return value is 1 unless an error occurred in which case it
is 0. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct mntent * <b>getmntent</b><i> (FILE *<var>stream</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getmntent</code> function takes as the parameter a file handle
previously returned by successful call to <code>setmntent</code>.  It returns
a pointer to a static variable of type <code>struct mntent</code> which is
filled with the information from the next entry from the file currently
read.

<p>The file format used prescribes the use of spaces or tab characters to
separate the fields.  This makes it harder to use name containing one of
these characters (e.g., mount points using spaces).  Therefore these
characters are encoded in the files and the <code>getmntent</code> function
takes care of the decoding while reading the entries back in. 
<code>'\040'</code> is used to encode a space character, <code>'\012'</code> to
encode a tab character and <code>'\\'</code> to encode a backslash.

<p>If there was an error or the end of the file is reached the return value
is <code>NULL</code>.

<p>This function is not thread-safe since all calls to this function return
a pointer to the same static variable.  <code>getmntent_r</code> should be
used in situations where multiple threads access the file. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">struct mntent * <b>getmntent_r</b><i> (FILE *<var>stream</var>, struct mentent *<var>result</var>, char *<var>buffer</var>, int <var>bufsize</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>getmntent_r</code> function is the reentrant variant of
<code>getmntent</code>.  It also returns the next entry from the file and
returns a pointer.  The actual variable the values are stored in is not
static, though.  Instead the function stores the values in the variable
pointed to by the <var>result</var> parameter.  Additional information (e.g.,
the strings pointed to by the elements of the result) are kept in the
buffer of size <var>bufsize</var> pointed to by <var>buffer</var>.

<p>Escaped characters (space, tab, backslash) are converted back in the
same way as it happens for <code>getmentent</code>.

<p>The function returns a <code>NULL</code> pointer in error cases.  Errors could be:
<ul>
<li>error while reading the file,
<li>end of file reached,
<li><var>bufsize</var> is too small for reading a complete new entry. 
</ul>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>addmntent</b><i> (FILE *<var>stream</var>, const struct mntent *<var>mnt</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>addmntent</code> function allows adding a new entry to the file
previously opened with <code>setmntent</code>.  The new entries are always
appended.  I.e., even if the position of the file descriptor is not at
the end of the file this function does not overwrite an existing entry
following the current position.

<p>The implication of this is that to remove an entry from a file one has
to create a new file while leaving out the entry to be removed and after
closing the file remove the old one and rename the new file to the
chosen name.

<p>This function takes care of spaces and tab characters in the names to be
written to the file.  It converts them and the backslash character into
the format describe in the <code>getmntent</code> description above.

<p>This function returns 0 in case the operation was successful. 
Otherwise the return value is 1 and <code>errno</code> is set
appropriately. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>hasmntopt</b><i> (const struct mntent *<var>mnt</var>, const char *<var>opt</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function can be used to check whether the string pointed to by the
<code>mnt_opts</code> element of the variable pointed to by <var>mnt</var> contains
the option <var>opt</var>.  If this is true a pointer to the beginning of the
option in the <code>mnt_opts</code> element is returned.  If no such option
exists the function returns <code>NULL</code>.

<p>This function is useful to test whether a specific option is present but
when all options have to be processed one is better off with using the
<code>getsubopt</code> function to iterate over all options in the string. 
</td></tr>
</table>

<p><hr>
Node:<a name="Other%20Mount%20Information">Other Mount Information</a>,
Previous:<a rel=previous accesskey=p href="#mtab">mtab</a>,
Up:<a rel=up accesskey=u href="#Mount%20Information">Mount Information</a>
<br>

<h5>Other (Non-libc) Sources of Mount Information</h5>

<p>On a system with a Linux kernel and the <code>proc</code> filesystem, you can
get information on currently mounted filesystems from the file
<code>mounts</code> in the <code>proc</code> filesystem.  Its format is similar to
that of the <code>mtab</code> file, but represents what is truly mounted
without relying on facilities outside the kernel to keep <code>mtab</code> up
to date.

<p><hr>
Node:<a name="Mount-Unmount-Remount">Mount-Unmount-Remount</a>,
Previous:<a rel=previous accesskey=p href="#Mount%20Information">Mount Information</a>,
Up:<a rel=up accesskey=u href="#Filesystem%20Handling">Filesystem Handling</a>
<br>

<h4>Mount, Unmount, Remount</h4>

<p>This section describes the functions for mounting, unmounting, and
remounting filesystems.

<p>Only the superuser can mount, unmount, or remount a filesystem.

<p>These functions do not access the <code>fstab</code> and <code>mtab</code> files.  You
should maintain and use these separately.  See <a href="#Mount%20Information">Mount Information</a>.

<p>The symbols in this section are declared in <code>sys/mount.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>mount</b><i> (const char *<var>special_file</var>, const char *<var>dir</var>, const char *<var>fstype</var>, unsigned long int <var>options</var>, const void *<var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>mount</code> mounts or remounts a filesystem.  The two operations are
quite different and are merged rather unnaturally into this one function. 
The <code>MS_REMOUNT</code> option, explained below, determines whether
<code>mount</code> mounts or remounts.

<p>For a mount, the filesystem on the block device represented by the
device special file named <var>special_file</var> gets mounted over the mount
point <var>dir</var>.  This means that the directory <var>dir</var> (along with any
files in it) is no longer visible; in its place (and still with the name
<var>dir</var>) is the root directory of the filesystem on the device.

<p>As an exception, if the filesystem type (see below) is one which is not
based on a device (e.g. "proc"), <code>mount</code> instantiates a
filesystem and mounts it over <var>dir</var> and ignores <var>special_file</var>.

<p>For a remount, <var>dir</var> specifies the mount point where the filesystem
to be remounted is (and remains) mounted and <var>special_file</var> is
ignored.  Remounting a filesystem means changing the options that control
operations on the filesystem while it is mounted.  It does not mean
unmounting and mounting again.

<p>For a mount, you must identify the type of the filesystem as
<var>fstype</var>.  This type tells the kernel how to access the filesystem
and can be thought of as the name of a filesystem driver.  The
acceptable values are system dependent.  On a system with a Linux kernel
and the <code>proc</code> filesystem, the list of possible values is in the
file <code>filesystems</code> in the <code>proc</code> filesystem (e.g. type
<kbd>cat /proc/filesystems</kbd> to see the list).  With a Linux kernel, the
types of filesystems that <code>mount</code> can mount, and their type names,
depends on what filesystem drivers are configured into the kernel or
loaded as loadable kernel modules.  An example of a common value for
<var>fstype</var> is <code>ext2</code>.

<p>For a remount, <code>mount</code> ignores <var>fstype</var>.

<p><var>options</var> specifies a variety of options that apply until the
filesystem is unmounted or remounted.  The precise meaning of an option
depends on the filesystem and with some filesystems, an option may have
no effect at all.  Furthermore, for some filesystems, some of these
options (but never <code>MS_RDONLY</code>) can be overridden for individual
file accesses via <code>ioctl</code>.

<p><var>options</var> is a bit string with bit fields defined using the
following mask and masked value macros:

<dl>
<dt><code>MS_MGC_MASK</code>
<dd>This multibit field contains a magic number.  If it does not have the value
<code>MS_MGC_VAL</code>, <code>mount</code> assumes all the following bits are zero and
the <var>data</var> argument is a null string, regardless of their actual values.

<br><dt><code>MS_REMOUNT</code>
<dd>This bit on means to remount the filesystem.  Off means to mount it.

<br><dt><code>MS_RDONLY</code>
<dd>This bit on specifies that no writing to the filesystem shall be allowed
while it is mounted.  This cannot be overridden by <code>ioctl</code>.  This
option is available on nearly all filesystems.

<br><dt><code>S_IMMUTABLE</code>
<dd>This bit on specifies that no writing to the files in the filesystem
shall be allowed while it is mounted.  This can be overridden for a
particular file access by a properly privileged call to <code>ioctl</code>. 
This option is a relatively new invention and is not available on many
filesystems.

<br><dt><code>S_APPEND</code>
<dd>This bit on specifies that the only file writing that shall be allowed
while the filesystem is mounted is appending.  Some filesystems allow
this to be overridden for a particular process by a properly privileged
call to <code>ioctl</code>.  This is a relatively new invention and is not
available on many filesystems.

<br><dt><code>MS_NOSUID</code>
<dd>This bit on specifies that Setuid and Setgid permissions on files in the
filesystem shall be ignored while it is mounted.

<br><dt><code>MS_NOEXEC</code>
<dd>This bit on specifies that no files in the filesystem shall be executed
while the filesystem is mounted.

<br><dt><code>MS_NODEV</code>
<dd>This bit on specifies that no device special files in the filesystem
shall be accessible while the filesystem is mounted.

<br><dt><code>MS_SYNCHRONOUS</code>
<dd>This bit on specifies that all writes to the filesystem while it is
mounted shall be synchronous; i.e. data shall be synced before each
write completes rather than held in the buffer cache.

<br><dt><code>MS_MANDLOCK</code>
<dd>This bit on specifies that mandatory locks on files shall be permitted while
the filesystem is mounted.

<br><dt><code>MS_NOATIME</code>
<dd>This bit on specifies that access times of files shall not be updated when
the files are accessed while the filesystem is mounted.

<br><dt><code>MS_NODIRATIME</code>
<dd>This bit on specifies that access times of directories shall not be updated
when the directories are accessed while the filesystem in mounted.

</dl>

<p>Any bits not covered by the above masks should be set off; otherwise,
results are undefined.

<p>The meaning of <var>data</var> depends on the filesystem type and is controlled
entirely by the filesystem driver in the kernel.

<p>Example:

<br><pre>#include &lt;sys/mount.h&gt;

mount("/dev/hdb", "/cdrom", MS_MGC_VAL | MS_RDONLY | MS_NOSUID, "");

mount("/dev/hda2", "/mnt", MS_MGC_VAL | MS_REMOUNT, "");
</pre>

<p>Appropriate arguments for <code>mount</code> are conventionally recorded in
the <code>fstab</code> table.  See <a href="#Mount%20Information">Mount Information</a>.

<p>The return value is zero if the mount or remount is successful.  Otherwise,
it is <code>-1</code> and <code>errno</code> is set appropriately.  The values of
<code>errno</code> are filesystem dependent, but here is a general list:

<dl>
<dt><code>EPERM</code>
<dd>The process is not superuser. 
<br><dt><code>ENODEV</code>
<dd>The file system type <var>fstype</var> is not known to the kernel. 
<br><dt><code>ENOTBLK</code>
<dd>The file <var>dev</var> is not a block device special file. 
<br><dt><code>EBUSY</code>
<dd>
<ul>

<li>The device is already mounted.

<li>The mount point is busy.  (E.g. it is some process' working directory or
has a filesystem mounted on it already).

<li>The request is to remount read-only, but there are files open for write. 
</ul>

<br><dt><code>EINVAL</code>
<dd>
<ul>

<li>A remount was attempted, but there is no filesystem mounted over the
specified mount point.

<li>The supposed filesystem has an invalid superblock.

</ul>

<br><dt><code>EACCES</code>
<dd>
<ul>

<li>The filesystem is inherently read-only (possibly due to a switch on the
device) and the process attempted to mount it read/write (by setting the
<code>MS_RDONLY</code> bit off).

<li><var>special_file</var> or <var>dir</var> is not accessible due to file permissions.

<li><var>special_file</var> is not accessible because it is in a filesystem that is
mounted with the <code>MS_NODEV</code> option.

</ul>

<br><dt><code>EM_FILE</code>
<dd>The table of dummy devices is full.  <code>mount</code> needs to create a
dummy device (aka "unnamed" device) if the filesystem being mounted is
not one that uses a device.

</dl>

</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>umount2</b><i> (const char *<var>file</var>, int <var>flags</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>umount2</code> unmounts a filesystem.

<p>You can identify the filesystem to unmount either by the device special
file that contains the filesystem or by the mount point.  The effect is
the same.  Specify either as the string <var>file</var>.

<p><var>flags</var> contains the one-bit field identified by the following
mask macro:

<dl>

<br><dt><code>MNT_FORCE</code>
<dd>This bit on means to force the unmounting even if the filesystem is
busy, by making it unbusy first.  If the bit is off and the filesystem is
busy, <code>umount2</code> fails with <code>errno</code> = <code>EBUSY</code>.  Depending
on the filesystem, this may override all, some, or no busy conditions.

</dl>

<p>All other bits in <var>flags</var> should be set to zero; otherwise, the result
is undefined.

<p>Example:

<br><pre>#include &lt;sys/mount.h&gt;

umount2("/mnt", MNT_FORCE);

umount2("/dev/hdd1", 0);
</pre>

<p>After the filesystem is unmounted, the directory that was the mount point
is visible, as are any files in it.

<p>As part of unmounting, <code>umount2</code> syncs the filesystem.

<p>If the unmounting is successful, the return value is zero.  Otherwise, it
is <code>-1</code> and <code>errno</code> is set accordingly:

<dl>
<dt><code>EPERM</code>
<dd>The process is not superuser. 
<br><dt><code>EBUSY</code>
<dd>The filesystem cannot be unmounted because it is busy.  E.g. it contains
a directory that is some process's working directory or a file that some
process has open.  With some filesystems in some cases, you can avoid
this failure with the <code>MNT_FORCE</code> option.

<br><dt><code>EINVAL</code>
<dd><var>file</var> validly refers to a file, but that file is neither a mount
point nor a device special file of a currently mounted filesystem.

</dl>

<p>This function is not available on all systems. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>umount</b><i> (const char *<var>file</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>umount</code> does the same thing as <code>umount2</code> with <var>flags</var> set
to zeroes.  It is more widely available than <code>umount2</code> but since it
lacks the possibility to forcefully unmount a filesystem is deprecated
when <code>umount2</code> is also available. 
</td></tr>
</table>

<p><hr>
Node:<a name="System%20Parameters">System Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Filesystem%20Handling">Filesystem Handling</a>,
Up:<a rel=up accesskey=u href="#System%20Management">System Management</a>
<br>

<h3>System Parameters</h3>

<p>This section describes the <code>sysctl</code> function, which gets and sets
a variety of system parameters.

<p>The symbols used in this section are declared in the file <code>sysctl.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>sysctl</b><i> (int *<var>names</var>, int <var>nlen</var>, void *<var>oldval</var>,
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
        size_t *<var>oldlenp</var>, void *<var>newval</var>, size_t <var>newlen</var>)

<p><code>sysctl</code> gets or sets a specified system parameter.  There are so
many of these parameters that it is not practical to list them all here,
but here are some examples:

<ul>
<li>network domain name
<li>paging parameters
<li>network Address Resolution Protocol timeout time
<li>maximum number of files that may be open
<li>root filesystem device
<li>when kernel was built
</ul>

<p>The set of available parameters depends on the kernel configuration and
can change while the system is running, particularly when you load and
unload loadable kernel modules.

<p>The system parameters with which <code>syslog</code> is concerned are arranged
in a hierarchical structure like a hierarchical filesystem.  To identify
a particular parameter, you specify a path through the structure in a
way analogous to specifying the pathname of a file.  Each component of
the path is specified by an integer and each of these integers has a
macro defined for it by <code>sysctl.h</code>.  <var>names</var> is the path, in
the form of an array of integers.  Each component of the path is one
element of the array, in order.  <var>nlen</var> is the number of components
in the path.

<p>For example, the first component of the path for all the paging
parameters is the value <code>CTL_VM</code>.  For the free page thresholds, the
second component of the path is <code>VM_FREEPG</code>.  So to get the free
page threshold values, make <var>names</var> an array containing the two
elements <code>CTL_VM</code> and <code>VM_FREEPG</code> and make <var>nlen</var> = 2.

<p>The format of the value of a parameter depends on the parameter. 
Sometimes it is an integer; sometimes it is an ASCII string; sometimes
it is an elaborate structure.  In the case of the free page thresholds
used in the example above, the parameter value is a structure containing
several integers.

<p>In any case, you identify a place to return the parameter's value with
<var>oldval</var> and specify the amount of storage available at that
location as *<var>oldlenp</var>.  *<var>oldlenp</var> does double duty because it
is also the output location that contains the actual length of the
returned value.

<p>If you don't want the parameter value returned, specify a null pointer
for <var>oldval</var>.

<p>To set the parameter, specify the address and length of the new value
as <var>newval</var> and <var>newlen</var>.  If you don't want to set the parameter,
specify a null pointer as <var>newval</var>.

<p>If you get and set a parameter in the same <code>sysctl</code> call, the value
returned is the value of the parameter before it was set.

<p>Each system parameter has a set of permissions similar to the
permissions for a file (including the permissions on directories in its
path) that determine whether you may get or set it.  For the purposes of
these permissions, every parameter is considered to be owned by the
superuser and Group 0 so processes with that effective uid or gid may
have more access to system parameters.  Unlike with files, the superuser
does not invariably have full permission to all system parameters, because
some of them are designed not to be changed ever.

<p><code>sysctl</code> returns a zero return value if it succeeds.  Otherwise, it
returns <code>-1</code> and sets <code>errno</code> appropriately.  Besides the
failures that apply to all system calls, the following are the
<code>errno</code> codes for all possible failures:

<dl>
<dt><code>EPERM</code>
<dd>The process is not permitted to access one of the components of the
path of the system parameter or is not permitted to access the system parameter
itself in the way (read or write) that it requested. 
<br><dt><code>ENOTDIR</code>
<dd>There is no system parameter corresponding to <var>name</var>. 
<br><dt><code>EFAULT</code>
<dd><var>oldval</var> is not null, which means the process wanted to read the parameter,
but *<var>oldlenp</var> is zero, so there is no place to return it. 
<br><dt><code>EINVAL</code>
<dd>
<ul>
<li>The process attempted to set a system parameter to a value that is not valid
for that parameter. 
<li>The space provided for the return of the system parameter is not the right
size for that parameter. 
</ul>
<br><dt><code>ENOMEM</code>
<dd>This value may be returned instead of the more correct <code>EINVAL</code> in some
cases where the space provided for the return of the system parameter is too
small.

</dl>

</td></tr>
</table>

<p>If you have a Linux kernel with the <code>proc</code> filesystem, you can get
and set most of the same parameters by reading and writing to files in
the <code>sys</code> directory of the <code>proc</code> filesystem.  In the <code>sys</code>
directory, the directory structure represents the hierarchical structure
of the parameters.  E.g. you can display the free page thresholds with
<br><pre>cat /proc/sys/vm/freepages
</pre>

<p>Some more traditional and more widely available, though less general,
GNU C library functions for getting and setting some of the same system
parameters are:

<ul>
<li><code>getdomainname</code>, <code>setdomainname</code>
<li><code>gethostname</code>, <code>sethostname</code> (See <a href="#Host%20Identification">Host Identification</a>.) 
<li><code>uname</code> (See <a href="#Platform%20Type">Platform Type</a>.) 
<li><code>bdflush</code>
</ul>

<p><hr>
Node:<a name="System%20Configuration">System Configuration</a>,
Next:<a rel=next accesskey=n href="#Cryptographic%20Functions">Cryptographic Functions</a>,
Previous:<a rel=previous accesskey=p href="#System%20Management">System Management</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>System Configuration Parameters</h2>

<p>The functions and macros listed in this chapter give information about
configuration parameters of the operating system--for example, capacity
limits, presence of optional POSIX features, and the default path for
executable files (see <a href="#String%20Parameters">String Parameters</a>).

<ul>
<li><a accesskey=1 href="#General%20Limits">General Limits</a>:            Constants and functions that describe
				various process-related limits that have
				one uniform value for any given machine. 
<li><a accesskey=2 href="#System%20Options">System Options</a>:            Optional POSIX features. 
<li><a accesskey=3 href="#Version%20Supported">Version Supported</a>:         Version numbers of POSIX.1 and POSIX.2. 
<li><a accesskey=4 href="#Sysconf">Sysconf</a>:                   Getting specific configuration values
                                of general limits and system options. 
<li><a accesskey=5 href="#Minimums">Minimums</a>:                  Minimum values for general limits.

<p>
</p><li><a accesskey=6 href="#Limits%20for%20Files">Limits for Files</a>:          Size limitations that pertain to individual files. 
                                These can vary between file systems
                                or even from file to file. 
<li><a accesskey=7 href="#Options%20for%20Files">Options for Files</a>:         Optional features that some files may support. 
<li><a accesskey=8 href="#File%20Minimums">File Minimums</a>:             Minimum values for file limits. 
<li><a accesskey=9 href="#Pathconf">Pathconf</a>:                  Getting the limit values for a particular file.

<p>
</p><li><a href="#Utility%20Limits">Utility Limits</a>:            Capacity limits of some POSIX.2 utility programs. 
<li><a href="#Utility%20Minimums">Utility Minimums</a>:          Minimum allowable values of those limits.

<p>
</p><li><a href="#String%20Parameters">String Parameters</a>:         Getting the default search path. 
</ul>

<p><hr>
Node:<a name="General%20Limits">General Limits</a>,
Next:<a rel=next accesskey=n href="#System%20Options">System Options</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>General Capacity Limits</h3>

<p>The POSIX.1 and POSIX.2 standards specify a number of parameters that
describe capacity limitations of the system.  These limits can be fixed
constants for a given operating system, or they can vary from machine to
machine.  For example, some limit values may be configurable by the
system administrator, either at run time or by rebuilding the kernel,
and this should not require recompiling application programs.

<p>Each of the following limit parameters has a macro that is defined in
<code>limits.h</code> only if the system has a fixed, uniform limit for the
parameter in question.  If the system allows different file systems or
files to have different limits, then the macro is undefined; use
<code>sysconf</code> to find out the limit that applies at a particular time
on a particular machine.  See <a href="#Sysconf">Sysconf</a>.

<p>Each of these parameters also has another macro, with a name starting
with <code>_POSIX</code>, which gives the lowest value that the limit is
allowed to have on <em>any</em> POSIX system.  See <a href="#Minimums">Minimums</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ARG_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined, the unvarying maximum combined length of the <var>argv</var> and
<var>environ</var> arguments that can be passed to the <code>exec</code> functions. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>CHILD_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined, the unvarying maximum number of processes that can exist
with the same real user ID at any one time.  In BSD and GNU, this is
controlled by the <code>RLIMIT_NPROC</code> resource limit; see <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>OPEN_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined, the unvarying maximum number of files that a single process
can have open simultaneously.  In BSD and GNU, this is controlled
by the <code>RLIMIT_NOFILE</code> resource limit; see <a href="#Limits%20on%20Resources">Limits on Resources</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>STREAM_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined, the unvarying maximum number of streams that a single
process can have open simultaneously.  See <a href="#Opening%20Streams">Opening Streams</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>TZNAME_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If defined, the unvarying maximum length of a time zone name. 
See <a href="#Time%20Zone%20Functions">Time Zone Functions</a>. 
</td></tr>
</table>

<p>These limit macros are always defined in <code>limits.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>NGROUPS_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The maximum number of supplementary group IDs that one process can have.

<p>The value of this macro is actually a lower bound for the maximum.  That
is, you can count on being able to have that many supplementary group
IDs, but a particular machine might let you have even more.  You can use
<code>sysconf</code> to see whether a particular machine will let you have
more (see <a href="#Sysconf">Sysconf</a>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>SSIZE_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest value that can fit in an object of type <code>ssize_t</code>. 
Effectively, this is the limit on the number of bytes that can be read
or written in a single operation.

<p>This macro is defined in all POSIX systems because this limit is never
configurable. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>RE_DUP_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest number of repetitions you are guaranteed is allowed in the
construct <code>\{<var>min</var>,<var>max</var>\}</code> in a regular expression.

<p>The value of this macro is actually a lower bound for the maximum.  That
is, you can count on being able to have that many repetitions, but a
particular machine might let you have even more.  You can use
<code>sysconf</code> to see whether a particular machine will let you have
more (see <a href="#Sysconf">Sysconf</a>).  And even the value that <code>sysconf</code> tells
you is just a lower bound--larger values might work.

<p>This macro is defined in all POSIX.2 systems, because POSIX.2 says it
should always be defined even if there is no specific imposed limit. 
</td></tr>
</table>

<p><hr>
Node:<a name="System%20Options">System Options</a>,
Next:<a rel=next accesskey=n href="#Version%20Supported">Version Supported</a>,
Previous:<a rel=previous accesskey=p href="#General%20Limits">General Limits</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Overall System Options</h3>

<p>POSIX defines certain system-specific options that not all POSIX systems
support.  Since these options are provided in the kernel, not in the
library, simply using the GNU C library does not guarantee any of these
features is supported; it depends on the system you are using.

<p>You can test for the availability of a given option using the macros in
this section, together with the function <code>sysconf</code>.  The macros are
defined only if you include <code>unistd.h</code>.

<p>For the following macros, if the macro is defined in <code>unistd.h</code>,
then the option is supported.  Otherwise, the option may or may not be
supported; use <code>sysconf</code> to find out.  See <a href="#Sysconf">Sysconf</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX_JOB_CONTROL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system supports job
control.  Otherwise, the implementation behaves as if all processes
within a session belong to a single process group.  See <a href="#Job%20Control">Job Control</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX_SAVED_IDS</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system remembers the
effective user and group IDs of a process before it executes an
executable file with the set-user-ID or set-group-ID bits set, and that
explicitly changing the effective user or group IDs back to these values
is permitted.  If this option is not defined, then if a nonprivileged
process changes its effective user or group ID to the real user or group
ID of the process, it can't change it back again.  See <a href="#Enable%2fDisable%20Setuid">Enable/Disable Setuid</a>. 
</td></tr>
</table>

<p>For the following macros, if the macro is defined in <code>unistd.h</code>,
then its value indicates whether the option is supported.  A value of
<code>-1</code> means no, and any other value means yes.  If the macro is not
defined, then the option may or may not be supported; use <code>sysconf</code>
to find out.  See <a href="#Sysconf">Sysconf</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX2_C_DEV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system has the POSIX.2
C compiler command, <code>c89</code>.  The GNU C library always defines this
as <code>1</code>, on the assumption that you would not have installed it if
you didn't have a C compiler. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX2_FORT_DEV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system has the POSIX.2
Fortran compiler command, <code>fort77</code>.  The GNU C library never
defines this, because we don't know what the system has. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX2_FORT_RUN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system has the POSIX.2
<code>asa</code> command to interpret Fortran carriage control.  The GNU C
library never defines this, because we don't know what the system has. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX2_LOCALEDEF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system has the POSIX.2
<code>localedef</code> command.  The GNU C library never defines this, because
we don't know what the system has. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX2_SW_DEV</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this symbol is defined, it indicates that the system has the POSIX.2
commands <code>ar</code>, <code>make</code>, and <code>strip</code>.  The GNU C library
always defines this as <code>1</code>, on the assumption that you had to have
<code>ar</code> and <code>make</code> to install the library, and it's unlikely that
<code>strip</code> would be absent when those are present. 
</td></tr>
</table>

<p><hr>
Node:<a name="Version%20Supported">Version Supported</a>,
Next:<a rel=next accesskey=n href="#Sysconf">Sysconf</a>,
Previous:<a rel=previous accesskey=p href="#System%20Options">System Options</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Which Version of POSIX is Supported</h3>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>_POSIX_VERSION</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant represents the version of the POSIX.1 standard to which
the implementation conforms.  For an implementation conforming to the
1995 POSIX.1 standard, the value is the integer <code>199506L</code>.

<p><code>_POSIX_VERSION</code> is always defined (in <code>unistd.h</code>) in any
POSIX system.

<p><strong>Usage Note:</strong> Don't try to test whether the system supports POSIX
by including <code>unistd.h</code> and then checking whether
<code>_POSIX_VERSION</code> is defined.  On a non-POSIX system, this will
probably fail because there is no <code>unistd.h</code>.  We do not know of
<em>any</em> way you can reliably test at compilation time whether your
target system supports POSIX or whether <code>unistd.h</code> exists.

<p>The GNU C compiler predefines the symbol <code>__POSIX__</code> if the target
system is a POSIX system.  Provided you do not use any other compilers
on POSIX systems, testing <code>defined (__POSIX__)</code> will reliably
detect such systems. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>_POSIX2_C_VERSION</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This constant represents the version of the POSIX.2 standard which the
library and system kernel support.  We don't know what value this will
be for the first version of the POSIX.2 standard, because the value is
based on the year and month in which the standard is officially adopted.

<p>The value of this symbol says nothing about the utilities installed on
the system.

<p><strong>Usage Note:</strong> You can use this macro to tell whether a POSIX.1
system library supports POSIX.2 as well.  Any POSIX.1 system contains
<code>unistd.h</code>, so include that file and then test <code>defined
(_POSIX2_C_VERSION)</code>. 
</td></tr>
</table>

<p><hr>
Node:<a name="Sysconf">Sysconf</a>,
Next:<a rel=next accesskey=n href="#Minimums">Minimums</a>,
Previous:<a rel=previous accesskey=p href="#Version%20Supported">Version Supported</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Using <code>sysconf</code></h3>

<p>When your system has configurable system limits, you can use the
<code>sysconf</code> function to find out the value that applies to any
particular machine.  The function and the associated <var>parameter</var>
constants are declared in the header file <code>unistd.h</code>.

<ul>
<li><a accesskey=1 href="#Sysconf%20Definition">Sysconf Definition</a>:         Detailed specifications of <code>sysconf</code>. 
<li><a accesskey=2 href="#Constants%20for%20Sysconf">Constants for Sysconf</a>:      The list of parameters <code>sysconf</code> can read. 
<li><a accesskey=3 href="#Examples%20of%20Sysconf">Examples of Sysconf</a>:        How to use <code>sysconf</code> and the parameter
				 macros properly together. 
</ul>

<p><hr>
Node:<a name="Sysconf%20Definition">Sysconf Definition</a>,
Next:<a rel=next accesskey=n href="#Constants%20for%20Sysconf">Constants for Sysconf</a>,
Up:<a rel=up accesskey=u href="#Sysconf">Sysconf</a>
<br>

<h4>Definition of <code>sysconf</code></h4>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>sysconf</b><i> (int <var>parameter</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to inquire about runtime system parameters.  The
<var>parameter</var> argument should be one of the <code>_SC_</code> symbols listed
below.

<p>The normal return value from <code>sysconf</code> is the value you requested. 
A value of <code>-1</code> is returned both if the implementation does not
impose a limit, and in case of an error.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The value of the <var>parameter</var> is invalid. 
</dl>
</td></tr>
</table>

<p><hr>
Node:<a name="Constants%20for%20Sysconf">Constants for Sysconf</a>,
Next:<a rel=next accesskey=n href="#Examples%20of%20Sysconf">Examples of Sysconf</a>,
Previous:<a rel=previous accesskey=p href="#Sysconf%20Definition">Sysconf Definition</a>,
Up:<a rel=up accesskey=u href="#Sysconf">Sysconf</a>
<br>

<h4>Constants for <code>sysconf</code> Parameters</h4>

<p>Here are the symbolic constants for use as the <var>parameter</var> argument
to <code>sysconf</code>.  The values are all integer constants (more
specifically, enumeration type values).

<dl>
<dt><code>_SC_ARG_MAX</code>
<dd>Inquire about the parameter corresponding to <code>ARG_MAX</code>.

<br><dt><code>_SC_CHILD_MAX</code>
<dd>Inquire about the parameter corresponding to <code>CHILD_MAX</code>.

<br><dt><code>_SC_OPEN_MAX</code>
<dd>Inquire about the parameter corresponding to <code>OPEN_MAX</code>.

<br><dt><code>_SC_STREAM_MAX</code>
<dd>Inquire about the parameter corresponding to <code>STREAM_MAX</code>.

<br><dt><code>_SC_TZNAME_MAX</code>
<dd>Inquire about the parameter corresponding to <code>TZNAME_MAX</code>.

<br><dt><code>_SC_NGROUPS_MAX</code>
<dd>Inquire about the parameter corresponding to <code>NGROUPS_MAX</code>.

<br><dt><code>_SC_JOB_CONTROL</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_JOB_CONTROL</code>.

<br><dt><code>_SC_SAVED_IDS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SAVED_IDS</code>.

<br><dt><code>_SC_VERSION</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_VERSION</code>.

<br><dt><code>_SC_CLK_TCK</code>
<dd>Inquire about the parameter corresponding to <code>CLOCKS_PER_SEC</code>;
see <a href="#CPU%20Time">CPU Time</a>.

<br><dt><code>_SC_CHARCLASS_NAME_MAX</code>
<dd>Inquire about the parameter corresponding to maximal length allowed for
a character class name in an extended locale specification.  These
extensions are not yet standardized and so this option is not standardized
as well.

<br><dt><code>_SC_REALTIME_SIGNALS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_REALTIME_SIGNALS</code>.

<br><dt><code>_SC_PRIORITY_SCHEDULING</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PRIORITY_SCHEDULING</code>.

<br><dt><code>_SC_TIMERS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_TIMERS</code>.

<br><dt><code>_SC_ASYNCHRONOUS_IO</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_ASYNCHRONOUS_IO</code>.

<br><dt><code>_SC_PRIORITIZED_IO</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PRIORITIZED_IO</code>.

<br><dt><code>_SC_SYNCHRONIZED_IO</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SYNCHRONIZED_IO</code>.

<br><dt><code>_SC_FSYNC</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_FSYNC</code>.

<br><dt><code>_SC_MAPPED_FILES</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MAPPED_FILES</code>.

<br><dt><code>_SC_MEMLOCK</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MEMLOCK</code>.

<br><dt><code>_SC_MEMLOCK_RANGE</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MEMLOCK_RANGE</code>.

<br><dt><code>_SC_MEMORY_PROTECTION</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MEMORY_PROTECTION</code>.

<br><dt><code>_SC_MESSAGE_PASSING</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MESSAGE_PASSING</code>.

<br><dt><code>_SC_SEMAPHORES</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SEMAPHORES</code>.

<br><dt><code>_SC_SHARED_MEMORY_OBJECTS</code>
<dd>Inquire about the parameter corresponding to<br>
<code>_POSIX_SHARED_MEMORY_OBJECTS</code>.

<br><dt><code>_SC_AIO_LISTIO_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_AIO_LISTIO_MAX</code>.

<br><dt><code>_SC_AIO_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_AIO_MAX</code>.

<br><dt><code>_SC_AIO_PRIO_DELTA_MAX</code>
<dd>Inquire the value by which a process can decrease its asynchronous I/O
priority level from its own scheduling priority.  This corresponds to the
run-time invariant value <code>AIO_PRIO_DELTA_MAX</code>.

<br><dt><code>_SC_DELAYTIMER_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_DELAYTIMER_MAX</code>.

<br><dt><code>_SC_MQ_OPEN_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MQ_OPEN_MAX</code>.

<br><dt><code>_SC_MQ_PRIO_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_MQ_PRIO_MAX</code>.

<br><dt><code>_SC_RTSIG_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_RTSIG_MAX</code>.

<br><dt><code>_SC_SEM_NSEMS_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SEM_NSEMS_MAX</code>.

<br><dt><code>_SC_SEM_VALUE_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SEM_VALUE_MAX</code>.

<br><dt><code>_SC_SIGQUEUE_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SIGQUEUE_MAX</code>.

<br><dt><code>_SC_TIMER_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_TIMER_MAX</code>.

<br><dt><code>_SC_PII</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII</code>.

<br><dt><code>_SC_PII_XTI</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_XTI</code>.

<br><dt><code>_SC_PII_SOCKET</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_SOCKET</code>.

<br><dt><code>_SC_PII_INTERNET</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_INTERNET</code>.

<br><dt><code>_SC_PII_OSI</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_OSI</code>.

<br><dt><code>_SC_SELECT</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_SELECT</code>.

<br><dt><code>_SC_UIO_MAXIOV</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_UIO_MAXIOV</code>.

<br><dt><code>_SC_PII_INTERNET_STREAM</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_INTERNET_STREAM</code>.

<br><dt><code>_SC_PII_INTERNET_DGRAM</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_INTERNET_DGRAM</code>.

<br><dt><code>_SC_PII_OSI_COTS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_OSI_COTS</code>.

<br><dt><code>_SC_PII_OSI_CLTS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_OSI_CLTS</code>.

<br><dt><code>_SC_PII_OSI_M</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_PII_OSI_M</code>.

<br><dt><code>_SC_T_IOV_MAX</code>
<dd>Inquire the value of the value associated with the <code>T_IOV_MAX</code>
variable.

<br><dt><code>_SC_THREADS</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREADS</code>.

<br><dt><code>_SC_THREAD_SAFE_FUNCTIONS</code>
<dd>Inquire about the parameter corresponding to<br>
<code>_POSIX_THREAD_SAFE_FUNCTIONS</code>.

<br><dt><code>_SC_GETGR_R_SIZE_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_GETGR_R_SIZE_MAX</code>.

<br><dt><code>_SC_GETPW_R_SIZE_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_GETPW_R_SIZE_MAX</code>.

<br><dt><code>_SC_LOGIN_NAME_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_LOGIN_NAME_MAX</code>.

<br><dt><code>_SC_TTY_NAME_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_TTY_NAME_MAX</code>.

<br><dt><code>_SC_THREAD_DESTRUCTOR_ITERATIONS</code>
<dd>Inquire about the parameter corresponding to
<code>_POSIX_THREAD_DESTRUCTOR_ITERATIONS</code>.

<br><dt><code>_SC_THREAD_KEYS_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREAD_KEYS_MAX</code>.

<br><dt><code>_SC_THREAD_STACK_MIN</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREAD_STACK_MIN</code>.

<br><dt><code>_SC_THREAD_THREADS_MAX</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREAD_THREADS_MAX</code>.

<br><dt><code>_SC_THREAD_ATTR_STACKADDR</code>
<dd>Inquire about the parameter corresponding to<br>a
<code>_POSIX_THREAD_ATTR_STACKADDR</code>.

<br><dt><code>_SC_THREAD_ATTR_STACKSIZE</code>
<dd>Inquire about the parameter corresponding to<br>
<code>_POSIX_THREAD_ATTR_STACKSIZE</code>.

<br><dt><code>_SC_THREAD_PRIORITY_SCHEDULING</code>
<dd>Inquire about the parameter corresponding to
<code>_POSIX_THREAD_PRIORITY_SCHEDULING</code>.

<br><dt><code>_SC_THREAD_PRIO_INHERIT</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREAD_PRIO_INHERIT</code>.

<br><dt><code>_SC_THREAD_PRIO_PROTECT</code>
<dd>Inquire about the parameter corresponding to <code>_POSIX_THREAD_PRIO_PROTECT</code>.

<br><dt><code>_SC_THREAD_PROCESS_SHARED</code>
<dd>Inquire about the parameter corresponding to
<code>_POSIX_THREAD_PROCESS_SHARED</code>.

<br><dt><code>_SC_2_C_DEV</code>
<dd>Inquire about whether the system has the POSIX.2 C compiler command,
<code>c89</code>.

<br><dt><code>_SC_2_FORT_DEV</code>
<dd>Inquire about whether the system has the POSIX.2 Fortran compiler
command, <code>fort77</code>.

<br><dt><code>_SC_2_FORT_RUN</code>
<dd>Inquire about whether the system has the POSIX.2 <code>asa</code> command to
interpret Fortran carriage control.

<br><dt><code>_SC_2_LOCALEDEF</code>
<dd>Inquire about whether the system has the POSIX.2 <code>localedef</code>
command.

<br><dt><code>_SC_2_SW_DEV</code>
<dd>Inquire about whether the system has the POSIX.2 commands <code>ar</code>,
<code>make</code>, and <code>strip</code>.

<br><dt><code>_SC_BC_BASE_MAX</code>
<dd>Inquire about the maximum value of <code>obase</code> in the <code>bc</code>
utility.

<br><dt><code>_SC_BC_DIM_MAX</code>
<dd>Inquire about the maximum size of an array in the <code>bc</code>
utility.

<br><dt><code>_SC_BC_SCALE_MAX</code>
<dd>Inquire about the maximum value of <code>scale</code> in the <code>bc</code>
utility.

<br><dt><code>_SC_BC_STRING_MAX</code>
<dd>Inquire about the maximum size of a string constant in the
<code>bc</code> utility.

<br><dt><code>_SC_COLL_WEIGHTS_MAX</code>
<dd>Inquire about the maximum number of weights that can necessarily
be used in defining the collating sequence for a locale.

<br><dt><code>_SC_EXPR_NEST_MAX</code>
<dd>Inquire about the maximum number of expressions nested within
parentheses when using the <code>expr</code> utility.

<br><dt><code>_SC_LINE_MAX</code>
<dd>Inquire about the maximum size of a text line that the POSIX.2 text
utilities can handle.

<br><dt><code>_SC_EQUIV_CLASS_MAX</code>
<dd>Inquire about the maximum number of weights that can be assigned to an
entry of the <code>LC_COLLATE</code> category <code>order</code> keyword in a locale
definition.  The GNU C library does not presently support locale
definitions.

<br><dt><code>_SC_VERSION</code>
<dd>Inquire about the version number of POSIX.1 that the library and kernel
support.

<br><dt><code>_SC_2_VERSION</code>
<dd>Inquire about the version number of POSIX.2 that the system utilities
support.

<br><dt><code>_SC_PAGESIZE</code>
<dd>Inquire about the virtual memory page size of the machine. 
<code>getpagesize</code> returns the same value (see <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>).

<br><dt><code>_SC_NPROCESSORS_CONF</code>
<dd>Inquire about the number of configured processors.

<br><dt><code>_SC_NPROCESSORS_ONLN</code>
<dd>Inquire about the number of processors online.

<br><dt><code>_SC_PHYS_PAGES</code>
<dd>Inquire about the number of physical pages in the system.

<br><dt><code>_SC_AVPHYS_PAGES</code>
<dd>Inquire about the number of available physical pages in the system.

<br><dt><code>_SC_ATEXIT_MAX</code>
<dd>Inquire about the number of functions which can be registered as termination
functions for <code>atexit</code>; see <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>.

<br><dt><code>_SC_XOPEN_VERSION</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_VERSION</code>.

<br><dt><code>_SC_XOPEN_XCU_VERSION</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_XCU_VERSION</code>.

<br><dt><code>_SC_XOPEN_UNIX</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_UNIX</code>.

<br><dt><code>_SC_XOPEN_REALTIME</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_REALTIME</code>.

<br><dt><code>_SC_XOPEN_REALTIME_THREADS</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_REALTIME_THREADS</code>.

<br><dt><code>_SC_XOPEN_LEGACY</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_LEGACY</code>.

<br><dt><code>_SC_XOPEN_CRYPT</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_CRYPT</code>.

<br><dt><code>_SC_XOPEN_ENH_I18N</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_ENH_I18N</code>.

<br><dt><code>_SC_XOPEN_SHM</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_SHM</code>.

<br><dt><code>_SC_XOPEN_XPG2</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_XPG2</code>.

<br><dt><code>_SC_XOPEN_XPG3</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_XPG3</code>.

<br><dt><code>_SC_XOPEN_XPG4</code>
<dd>Inquire about the parameter corresponding to <code>_XOPEN_XPG4</code>.

<br><dt><code>_SC_CHAR_BIT</code>
<dd>Inquire about the number of bits in a variable of type <code>char</code>.

<br><dt><code>_SC_CHAR_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>char</code>.

<br><dt><code>_SC_CHAR_MIN</code>
<dd>Inquire about the minimum value which can be stored in a variable of type
<code>char</code>.

<br><dt><code>_SC_INT_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>int</code>.

<br><dt><code>_SC_INT_MIN</code>
<dd>Inquire about the minimum value which can be stored in a variable of type
<code>int</code>.

<br><dt><code>_SC_LONG_BIT</code>
<dd>Inquire about the number of bits in a variable of type <code>long int</code>.

<br><dt><code>_SC_WORD_BIT</code>
<dd>Inquire about the number of bits in a variable of a register word.

<br><dt><code>_SC_MB_LEN_MAX</code>
<dd>Inquire the maximum length of a multi-byte representation of a wide
character value.

<br><dt><code>_SC_NZERO</code>
<dd>Inquire about the value used to internally represent the zero priority level for
the process execution.

<br><dt><code>SC_SSIZE_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>ssize_t</code>.

<br><dt><code>_SC_SCHAR_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>signed char</code>.

<br><dt><code>_SC_SCHAR_MIN</code>
<dd>Inquire about the minimum value which can be stored in a variable of type
<code>signed char</code>.

<br><dt><code>_SC_SHRT_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>short int</code>.

<br><dt><code>_SC_SHRT_MIN</code>
<dd>Inquire about the minimum value which can be stored in a variable of type
<code>short int</code>.

<br><dt><code>_SC_UCHAR_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>unsigned char</code>.

<br><dt><code>_SC_UINT_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>unsigned int</code>.

<br><dt><code>_SC_ULONG_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>unsigned long int</code>.

<br><dt><code>_SC_USHRT_MAX</code>
<dd>Inquire about the maximum value which can be stored in a variable of type
<code>unsigned short int</code>.

<br><dt><code>_SC_NL_ARGMAX</code>
<dd>Inquire about the parameter corresponding to <code>NL_ARGMAX</code>.

<br><dt><code>_SC_NL_LANGMAX</code>
<dd>Inquire about the parameter corresponding to <code>NL_LANGMAX</code>.

<br><dt><code>_SC_NL_MSGMAX</code>
<dd>Inquire about the parameter corresponding to <code>NL_MSGMAX</code>.

<br><dt><code>_SC_NL_NMAX</code>
<dd>Inquire about  the parameter corresponding to <code>NL_NMAX</code>.

<br><dt><code>_SC_NL_SETMAX</code>
<dd>Inquire about the parameter corresponding to <code>NL_SETMAX</code>.

<br><dt><code>_SC_NL_TEXTMAX</code>
<dd>Inquire about the parameter corresponding to <code>NL_TEXTMAX</code>. 
</dl>

<p><hr>
Node:<a name="Examples%20of%20Sysconf">Examples of Sysconf</a>,
Previous:<a rel=previous accesskey=p href="#Constants%20for%20Sysconf">Constants for Sysconf</a>,
Up:<a rel=up accesskey=u href="#Sysconf">Sysconf</a>
<br>

<h4>Examples of <code>sysconf</code></h4>

<p>We recommend that you first test for a macro definition for the
parameter you are interested in, and call <code>sysconf</code> only if the
macro is not defined.  For example, here is how to test whether job
control is supported:

<br><pre>int
have_job_control (void)
{
#ifdef _POSIX_JOB_CONTROL
  return 1;
#else
  int value = sysconf (_SC_JOB_CONTROL);
  if (value &lt; 0)
    /* If the system is that badly wedged,
       there's no use trying to go on.  */
    fatal (strerror (errno));
  return value;
#endif
}
</pre>

<p>Here is how to get the value of a numeric limit:

<br><pre>int
get_child_max ()
{
#ifdef CHILD_MAX
  return CHILD_MAX;
#else
  int value = sysconf (_SC_CHILD_MAX);
  if (value &lt; 0)
    fatal (strerror (errno));
  return value;
#endif
}
</pre>

<p><hr>
Node:<a name="Minimums">Minimums</a>,
Next:<a rel=next accesskey=n href="#Limits%20for%20Files">Limits for Files</a>,
Previous:<a rel=previous accesskey=p href="#Sysconf">Sysconf</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Minimum Values for General Capacity Limits</h3>

<p>Here are the names for the POSIX minimum upper bounds for the system
limit parameters.  The significance of these values is that you can
safely push to these limits without checking whether the particular
system you are using can go that far.

<dl>
<dt><code>_POSIX_AIO_LISTIO_MAX</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
I/O operations that can be specified in a list I/O call.  The value of
this constant is <code>2</code>; thus you can add up to two new entries
of the list of outstanding operations.

<br><dt><code>_POSIX_AIO_MAX</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
outstanding asynchronous I/O operations.  The value of this constant is
<code>1</code>.  So you cannot expect that you can issue more than one
operation and immediately continue with the normal work, receiving the
notifications asynchronously.

<br><dt><code>_POSIX_ARG_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum combined length of the <var>argv</var> and <var>environ</var>
arguments that can be passed to the <code>exec</code> functions. 
Its value is <code>4096</code>.

<br><dt><code>_POSIX_CHILD_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum number of simultaneous processes per real user ID.  Its
value is <code>6</code>.

<br><dt><code>_POSIX_NGROUPS_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum number of supplementary group IDs per process.  Its
value is <code>0</code>.

<br><dt><code>_POSIX_OPEN_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum number of files that a single process can have open
simultaneously.  Its value is <code>16</code>.

<br><dt><code>_POSIX_SSIZE_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum value that can be stored in an object of type
<code>ssize_t</code>.  Its value is <code>32767</code>.

<br><dt><code>_POSIX_STREAM_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum number of streams that a single process can have open
simultaneously.  Its value is <code>8</code>.

<br><dt><code>_POSIX_TZNAME_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the maximum length of a time zone name.  Its value is <code>3</code>.

<br><dt><code>_POSIX2_RE_DUP_MAX</code>
<dd>The value of this macro is the most restrictive limit permitted by POSIX
for the numbers used in the <code>\{<var>min</var>,<var>max</var>\}</code> construct
in a regular expression.  Its value is <code>255</code>. 
</dl>

<p><hr>
Node:<a name="Limits%20for%20Files">Limits for Files</a>,
Next:<a rel=next accesskey=n href="#Options%20for%20Files">Options for Files</a>,
Previous:<a rel=previous accesskey=p href="#Minimums">Minimums</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Limits on File System Capacity</h3>

<p>The POSIX.1 standard specifies a number of parameters that describe the
limitations of the file system.  It's possible for the system to have a
fixed, uniform limit for a parameter, but this isn't the usual case.  On
most systems, it's possible for different file systems (and, for some
parameters, even different files) to have different maximum limits.  For
example, this is very likely if you use NFS to mount some of the file
systems from other machines.

<p>Each of the following macros is defined in <code>limits.h</code> only if the
system has a fixed, uniform limit for the parameter in question.  If the
system allows different file systems or files to have different limits,
then the macro is undefined; use <code>pathconf</code> or <code>fpathconf</code> to
find out the limit that applies to a particular file.  See <a href="#Pathconf">Pathconf</a>.

<p>Each parameter also has another macro, with a name starting with
<code>_POSIX</code>, which gives the lowest value that the limit is allowed to
have on <em>any</em> POSIX system.  See <a href="#File%20Minimums">File Minimums</a>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>LINK_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the number of names for a given
file.  See <a href="#Hard%20Links">Hard Links</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>MAX_CANON</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the amount of text in a line of
input when input editing is enabled.  See <a href="#Canonical%20or%20Not">Canonical or Not</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>MAX_INPUT</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the total number of characters
typed ahead as input.  See <a href="#I%2fO%20Queues">I/O Queues</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>NAME_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the length of a file name component. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>PATH_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the length of an entire file name (that
is, the argument given to system calls such as <code>open</code>). 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>PIPE_BUF</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The uniform system limit (if any) for the number of bytes that can be
written atomically to a pipe.  If multiple processes are writing to the
same pipe simultaneously, output from different processes might be
interleaved in chunks of this size.  See <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>. 
</td></tr>
</table>

<p>These are alternative macro names for some of the same information.

<p>
<table width="100%">
<tr>
<td align="left">int <b>MAXNAMLEN</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the BSD name for <code>NAME_MAX</code>.  It is defined in
<code>dirent.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>FILENAME_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The value of this macro is an integer constant expression that
represents the maximum length of a file name string.  It is defined in
<code>stdio.h</code>.

<p>Unlike <code>PATH_MAX</code>, this macro is defined even if there is no actual
limit imposed.  In such a case, its value is typically a very large
number.  <strong>This is always the case on the GNU system.</strong>

<p><strong>Usage Note:</strong> Don't use <code>FILENAME_MAX</code> as the size of an
array in which to store a file name!  You can't possibly make an array
that big!  Use dynamic allocation (see <a href="#Memory%20Allocation">Memory Allocation</a>) instead. 
</td></tr>
</table>

<p><hr>
Node:<a name="Options%20for%20Files">Options for Files</a>,
Next:<a rel=next accesskey=n href="#File%20Minimums">File Minimums</a>,
Previous:<a rel=previous accesskey=p href="#Limits%20for%20Files">Limits for Files</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Optional Features in File Support</h3>

<p>POSIX defines certain system-specific options in the system calls for
operating on files.  Some systems support these options and others do
not.  Since these options are provided in the kernel, not in the
library, simply using the GNU C library does not guarantee that any of these
features is supported; it depends on the system you are using.  They can
also vary between file systems on a single machine.

<p>This section describes the macros you can test to determine whether a
particular option is supported on your machine.  If a given macro is
defined in <code>unistd.h</code>, then its value says whether the
corresponding feature is supported.  (A value of <code>-1</code> indicates no;
any other value indicates yes.)  If the macro is undefined, it means
particular files may or may not support the feature.

<p>Since all the machines that support the GNU C library also support NFS,
one can never make a general statement about whether all file systems
support the <code>_POSIX_CHOWN_RESTRICTED</code> and <code>_POSIX_NO_TRUNC</code>
features.  So these names are never defined as macros in the GNU C
library.

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX_CHOWN_RESTRICTED</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this option is in effect, the <code>chown</code> function is restricted so
that the only changes permitted to nonprivileged processes is to change
the group owner of a file to either be the effective group ID of the
process, or one of its supplementary group IDs.  See <a href="#File%20Owner">File Owner</a>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>_POSIX_NO_TRUNC</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
If this option is in effect, file name components longer than
<code>NAME_MAX</code> generate an <code>ENAMETOOLONG</code> error.  Otherwise, file
name components that are too long are silently truncated. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">unsigned char <b>_POSIX_VDISABLE</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This option is only meaningful for files that are terminal devices. 
If it is enabled, then handling for special control characters can
be disabled individually.  See <a href="#Special%20Characters">Special Characters</a>. 
</td></tr>
</table>

<p>If one of these macros is undefined, that means that the option might be
in effect for some files and not for others.  To inquire about a
particular file, call <code>pathconf</code> or <code>fpathconf</code>. 
See <a href="#Pathconf">Pathconf</a>.

<p><hr>
Node:<a name="File%20Minimums">File Minimums</a>,
Next:<a rel=next accesskey=n href="#Pathconf">Pathconf</a>,
Previous:<a rel=previous accesskey=p href="#Options%20for%20Files">Options for Files</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Minimum Values for File System Limits</h3>

<p>Here are the names for the POSIX minimum upper bounds for some of the
above parameters.  The significance of these values is that you can
safely push to these limits without checking whether the particular
system you are using can go that far.  In most cases GNU systems do not
have these strict limitations.  The actual limit should be requested if
necessary.

<dl>
<dt><code>_POSIX_LINK_MAX</code>
<dd>The most restrictive limit permitted by POSIX for the maximum value of a
file's link count.  The value of this constant is <code>8</code>; thus, you
can always make up to eight names for a file without running into a
system limit.

<br><dt><code>_POSIX_MAX_CANON</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
bytes in a canonical input line from a terminal device.  The value of
this constant is <code>255</code>.

<br><dt><code>_POSIX_MAX_INPUT</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
bytes in a terminal device input queue (or typeahead buffer). 
See <a href="#Input%20Modes">Input Modes</a>.  The value of this constant is <code>255</code>.

<br><dt><code>_POSIX_NAME_MAX</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
bytes in a file name component.  The value of this constant is
<code>14</code>.

<br><dt><code>_POSIX_PATH_MAX</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
bytes in a file name.  The value of this constant is <code>256</code>.

<br><dt><code>_POSIX_PIPE_BUF</code>
<dd>The most restrictive limit permitted by POSIX for the maximum number of
bytes that can be written atomically to a pipe.  The value of this
constant is <code>512</code>.

<br><dt><code>SYMLINK_MAX</code>
<dd>Maximum number of bytes in a symbolic link.

<br><dt><code>POSIX_REC_INCR_XFER_SIZE</code>
<dd>Recommended increment for file transfer sizes between the
<code>POSIX_REC_MIN_XFER_SIZE</code> and <code>POSIX_REC_MAX_XFER_SIZE</code>
values.

<br><dt><code>POSIX_REC_MAX_XFER_SIZE</code>
<dd>Maximum recommended file transfer size.

<br><dt><code>POSIX_REC_MIN_XFER_SIZE</code>
<dd>Minimum recommended file transfer size.

<br><dt><code>POSIX_REC_XFER_ALIGN</code>
<dd>Recommended file transfer buffer alignment. 
</dl>

<p><hr>
Node:<a name="Pathconf">Pathconf</a>,
Next:<a rel=next accesskey=n href="#Utility%20Limits">Utility Limits</a>,
Previous:<a rel=previous accesskey=p href="#File%20Minimums">File Minimums</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Using <code>pathconf</code></h3>

<p>When your machine allows different files to have different values for a
file system parameter, you can use the functions in this section to find
out the value that applies to any particular file.

<p>These functions and the associated constants for the <var>parameter</var>
argument are declared in the header file <code>unistd.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">long int <b>pathconf</b><i> (const char *<var>filename</var>, int <var>parameter</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function is used to inquire about the limits that apply to
the file named <var>filename</var>.

<p>The <var>parameter</var> argument should be one of the <code>_PC_</code> constants
listed below.

<p>The normal return value from <code>pathconf</code> is the value you requested. 
A value of <code>-1</code> is returned both if the implementation does not
impose a limit, and in case of an error.  In the former case,
<code>errno</code> is not set, while in the latter case, <code>errno</code> is set
to indicate the cause of the problem.  So the only way to use this
function robustly is to store <code>0</code> into <code>errno</code> just before
calling it.

<p>Besides the usual file name errors (see <a href="#File%20Name%20Errors">File Name Errors</a>),
the following error condition is defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The value of <var>parameter</var> is invalid, or the implementation doesn't
support the <var>parameter</var> for the specific file. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">long int <b>fpathconf</b><i> (int <var>filedes</var>, int <var>parameter</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is just like <code>pathconf</code> except that an open file descriptor
is used to specify the file for which information is requested, instead
of a file name.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EBADF</code>
<dd>The <var>filedes</var> argument is not a valid file descriptor.

<br><dt><code>EINVAL</code>
<dd>The value of <var>parameter</var> is invalid, or the implementation doesn't
support the <var>parameter</var> for the specific file. 
</dl>
</td></tr>
</table>

<p>Here are the symbolic constants that you can use as the <var>parameter</var>
argument to <code>pathconf</code> and <code>fpathconf</code>.  The values are all
integer constants.

<dl>
<dt><code>_PC_LINK_MAX</code>
<dd>Inquire about the value of <code>LINK_MAX</code>.

<br><dt><code>_PC_MAX_CANON</code>
<dd>Inquire about the value of <code>MAX_CANON</code>.

<br><dt><code>_PC_MAX_INPUT</code>
<dd>Inquire about the value of <code>MAX_INPUT</code>.

<br><dt><code>_PC_NAME_MAX</code>
<dd>Inquire about the value of <code>NAME_MAX</code>.

<br><dt><code>_PC_PATH_MAX</code>
<dd>Inquire about the value of <code>PATH_MAX</code>.

<br><dt><code>_PC_PIPE_BUF</code>
<dd>Inquire about the value of <code>PIPE_BUF</code>.

<br><dt><code>_PC_CHOWN_RESTRICTED</code>
<dd>Inquire about the value of <code>_POSIX_CHOWN_RESTRICTED</code>.

<br><dt><code>_PC_NO_TRUNC</code>
<dd>Inquire about the value of <code>_POSIX_NO_TRUNC</code>.

<br><dt><code>_PC_VDISABLE</code>
<dd>Inquire about the value of <code>_POSIX_VDISABLE</code>.

<br><dt><code>_PC_SYNC_IO</code>
<dd>Inquire about the value of <code>_POSIX_SYNC_IO</code>.

<br><dt><code>_PC_ASYNC_IO</code>
<dd>Inquire about the value of <code>_POSIX_ASYNC_IO</code>.

<br><dt><code>_PC_PRIO_IO</code>
<dd>Inquire about the value of <code>_POSIX_PRIO_IO</code>.

<br><dt><code>_PC_SOCK_MAXBUF</code>
<dd>Inquire about the value of <code>_POSIX_PIPE_BUF</code>.

<br><dt><code>_PC_FILESIZEBITS</code>
<dd>Inquire about the availability of large files on the filesystem.

<br><dt><code>_PC_REC_INCR_XFER_SIZE</code>
<dd>Inquire about the value of <code>POSIX_REC_INCR_XFER_SIZE</code>.

<br><dt><code>_PC_REC_MAX_XFER_SIZE</code>
<dd>Inquire about the value of <code>POSIX_REC_MAX_XFER_SIZE</code>.

<br><dt><code>_PC_REC_MIN_XFER_SIZE</code>
<dd>Inquire about the value of <code>POSIX_REC_MIN_XFER_SIZE</code>.

<br><dt><code>_PC_REC_XFER_ALIGN</code>
<dd>Inquire about the value of <code>POSIX_REC_XFER_ALIGN</code>. 
</dl>

<p><hr>
Node:<a name="Utility%20Limits">Utility Limits</a>,
Next:<a rel=next accesskey=n href="#Utility%20Minimums">Utility Minimums</a>,
Previous:<a rel=previous accesskey=p href="#Pathconf">Pathconf</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Utility Program Capacity Limits</h3>

<p>The POSIX.2 standard specifies certain system limits that you can access
through <code>sysconf</code> that apply to utility behavior rather than the
behavior of the library or the operating system.

<p>The GNU C library defines macros for these limits, and <code>sysconf</code>
returns values for them if you ask; but these values convey no
meaningful information.  They are simply the smallest values that
POSIX.2 permits.

<p>
<table width="100%">
<tr>
<td align="left">int <b>BC_BASE_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest value of <code>obase</code> that the <code>bc</code> utility is
guaranteed to support. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>BC_DIM_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest number of elements in one array that the <code>bc</code> utility
is guaranteed to support. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>BC_SCALE_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest value of <code>scale</code> that the <code>bc</code> utility is
guaranteed to support. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>BC_STRING_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest number of characters in one string constant that the
<code>bc</code> utility is guaranteed to support. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>COLL_WEIGHTS_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest number of weights that can necessarily be used in defining
the collating sequence for a locale. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EXPR_NEST_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The maximum number of expressions that can be nested within parenthesis
by the <code>expr</code> utility. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>LINE_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The largest text line that the text-oriented POSIX.2 utilities can
support.  (If you are using the GNU versions of these utilities, then
there is no actual limit except that imposed by the available virtual
memory, but there is no way that the library can tell you this.) 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>EQUIV_CLASS_MAX</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The maximum number of weights that can be assigned to an entry of the
<code>LC_COLLATE</code> category <code>order</code> keyword in a locale definition. 
The GNU C library does not presently support locale definitions. 
</td></tr>
</table>

<p><hr>
Node:<a name="Utility%20Minimums">Utility Minimums</a>,
Next:<a rel=next accesskey=n href="#String%20Parameters">String Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Utility%20Limits">Utility Limits</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>Minimum Values for Utility Limits</h3>

<dl>
<dt><code>_POSIX2_BC_BASE_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum value of
<code>obase</code> in the <code>bc</code> utility.  Its value is <code>99</code>.

<br><dt><code>_POSIX2_BC_DIM_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum size of
an array in the <code>bc</code> utility.  Its value is <code>2048</code>.

<br><dt><code>_POSIX2_BC_SCALE_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum value of
<code>scale</code> in the <code>bc</code> utility.  Its value is <code>99</code>.

<br><dt><code>_POSIX2_BC_STRING_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum size of
a string constant in the <code>bc</code> utility.  Its value is <code>1000</code>.

<br><dt><code>_POSIX2_COLL_WEIGHTS_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum number
of weights that can necessarily be used in defining the collating
sequence for a locale.  Its value is <code>2</code>.

<br><dt><code>_POSIX2_EXPR_NEST_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum number
of expressions nested within parenthesis when using the <code>expr</code> utility. 
Its value is <code>32</code>.

<br><dt><code>_POSIX2_LINE_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum size of
a text line that the text utilities can handle.  Its value is
<code>2048</code>.

<br><dt><code>_POSIX2_EQUIV_CLASS_MAX</code>
<dd>The most restrictive limit permitted by POSIX.2 for the maximum number
of weights that can be assigned to an entry of the <code>LC_COLLATE</code>
category <code>order</code> keyword in a locale definition.  Its value is
<code>2</code>.  The GNU C library does not presently support locale
definitions. 
</dl>

<p><hr>
Node:<a name="String%20Parameters">String Parameters</a>,
Previous:<a rel=previous accesskey=p href="#Utility%20Minimums">Utility Minimums</a>,
Up:<a rel=up accesskey=u href="#System%20Configuration">System Configuration</a>
<br>

<h3>String-Valued Parameters</h3>

<p>POSIX.2 defines a way to get string-valued parameters from the operating
system with the function <code>confstr</code>:

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>confstr</b><i> (int <var>parameter</var>, char *<var>buf</var>, size_t <var>len</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This function reads the value of a string-valued system parameter,
storing the string into <var>len</var> bytes of memory space starting at
<var>buf</var>.  The <var>parameter</var> argument should be one of the
<code>_CS_</code> symbols listed below.

<p>The normal return value from <code>confstr</code> is the length of the string
value that you asked for.  If you supply a null pointer for <var>buf</var>,
then <code>confstr</code> does not try to store the string; it just returns
its length.  A value of <code>0</code> indicates an error.

<p>If the string you asked for is too long for the buffer (that is, longer
than <code><var>len</var> - 1</code>), then <code>confstr</code> stores just that much
(leaving room for the terminating null character).  You can tell that
this has happened because <code>confstr</code> returns a value greater than or
equal to <var>len</var>.

<p>The following <code>errno</code> error conditions are defined for this function:

<dl>
<dt><code>EINVAL</code>
<dd>The value of the <var>parameter</var> is invalid. 
</dl>
</td></tr>
</table>

<p>Currently there is just one parameter you can read with <code>confstr</code>:

<dl>
<dt><code>_CS_PATH</code>
<dd>This parameter's value is the recommended default path for searching for
executable files.  This is the path that a user has by default just
after logging in.

<br><dt><code>_CS_LFS_CFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the C compiler if a source is compiled using the
<code>_LARGEFILE_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS_LDFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the linker if a source is compiled using the
<code>_LARGEFILE_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS_LIBS</code>
<dd>The returned string specifies which additional libraries must be linked
to the application if a source is compiled using the
<code>_LARGEFILE_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS_LINTFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the lint tool if a source is compiled using the
<code>_LARGEFILE_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS64_CFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the C compiler if a source is compiled using the
<code>_LARGEFILE64_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS64_LDFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the linker if a source is compiled using the
<code>_LARGEFILE64_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS64_LIBS</code>
<dd>The returned string specifies which additional libraries must be linked
to the application if a source is compiled using the
<code>_LARGEFILE64_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_CS_LFS64_LINTFLAGS</code>
<dd>The returned string specifies which additional flags must be given to
the lint tool if a source is compiled using the
<code>_LARGEFILE64_SOURCE</code> feature select macro; see <a href="#Feature%20Test%20Macros">Feature Test Macros</a>. 
</dl>

<p>The way to use <code>confstr</code> without any arbitrary limit on string size
is to call it twice: first call it to get the length, allocate the
buffer accordingly, and then call <code>confstr</code> again to fill the
buffer, like this:

<br><pre>char *
get_default_path (void)
{
  size_t len = confstr (_CS_PATH, NULL, 0);
  char *buffer = (char *) xmalloc (len);

  if (confstr (_CS_PATH, buf, len + 1) == 0)
    {
      free (buffer);
      return NULL;
    }

  return buffer;
}
</pre>

<p><hr>
Node:<a name="Cryptographic%20Functions">Cryptographic Functions</a>,
Next:<a rel=next accesskey=n href="#Debugging%20Support">Debugging Support</a>,
Previous:<a rel=previous accesskey=p href="#System%20Configuration">System Configuration</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>DES Encryption and Password Handling</h2>

<p>On many systems, it is unnecessary to have any kind of user
authentication; for instance, a workstation which is not connected to a
network probably does not need any user authentication, because to use
the machine an intruder must have physical access.

<p>Sometimes, however, it is necessary to be sure that a user is authorized
to use some service a machine provides--for instance, to log in as a
particular user id (see <a href="#Users%20and%20Groups">Users and Groups</a>).  One traditional way of
doing this is for each user to choose a secret <dfn>password</dfn>; then, the
system can ask someone claiming to be a user what the user's password
is, and if the person gives the correct password then the system can
grant the appropriate privileges.

<p>If all the passwords are just stored in a file somewhere, then this file
has to be very carefully protected.  To avoid this, passwords are run
through a <dfn>one-way function</dfn>, a function which makes it difficult to
work out what its input was by looking at its output, before storing in
the file.

<p>The GNU C library already provides a one-way function based on MD5 and
for compatibility with Unix systems the standard one-way function based
on the Data Encryption Standard.

<p>It also provides support for Secure RPC, and some library functions that
can be used to perform normal DES encryption.

<ul>
<li><a accesskey=1 href="#Legal%20Problems">Legal Problems</a>:               This software can get you locked up, or worse. 
<li><a accesskey=2 href="#getpass">getpass</a>:                      Prompting the user for a password. 
<li><a accesskey=3 href="#crypt">crypt</a>:                        A one-way function for UNIX passwords. 
<li><a accesskey=4 href="#DES%20Encryption">DES Encryption</a>:               Routines for DES encryption. 
</ul>

<p><hr>
Node:<a name="Legal%20Problems">Legal Problems</a>,
Next:<a rel=next accesskey=n href="#getpass">getpass</a>,
Up:<a rel=up accesskey=u href="#Cryptographic%20Functions">Cryptographic Functions</a>
<br>

<h3>Legal Problems</h3>

<p>Because of the continuously changing state of the law, it's not possible
to provide a definitive survey of the laws affecting cryptography. 
Instead, this section warns you of some of the known trouble spots; this
may help you when you try to find out what the laws of your country are.

<p>Some countries require that you have a licence to use, possess, or import
cryptography.  These countries are believed to include Byelorussia,
Burma, India, Indonesia, Israel, Kazakhstan, Pakistan, Russia, and Saudi
Arabia.

<p>Some countries restrict the transmission of encrypted messages by radio;
some telecommunications carriers restrict the transmission of encrypted
messages over their network.

<p>Many countries have some form of export control for encryption software. 
The Wassenaar Arrangement is a multilateral agreement between 33
countries (Argentina, Australia, Austria, Belgium, Bulgaria, Canada, the
Czech Republic, Denmark, Finland, France, Germany, Greece, Hungary,
Ireland, Italy, Japan, Luxembourg, the Netherlands, New Zealand, Norway,
Poland, Portugal, the Republic of Korea, Romania, the Russian
Federation, the Slovak Republic, Spain, Sweden, Switzerland, Turkey,
Ukraine, the United Kingdom and the United States) which restricts some
kinds of encryption exports.  Different countries apply the arrangement
in different ways; some do not allow the exception for certain kinds of
"public domain" software (which would include this library), some
only restrict the export of software in tangible form, and others impose
significant additional restrictions.

<p>The United States has additional rules.  This software would generally
be exportable under 15 CFR 740.13(e), which permits exports of
"encryption source code" which is "publicly available" and which is
"not subject to an express agreement for the payment of a licensing fee or
royalty for commercial production or sale of any product developed with
the source code" to most countries.

<p>The rules in this area are continuously changing.  If you know of any
information in this manual that is out-of-date, please report it using
the <code>glibcbug</code> script. See <a href="#Reporting%20Bugs">Reporting Bugs</a>.

<p><hr>
Node:<a name="getpass">getpass</a>,
Next:<a rel=next accesskey=n href="#crypt">crypt</a>,
Previous:<a rel=previous accesskey=p href="#Legal%20Problems">Legal Problems</a>,
Up:<a rel=up accesskey=u href="#Cryptographic%20Functions">Cryptographic Functions</a>
<br>

<h3>Reading Passwords</h3>

<p>When reading in a password, it is desirable to avoid displaying it on
the screen, to help keep it secret.  The following function handles this
in a convenient way.

<p>
<table width="100%">
<tr>
<td align="left">char * <b>getpass</b><i> (const char *<var>prompt</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p><code>getpass</code> outputs <var>prompt</var>, then reads a string in from the
terminal without echoing it.  It tries to connect to the real terminal,
<code>/dev/tty</code>, if possible, to encourage users not to put plaintext
passwords in files; otherwise, it uses <code>stdin</code> and <code>stderr</code>. 
<code>getpass</code> also disables the INTR, QUIT, and SUSP characters on the
terminal using the <code>ISIG</code> terminal attribute (see <a href="#Local%20Modes">Local Modes</a>). 
The terminal is flushed before and after <code>getpass</code>, so that
characters of a mistyped password are not accidentally visible.

<p>In other C libraries, <code>getpass</code> may only return the first
<code>PASS_MAX</code> bytes of a password.  The GNU C library has no limit, so
<code>PASS_MAX</code> is undefined.

<p>The prototype for this function is in <code>unistd.h</code>.  <code>PASS_MAX</code>
would be defined in <code>limits.h</code>. 
</td></tr>
</table>

<p>This precise set of operations may not suit all possible situations.  In
this case, it is recommended that users write their own <code>getpass</code>
substitute.  For instance, a very simple substitute is as follows:

<br><pre>

#include &lt;termios.h&gt;
#include &lt;stdio.h&gt;

ssize_t
my_getpass (char **lineptr, size_t *n, FILE *stream)
{
  struct termios old, new;
  int nread;

  /* Turn echoing off and fail if we can't. */
  if (tcgetattr (fileno (stream), &amp;old) != 0)
    return -1;
  new = old;
  new.c_lflag &amp;= ~ECHO;
  if (tcsetattr (fileno (stream), TCSAFLUSH, &amp;new) != 0)
    return -1;

  /* Read the password. */
  nread = getline (lineptr, n, stream);

  /* Restore terminal. */
  (void) tcsetattr (fileno (stream), TCSAFLUSH, &amp;old);

  return nread;
}
</pre>

<p>The substitute takes the same parameters as <code>getline</code>
(see <a href="#Line%20Input">Line Input</a>); the user must print any prompt desired.

<p><hr>
Node:<a name="crypt">crypt</a>,
Next:<a rel=next accesskey=n href="#DES%20Encryption">DES Encryption</a>,
Previous:<a rel=previous accesskey=p href="#getpass">getpass</a>,
Up:<a rel=up accesskey=u href="#Cryptographic%20Functions">Cryptographic Functions</a>
<br>

<h3>Encrypting Passwords</h3>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>crypt</b><i> (const char *<var>key</var>, const char *<var>salt</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>crypt</code> function takes a password, <var>key</var>, as a string, and
a <var>salt</var> character array which is described below, and returns a
printable ASCII string which starts with another salt.  It is believed
that, given the output of the function, the best way to find a <var>key</var>
that will produce that output is to guess values of <var>key</var> until the
original value of <var>key</var> is found.

<p>The <var>salt</var> parameter does two things.  Firstly, it selects which
algorithm is used, the MD5-based one or the DES-based one.  Secondly, it
makes life harder for someone trying to guess passwords against a file
containing many passwords; without a <var>salt</var>, an intruder can make a
guess, run <code>crypt</code> on it once, and compare the result with all the
passwords.  With a <var>salt</var>, the intruder must run <code>crypt</code> once
for each different salt.

<p>For the MD5-based algorithm, the <var>salt</var> should consist of the string
<code>$1$</code>, followed by up to 8 characters, terminated by either
another <code>$</code> or the end of the string.  The result of <code>crypt</code>
will be the <var>salt</var>, followed by a <code>$</code> if the salt didn't end
with one, followed by 22 characters from the alphabet
<code>./0-9A-Za-z</code>, up to 34 characters total.  Every character in the
<var>key</var> is significant.

<p>For the DES-based algorithm, the <var>salt</var> should consist of two
characters from the alphabet <code>./0-9A-Za-z</code>, and the result of
<code>crypt</code> will be those two characters followed by 11 more from the
same alphabet, 13 in total.  Only the first 8 characters in the
<var>key</var> are significant.

<p>The MD5-based algorithm has no limit on the useful length of the
password used, and is slightly more secure.  It is therefore preferred
over the DES-based algorithm.

<p>When the user enters their password for the first time, the <var>salt</var>
should be set to a new string which is reasonably random.  To verify a
password against the result of a previous call to <code>crypt</code>, pass
the result of the previous call as the <var>salt</var>. 
</td></tr>
</table>

<p>The following short program is an example of how to use <code>crypt</code> the
first time a password is entered.  Note that the <var>salt</var> generation
is just barely acceptable; in particular, it is not unique between
machines, and in many applications it would not be acceptable to let an
attacker know what time the user's password was last set.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;unistd.h&gt;
#include &lt;crypt.h&gt;

int
main(void)
{
  unsigned long seed[2];
  char salt[] = "$1$........";
  const char *const seedchars =
    "./0123456789ABCDEFGHIJKLMNOPQRST"
    "UVWXYZabcdefghijklmnopqrstuvwxyz";
  char *password;
  int i;

  /* Generate a (not very) random seed.
     You should do it better than this... */
  seed[0] = time(NULL);
  seed[1] = getpid() ^ (seed[0] &gt;&gt; 14 &amp; 0x30000);

  /* Turn it into printable characters from `seedchars'. */
  for (i = 0; i &lt; 8; i++)
    salt[3+i] = seedchars[(seed[i/5] &gt;&gt; (i%5)*6) &amp; 0x3f];

  /* Read in the user's password and encrypt it. */
  password = crypt(getpass("Password:"), salt);

  /* Print the results. */
  puts(password);
  return 0;
}
</pre>

<p>The next program shows how to verify a password.  It prompts the user
for a password and prints "Access granted." if the user types
<code>GNU libc manual</code>.

<br><pre>

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;crypt.h&gt;

int
main(void)
{
  /* Hashed form of "GNU libc manual". */
  const char *const pass = "$1$/iSaq7rB$EoUw5jJPPvAPECNaaWzMK/";

  char *result;
  int ok;

  /* Read in the user's password and encrypt it,
     passing the expected password in as the salt. */
  result = crypt(getpass("Password:"), pass);

  /* Test the result. */
  ok = strcmp (result, pass) == 0;

  puts(ok ? "Access granted." : "Access denied.");
  return ok ? 0 : 1;
}
</pre>

<p>
<table width="100%">
<tr>
<td align="left">char * <b>crypt_r</b><i> (const char *<var>key</var>, const char *<var>salt</var>, struct crypt_data * <var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>crypt_r</code> function does the same thing as <code>crypt</code>, but
takes an extra parameter which includes space for its result (among
other things), so it can be reentrant.  <code>data-&gt;initialized</code> must be
cleared to zero before the first time <code>crypt_r</code> is called.

<p>The <code>crypt_r</code> function is a GNU extension. 
</td></tr>
</table>

<p>The <code>crypt</code> and <code>crypt_r</code> functions are prototyped in the
header <code>crypt.h</code>.

<p><hr>
Node:<a name="DES%20Encryption">DES Encryption</a>,
Previous:<a rel=previous accesskey=p href="#crypt">crypt</a>,
Up:<a rel=up accesskey=u href="#Cryptographic%20Functions">Cryptographic Functions</a>
<br>

<h3>DES Encryption</h3>

<p>The Data Encryption Standard is described in the US Government Federal
Information Processing Standards (FIPS) 46-3 published by the National
Institute of Standards and Technology.  The DES has been very thoroughly
analyzed since it was developed in the late 1970s, and no new
significant flaws have been found.

<p>However, the DES uses only a 56-bit key (plus 8 parity bits), and a
machine has been built in 1998 which can search through all possible
keys in about 6 days, which cost about US$200000; faster searches would
be possible with more money.  This makes simple DES insecure for most
purposes, and NIST no longer permits new US government systems
to use simple DES.

<p>For serious encryption functionality, it is recommended that one of the
many free encryption libraries be used instead of these routines.

<p>The DES is a reversible operation which takes a 64-bit block and a
64-bit key, and produces another 64-bit block.  Usually the bits are
numbered so that the most-significant bit, the first bit, of each block
is numbered 1.

<p>Under that numbering, every 8th bit of the key (the 8th, 16th, and so
on) is not used by the encryption algorithm itself.  But the key must
have odd parity; that is, out of bits 1 through 8, and 9 through 16, and
so on, there must be an odd number of `1' bits, and this completely
specifies the unused bits.

<p>
<table width="100%">
<tr>
<td align="left">void <b>setkey</b><i> (const char *<var>key</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>setkey</code> function sets an internal data structure to be an
expanded form of <var>key</var>.  <var>key</var> is specified as an array of 64
bits each stored in a <code>char</code>, the first bit is <code>key[0]</code> and
the 64th bit is <code>key[63]</code>.  The <var>key</var> should have the correct
parity. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>encrypt</b><i> (char *<var>block</var>, int <var>edflag</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The <code>encrypt</code> function encrypts <var>block</var> if
<var>edflag</var> is 0, otherwise it decrypts <var>block</var>, using a key
previously set by <code>setkey</code>.  The result is
placed in <var>block</var>.

<p>Like <code>setkey</code>, <var>block</var> is specified as an array of 64 bits each
stored in a <code>char</code>, but there are no parity bits in <var>block</var>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>setkey_r</b><i> (const char *<var>key</var>, struct crypt_data * <var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<tr>
<td align="left">void <b>encrypt_r</b><i> (char *<var>block</var>, int <var>edflag</var>, struct crypt_data * <var>data</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>These are reentrant versions of <code>setkey</code> and <code>encrypt</code>.  The
only difference is the extra parameter, which stores the expanded
version of <var>key</var>.  Before calling <code>setkey_r</code> the first time,
<code>data-&gt;initialized</code> must be cleared to zero. 
</td></tr>
</table>

<p>The <code>setkey_r</code> and <code>encrypt_r</code> functions are GNU extensions. 
<code>setkey</code>, <code>encrypt</code>, <code>setkey_r</code>, and <code>encrypt_r</code> are
defined in <code>crypt.h</code>.

<p>
<table width="100%">
<tr>
<td align="left">int <b>ecb_crypt</b><i> (char *<var>key</var>, char *<var>blocks</var>, unsigned <var>len</var>, unsigned <var>mode</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The function <code>ecb_crypt</code> encrypts or decrypts one or more blocks
using DES.  Each block is encrypted independently.

<p>The <var>blocks</var> and the <var>key</var> are stored packed in 8-bit bytes, so
that the first bit of the key is the most-significant bit of
<code>key[0]</code> and the 63rd bit of the key is stored as the
least-significant bit of <code>key[7]</code>.  The <var>key</var> should have the
correct parity.

<p><var>len</var> is the number of bytes in <var>blocks</var>.  It should be a
multiple of 8 (so that there is a whole number of blocks to encrypt). 
<var>len</var> is limited to a maximum of <code>DES_MAXDATA</code> bytes.

<p>The result of the encryption replaces the input in <var>blocks</var>.

<p>The <var>mode</var> parameter is the bitwise OR of two of the following:

<dl>
<dt><code>DES_ENCRYPT</code>
<dd>This constant, used in the <var>mode</var> parameter, specifies that
<var>blocks</var> is to be encrypted.

<br><dt><code>DES_DECRYPT</code>
<dd>This constant, used in the <var>mode</var> parameter, specifies that
<var>blocks</var> is to be decrypted.

<br><dt><code>DES_HW</code>
<dd>This constant, used in the <var>mode</var> parameter, asks to use a hardware
device.  If no hardware device is available, encryption happens anyway,
but in software.

<br><dt><code>DES_SW</code>
<dd>This constant, used in the <var>mode</var> parameter, specifies that no
hardware device is to be used. 
</dl>

<p>The result of the function will be one of these values:

<dl>
<dt><code>DESERR_NONE</code>
<dd>The encryption succeeded.

<br><dt><code>DESERR_NOHWDEVICE</code>
<dd>The encryption succeeded, but there was no hardware device available.

<br><dt><code>DESERR_HWERROR</code>
<dd>The encryption failed because of a hardware problem.

<br><dt><code>DESERR_BADPARAM</code>
<dd>The encryption failed because of a bad parameter, for instance <var>len</var>
is not a multiple of 8 or <var>len</var> is larger than <code>DES_MAXDATA</code>. 
</dl>
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>DES_FAILED</b><i> (int <var>err</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro returns 1 if <var>err</var> is a `success' result code from
<code>ecb_crypt</code> or <code>cbc_crypt</code>, and 0 otherwise. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">int <b>cbc_crypt</b><i> (char *<var>key</var>, char *<var>blocks</var>, unsigned <var>len</var>, unsigned <var>mode</var>, char *<var>ivec</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The function <code>cbc_crypt</code> encrypts or decrypts one or more blocks
using DES in Cipher Block Chaining mode.

<p>For encryption in CBC mode, each block is exclusive-ored with <var>ivec</var>
before being encrypted, then <var>ivec</var> is replaced with the result of
the encryption, then the next block is processed.  Decryption is the
reverse of this process.

<p>This has the advantage that blocks which are the same before being
encrypted are very unlikely to be the same after being encrypted, making
it much harder to detect patterns in the data.

<p>Usually, <var>ivec</var> is set to 8 random bytes before encryption starts. 
Then the 8 random bytes are transmitted along with the encrypted data
(without themselves being encrypted), and passed back in as <var>ivec</var>
for decryption.  Another possibility is to set <var>ivec</var> to 8 zeroes
initially, and have the first the block encrypted consist of 8 random
bytes.

<p>Otherwise, all the parameters are similar to those for <code>ecb_crypt</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>des_setparity</b><i> (char *<var>key</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>

<p>The function <code>des_setparity</code> changes the 64-bit <var>key</var>, stored
packed in 8-bit bytes, to have odd parity by altering the low bits of
each byte. 
</td></tr>
</table>

<p>The <code>ecb_crypt</code>, <code>cbc_crypt</code>, and <code>des_setparity</code>
functions and their accompanying macros are all defined in the header
<code>rpc/des_crypt.h</code>.

<p><hr>
Node:<a name="Debugging%20Support">Debugging Support</a>,
Next:<a rel=next accesskey=n href="#Language%20Features">Language Features</a>,
Previous:<a rel=previous accesskey=p href="#Cryptographic%20Functions">Cryptographic Functions</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Debugging support</h2>

<p>Applications are usually debugged using dedicated debugger programs. 
But sometimes this is not possible and, in any case, it is useful to
provide the developer with as much information as possible at the time
the problems are experienced.  For this reason a few functions are
provided which a program can use to help the developer more easily
locate the problem.

<ul>
<li><a accesskey=1 href="#Backtraces">Backtraces</a>:                 Obtaining and printing a back trace of the
                               current stack. 
</ul>

<p><hr>
Node:<a name="Backtraces">Backtraces</a>,
Up:<a rel=up accesskey=u href="#Debugging%20Support">Debugging Support</a>
<br>

<h3>Backtraces</h3>

<p>A <dfn>backtrace</dfn> is a list of the function calls that are currently
active in a thread.  The usual way to inspect a backtrace of a program
is to use an external debugger such as gdb.  However, sometimes it is
useful to obtain a backtrace programatically from within a program,
e.g., for the purposes of logging or diagnostics.

<p>The header file <code>execinfo.h</code> declares three functions that obtain
and manipulate backtraces of the current thread.

<p>
<table width="100%">
<tr>
<td align="left">int <b>backtrace</b><i> (void **<var>buffer</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>backtrace</code> function obtains a backtrace for the current
thread, as a list of pointers, and places the information into
<var>buffer</var>.  The argument <var>size</var> should be the number of
<code>void&nbsp;*</code> elements that will fit into <var>buffer</var>.  The return
value is the actual number of entries of <var>buffer</var> that are obtained,
and is at most <var>size</var>.

<p>The pointers placed in <var>buffer</var> are actually return addresses
obtained by inspecting the stack, one return address per stack frame.

<p>Note that certain compiler optimizations may interfere with obtaining a
valid backtrace.  Function inlining causes the inlined function to not
have a stack frame; tail call optimization replaces one stack frame with
another; frame pointer elimination will stop <code>backtrace</code> from
interpreting the stack contents correctly. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">char ** <b>backtrace_symbols</b><i> (void *const *<var>buffer</var>, int <var>size</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>backtrace_symbols</code> function translates the information
obtained from the <code>backtrace</code> function into an array of strings. 
The argument <var>buffer</var> should be a pointer to an array of addresses
obtained via the <code>backtrace</code> function, and <var>size</var> is the number
of entries in that array (the return value of <code>backtrace</code>).

<p>The return value is a pointer to an array of strings, which has
<var>size</var> entries just like the array <var>buffer</var>.  Each string
contains a printable representation of the corresponding element of
<var>buffer</var>.  It includes the function name (if this can be
determined), an offset into the function, and the actual return address
(in hexadecimal).

<p>Currently, the function name and offset only be obtained on systems that
use the ELF binary format for programs and libraries.  On other systems,
only the hexadecimal return address will be present.  Also, you may need
to pass additional flags to the linker to make the function names
available to the program.  (For example, on systems using GNU ld, you
must pass (<code>-rdynamic</code>.)

<p>The return value of <code>backtrace_symbols</code> is a pointer obtained via
the <code>malloc</code> function, and it is the responsibility of the caller
to <code>free</code> that pointer.  Note that only the return value need be
freed, not the individual strings.

<p>The return value is <code>NULL</code> if sufficient memory for the strings
cannot be obtained. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>backtrace_symbols_fd</b><i> (void *const *<var>buffer</var>, int <var>size</var>, int <var>fd</var>)
</i></td>
<td align="right">Function</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>backtrace_symbols_fd</code> function performs the same translation
as the function <code>backtrace_symbols</code> function.  Instead of returning
the strings to the caller, it writes the strings to the file descriptor
<var>fd</var>, one per line.  It does not use the <code>malloc</code> function, and
can therefore be used in situations where that function might fail. 
</td></tr>
</table>

<p>The following program illustrates the use of these functions.  Note that
the array to contain the return addresses returned by <code>backtrace</code>
is allocated on the stack.  Therefore code like this can be used in
situations where the memory handling via <code>malloc</code> does not work
anymore (in which case the <code>backtrace_symbols</code> has to be replaced
by a <code>backtrace_symbols_fd</code> call as well).  The number of return
addresses is normally not very large.  Even complicated programs rather
seldom have a nesting level of more than, say, 50 and with 200 possible
entries probably all programs should be covered.

<br><pre>

#include &lt;execinfo.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/* Obtain a backtrace and print it to <code>stdout</code>. */
void
print_trace (void)
{
  void *array[10];
  size_t size;
  char **strings;
  size_t i;

  size = backtrace (array, 10);
  strings = backtrace_symbols (array, size);

  printf ("Obtained %zd stack frames.\n", size);

  for (i = 0; i &lt; size; i++)
     printf ("%s\n", strings[i]);

  free (strings);
}

/* A dummy function to make the backtrace more interesting. */
void
dummy_function (void)
{
  print_trace ();
}

int
main (void)
{
  dummy_function ();
  return 0;
}
</pre>

<p><hr>
Node:<a name="Language%20Features">Language Features</a>,
Next:<a rel=next accesskey=n href="#Library%20Summary">Library Summary</a>,
Previous:<a rel=previous accesskey=p href="#Debugging%20Support">Debugging Support</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>C Language Facilities in the Library</h2>

<p>Some of the facilities implemented by the C library really should be
thought of as parts of the C language itself.  These facilities ought to
be documented in the C Language Manual, not in the library manual; but
since we don't have the language manual yet, and documentation for these
features has been written, we are publishing it here.

<ul>
<li><a accesskey=1 href="#Consistency%20Checking">Consistency Checking</a>:         Using <code>assert</code> to abort if
				 something ``impossible'' happens. 
<li><a accesskey=2 href="#Variadic%20Functions">Variadic Functions</a>:           Defining functions with varying numbers
                                 of args. 
<li><a accesskey=3 href="#Null%20Pointer%20Constant">Null Pointer Constant</a>:        The macro <code>NULL</code>. 
<li><a accesskey=4 href="#Important%20Data%20Types">Important Data Types</a>:         Data types for object sizes. 
<li><a accesskey=5 href="#Data%20Type%20Measurements">Data Type Measurements</a>:       Parameters of data type representations. 
</ul>

<p><hr>
Node:<a name="Consistency%20Checking">Consistency Checking</a>,
Next:<a rel=next accesskey=n href="#Variadic%20Functions">Variadic Functions</a>,
Up:<a rel=up accesskey=u href="#Language%20Features">Language Features</a>
<br>

<h3>Explicitly Checking Internal Consistency</h3>

<p>When you're writing a program, it's often a good idea to put in checks
at strategic places for "impossible" errors or violations of basic
assumptions.  These kinds of checks are helpful in debugging problems
with the interfaces between different parts of the program, for example.

<p>The <code>assert</code> macro, defined in the header file <code>assert.h</code>,
provides a convenient way to abort the program while printing a message
about where in the program the error was detected.

<p>Once you think your program is debugged, you can disable the error
checks performed by the <code>assert</code> macro by recompiling with the
macro <code>NDEBUG</code> defined.  This means you don't actually have to
change the program source code to disable these checks.

<p>But disabling these consistency checks is undesirable unless they make
the program significantly slower.  All else being equal, more error
checking is good no matter who is running the program.  A wise user
would rather have a program crash, visibly, than have it return nonsense
without indicating anything might be wrong.

<p>
<table width="100%">
<tr>
<td align="left">void <b>assert</b><i> (int <var>expression</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Verify the programmer's belief that <var>expression</var> is nonzero at
this point in the program.

<p>If <code>NDEBUG</code> is not defined, <code>assert</code> tests the value of
<var>expression</var>.  If it is false (zero), <code>assert</code> aborts the
program (see <a href="#Aborting%20a%20Program">Aborting a Program</a>) after printing a message of the
form:

<br><pre><code><var>file</var></code>:<var>linenum</var>: <var>function</var>: Assertion `<var>expression</var>' failed.
</pre>

<p>on the standard error stream <code>stderr</code> (see <a href="#Standard%20Streams">Standard Streams</a>). 
The filename and line number are taken from the C preprocessor macros
<code>__FILE__</code> and <code>__LINE__</code> and specify where the call to
<code>assert</code> was made.  When using the GNU C compiler, the name of
the function which calls <code>assert</code> is taken from the built-in
variable <code>__PRETTY_FUNCTION__</code>; with older compilers, the function
name and following colon are omitted.

<p>If the preprocessor macro <code>NDEBUG</code> is defined before
<code>assert.h</code> is included, the <code>assert</code> macro is defined to do
absolutely nothing.

<p><strong>Warning:</strong> Even the argument expression <var>expression</var> is not
evaluated if <code>NDEBUG</code> is in effect.  So never use <code>assert</code>
with arguments that involve side effects.  For example, <code>assert
(++i &gt; 0);</code> is a bad idea, because <code>i</code> will not be incremented if
<code>NDEBUG</code> is defined. 
</td></tr>
</table>

<p>Sometimes the "impossible" condition you want to check for is an error
return from an operating system function.  Then it is useful to display
not only where the program crashes, but also what error was returned. 
The <code>assert_perror</code> macro makes this easy.

<p>
<table width="100%">
<tr>
<td align="left">void <b>assert_perror</b><i> (int <var>errnum</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
Similar to <code>assert</code>, but verifies that <var>errnum</var> is zero.

<p>If <code>NDEBUG</code> is defined, <code>assert_perror</code> tests the value of
<var>errnum</var>.  If it is nonzero, <code>assert_perror</code> aborts the program
after printing a message of the form:

<br><pre><code><var>file</var></code>:<var>linenum</var>: <var>function</var>: <var>error text</var>
</pre>

<p>on the standard error stream.  The file name, line number, and function
name are as for <code>assert</code>.  The error text is the result of
<code>strerror&nbsp;(<var>errnum</var>)</code>.  See <a href="#Error%20Messages">Error Messages</a>.

<p>Like <code>assert</code>, if <code>NDEBUG</code> is defined before <code>assert.h</code>
is included, the <code>assert_perror</code> macro does absolutely nothing.  It
does not evaluate the argument, so <var>errnum</var> should not have any side
effects.  It is best for <var>errnum</var> to be just a simple variable
reference; often it will be <code>errno</code>.

<p>This macro is a GNU extension. 
</td></tr>
</table>

<p><strong>Usage note:</strong> The <code>assert</code> facility is designed for
detecting <em>internal inconsistency</em>; it is not suitable for
reporting invalid input or improper usage by the <em>user</em> of the
program.

<p>The information in the diagnostic messages printed by the <code>assert</code>
and <code>assert_perror</code> macro is intended to help you, the programmer,
track down the cause of a bug, but is not really useful for telling a user
of your program why his or her input was invalid or why a command could not
be carried out.  What's more, your program should not abort when given
invalid input, as <code>assert</code> would do--it should exit with nonzero
status (see <a href="#Exit%20Status">Exit Status</a>) after printing its error messages, or perhaps
read another command or move on to the next input file.

<p>See <a href="#Error%20Messages">Error Messages</a>, for information on printing error messages for
problems that <em>do not</em> represent bugs in the program.

<p><hr>
Node:<a name="Variadic%20Functions">Variadic Functions</a>,
Next:<a rel=next accesskey=n href="#Null%20Pointer%20Constant">Null Pointer Constant</a>,
Previous:<a rel=previous accesskey=p href="#Consistency%20Checking">Consistency Checking</a>,
Up:<a rel=up accesskey=u href="#Language%20Features">Language Features</a>
<br>

<h3>Variadic Functions</h3>

<p>ISO&nbsp;C defines a syntax for declaring a function to take a variable
number or type of arguments.  (Such functions are referred to as
<dfn>varargs functions</dfn> or <dfn>variadic functions</dfn>.)  However, the
language itself provides no mechanism for such functions to access their
non-required arguments; instead, you use the variable arguments macros
defined in <code>stdarg.h</code>.

<p>This section describes how to declare variadic functions, how to write
them, and how to call them properly.

<p><strong>Compatibility Note:</strong> Many older C dialects provide a similar,
but incompatible, mechanism for defining functions with variable numbers
of arguments, using <code>varargs.h</code>.

<ul>
<li><a accesskey=1 href="#Why%20Variadic">Why Variadic</a>:                 Reasons for making functions take
                                 variable arguments. 
<li><a accesskey=2 href="#How%20Variadic">How Variadic</a>:                 How to define and call variadic functions. 
<li><a accesskey=3 href="#Variadic%20Example">Variadic Example</a>:             A complete example. 
</ul>

<p><hr>
Node:<a name="Why%20Variadic">Why Variadic</a>,
Next:<a rel=next accesskey=n href="#How%20Variadic">How Variadic</a>,
Up:<a rel=up accesskey=u href="#Variadic%20Functions">Variadic Functions</a>
<br>

<h4>Why Variadic Functions are Used</h4>

<p>Ordinary C functions take a fixed number of arguments.  When you define
a function, you specify the data type for each argument.  Every call to
the function should supply the expected number of arguments, with types
that can be converted to the specified ones.  Thus, if the function
<code>foo</code> is declared with <code>int foo (int, char *);</code> then you must
call it with two arguments, a number (any kind will do) and a string
pointer.

<p>But some functions perform operations that can meaningfully accept an
unlimited number of arguments.

<p>In some cases a function can handle any number of values by operating on
all of them as a block.  For example, consider a function that allocates
a one-dimensional array with <code>malloc</code> to hold a specified set of
values.  This operation makes sense for any number of values, as long as
the length of the array corresponds to that number.  Without facilities
for variable arguments, you would have to define a separate function for
each possible array size.

<p>The library function <code>printf</code> (see <a href="#Formatted%20Output">Formatted Output</a>) is an
example of another class of function where variable arguments are
useful.  This function prints its arguments (which can vary in type as
well as number) under the control of a format template string.

<p>These are good reasons to define a <dfn>variadic</dfn> function which can
handle as many arguments as the caller chooses to pass.

<p>Some functions such as <code>open</code> take a fixed set of arguments, but
occasionally ignore the last few.  Strict adherence to ISO&nbsp;C requires
these functions to be defined as variadic; in practice, however, the GNU
C compiler and most other C compilers let you define such a function to
take a fixed set of arguments--the most it can ever use--and then only
<em>declare</em> the function as variadic (or not declare its arguments
at all!).

<p><hr>
Node:<a name="How%20Variadic">How Variadic</a>,
Next:<a rel=next accesskey=n href="#Variadic%20Example">Variadic Example</a>,
Previous:<a rel=previous accesskey=p href="#Why%20Variadic">Why Variadic</a>,
Up:<a rel=up accesskey=u href="#Variadic%20Functions">Variadic Functions</a>
<br>

<h4>How Variadic Functions are Defined and Used</h4>

<p>Defining and using a variadic function involves three steps:

<ul>
<li><em>Define</em> the function as variadic, using an ellipsis
(<code><small>...</small></code>) in the argument list, and using special macros to
access the variable arguments.  See <a href="#Receiving%20Arguments">Receiving Arguments</a>.

<li><em>Declare</em> the function as variadic, using a prototype with an
ellipsis (<code><small>...</small></code>), in all the files which call it. 
See <a href="#Variadic%20Prototypes">Variadic Prototypes</a>.

<li><em>Call</em> the function by writing the fixed arguments followed by the
additional variable arguments.  See <a href="#Calling%20Variadics">Calling Variadics</a>. 
</ul>

<ul>
<li><a accesskey=1 href="#Variadic%20Prototypes">Variadic Prototypes</a>:   How to make a prototype for a function
			  with variable arguments. 
<li><a accesskey=2 href="#Receiving%20Arguments">Receiving Arguments</a>:   Steps you must follow to access the
			  optional argument values. 
<li><a accesskey=3 href="#How%20Many%20Arguments">How Many Arguments</a>:    How to decide whether there are more arguments. 
<li><a accesskey=4 href="#Calling%20Variadics">Calling Variadics</a>:     Things you need to know about calling
			  variable arguments functions. 
<li><a accesskey=5 href="#Argument%20Macros">Argument Macros</a>:       Detailed specification of the macros
        		  for accessing variable arguments. 
<li><a accesskey=6 href="#Old%20Varargs">Old Varargs</a>: 		 The pre-ISO way of defining variadic functions. 
</ul>

<p><hr>
Node:<a name="Variadic%20Prototypes">Variadic Prototypes</a>,
Next:<a rel=next accesskey=n href="#Receiving%20Arguments">Receiving Arguments</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>Syntax for Variable Arguments</h5>

<p>A function that accepts a variable number of arguments must be declared
with a prototype that says so.   You write the fixed arguments as usual,
and then tack on <code><small>...</small></code> to indicate the possibility of
additional arguments.  The syntax of ISO&nbsp;C requires at least one fixed
argument before the <code><small>...</small></code>.  For example,

<br><pre>int
func (const char *a, int b, <small>...</small>)
{
  <small>...</small>
}
</pre>

<p>defines a function <code>func</code> which returns an <code>int</code> and takes two
required arguments, a <code>const char *</code> and an <code>int</code>.  These are
followed by any number of anonymous arguments.

<p><strong>Portability note:</strong> For some C compilers, the last required
argument must not be declared <code>register</code> in the function
definition.  Furthermore, this argument's type must be
<dfn>self-promoting</dfn>: that is, the default promotions must not change
its type.  This rules out array and function types, as well as
<code>float</code>, <code>char</code> (whether signed or not) and <code>short&nbsp;int</code>
(whether signed or not).  This is actually an ISO&nbsp;C requirement.

<p><hr>
Node:<a name="Receiving%20Arguments">Receiving Arguments</a>,
Next:<a rel=next accesskey=n href="#How%20Many%20Arguments">How Many Arguments</a>,
Previous:<a rel=previous accesskey=p href="#Variadic%20Prototypes">Variadic Prototypes</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>Receiving the Argument Values</h5>

<p>Ordinary fixed arguments have individual names, and you can use these
names to access their values.  But optional arguments have no
names--nothing but <code><small>...</small></code>.  How can you access them?

<p>The only way to access them is sequentially, in the order they were
written, and you must use special macros from <code>stdarg.h</code> in the
following three step process:

<ol type=1 start=1>
</p><li>You initialize an argument pointer variable of type <code>va_list</code> using
<code>va_start</code>.  The argument pointer when initialized points to the
first optional argument.

<li>You access the optional arguments by successive calls to <code>va_arg</code>. 
The first call to <code>va_arg</code> gives you the first optional argument,
the next call gives you the second, and so on.

<p>You can stop at any time if you wish to ignore any remaining optional
arguments.  It is perfectly all right for a function to access fewer
arguments than were supplied in the call, but you will get garbage
values if you try to access too many arguments.

</p><li>You indicate that you are finished with the argument pointer variable by
calling <code>va_end</code>.

<p>(In practice, with most C compilers, calling <code>va_end</code> does nothing. 
This is always true in the GNU C compiler.  But you might as well call
<code>va_end</code> just in case your program is someday compiled with a peculiar
compiler.)
</ol>

<p>See <a href="#Argument%20Macros">Argument Macros</a>, for the full definitions of <code>va_start</code>,
<code>va_arg</code> and <code>va_end</code>.

<p>Steps 1 and 3 must be performed in the function that accepts the
optional arguments.  However, you can pass the <code>va_list</code> variable
as an argument to another function and perform all or part of step 2
there.

<p>You can perform the entire sequence of three steps multiple times
within a single function invocation.  If you want to ignore the optional
arguments, you can do these steps zero times.

<p>You can have more than one argument pointer variable if you like.  You
can initialize each variable with <code>va_start</code> when you wish, and
then you can fetch arguments with each argument pointer as you wish. 
Each argument pointer variable will sequence through the same set of
argument values, but at its own pace.

<p><strong>Portability note:</strong> With some compilers, once you pass an
argument pointer value to a subroutine, you must not keep using the same
argument pointer value after that subroutine returns.  For full
portability, you should just pass it to <code>va_end</code>.  This is actually
an ISO&nbsp;C requirement, but most ANSI C compilers work happily
regardless.

<p><hr>
Node:<a name="How%20Many%20Arguments">How Many Arguments</a>,
Next:<a rel=next accesskey=n href="#Calling%20Variadics">Calling Variadics</a>,
Previous:<a rel=previous accesskey=p href="#Receiving%20Arguments">Receiving Arguments</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>How Many Arguments Were Supplied</h5>

<p>There is no general way for a function to determine the number and type
of the optional arguments it was called with.  So whoever designs the
function typically designs a convention for the caller to specify the number
and type of arguments.  It is up to you to define an appropriate calling
convention for each variadic function, and write all calls accordingly.

<p>One kind of calling convention is to pass the number of optional
arguments as one of the fixed arguments.  This convention works provided
all of the optional arguments are of the same type.

<p>A similar alternative is to have one of the required arguments be a bit
mask, with a bit for each possible purpose for which an optional
argument might be supplied.  You would test the bits in a predefined
sequence; if the bit is set, fetch the value of the next argument,
otherwise use a default value.

<p>A required argument can be used as a pattern to specify both the number
and types of the optional arguments.  The format string argument to
<code>printf</code> is one example of this (see <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>).

<p>Another possibility is to pass an "end marker" value as the last
optional argument.  For example, for a function that manipulates an
arbitrary number of pointer arguments, a null pointer might indicate the
end of the argument list.  (This assumes that a null pointer isn't
otherwise meaningful to the function.)  The <code>execl</code> function works
in just this way; see <a href="#Executing%20a%20File">Executing a File</a>.

<p><hr>
Node:<a name="Calling%20Variadics">Calling Variadics</a>,
Next:<a rel=next accesskey=n href="#Argument%20Macros">Argument Macros</a>,
Previous:<a rel=previous accesskey=p href="#How%20Many%20Arguments">How Many Arguments</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>Calling Variadic Functions</h5>

<p>You don't have to do anything special to call a variadic function. 
Just put the arguments (required arguments, followed by optional ones)
inside parentheses, separated by commas, as usual.  But you must declare
the function with a prototype and know how the argument values are converted.

<p>In principle, functions that are <em>defined</em> to be variadic must also
be <em>declared</em> to be variadic using a function prototype whenever
you call them.  (See <a href="#Variadic%20Prototypes">Variadic Prototypes</a>, for how.)  This is because
some C compilers use a different calling convention to pass the same set
of argument values to a function depending on whether that function
takes variable arguments or fixed arguments.

<p>In practice, the GNU C compiler always passes a given set of argument
types in the same way regardless of whether they are optional or
required.  So, as long as the argument types are self-promoting, you can
safely omit declaring them.  Usually it is a good idea to declare the
argument types for variadic functions, and indeed for all functions. 
But there are a few functions which it is extremely convenient not to
have to declare as variadic--for example, <code>open</code> and
<code>printf</code>.

<p>Since the prototype doesn't specify types for optional arguments, in a
call to a variadic function the <dfn>default argument promotions</dfn> are
performed on the optional argument values.  This means the objects of
type <code>char</code> or <code>short&nbsp;int</code> (whether signed or not) are
promoted to either <code>int</code> or <code>unsigned&nbsp;int</code>, as
appropriate; and that objects of type <code>float</code> are promoted to type
<code>double</code>.  So, if the caller passes a <code>char</code> as an optional
argument, it is promoted to an <code>int</code>, and the function can access
it with <code>va_arg (<var>ap</var>, int)</code>.

<p>Conversion of the required arguments is controlled by the function
prototype in the usual way: the argument expression is converted to the
declared argument type as if it were being assigned to a variable of
that type.

<p><hr>
Node:<a name="Argument%20Macros">Argument Macros</a>,
Next:<a rel=next accesskey=n href="#Old%20Varargs">Old Varargs</a>,
Previous:<a rel=previous accesskey=p href="#Calling%20Variadics">Calling Variadics</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>Argument Access Macros</h5>

<p>Here are descriptions of the macros used to retrieve variable arguments. 
These macros are defined in the header file <code>stdarg.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>va_list</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The type <code>va_list</code> is used for argument pointer variables. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>va_start</b><i> (va_list <var>ap</var>, <var>last-required</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro initializes the argument pointer variable <var>ap</var> to point
to the first of the optional arguments of the current function;
<var>last-required</var> must be the last required argument to the function.

<p>See <a href="#Old%20Varargs">Old Varargs</a>, for an alternate definition of <code>va_start</code>
found in the header file <code>varargs.h</code>. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><var>type</var> <b>va_arg</b><i> (va_list <var>ap</var>, <var>type</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>va_arg</code> macro returns the value of the next optional argument,
and modifies the value of <var>ap</var> to point to the subsequent argument. 
Thus, successive uses of <code>va_arg</code> return successive optional
arguments.

<p>The type of the value returned by <code>va_arg</code> is <var>type</var> as
specified in the call.  <var>type</var> must be a self-promoting type (not
<code>char</code> or <code>short int</code> or <code>float</code>) that matches the type
of the actual argument. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>va_end</b><i> (va_list <var>ap</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This ends the use of <var>ap</var>.  After a <code>va_end</code> call, further
<code>va_arg</code> calls with the same <var>ap</var> may not work.  You should invoke
<code>va_end</code> before returning from the function in which <code>va_start</code>
was invoked with the same <var>ap</var> argument.

<p>In the GNU C library, <code>va_end</code> does nothing, and you need not ever
use it except for reasons of portability.

</td></tr>
</table>

<p>Sometimes it is necessary to parse the list of parameters more than once
or one wants to remember a certain position in the parameter list.  To
do this, one will have to make a copy of the current value of the
argument.  But <code>va_list</code> is an opaque type and one cannot necessarily
assign the value of one variable of type <code>va_list</code> to another variable
of the same type.

<p>
<table width="100%">
<tr>
<td align="left">void <b>__va_copy</b><i> (va_list <var>dest</var>, va_list <var>src</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
The <code>__va_copy</code> macro allows copying of objects of type
<code>va_list</code> even if this is not an integral type.  The argument pointer
in <var>dest</var> is initialized to point to the same argument as the
pointer in <var>src</var>.

<p>This macro is a GNU extension but it will hopefully also be available in
the next update of the ISO C standard. 
</td></tr>
</table>

<p>If you want to use <code>__va_copy</code> you should always be prepared for the
possibility that this macro will not be available.  On architectures where a
simple assignment is invalid, hopefully <code>__va_copy</code> <em>will</em> be available,
so one should always write something like this:

<br><pre>{
  va_list ap, save;
  <small>...</small>
#ifdef __va_copy
  __va_copy (save, ap);
#else
  save = ap;
#endif
  <small>...</small>
}
</pre>

<p><hr>
Node:<a name="Variadic%20Example">Variadic Example</a>,
Previous:<a rel=previous accesskey=p href="#How%20Variadic">How Variadic</a>,
Up:<a rel=up accesskey=u href="#Variadic%20Functions">Variadic Functions</a>
<br>

<h4>Example of a Variadic Function</h4>

<p>Here is a complete sample function that accepts a variable number of
arguments.  The first argument to the function is the count of remaining
arguments, which are added up and the result returned.  While trivial,
this function is sufficient to illustrate how to use the variable
arguments facility.

<br><pre>

#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;

int
add_em_up (int count,...)
{
  va_list ap;
  int i, sum;

  va_start (ap, count);         /* Initialize the argument list. */

  sum = 0;
  for (i = 0; i &lt; count; i++)
    sum += va_arg (ap, int);    /* Get the next argument value. */

  va_end (ap);                  /* Clean up. */
  return sum;
}

int
main (void)
{
  /* This call prints 16. */
  printf ("%d\n", add_em_up (3, 5, 5, 6));

  /* This call prints 55. */
  printf ("%d\n", add_em_up (10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10));

  return 0;
}
</pre>

<p><hr>
Node:<a name="Old%20Varargs">Old Varargs</a>,
Previous:<a rel=previous accesskey=p href="#Argument%20Macros">Argument Macros</a>,
Up:<a rel=up accesskey=u href="#How%20Variadic">How Variadic</a>
<br>

<h5>Old-Style Variadic Functions</h5>

<p>Before ISO&nbsp;C, programmers used a slightly different facility for
writing variadic functions.  The GNU C compiler still supports it;
currently, it is more portable than the ISO&nbsp;C facility, since support
for ISO&nbsp;C is still not universal.  The header file which defines the
old-fashioned variadic facility is called <code>varargs.h</code>.

<p>Using <code>varargs.h</code> is almost the same as using <code>stdarg.h</code>. 
There is no difference in how you call a variadic function;
see <a href="#Calling%20Variadics">Calling Variadics</a>.  The only difference is in how you define
them.  First of all, you must use old-style non-prototype syntax, like
this:

<br><pre>tree
build (va_alist)
     va_dcl
{
</pre>

<p>Secondly, you must give <code>va_start</code> only one argument, like this:

<br><pre>  va_list p;
  va_start (p);
</pre>

<p>These are the special macros used for defining old-style variadic
functions:

<p>
<table width="100%">
<tr>
<td align="left"><b>va_alist</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro stands for the argument name list required in a variadic
function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>va_dcl</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro declares the implicit argument or arguments for a variadic
function. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left">void <b>va_start</b><i> (va_list <var>ap</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This macro, as defined in <code>varargs.h</code>, initializes the argument
pointer variable <var>ap</var> to point to the first argument of the current
function. 
</td></tr>
</table>

<p>The other argument macros, <code>va_arg</code> and <code>va_end</code>, are the same
in <code>varargs.h</code> as in <code>stdarg.h</code>; see <a href="#Argument%20Macros">Argument Macros</a>, for
details.

<p>It does not work to include both <code>varargs.h</code> and <code>stdarg.h</code> in
the same compilation; they define <code>va_start</code> in conflicting ways.

<p><hr>
Node:<a name="Null%20Pointer%20Constant">Null Pointer Constant</a>,
Next:<a rel=next accesskey=n href="#Important%20Data%20Types">Important Data Types</a>,
Previous:<a rel=previous accesskey=p href="#Variadic%20Functions">Variadic Functions</a>,
Up:<a rel=up accesskey=u href="#Language%20Features">Language Features</a>
<br>

<h3>Null Pointer Constant</h3>

<p>The null pointer constant is guaranteed not to point to any real object. 
You can assign it to any pointer variable since it has type <code>void
*</code>.  The preferred way to write a null pointer constant is with
<code>NULL</code>.

<p>
<table width="100%">
<tr>
<td align="left">void * <b>NULL</b><i>
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is a null pointer constant. 
</td></tr>
</table>

<p>You can also use <code>0</code> or <code>(void *)0</code> as a null pointer
constant, but using <code>NULL</code> is cleaner because it makes the purpose
of the constant more evident.

<p>If you use the null pointer constant as a function argument, then for
complete portability you should make sure that the function has a
prototype declaration.  Otherwise, if the target machine has two
different pointer representations, the compiler won't know which
representation to use for that argument.  You can avoid the problem by
explicitly casting the constant to the proper pointer type, but we
recommend instead adding a prototype for the function you are calling.

<p><hr>
Node:<a name="Important%20Data%20Types">Important Data Types</a>,
Next:<a rel=next accesskey=n href="#Data%20Type%20Measurements">Data Type Measurements</a>,
Previous:<a rel=previous accesskey=p href="#Null%20Pointer%20Constant">Null Pointer Constant</a>,
Up:<a rel=up accesskey=u href="#Language%20Features">Language Features</a>
<br>

<h3>Important Data Types</h3>

<p>The result of subtracting two pointers in C is always an integer, but the
precise data type varies from C compiler to C compiler.  Likewise, the
data type of the result of <code>sizeof</code> also varies between compilers. 
ISO defines standard aliases for these two types, so you can refer to
them in a portable fashion.  They are defined in the header file
<code>stddef.h</code>.

<p>
<table width="100%">
<tr>
<td align="left"><b>ptrdiff_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is the signed integer type of the result of subtracting two
pointers.  For example, with the declaration <code>char *p1, *p2;</code>, the
expression <code>p2 - p1</code> is of type <code>ptrdiff_t</code>.  This will
probably be one of the standard signed integer types (<code>short&nbsp;int</code>, <code>int</code> or <code>long&nbsp;int</code>), but might be a nonstandard
type that exists only for this purpose. 
</td></tr>
</table>

<p>
<table width="100%">
<tr>
<td align="left"><b>size_t</b><i>
</i></td>
<td align="right">Data Type</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This is an unsigned integer type used to represent the sizes of objects. 
The result of the <code>sizeof</code> operator is of this type, and functions
such as <code>malloc</code> (see <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>) and
<code>memcpy</code> (see <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>) accept arguments of
this type to specify object sizes.

<p><strong>Usage Note:</strong> <code>size_t</code> is the preferred way to declare any
arguments or variables that hold the size of an object. 
</td></tr>
</table>

<p>In the GNU system <code>size_t</code> is equivalent to either
<code>unsigned&nbsp;int</code> or <code>unsigned&nbsp;long&nbsp;int</code>.  These types
have identical properties on the GNU system and, for most purposes, you
can use them interchangeably.  However, they are distinct as data types,
which makes a difference in certain contexts.

<p>For example, when you specify the type of a function argument in a
function prototype, it makes a difference which one you use.  If the
system header files declare <code>malloc</code> with an argument of type
<code>size_t</code> and you declare <code>malloc</code> with an argument of type
<code>unsigned int</code>, you will get a compilation error if <code>size_t</code>
happens to be <code>unsigned long int</code> on your system.  To avoid any
possibility of error, when a function argument or value is supposed to
have type <code>size_t</code>, never declare its type in any other way.

<p><strong>Compatibility Note:</strong> Implementations of C before the advent of
ISO&nbsp;C generally used <code>unsigned int</code> for representing object sizes
and <code>int</code> for pointer subtraction results.  They did not
necessarily define either <code>size_t</code> or <code>ptrdiff_t</code>.  Unix
systems did define <code>size_t</code>, in <code>sys/types.h</code>, but the
definition was usually a signed type.

<p><hr>
Node:<a name="Data%20Type%20Measurements">Data Type Measurements</a>,
Previous:<a rel=previous accesskey=p href="#Important%20Data%20Types">Important Data Types</a>,
Up:<a rel=up accesskey=u href="#Language%20Features">Language Features</a>
<br>

<h3>Data Type Measurements</h3>

<p>Most of the time, if you choose the proper C data type for each object
in your program, you need not be concerned with just how it is
represented or how many bits it uses.  When you do need such
information, the C language itself does not provide a way to get it. 
The header files <code>limits.h</code> and <code>float.h</code> contain macros
which give you this information in full detail.

<ul>
<li><a accesskey=1 href="#Width%20of%20Type">Width of Type</a>:            How many bits does an integer type hold? 
<li><a accesskey=2 href="#Range%20of%20Type">Range of Type</a>:            What are the largest and smallest values
			     that an integer type can hold? 
<li><a accesskey=3 href="#Floating%20Type%20Macros">Floating Type Macros</a>:     Parameters that measure the floating point types. 
<li><a accesskey=4 href="#Structure%20Measurement">Structure Measurement</a>:    Getting measurements on structure types. 
</ul>

<p><hr>
Node:<a name="Width%20of%20Type">Width of Type</a>,
Next:<a rel=next accesskey=n href="#Range%20of%20Type">Range of Type</a>,
Up:<a rel=up accesskey=u href="#Data%20Type%20Measurements">Data Type Measurements</a>
<br>

<h4>Computing the Width of an Integer Data Type</h4>

<p>The most common reason that a program needs to know how many bits are in
an integer type is for using an array of <code>long int</code> as a bit vector. 
You can access the bit at index <var>n</var> with

<br><pre>vector[<var>n</var> / LONGBITS] &amp; (1 &lt;&lt; (<var>n</var> % LONGBITS))
</pre>

<p>provided you define <code>LONGBITS</code> as the number of bits in a
<code>long int</code>.

<p>There is no operator in the C language that can give you the number of
bits in an integer data type.  But you can compute it from the macro
<code>CHAR_BIT</code>, defined in the header file <code>limits.h</code>.

<dl>
<dt><code>CHAR_BIT</code>
<dd>This is the number of bits in a <code>char</code>--eight, on most systems. 
The value has type <code>int</code>.

<p>You can compute the number of bits in any data type <var>type</var> like
this:

<br><pre>sizeof (<var>type</var>) * CHAR_BIT
</pre>
</dl>

<p><hr>
Node:<a name="Range%20of%20Type">Range of Type</a>,
Next:<a rel=next accesskey=n href="#Floating%20Type%20Macros">Floating Type Macros</a>,
Previous:<a rel=previous accesskey=p href="#Width%20of%20Type">Width of Type</a>,
Up:<a rel=up accesskey=u href="#Data%20Type%20Measurements">Data Type Measurements</a>
<br>

<h4>Range of an Integer Type</h4>

<p>Suppose you need to store an integer value which can range from zero to
one million.  Which is the smallest type you can use?  There is no
general rule; it depends on the C compiler and target machine.  You can
use the <code>MIN</code> and <code>MAX</code> macros in <code>limits.h</code> to determine
which type will work.

<p>Each signed integer type has a pair of macros which give the smallest
and largest values that it can hold.  Each unsigned integer type has one
such macro, for the maximum value; the minimum value is, of course,
zero.

<p>The values of these macros are all integer constant expressions.  The
<code>MAX</code> and <code>MIN</code> macros for <code>char</code> and <code>short&nbsp;int</code> types have values of type <code>int</code>.  The <code>MAX</code> and
<code>MIN</code> macros for the other types have values of the same type
described by the macro--thus, <code>ULONG_MAX</code> has type
<code>unsigned&nbsp;long&nbsp;int</code>.

<dl>
<dt><code>SCHAR_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>signed&nbsp;char</code>.

<br><dt><code>SCHAR_MAX</code>
<dt><code>UCHAR_MAX</code>
<dd>
These are the maximum values that can be represented by a
<code>signed&nbsp;char</code> and <code>unsigned&nbsp;char</code>, respectively.

<br><dt><code>CHAR_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>char</code>. 
It's equal to <code>SCHAR_MIN</code> if <code>char</code> is signed, or zero
otherwise.

<br><dt><code>CHAR_MAX</code>
<dd>
This is the maximum value that can be represented by a <code>char</code>. 
It's equal to <code>SCHAR_MAX</code> if <code>char</code> is signed, or
<code>UCHAR_MAX</code> otherwise.

<br><dt><code>SHRT_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>signed&nbsp;short&nbsp;int</code>.  On most machines that the GNU C library runs on,
<code>short</code> integers are 16-bit quantities.

<br><dt><code>SHRT_MAX</code>
<dt><code>USHRT_MAX</code>
<dd>
These are the maximum values that can be represented by a
<code>signed&nbsp;short&nbsp;int</code> and <code>unsigned&nbsp;short&nbsp;int</code>,
respectively.

<br><dt><code>INT_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>signed&nbsp;int</code>.  On most machines that the GNU C system runs on, an <code>int</code> is
a 32-bit quantity.

<br><dt><code>INT_MAX</code>
<dt><code>UINT_MAX</code>
<dd>
These are the maximum values that can be represented by, respectively,
the type <code>signed&nbsp;int</code> and the type <code>unsigned&nbsp;int</code>.

<br><dt><code>LONG_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>signed&nbsp;long&nbsp;int</code>.  On most machines that the GNU C system runs on, <code>long</code>
integers are 32-bit quantities, the same size as <code>int</code>.

<br><dt><code>LONG_MAX</code>
<dt><code>ULONG_MAX</code>
<dd>
These are the maximum values that can be represented by a
<code>signed&nbsp;long&nbsp;int</code> and <code>unsigned long int</code>, respectively.

<br><dt><code>LONG_LONG_MIN</code>
<dd>
This is the minimum value that can be represented by a <code>signed&nbsp;long&nbsp;long&nbsp;int</code>.  On most machines that the GNU C system runs on,
<code>long&nbsp;long</code> integers are 64-bit quantities.

<br><dt><code>LONG_LONG_MAX</code>
<dt><code>ULONG_LONG_MAX</code>
<dd>
These are the maximum values that can be represented by a <code>signed
long long int</code> and <code>unsigned long long int</code>, respectively.

<br><dt><code>WCHAR_MAX</code>
<dd>
This is the maximum value that can be represented by a <code>wchar_t</code>. 
See <a href="#Extended%20Char%20Intro">Extended Char Intro</a>. 
</dl>

<p>The header file <code>limits.h</code> also defines some additional constants
that parameterize various operating system and file system limits.  These
constants are described in <a href="#System%20Configuration">System Configuration</a>.

<p><hr>
Node:<a name="Floating%20Type%20Macros">Floating Type Macros</a>,
Next:<a rel=next accesskey=n href="#Structure%20Measurement">Structure Measurement</a>,
Previous:<a rel=previous accesskey=p href="#Range%20of%20Type">Range of Type</a>,
Up:<a rel=up accesskey=u href="#Data%20Type%20Measurements">Data Type Measurements</a>
<br>

<h4>Floating Type Macros</h4>

<p>The specific representation of floating point numbers varies from
machine to machine.  Because floating point numbers are represented
internally as approximate quantities, algorithms for manipulating
floating point data often need to take account of the precise details of
the machine's floating point representation.

<p>Some of the functions in the C library itself need this information; for
example, the algorithms for printing and reading floating point numbers
(see <a href="#I%2fO%20on%20Streams">I/O on Streams</a>) and for calculating trigonometric and
irrational functions (see <a href="#Mathematics">Mathematics</a>) use it to avoid round-off
error and loss of accuracy.  User programs that implement numerical
analysis techniques also often need this information in order to
minimize or compute error bounds.

<p>The header file <code>float.h</code> describes the format used by your
machine.

<ul>
<li><a accesskey=1 href="#Floating%20Point%20Concepts">Floating Point Concepts</a>:      Definitions of terminology. 
<li><a accesskey=2 href="#Floating%20Point%20Parameters">Floating Point Parameters</a>:    Details of specific macros. 
<li><a accesskey=3 href="#IEEE%20Floating%20Point">IEEE Floating Point</a>:          The measurements for one common
                                 representation. 
</ul>

<p><hr>
Node:<a name="Floating%20Point%20Concepts">Floating Point Concepts</a>,
Next:<a rel=next accesskey=n href="#Floating%20Point%20Parameters">Floating Point Parameters</a>,
Up:<a rel=up accesskey=u href="#Floating%20Type%20Macros">Floating Type Macros</a>
<br>

<h5>Floating Point Representation Concepts</h5>

<p>This section introduces the terminology for describing floating point
representations.

<p>You are probably already familiar with most of these concepts in terms
of scientific or exponential notation for floating point numbers.  For
example, the number <code>123456.0</code> could be expressed in exponential
notation as <code>1.23456e+05</code>, a shorthand notation indicating that the
mantissa <code>1.23456</code> is multiplied by the base <code>10</code> raised to
power <code>5</code>.

<p>More formally, the internal representation of a floating point number
can be characterized in terms of the following parameters:

<ul>
<li>The <dfn>sign</dfn> is either <code>-1</code> or <code>1</code>.

<li>The <dfn>base</dfn> or <dfn>radix</dfn> for exponentiation, an integer greater
than <code>1</code>.  This is a constant for a particular representation.

<li>The <dfn>exponent</dfn> to which the base is raised.  The upper and lower
bounds of the exponent value are constants for a particular
representation.

<p>Sometimes, in the actual bits representing the floating point number,
the exponent is <dfn>biased</dfn> by adding a constant to it, to make it
always be represented as an unsigned quantity.  This is only important
if you have some reason to pick apart the bit fields making up the
floating point number by hand, which is something for which the GNU
library provides no support.  So this is ignored in the discussion that
follows.

</p><li>The <dfn>mantissa</dfn> or <dfn>significand</dfn> is an unsigned integer which is a
part of each floating point number.

<li>The <dfn>precision</dfn> of the mantissa.  If the base of the representation
is <var>b</var>, then the precision is the number of base-<var>b</var> digits in
the mantissa.  This is a constant for a particular representation.

<p>Many floating point representations have an implicit <dfn>hidden bit</dfn> in
the mantissa.  This is a bit which is present virtually in the mantissa,
but not stored in memory because its value is always 1 in a normalized
number.  The precision figure (see above) includes any hidden bits.

<p>Again, the GNU library provides no facilities for dealing with such
low-level aspects of the representation. 
</ul>

<p>The mantissa of a floating point number represents an implicit fraction
whose denominator is the base raised to the power of the precision.  Since
the largest representable mantissa is one less than this denominator, the
value of the fraction is always strictly less than <code>1</code>.  The
mathematical value of a floating point number is then the product of this
fraction, the sign, and the base raised to the exponent.

<p>We say that the floating point number is <dfn>normalized</dfn> if the
fraction is at least <code>1/<var>b</var></code>, where <var>b</var> is the base.  In
other words, the mantissa would be too large to fit if it were
multiplied by the base.  Non-normalized numbers are sometimes called
<dfn>denormal</dfn>; they contain less precision than the representation
normally can hold.

<p>If the number is not normalized, then you can subtract <code>1</code> from the
exponent while multiplying the mantissa by the base, and get another
floating point number with the same value.  <dfn>Normalization</dfn> consists
of doing this repeatedly until the number is normalized.  Two distinct
normalized floating point numbers cannot be equal in value.

<p>(There is an exception to this rule: if the mantissa is zero, it is
considered normalized.  Another exception happens on certain machines
where the exponent is as small as the representation can hold.  Then
it is impossible to subtract <code>1</code> from the exponent, so a number
may be normalized even if its fraction is less than <code>1/<var>b</var></code>.)

<p><hr>
Node:<a name="Floating%20Point%20Parameters">Floating Point Parameters</a>,
Next:<a rel=next accesskey=n href="#IEEE%20Floating%20Point">IEEE Floating Point</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Point%20Concepts">Floating Point Concepts</a>,
Up:<a rel=up accesskey=u href="#Floating%20Type%20Macros">Floating Type Macros</a>
<br>

<h5>Floating Point Parameters</h5>

<p>These macro definitions can be accessed by including the header file
<code>float.h</code> in your program.

<p>Macro names starting with <code>FLT_</code> refer to the <code>float</code> type,
while names beginning with <code>DBL_</code> refer to the <code>double</code> type
and names beginning with <code>LDBL_</code> refer to the <code>long double</code>
type.  (If GCC does not support <code>long double</code> as a distinct data
type on a target machine then the values for the <code>LDBL_</code> constants
are equal to the corresponding constants for the <code>double</code> type.)

<p>Of these macros, only <code>FLT_RADIX</code> is guaranteed to be a constant
expression.  The other macros listed here cannot be reliably used in
places that require constant expressions, such as <code>#if</code>
preprocessing directives or in the dimensions of static arrays.

<p>Although the ISO&nbsp;C standard specifies minimum and maximum values for
most of these parameters, the GNU C implementation uses whatever values
describe the floating point representation of the target machine.  So in
principle GNU C actually satisfies the ISO&nbsp;C requirements only if the
target machine is suitable.  In practice, all the machines currently
supported are suitable.

<dl>
<dt><code>FLT_ROUNDS</code>
<dd>This value characterizes the rounding mode for floating point addition. 
The following values indicate standard rounding modes:

<dl>
<dt><code>-1</code>
<dd>The mode is indeterminable. 
<br><dt><code>0</code>
<dd>Rounding is towards zero. 
<br><dt><code>1</code>
<dd>Rounding is to the nearest number. 
<br><dt><code>2</code>
<dd>Rounding is towards positive infinity. 
<br><dt><code>3</code>
<dd>Rounding is towards negative infinity. 
</dl>

<p>Any other value represents a machine-dependent nonstandard rounding
mode.

<p>On most machines, the value is <code>1</code>, in accordance with the IEEE
standard for floating point.

<p>Here is a table showing how certain values round for each possible value
of <code>FLT_ROUNDS</code>, if the other aspects of the representation match
the IEEE single-precision standard.

<br><pre>                0      1             2             3
 1.00000003    1.0    1.0           1.00000012    1.0
 1.00000007    1.0    1.00000012    1.00000012    1.0
-1.00000003   -1.0   -1.0          -1.0          -1.00000012
-1.00000007   -1.0   -1.00000012   -1.0          -1.00000012
</pre>

<br><dt><code>FLT_RADIX</code>
<dd>This is the value of the base, or radix, of the exponent representation. 
This is guaranteed to be a constant expression, unlike the other macros
described in this section.  The value is 2 on all machines we know of
except the IBM 360 and derivatives.

<br><dt><code>FLT_MANT_DIG</code>
<dd>This is the number of base-<code>FLT_RADIX</code> digits in the floating point
mantissa for the <code>float</code> data type.  The following expression
yields <code>1.0</code> (even though mathematically it should not) due to the
limited number of mantissa digits:

<br><pre>float radix = FLT_RADIX;

1.0f + 1.0f / radix / radix / <small>...</small> / radix
</pre>

<p>where <code>radix</code> appears <code>FLT_MANT_DIG</code> times.

<br><dt><code>DBL_MANT_DIG</code>
<dt><code>LDBL_MANT_DIG</code>
<dd>This is the number of base-<code>FLT_RADIX</code> digits in the floating point
mantissa for the data types <code>double</code> and <code>long double</code>,
respectively.

<br><dt><code>FLT_DIG</code>
<dd>
This is the number of decimal digits of precision for the <code>float</code>
data type.  Technically, if <var>p</var> and <var>b</var> are the precision and
base (respectively) for the representation, then the decimal precision
<var>q</var> is the maximum number of decimal digits such that any floating
point number with <var>q</var> base 10 digits can be rounded to a floating
point number with <var>p</var> base <var>b</var> digits and back again, without
change to the <var>q</var> decimal digits.

<p>The value of this macro is supposed to be at least <code>6</code>, to satisfy
ISO&nbsp;C.

<br><dt><code>DBL_DIG</code>
<dt><code>LDBL_DIG</code>
<dd>
These are similar to <code>FLT_DIG</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.  The values of these
macros are supposed to be at least <code>10</code>.

<br><dt><code>FLT_MIN_EXP</code>
<dd>This is the smallest possible exponent value for type <code>float</code>. 
More precisely, is the minimum negative integer such that the value
<code>FLT_RADIX</code> raised to this power minus 1 can be represented as a
normalized floating point number of type <code>float</code>.

<br><dt><code>DBL_MIN_EXP</code>
<dt><code>LDBL_MIN_EXP</code>
<dd>
These are similar to <code>FLT_MIN_EXP</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.

<br><dt><code>FLT_MIN_10_EXP</code>
<dd>This is the minimum negative integer such that <code>10</code> raised to this
power minus 1 can be represented as a normalized floating point number
of type <code>float</code>.  This is supposed to be <code>-37</code> or even less.

<br><dt><code>DBL_MIN_10_EXP</code>
<dt><code>LDBL_MIN_10_EXP</code>
<dd>These are similar to <code>FLT_MIN_10_EXP</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.

<br><dt><code>FLT_MAX_EXP</code>
<dd>This is the largest possible exponent value for type <code>float</code>.  More
precisely, this is the maximum positive integer such that value
<code>FLT_RADIX</code> raised to this power minus 1 can be represented as a
floating point number of type <code>float</code>.

<br><dt><code>DBL_MAX_EXP</code>
<dt><code>LDBL_MAX_EXP</code>
<dd>These are similar to <code>FLT_MAX_EXP</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.

<br><dt><code>FLT_MAX_10_EXP</code>
<dd>This is the maximum positive integer such that <code>10</code> raised to this
power minus 1 can be represented as a normalized floating point number
of type <code>float</code>.  This is supposed to be at least <code>37</code>.

<br><dt><code>DBL_MAX_10_EXP</code>
<dt><code>LDBL_MAX_10_EXP</code>
<dd>These are similar to <code>FLT_MAX_10_EXP</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.

<br><dt><code>FLT_MAX</code>
<dd>
The value of this macro is the maximum number representable in type
<code>float</code>.  It is supposed to be at least <code>1E+37</code>.  The value
has type <code>float</code>.

<p>The smallest representable number is <code>- FLT_MAX</code>.

<br><dt><code>DBL_MAX</code>
<dt><code>LDBL_MAX</code>
<dd>
These are similar to <code>FLT_MAX</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.  The type of the
macro's value is the same as the type it describes.

<br><dt><code>FLT_MIN</code>
<dd>
The value of this macro is the minimum normalized positive floating
point number that is representable in type <code>float</code>.  It is supposed
to be no more than <code>1E-37</code>.

<br><dt><code>DBL_MIN</code>
<dt><code>LDBL_MIN</code>
<dd>
These are similar to <code>FLT_MIN</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.  The type of the
macro's value is the same as the type it describes.

<br><dt><code>FLT_EPSILON</code>
<dd>
This is the maximum positive floating point number of type <code>float</code>
such that <code>1.0 + FLT_EPSILON != 1.0</code> is true.  It's supposed to
be no greater than <code>1E-5</code>.

<br><dt><code>DBL_EPSILON</code>
<dt><code>LDBL_EPSILON</code>
<dd>
These are similar to <code>FLT_EPSILON</code>, but for the data types
<code>double</code> and <code>long double</code>, respectively.  The type of the
macro's value is the same as the type it describes.  The values are not
supposed to be greater than <code>1E-9</code>. 
</dl>

<p><hr>
Node:<a name="IEEE%20Floating%20Point">IEEE Floating Point</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Point%20Parameters">Floating Point Parameters</a>,
Up:<a rel=up accesskey=u href="#Floating%20Type%20Macros">Floating Type Macros</a>
<br>

<h5>IEEE Floating Point</h5>

<p>Here is an example showing how the floating type measurements come out
for the most common floating point representation, specified by the
<cite>IEEE Standard for Binary Floating Point Arithmetic (ANSI/IEEE Std
754-1985)</cite>.  Nearly all computers designed since the 1980s use this
format.

<p>The IEEE single-precision float representation uses a base of 2.  There
is a sign bit, a mantissa with 23 bits plus one hidden bit (so the total
precision is 24 base-2 digits), and an 8-bit exponent that can represent
values in the range -125 to 128, inclusive.

<p>So, for an implementation that uses this representation for the
<code>float</code> data type, appropriate values for the corresponding
parameters are:

<br><pre>FLT_RADIX                             2
FLT_MANT_DIG                         24
FLT_DIG                               6
FLT_MIN_EXP                        -125
FLT_MIN_10_EXP                      -37
FLT_MAX_EXP                         128
FLT_MAX_10_EXP                      +38
FLT_MIN                 1.17549435E-38F
FLT_MAX                 3.40282347E+38F
FLT_EPSILON             1.19209290E-07F
</pre>

<p>Here are the values for the <code>double</code> data type:

<br><pre>DBL_MANT_DIG                         53
DBL_DIG                              15
DBL_MIN_EXP                       -1021
DBL_MIN_10_EXP                     -307
DBL_MAX_EXP                        1024
DBL_MAX_10_EXP                      308
DBL_MAX         1.7976931348623157E+308
DBL_MIN         2.2250738585072014E-308
DBL_EPSILON     2.2204460492503131E-016
</pre>

<p><hr>
Node:<a name="Structure%20Measurement">Structure Measurement</a>,
Previous:<a rel=previous accesskey=p href="#Floating%20Type%20Macros">Floating Type Macros</a>,
Up:<a rel=up accesskey=u href="#Data%20Type%20Measurements">Data Type Measurements</a>
<br>

<h4>Structure Field Offset Measurement</h4>

<p>You can use <code>offsetof</code> to measure the location within a structure
type of a particular structure member.

<p>
<table width="100%">
<tr>
<td align="left">size_t <b>offsetof</b><i> (<var>type</var>, <var>member</var>)
</i></td>
<td align="right">Macro</td>
</tr>
</table>
<table width="95%" align="center">
<tr><td>
This expands to a integer constant expression that is the offset of the
structure member named <var>member</var> in a the structure type <var>type</var>. 
For example, <code>offsetof (struct s, elem)</code> is the offset, in bytes,
of the member <code>elem</code> in a <code>struct s</code>.

<p>This macro won't work if <var>member</var> is a bit field; you get an error
from the C compiler in that case. 
</td></tr>
</table>

<p><hr>
Node:<a name="Library%20Summary">Library Summary</a>,
Next:<a rel=next accesskey=n href="#Installation">Installation</a>,
Previous:<a rel=previous accesskey=p href="#Language%20Features">Language Features</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Summary of Library Facilities</h2>

<p>This appendix is a complete list of the facilities declared within the
header files supplied with the GNU C library.  Each entry also lists the
standard or other source from which each facility is derived, and tells
you where in the manual you can find more information about how to use
it.

<dl>

<br><dt><code>long int a64l (const char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (XPG):  <a href="#Encode%20Binary%20Data">Encode Binary Data</a>.

<br><dt><code>void abort (void)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Aborting%20a%20Program">Aborting a Program</a>.

<br><dt><code>int abs (int <var>number</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>int accept (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length_ptr</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Accepting%20Connections">Accepting Connections</a>.

<br><dt><code>int access (const char *<var>filename</var>, int <var>how</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Testing%20File%20Access">Testing File Access</a>.

<br><dt><code>ACCOUNTING</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>double acos (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>float acosf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>double acosh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float acoshf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double acoshl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double acosl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>int addmntent (FILE *<var>stream</var>, const struct mntent *<var>mnt</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>int adjtime (const struct timeval *<var>delta</var>, struct timeval *<var>olddelta</var>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<br><dt><code>int adjtimex (struct timex *<var>timex</var>)</code>
<dd>
<code>sys/timex.h</code> (GNU):  <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<br><dt><code>AF_FILE</code>
<dd>
<code>sys/socket.h</code> (GNU):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>AF_INET</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>AF_INET6</code>
<dd>
<code>sys/socket.h</code> (IPv6 Basic API):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>AF_LOCAL</code>
<dd>
<code>sys/socket.h</code> (POSIX):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>AF_UNIX</code>
<dd>
<code>sys/socket.h</code> (BSD, Unix98):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>AF_UNSPEC</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>int aio_cancel (int <var>fildes</var>, struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>.

<br><dt><code>int aio_cancel64 (int <var>fildes</var>, struct aiocb64 *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>.

<br><dt><code>int aio_error (const struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>.

<br><dt><code>int aio_error64 (const struct aiocb64 *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>.

<br><dt><code>int aio_fsync (int <var>op</var>, struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>.

<br><dt><code>int aio_fsync64 (int <var>op</var>, struct aiocb64 *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>.

<br><dt><code>void aio_init (const struct aioinit *<var>init</var>)</code>
<dd>
<code>aio.h</code> (GNU):  <a href="#Configuration%20of%20AIO">Configuration of AIO</a>.

<br><dt><code>int aio_read (struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>int aio_read64 (struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>ssize_t aio_return (const struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>.

<br><dt><code>int aio_return64 (const struct aiocb64 *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>.

<br><dt><code>int aio_suspend (const struct aiocb *const <var>list</var>[], int <var>nent</var>, const struct timespec *<var>timeout</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>.

<br><dt><code>int aio_suspend64 (const struct aiocb64 *const <var>list</var>[], int <var>nent</var>, const struct timespec *<var>timeout</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>.

<br><dt><code>int aio_write (struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>int aio_write64 (struct aiocb *<var>aiocbp</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>unsigned int alarm (unsigned int <var>seconds</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>void * alloca (size_t <var>size</var>);</code>
<dd>
<code>stdlib.h</code> (GNU, BSD):  <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>.

<br><dt><code>int alphasort (const void *<var>a</var>, const void *<var>b</var>)</code>
<dd>
<code>dirent.h</code> (BSD/SVID):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>int alphasort64 (const void *<var>a</var>, const void *<var>b</var>)</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>tcflag_t ALTWERASE</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>int ARG_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>error_t argp_err_exit_status</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Global%20Variables">Argp Global Variables</a>.

<br><dt><code>void argp_error (const struct argp_state *<var>state</var>, const char *<var>fmt</var>, <small>...</small>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>.

<br><dt><code>int ARGP_ERR_UNKNOWN</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>.

<br><dt><code>void argp_failure (const struct argp_state *<var>state</var>, int <var>status</var>, int <var>errnum</var>, const char *<var>fmt</var>, <small>...</small>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>.

<br><dt><code>void argp_help (const struct argp *<var>argp</var>, FILE *<var>stream</var>, unsigned <var>flags</var>, char *<var>name</var>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help">Argp Help</a>.

<br><dt><code>ARGP_IN_ORDER</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>ARGP_KEY_ARG</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_ARGS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_END</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_ERROR</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_FINI</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_HELP_ARGS_DOC</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_HELP_DUP_ARGS_NOTE</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_HELP_EXTRA</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_HELP_HEADER</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_HELP_POST_DOC</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_HELP_PRE_DOC</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>.

<br><dt><code>ARGP_KEY_INIT</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_NO_ARGS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_KEY_SUCCESS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Special%20Keys">Argp Special Keys</a>.

<br><dt><code>ARGP_LONG_ONLY</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>ARGP_NO_ARGS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>ARGP_NO_ERRS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>ARGP_NO_EXIT</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>ARGP_NO_HELP</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>error_t argp_parse (const struct argp *<var>argp</var>, int <var>argc</var>, char **<var>argv</var>, unsigned <var>flags</var>, int *<var>arg_index</var>, void *<var>input</var>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp">Suboptions</a>.

<br><dt><code>ARGP_PARSE_ARGV0</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>const char * argp_program_bug_address</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Global%20Variables">Argp Global Variables</a>.

<br><dt><code>const char * argp_program_version</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Global%20Variables">Argp Global Variables</a>.

<br><dt><code>argp_program_version_hook</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Global%20Variables">Argp Global Variables</a>.

<br><dt><code>ARGP_SILENT</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Flags">Argp Flags</a>.

<br><dt><code>void argp_state_help (const struct argp_state *<var>state</var>, FILE *<var>stream</var>, unsigned <var>flags</var>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>.

<br><dt><code>void argp_usage (const struct argp_state *<var>state</var>)</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>.

<br><dt><code>error_t argz_add (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>str</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_add_sep (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>str</var>, int <var>delim</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_append (char **<var>argz</var>, size_t *<var>argz_len</var>, const char *<var>buf</var>, size_t <var>buf_len</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>size_t argz_count (const char *<var>argz</var>, size_t <var>arg_len</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_create (char *const <var>argv</var>[], char **<var>argz</var>, size_t *<var>argz_len</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_create_sep (const char *<var>string</var>, int <var>sep</var>, char **<var>argz</var>, size_t *<var>argz_len</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_delete (char **<var>argz</var>, size_t *<var>argz_len</var>, char *<var>entry</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>void argz_extract (char *<var>argz</var>, size_t <var>argz_len</var>, char **<var>argv</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_insert (char **<var>argz</var>, size_t *<var>argz_len</var>, char *<var>before</var>, const char *<var>entry</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>char * argz_next (char *<var>argz</var>, size_t <var>argz_len</var>, const char *<var>entry</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>error_t argz_replace (char&nbsp;**<var>argz</var>,&nbsp;size_t&nbsp;*<var>argz_len</var>, const&nbsp;char&nbsp;*<var>str</var>,&nbsp;const&nbsp;char&nbsp;*<var>with</var>, unsigned&nbsp;*<var>replace_count</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>void argz_stringify (char *<var>argz</var>, size_t <var>len</var>, int <var>sep</var>)</code>
<dd>
<code>argz.h</code> (GNU):  <a href="#Argz%20Functions">Argz Functions</a>.

<br><dt><code>char * asctime (const struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>char * asctime_r (const struct tm *<var>brokentime</var>, char *<var>buffer</var>)</code>
<dd>
<code>time.h</code> (POSIX.1c):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>double asin (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>float asinf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>double asinh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float asinhf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double asinhl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double asinl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>int asprintf (char **<var>ptr</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Dynamic%20Output">Dynamic Output</a>.

<br><dt><code>void assert (int <var>expression</var>)</code>
<dd>
<code>assert.h</code> (ISO):  <a href="#Consistency%20Checking">Consistency Checking</a>.

<br><dt><code>void assert_perror (int <var>errnum</var>)</code>
<dd>
<code>assert.h</code> (GNU):  <a href="#Consistency%20Checking">Consistency Checking</a>.

<br><dt><code>double atan (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>double atan2 (double <var>y</var>, double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>float atan2f (float <var>y</var>, float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>long double atan2l (long double <var>y</var>, long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>float atanf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>double atanh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float atanhf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double atanhl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double atanl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>int atexit (void (*<var>function</var>) (void))</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>.

<br><dt><code>double atof (const char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>int atoi (const char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>long int atol (const char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>long long int atoll (const char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>B0</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B110</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B115200</code>
<dd>
<code>termios.h</code> (GNU):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B1200</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B134</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B150</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B1800</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B19200</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B200</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B230400</code>
<dd>
<code>termios.h</code> (GNU):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B2400</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B300</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B38400</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B460800</code>
<dd>
<code>termios.h</code> (GNU):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B4800</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B50</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B57600</code>
<dd>
<code>termios.h</code> (GNU):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B600</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B75</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>B9600</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>int backtrace (void **<var>buffer</var>, int <var>size</var>)</code>
<dd>
<code>execinfo.h</code> (GNU):  <a href="#Backtraces">Backtraces</a>.

<br><dt><code>char ** backtrace_symbols (void *const *<var>buffer</var>, int <var>size</var>)</code>
<dd>
<code>execinfo.h</code> (GNU):  <a href="#Backtraces">Backtraces</a>.

<br><dt><code>void backtrace_symbols_fd (void *const *<var>buffer</var>, int <var>size</var>, int <var>fd</var>)</code>
<dd>
<code>execinfo.h</code> (GNU):  <a href="#Backtraces">Backtraces</a>.

<br><dt><code>char * basename (char *<var>path</var>)</code>
<dd>
<code>libgen.h</code> (XPG):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>char * basename (const char *<var>filename</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>int BC_BASE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>int BC_DIM_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>int bcmp (const void *<var>a1</var>, const void *<var>a2</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>void bcopy (const void *<var>from</var>, void *<var>to</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int BC_SCALE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>int BC_STRING_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>int bind (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Setting%20Address">Setting Address</a>.

<br><dt><code>char * bindtextdomain (const char *<var>domainname</var>, const char *<var>dirname</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>.

<br><dt><code>char * bind_textdomain_codeset (const char *<var>domainname</var>, const char *<var>codeset</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>.

<br><dt><code>blkcnt64_t</code>
<dd>
<code>sys/types.h</code> (Unix98):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>blkcnt_t</code>
<dd>
<code>sys/types.h</code> (Unix98):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>BOOT_TIME</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>BOOT_TIME</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int brk (void *<var>addr</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>.

<br><dt><code>tcflag_t BRKINT</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>_BSD_SOURCE</code>
<dd>
(GNU):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>void * bsearch (const void *<var>key</var>, const void *<var>array</var>, size_t <var>count</var>, size_t <var>size</var>, comparison_fn_t <var>compare</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Array%20Search%20Function">Array Search Function</a>.

<br><dt><code>wint_t btowc (int <var>c</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20a%20Character">Converting a Character</a>.

<br><dt><code>int BUFSIZ</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>void bzero (void *<var>block</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>double cabs (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>float cabsf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>long double cabsl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>complex double cacos (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex float cacosf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex double cacosh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float cacoshf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double cacoshl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double cacosl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>void * calloc (size_t <var>count</var>, size_t <var>eltsize</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (ISO):  <a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>.

<br><dt><code>char * canonicalize_file_name (const char *<var>name</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>double carg (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>float cargf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>long double cargl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>complex double casin (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex float casinf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex double casinh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float casinhf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double casinhl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double casinl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex double catan (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex float catanf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>complex double catanh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float catanhf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double catanhl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double catanl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>.

<br><dt><code>nl_catd catopen (const char *<var>cat_name</var>, int <var>flag</var>)</code>
<dd>
<code>nl_types.h</code> (X/Open):  <a href="#The%20catgets%20Functions">The catgets Functions</a>.

<br><dt><code>int cbc_crypt (char *<var>key</var>, char *<var>blocks</var>, unsigned <var>len</var>, unsigned <var>mode</var>, char *<var>ivec</var>)</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>double cbrt (double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float cbrtf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double cbrtl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex double ccos (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex float ccosf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex double ccosh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float ccoshf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double ccoshl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double ccosl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>cc_t</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Data%20Types">Mode Data Types</a>.

<br><dt><code>tcflag_t CCTS_OFLOW</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>double ceil (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float ceilf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double ceill (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>complex double cexp (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex float cexpf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex long double cexpl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>speed_t cfgetispeed (const struct termios *<var>termios-p</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>speed_t cfgetospeed (const struct termios *<var>termios-p</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>int cfmakeraw (struct termios *<var>termios-p</var>)</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Noncanonical%20Input">Noncanonical Input</a>.

<br><dt><code>void cfree (void *<var>ptr</var>)</code>
<dd>
<code>stdlib.h</code> (Sun):  <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>.

<br><dt><code>int cfsetispeed (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>int cfsetospeed (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>int cfsetspeed (struct termios *<var>termios-p</var>, speed_t <var>speed</var>)</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>CHAR_BIT</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Width%20of%20Type">Width of Type</a>.

<br><dt><code>CHAR_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>CHAR_MIN</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int chdir (const char *<var>filename</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Working%20Directory">Working Directory</a>.

<br><dt><code>int CHILD_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>int chmod (const char *<var>filename</var>, mode_t <var>mode</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Setting%20Permissions">Setting Permissions</a>.

<br><dt><code>int chown (const char *<var>filename</var>, uid_t <var>owner</var>, gid_t <var>group</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#File%20Owner">File Owner</a>.

<br><dt><code>tcflag_t CIGNORE</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>double cimag (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>float cimagf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>long double cimagl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>int clearenv (void)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>void clearerr (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Error%20Recovery">Error Recovery</a>.

<br><dt><code>void clearerr_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Error%20Recovery">Error Recovery</a>.

<br><dt><code>int CLK_TCK</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#CPU%20Time">CPU Time</a>.

<br><dt><code>tcflag_t CLOCAL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>clock_t clock (void)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#CPU%20Time">CPU Time</a>.

<br><dt><code>int CLOCKS_PER_SEC</code>
<dd>
<code>time.h</code> (ISO):  <a href="#CPU%20Time">CPU Time</a>.

<br><dt><code>clock_t</code>
<dd>
<code>time.h</code> (ISO):  <a href="#CPU%20Time">CPU Time</a>.

<br><dt><code>complex double clog (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex double clog10 (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex float clog10f (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex long double clog10l (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex float clogf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex long double clogl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int close (int <var>filedes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<br><dt><code>int closedir (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>.

<br><dt><code>void closelog (void)</code>
<dd>
<code>syslog.h</code> (BSD):  <a href="#closelog">closelog</a>.

<br><dt><code>int COLL_WEIGHTS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>size_t confstr (int <var>parameter</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>complex double conj (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>complex float conjf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>complex long double conjl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>int connect (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Connecting">Connecting</a>.

<br><dt><code>cookie_close_function</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Hook%20Functions">Hook Functions</a>.

<br><dt><code>cookie_io_functions_t</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Streams%20and%20Cookies">Streams and Cookies</a>.

<br><dt><code>cookie_read_function</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Hook%20Functions">Hook Functions</a>.

<br><dt><code>cookie_seek_function</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Hook%20Functions">Hook Functions</a>.

<br><dt><code>cookie_write_function</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Hook%20Functions">Hook Functions</a>.

<br><dt><code>double copysign (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>float copysignf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>long double copysignl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>double cos (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>float cosf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>double cosh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float coshf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double coshl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double cosl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex double cpow (complex double <var>base</var>, complex double <var>power</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex float cpowf (complex float <var>base</var>, complex float <var>power</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex long double cpowl (complex long double <var>base</var>, complex long double <var>power</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex double cproj (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>complex float cprojf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>complex long double cprojl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>tcflag_t CREAD</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>double creal (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>float crealf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>long double creall (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Operations%20on%20Complex">Operations on Complex</a>.

<br><dt><code>int creat (const char *<var>filename</var>, mode_t <var>mode</var>)</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<br><dt><code>int creat64 (const char *<var>filename</var>, mode_t <var>mode</var>)</code>
<dd>
<code>fcntl.h</code> (Unix98):  <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<br><dt><code>tcflag_t CRTS_IFLOW</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>char * crypt (const char *<var>key</var>, const char *<var>salt</var>)</code>
<dd>
<code>crypt.h</code> (BSD, SVID):  <a href="#crypt">crypt</a>.

<br><dt><code>char * crypt_r (const char *<var>key</var>, const char *<var>salt</var>, struct crypt_data * <var>data</var>)</code>
<dd>
<code>crypt.h</code> (GNU):  <a href="#crypt">crypt</a>.

<br><dt><code>tcflag_t CS5</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>tcflag_t CS6</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>tcflag_t CS7</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>tcflag_t CS8</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>complex double csin (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex float csinf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex double csinh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float csinhf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double csinhl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double csinl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>tcflag_t CSIZE</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>_CS_LFS64_CFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS64_LDFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS64_LIBS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS64_LINTFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS_CFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS_LDFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS_LIBS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_LFS_LINTFLAGS</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>_CS_PATH</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#String%20Parameters">String Parameters</a>.

<br><dt><code>complex double csqrt (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex float csqrtf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>complex long double csqrtl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>tcflag_t CSTOPB</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>complex double ctan (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex float ctanf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>complex double ctanh (complex double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex float ctanhf (complex float <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double ctanhl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>complex long double ctanl (complex long double <var>z</var>)</code>
<dd>
<code>complex.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>char * ctermid (char *<var>string</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>.

<br><dt><code>char * ctime (const time_t *<var>time</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>char * ctime_r (const time_t *<var>time</var>, char *<var>buffer</var>)</code>
<dd>
<code>time.h</code> (POSIX.1c):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>char * cuserid (char *<var>string</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Who%20Logged%20In">Who Logged In</a>.

<br><dt><code>int daylight</code>
<dd>
<code>time.h</code> (SVID):  <a href="#Time%20Zone%20Functions">Time Zone Functions</a>.

<br><dt><code>DBL_DIG</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_EPSILON</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MANT_DIG</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MAX</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MAX_10_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MAX_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MIN</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MIN_10_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>DBL_MIN_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>char * dcgettext (const char *<var>domainname</var>, const char *<var>msgid</var>, int <var>category</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Translation%20with%20gettext">Translation with gettext</a>.

<br><dt><code>char * dcngettext (const char *<var>domain</var>, const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>, int <var>category</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>.

<br><dt><code>DEAD_PROCESS</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>DEAD_PROCESS</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>DES_DECRYPT</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DES_ENCRYPT</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DESERR_BADPARAM</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DESERR_HWERROR</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DESERR_NOHWDEVICE</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DESERR_NONE</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>int DES_FAILED (int <var>err</var>)</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DES_HW</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>void des_setparity (char *<var>key</var>)</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>DES_SW</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>dev_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>char * dgettext (const char *<var>domainname</var>, const char *<var>msgid</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Translation%20with%20gettext">Translation with gettext</a>.

<br><dt><code>double difftime (time_t <var>time1</var>, time_t <var>time0</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Elapsed%20Time">Elapsed Time</a>.

<br><dt><code>DIR</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Opening%20a%20Directory">Opening a Directory</a>.

<br><dt><code>int dirfd (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Opening%20a%20Directory">Opening a Directory</a>.

<br><dt><code>char * dirname (char *<var>path</var>)</code>
<dd>
<code>libgen.h</code> (XPG):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>div_t div (int <var>numerator</var>, int <var>denominator</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>div_t</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>char * dngettext (const char *<var>domain</var>, const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>.

<br><dt><code>double drand48 (void)</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int drand48_r (struct drand48_data *<var>buffer</var>, double *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>double drem (double <var>numerator</var>, double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>float dremf (float <var>numerator</var>, float <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>long double dreml (long double <var>numerator</var>, long double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>mode_t DTTOIF (int <var>dtype</var>)</code>
<dd>
<code>dirent.h</code> (BSD):  <a href="#Directory%20Entries">Directory Entries</a>.

<br><dt><code>int dup (int <var>old</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>.

<br><dt><code>int dup2 (int <var>old</var>, int <var>new</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>.

<br><dt><code>int E2BIG</code>
<dd>
<code>errno.h</code> (POSIX.1: Argument list too long):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EACCES</code>
<dd>
<code>errno.h</code> (POSIX.1: Permission denied):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EADDRINUSE</code>
<dd>
<code>errno.h</code> (BSD: Address already in use):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EADDRNOTAVAIL</code>
<dd>
<code>errno.h</code> (BSD: Cannot assign requested address):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EADV</code>
<dd>
<code>errno.h</code> (Linux???: Advertise error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EAFNOSUPPORT</code>
<dd>
<code>errno.h</code> (BSD: Address family not supported by protocol):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EAGAIN</code>
<dd>
<code>errno.h</code> (POSIX.1: Resource temporarily unavailable):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EALREADY</code>
<dd>
<code>errno.h</code> (BSD: Operation already in progress):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EAUTH</code>
<dd>
<code>errno.h</code> (BSD: Authentication error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBACKGROUND</code>
<dd>
<code>errno.h</code> (GNU: Inappropriate operation for background process):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADE</code>
<dd>
<code>errno.h</code> (Linux???: Invalid exchange):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADF</code>
<dd>
<code>errno.h</code> (POSIX.1: Bad file descriptor):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADFD</code>
<dd>
<code>errno.h</code> (Linux???: File descriptor in bad state):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADMSG</code>
<dd>
<code>errno.h</code> (XOPEN: Bad message):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADR</code>
<dd>
<code>errno.h</code> (Linux???: Invalid request descriptor):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADRPC</code>
<dd>
<code>errno.h</code> (BSD: RPC struct is bad):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADRQC</code>
<dd>
<code>errno.h</code> (Linux???: Invalid request code):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBADSLT</code>
<dd>
<code>errno.h</code> (Linux???: Invalid slot):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBFONT</code>
<dd>
<code>errno.h</code> (Linux???: Bad font file format):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EBUSY</code>
<dd>
<code>errno.h</code> (POSIX.1: Device or resource busy):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ecb_crypt (char *<var>key</var>, char *<var>blocks</var>, unsigned <var>len</var>, unsigned <var>mode</var>)</code>
<dd>
<code>rpc/des_crypt.h</code> (SUNRPC):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>int ECHILD</code>
<dd>
<code>errno.h</code> (POSIX.1: No child processes):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>tcflag_t ECHO</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHOCTL</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHOE</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHOK</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHOKE</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHONL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t ECHOPRT</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>int ECHRNG</code>
<dd>
<code>errno.h</code> (Linux???: Channel number out of range):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ECOMM</code>
<dd>
<code>errno.h</code> (Linux???: Communication error on send):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ECONNABORTED</code>
<dd>
<code>errno.h</code> (BSD: Software caused connection abort):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ECONNREFUSED</code>
<dd>
<code>errno.h</code> (BSD: Connection refused):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ECONNRESET</code>
<dd>
<code>errno.h</code> (BSD: Connection reset by peer):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>char * ecvt (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, Unix98):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * ecvt_r (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>int ED</code>
<dd>
<code>errno.h</code> (GNU: ?):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDEADLK</code>
<dd>
<code>errno.h</code> (POSIX.1: Resource deadlock avoided):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDEADLOCK</code>
<dd>
<code>errno.h</code> (Linux???: File locking deadlock error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDESTADDRREQ</code>
<dd>
<code>errno.h</code> (BSD: Destination address required):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDIED</code>
<dd>
<code>errno.h</code> (GNU: Translator died):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDOM</code>
<dd>
<code>errno.h</code> (ISO: Numerical argument out of domain):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDOTDOT</code>
<dd>
<code>errno.h</code> (Linux???: RFS specific error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EDQUOT</code>
<dd>
<code>errno.h</code> (BSD: Disk quota exceeded):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EEXIST</code>
<dd>
<code>errno.h</code> (POSIX.1: File exists):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EFAULT</code>
<dd>
<code>errno.h</code> (POSIX.1: Bad address):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EFBIG</code>
<dd>
<code>errno.h</code> (POSIX.1: File too large):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EFTYPE</code>
<dd>
<code>errno.h</code> (BSD: Inappropriate file type or format):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EGRATUITOUS</code>
<dd>
<code>errno.h</code> (GNU: Gratuitous error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EGREGIOUS</code>
<dd>
<code>errno.h</code> (GNU: You really blew it this time):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EHOSTDOWN</code>
<dd>
<code>errno.h</code> (BSD: Host is down):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EHOSTUNREACH</code>
<dd>
<code>errno.h</code> (BSD: No route to host):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EIDRM</code>
<dd>
<code>errno.h</code> (XOPEN: Identifier removed):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EIEIO</code>
<dd>
<code>errno.h</code> (GNU: Computer bought the farm):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EILSEQ</code>
<dd>
<code>errno.h</code> (ISO: Invalid or incomplete multibyte or wide character):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EINPROGRESS</code>
<dd>
<code>errno.h</code> (BSD: Operation now in progress):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EINTR</code>
<dd>
<code>errno.h</code> (POSIX.1: Interrupted system call):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EINVAL</code>
<dd>
<code>errno.h</code> (POSIX.1: Invalid argument):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EIO</code>
<dd>
<code>errno.h</code> (POSIX.1: Input/output error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EISCONN</code>
<dd>
<code>errno.h</code> (BSD: Transport endpoint is already connected):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EISDIR</code>
<dd>
<code>errno.h</code> (POSIX.1: Is a directory):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EISNAM</code>
<dd>
<code>errno.h</code> (Linux???: Is a named type file):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EL2HLT</code>
<dd>
<code>errno.h</code> (Obsolete: Level 2 halted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EL2NSYNC</code>
<dd>
<code>errno.h</code> (Obsolete: Level 2 not synchronized):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EL3HLT</code>
<dd>
<code>errno.h</code> (Obsolete: Level 3 halted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EL3RST</code>
<dd>
<code>errno.h</code> (Obsolete: Level 3 reset):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELIBACC</code>
<dd>
<code>errno.h</code> (Linux???: Can not access a needed shared library):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELIBBAD</code>
<dd>
<code>errno.h</code> (Linux???: Accessing a corrupted shared library):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELIBEXEC</code>
<dd>
<code>errno.h</code> (Linux???: Cannot exec a shared library directly):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELIBMAX</code>
<dd>
<code>errno.h</code> (Linux???: Attempting to link in too many shared libraries):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELIBSCN</code>
<dd>
<code>errno.h</code> (Linux???: .lib section in a.out corrupted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELNRNG</code>
<dd>
<code>errno.h</code> (Linux???: Link number out of range):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ELOOP</code>
<dd>
<code>errno.h</code> (BSD: Too many levels of symbolic links):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EMEDIUMTYPE</code>
<dd>
<code>errno.h</code> (Linux???: Wrong medium type):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EMFILE</code>
<dd>
<code>errno.h</code> (POSIX.1: Too many open files):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EMLINK</code>
<dd>
<code>errno.h</code> (POSIX.1: Too many links):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>EMPTY</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>EMPTY</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int EMSGSIZE</code>
<dd>
<code>errno.h</code> (BSD: Message too long):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EMULTIHOP</code>
<dd>
<code>errno.h</code> (XOPEN: Multihop attempted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENAMETOOLONG</code>
<dd>
<code>errno.h</code> (POSIX.1: File name too long):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENAVAIL</code>
<dd>
<code>errno.h</code> (Linux???: No XENIX semaphores available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>void encrypt (char *<var>block</var>, int <var>edflag</var>)</code>
<dd>
<code>crypt.h</code> (BSD, SVID):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>void encrypt_r (char *<var>block</var>, int <var>edflag</var>, struct crypt_data * <var>data</var>)</code>
<dd>
<code>crypt.h</code> (GNU):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>void endfsent (void)</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>void endgrent (void)</code>
<dd>
<code>grp.h</code> (SVID, BSD):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>void endhostent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>int endmntent (FILE *<var>stream</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>void endnetent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>void endnetgrent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Lookup%20Netgroup">Lookup Netgroup</a>.

<br><dt><code>void endprotoent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>void endpwent (void)</code>
<dd>
<code>pwd.h</code> (SVID, BSD):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>void endservent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>void endutent (void)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>void endutxent (void)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int ENEEDAUTH</code>
<dd>
<code>errno.h</code> (BSD: Need authenticator):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENETDOWN</code>
<dd>
<code>errno.h</code> (BSD: Network is down):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENETRESET</code>
<dd>
<code>errno.h</code> (BSD: Network dropped connection on reset):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENETUNREACH</code>
<dd>
<code>errno.h</code> (BSD: Network is unreachable):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENFILE</code>
<dd>
<code>errno.h</code> (POSIX.1: Too many open files in system):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOANO</code>
<dd>
<code>errno.h</code> (Linux???: No anode):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOBUFS</code>
<dd>
<code>errno.h</code> (BSD: No buffer space available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOCSI</code>
<dd>
<code>errno.h</code> (Linux???: No CSI structure available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENODATA</code>
<dd>
<code>errno.h</code> (XOPEN: No data available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENODEV</code>
<dd>
<code>errno.h</code> (POSIX.1: No such device):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOENT</code>
<dd>
<code>errno.h</code> (POSIX.1: No such file or directory):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOEXEC</code>
<dd>
<code>errno.h</code> (POSIX.1: Exec format error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOLCK</code>
<dd>
<code>errno.h</code> (POSIX.1: No locks available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOLINK</code>
<dd>
<code>errno.h</code> (XOPEN: Link has been severed):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOMEDIUM</code>
<dd>
<code>errno.h</code> (Linux???: No medium found):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOMEM</code>
<dd>
<code>errno.h</code> (POSIX.1: Cannot allocate memory):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOMSG</code>
<dd>
<code>errno.h</code> (XOPEN: No message of desired type):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENONET</code>
<dd>
<code>errno.h</code> (Linux???: Machine is not on the network):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOPKG</code>
<dd>
<code>errno.h</code> (Linux???: Package not installed):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOPROTOOPT</code>
<dd>
<code>errno.h</code> (BSD: Protocol not available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOSPC</code>
<dd>
<code>errno.h</code> (POSIX.1: No space left on device):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOSR</code>
<dd>
<code>errno.h</code> (XOPEN: Out of streams resources):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOSTR</code>
<dd>
<code>errno.h</code> (XOPEN: Device not a stream):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOSYS</code>
<dd>
<code>errno.h</code> (POSIX.1: Function not implemented):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTBLK</code>
<dd>
<code>errno.h</code> (BSD: Block device required):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTCONN</code>
<dd>
<code>errno.h</code> (BSD: Transport endpoint is not connected):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTDIR</code>
<dd>
<code>errno.h</code> (POSIX.1: Not a directory):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTEMPTY</code>
<dd>
<code>errno.h</code> (POSIX.1: Directory not empty):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTNAM</code>
<dd>
<code>errno.h</code> (Linux???: Not a XENIX named type file):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTSOCK</code>
<dd>
<code>errno.h</code> (BSD: Socket operation on non-socket):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTSUP</code>
<dd>
<code>errno.h</code> (POSIX.1: Not supported):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTTY</code>
<dd>
<code>errno.h</code> (POSIX.1: Inappropriate ioctl for device):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ENOTUNIQ</code>
<dd>
<code>errno.h</code> (Linux???: Name not unique on network):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>char ** environ</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>error_t envz_add (char **<var>envz</var>, size_t *<var>envz_len</var>, const char *<var>name</var>, const char *<var>value</var>)</code>
<dd>
<code>envz.h</code> (GNU):  <a href="#Envz%20Functions">Envz Functions</a>.

<br><dt><code>char * envz_entry (const char *<var>envz</var>, size_t <var>envz_len</var>, const char *<var>name</var>)</code>
<dd>
<code>envz.h</code> (GNU):  <a href="#Envz%20Functions">Envz Functions</a>.

<br><dt><code>char * envz_get (const char *<var>envz</var>, size_t <var>envz_len</var>, const char *<var>name</var>)</code>
<dd>
<code>envz.h</code> (GNU):  <a href="#Envz%20Functions">Envz Functions</a>.

<br><dt><code>error_t envz_merge (char **<var>envz</var>, size_t *<var>envz_len</var>, const char *<var>envz2</var>, size_t <var>envz2_len</var>, int <var>override</var>)</code>
<dd>
<code>envz.h</code> (GNU):  <a href="#Envz%20Functions">Envz Functions</a>.

<br><dt><code>void envz_strip (char **<var>envz</var>, size_t *<var>envz_len</var>)</code>
<dd>
<code>envz.h</code> (GNU):  <a href="#Envz%20Functions">Envz Functions</a>.

<br><dt><code>int ENXIO</code>
<dd>
<code>errno.h</code> (POSIX.1: No such device or address):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EOF</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>int EOPNOTSUPP</code>
<dd>
<code>errno.h</code> (BSD: Operation not supported):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EOVERFLOW</code>
<dd>
<code>errno.h</code> (XOPEN: Value too large for defined data type):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPERM</code>
<dd>
<code>errno.h</code> (POSIX.1: Operation not permitted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPFNOSUPPORT</code>
<dd>
<code>errno.h</code> (BSD: Protocol family not supported):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPIPE</code>
<dd>
<code>errno.h</code> (POSIX.1: Broken pipe):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROCLIM</code>
<dd>
<code>errno.h</code> (BSD: Too many processes):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROCUNAVAIL</code>
<dd>
<code>errno.h</code> (BSD: RPC bad procedure for program):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROGMISMATCH</code>
<dd>
<code>errno.h</code> (BSD: RPC program version wrong):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROGUNAVAIL</code>
<dd>
<code>errno.h</code> (BSD: RPC program not available):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROTO</code>
<dd>
<code>errno.h</code> (XOPEN: Protocol error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROTONOSUPPORT</code>
<dd>
<code>errno.h</code> (BSD: Protocol not supported):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EPROTOTYPE</code>
<dd>
<code>errno.h</code> (BSD: Protocol wrong type for socket):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EQUIV_CLASS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>double erand48 (unsigned short int <var>xsubi</var>[3])</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int erand48_r (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, double *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int ERANGE</code>
<dd>
<code>errno.h</code> (ISO: Numerical result out of range):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EREMCHG</code>
<dd>
<code>errno.h</code> (Linux???: Remote address changed):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EREMOTE</code>
<dd>
<code>errno.h</code> (BSD: Object is remote):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EREMOTEIO</code>
<dd>
<code>errno.h</code> (Linux???: Remote I/O error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ERESTART</code>
<dd>
<code>errno.h</code> (Linux???: Interrupted system call should be restarted):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>double erf (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>double erfc (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float erfcf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double erfcl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float erff (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double erfl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>int EROFS</code>
<dd>
<code>errno.h</code> (POSIX.1: Read-only file system):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ERPCMISMATCH</code>
<dd>
<code>errno.h</code> (BSD: RPC version wrong):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>void err (int <var>status</var>, const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>volatile int errno</code>
<dd>
<code>errno.h</code> (ISO):  <a href="#Checking%20for%20Errors">Checking for Errors</a>.

<br><dt><code>void error (int <var>status</var>, int <var>errnum</var>, const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>error.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void error_at_line (int <var>status</var>, int <var>errnum</var>, const char *<var>fname</var>, unsigned int <var>lineno</var>, const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>error.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>unsigned int error_message_count</code>
<dd>
<code>error.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>int error_one_per_line</code>
<dd>
<code>error.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void (* error_print_progname ) (void)</code>
<dd>
<code>error.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void errx (int <var>status</var>, const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>int ESHUTDOWN</code>
<dd>
<code>errno.h</code> (BSD: Cannot send after transport endpoint shutdown):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESOCKTNOSUPPORT</code>
<dd>
<code>errno.h</code> (BSD: Socket type not supported):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESPIPE</code>
<dd>
<code>errno.h</code> (POSIX.1: Illegal seek):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESRCH</code>
<dd>
<code>errno.h</code> (POSIX.1: No such process):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESRMNT</code>
<dd>
<code>errno.h</code> (Linux???: Srmount error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESTALE</code>
<dd>
<code>errno.h</code> (BSD: Stale NFS file handle):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ESTRPIPE</code>
<dd>
<code>errno.h</code> (Linux???: Streams pipe error):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ETIME</code>
<dd>
<code>errno.h</code> (XOPEN: Timer expired):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ETIMEDOUT</code>
<dd>
<code>errno.h</code> (BSD: Connection timed out):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ETOOMANYREFS</code>
<dd>
<code>errno.h</code> (BSD: Too many references: cannot splice):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int ETXTBSY</code>
<dd>
<code>errno.h</code> (BSD: Text file busy):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EUCLEAN</code>
<dd>
<code>errno.h</code> (Linux???: Structure needs cleaning):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EUNATCH</code>
<dd>
<code>errno.h</code> (Linux???: Protocol driver not attached):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EUSERS</code>
<dd>
<code>errno.h</code> (BSD: Too many users):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EWOULDBLOCK</code>
<dd>
<code>errno.h</code> (BSD: Operation would block):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int EXDEV</code>
<dd>
<code>errno.h</code> (POSIX.1: Invalid cross-device link):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>int execl (const char *<var>filename</var>, const char *<var>arg0</var>, <small>...</small>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int execle (const char *<var>filename</var>, const char *<var>arg0</var>, char *const <var>env</var><tt>[]</tt>, <small>...</small>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int execlp (const char *<var>filename</var>, const char *<var>arg0</var>, <small>...</small>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int execv (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int execve (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>, char *const <var>env</var><tt>[]</tt>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int execvp (const char *<var>filename</var>, char *const <var>argv</var><tt>[]</tt>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Executing%20a%20File">Executing a File</a>.

<br><dt><code>int EXFULL</code>
<dd>
<code>errno.h</code> (Linux???: Exchange full):  <a href="#Error%20Codes">Error Codes</a>.

<br><dt><code>void _Exit (int <var>status</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Termination%20Internals">Termination Internals</a>.

<br><dt><code>void _exit (int <var>status</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Termination%20Internals">Termination Internals</a>.

<br><dt><code>void exit (int <var>status</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Normal%20Termination">Normal Termination</a>.

<br><dt><code>int EXIT_FAILURE</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Exit%20Status">Exit Status</a>.

<br><dt><code>int EXIT_SUCCESS</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Exit%20Status">Exit Status</a>.

<br><dt><code>double exp (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double exp10 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float exp10f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double exp10l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double exp2 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float exp2f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double exp2l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float expf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double expl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double expm1 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float expm1f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double expm1l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int EXPR_NEST_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>double fabs (double <var>number</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>float fabsf (float <var>number</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>long double fabsl (long double <var>number</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>size_t __fbufsize (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>int fchdir (int <var>filedes</var>)</code>
<dd>
<code>unistd.h</code> (XPG):  <a href="#Working%20Directory">Working Directory</a>.

<br><dt><code>int fchmod (int <var>filedes</var>, int <var>mode</var>)</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Setting%20Permissions">Setting Permissions</a>.

<br><dt><code>int fchown (int <var>filedes</var>, int <var>owner</var>, int <var>group</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#File%20Owner">File Owner</a>.

<br><dt><code>int fclean (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Cleaning%20Streams">Cleaning Streams</a>.

<br><dt><code>int fclose (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Closing%20Streams">Closing Streams</a>.

<br><dt><code>int fcloseall (void)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Closing%20Streams">Closing Streams</a>.

<br><dt><code>int fcntl (int <var>filedes</var>, int <var>command</var>, <small>...</small>)</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Control%20Operations">Control Operations</a>.

<br><dt><code>char * fcvt (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, Unix98):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * fcvt_r (double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, Unix98):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>int fdatasync (int <var>fildes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX):  <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>.

<br><dt><code>int FD_CLOEXEC</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Descriptor%20Flags">Descriptor Flags</a>.

<br><dt><code>void FD_CLR (int <var>filedes</var>, fd_set *<var>set</var>)</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>double fdim (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>float fdimf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>long double fdiml (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>int FD_ISSET (int <var>filedes</var>, fd_set *<var>set</var>)</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>FILE * fdopen (int <var>filedes</var>, const char *<var>opentype</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>void FD_SET (int <var>filedes</var>, fd_set *<var>set</var>)</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>fd_set</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>int FD_SETSIZE</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>int F_DUPFD</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>.

<br><dt><code>void FD_ZERO (fd_set *<var>set</var>)</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>int feclearexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int fedisableexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (GNU):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>FE_DIVBYZERO</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>FE_DOWNWARD</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>int feenableexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (GNU):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>int fegetenv (fenv_t *<var>envp</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>int fegetexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (GNU):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>int fegetexceptflag (fexcept_t *<var>flagp</var>, int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int fegetround (void)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>int feholdexcept (fenv_t *<var>envp</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>FE_INEXACT</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>FE_INVALID</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int feof (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>int feof_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>FE_OVERFLOW</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int feraiseexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int ferror (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>int ferror_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>int fesetenv (const fenv_t *<var>envp</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>int fesetexceptflag (const fexcept_t *<var>flagp</var>, int</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int fesetround (int <var>round</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>int fetestexcept (int <var>excepts</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>FE_TONEAREST</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>FE_TOWARDZERO</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>FE_UNDERFLOW</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Status%20bit%20operations">Status bit operations</a>.

<br><dt><code>int feupdateenv (const fenv_t *<var>envp</var>)</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Control%20Functions">Control Functions</a>.

<br><dt><code>FE_UPWARD</code>
<dd>
<code>fenv.h</code> (ISO):  <a href="#Rounding">Rounding</a>.

<br><dt><code>int fflush (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Flushing%20Buffers">Flushing Buffers</a>.

<br><dt><code>int fflush_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Flushing%20Buffers">Flushing Buffers</a>.

<br><dt><code>int fgetc (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>int fgetc_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>int F_GETFD</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Descriptor%20Flags">Descriptor Flags</a>.

<br><dt><code>int F_GETFL</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>.

<br><dt><code>struct group * fgetgrent (FILE *<var>stream</var>)</code>
<dd>
<code>grp.h</code> (SVID):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>int fgetgrent_r (FILE *<var>stream</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)</code>
<dd>
<code>grp.h</code> (GNU):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>int F_GETLK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>int F_GETOWN</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Interrupt%20Input">Interrupt Input</a>.

<br><dt><code>int fgetpos (FILE *<var>stream</var>, fpos_t *<var>position</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>int fgetpos64 (FILE *<var>stream</var>, fpos64_t *<var>position</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>struct passwd * fgetpwent (FILE *<var>stream</var>)</code>
<dd>
<code>pwd.h</code> (SVID):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>int fgetpwent_r (FILE *<var>stream</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)</code>
<dd>
<code>pwd.h</code> (GNU):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>char * fgets (char *<var>s</var>, int <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>char * fgets_unlocked (char *<var>s</var>, int <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>wint_t fgetwc (FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wint_t fgetwc_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wchar_t * fgetws (wchar_t *<var>ws</var>, int <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>wchar_t * fgetws_unlocked (wchar_t *<var>ws</var>, int <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>FILE</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Streams">Streams</a>.

<br><dt><code>int FILENAME_MAX</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int fileno (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>int fileno_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>int finite (double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int finitef (float <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int finitel (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int __flbf (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>void flockfile (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Streams%20and%20Threads">Streams and Threads</a>.

<br><dt><code>double floor (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float floorf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double floorl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>FLT_DIG</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_EPSILON</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MANT_DIG</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MAX</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MAX_10_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MAX_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MIN</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MIN_10_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_MIN_EXP</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_RADIX</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>FLT_ROUNDS</code>
<dd>
<code>float.h</code> (ISO):  <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>.

<br><dt><code>void _flushlbf (void)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Flushing%20Buffers">Flushing Buffers</a>.

<br><dt><code>tcflag_t FLUSHO</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>double fma (double <var>x</var>, double <var>y</var>, double <var>z</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>float fmaf (float <var>x</var>, float <var>y</var>, float <var>z</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>long double fmal (long double <var>x</var>, long double <var>y</var>, long double <var>z</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>double fmax (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>float fmaxf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>long double fmaxl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>FILE * fmemopen (void *<var>buf</var>, size_t <var>size</var>, const char *<var>opentype</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#String%20Streams">String Streams</a>.

<br><dt><code>double fmin (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>float fminf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>long double fminl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>.

<br><dt><code>double fmod (double <var>numerator</var>, double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>float fmodf (float <var>numerator</var>, float <var>denominator</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>long double fmodl (long double <var>numerator</var>, long double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>int fmtmsg (long int <var>classification</var>, const char *<var>label</var>, int <var>severity</var>, const char *<var>text</var>, const char *<var>action</var>, const char *<var>tag</var>)</code>
<dd>
<code>fmtmsg.h</code> (XPG):  <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>.

<br><dt><code>int fnmatch (const char *<var>pattern</var>, const char *<var>string</var>, int <var>flags</var>)</code>
<dd>
<code>fnmatch.h</code> (POSIX.2):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_CASEFOLD</code>
<dd>
<code>fnmatch.h</code> (GNU):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_EXTMATCH</code>
<dd>
<code>fnmatch.h</code> (GNU):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_FILE_NAME</code>
<dd>
<code>fnmatch.h</code> (GNU):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_LEADING_DIR</code>
<dd>
<code>fnmatch.h</code> (GNU):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_NOESCAPE</code>
<dd>
<code>fnmatch.h</code> (POSIX.2):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_PATHNAME</code>
<dd>
<code>fnmatch.h</code> (POSIX.2):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>FNM_PERIOD</code>
<dd>
<code>fnmatch.h</code> (POSIX.2):  <a href="#Wildcard%20Matching">Wildcard Matching</a>.

<br><dt><code>int F_OK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Testing%20File%20Access">Testing File Access</a>.

<br><dt><code>FILE * fopen (const char *<var>filename</var>, const char *<var>opentype</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>FILE * fopen64 (const char *<var>filename</var>, const char *<var>opentype</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>FILE * fopencookie (void *<var>cookie</var>, const char *<var>opentype</var>, cookie_io_functions_t <var>io-functions</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Streams%20and%20Cookies">Streams and Cookies</a>.

<br><dt><code>int FOPEN_MAX</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>pid_t fork (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Creating%20a%20Process">Creating a Process</a>.

<br><dt><code>int forkpty (int *<var>amaster</var>, char *<var>name</var>, struct termios *<var>termp</var>, struct winsize *<var>winp</var>)</code>
<dd>
<code>pty.h</code> (BSD):  <a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>.

<br><dt><code>long int fpathconf (int <var>filedes</var>, int <var>parameter</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>int fpclassify (<em>float-type</em> <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>FPE_DECOVF_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTDIV_FAULT</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTDIV_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTOVF_FAULT</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTOVF_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTUND_FAULT</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_FLTUND_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_INTDIV_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>FPE_INTOVF_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>size_t __fpending (FILE *<var>stream</var>) The <code>__fpending</code></code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>FPE_SUBRNG_TRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int FP_ILOGB0</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int FP_ILOGBNAN</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>fpos64_t</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>fpos_t</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>int fprintf (FILE *<var>stream</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>void __fpurge (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Flushing%20Buffers">Flushing Buffers</a>.

<br><dt><code>int fputc (int <var>c</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int fputc_unlocked (int <var>c</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int fputs (const char *<var>s</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int fputs_unlocked (const char *<var>s</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t fputwc (wchar_t <var>wc</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t fputwc_unlocked (wint_t <var>wc</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (POSIX):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int fputws (const wchar_t *<var>ws</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int fputws_unlocked (const wchar_t *<var>ws</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>F_RDLCK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>size_t fread (void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Block%20Input%2fOutput">Block Input/Output</a>.

<br><dt><code>int __freadable (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>int __freading (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>size_t fread_unlocked (void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Block%20Input%2fOutput">Block Input/Output</a>.

<br><dt><code>void free (void *<var>ptr</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (ISO):  <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>.

<br><dt><code>__free_hook</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>.

<br><dt><code>FILE * freopen (const char *<var>filename</var>, const char *<var>opentype</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>FILE * freopen64 (const char *<var>filename</var>, const char *<var>opentype</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>double frexp (double <var>value</var>, int *<var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>float frexpf (float <var>value</var>, int *<var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long double frexpl (long double <var>value</var>, int *<var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>int fscanf (FILE *<var>stream</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>int fseek (FILE *<var>stream</var>, long int <var>offset</var>, int <var>whence</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int fseeko (FILE *<var>stream</var>, off_t <var>offset</var>, int <var>whence</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int fseeko64 (FILE *<var>stream</var>, off64_t <var>offset</var>, int <var>whence</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int F_SETFD</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Descriptor%20Flags">Descriptor Flags</a>.

<br><dt><code>int F_SETFL</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>.

<br><dt><code>int F_SETLK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>int F_SETLKW</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>int __fsetlocking (FILE *<var>stream</var>, int <var>type</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Streams%20and%20Threads">Streams and Threads</a>.

<br><dt><code>int F_SETOWN</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Interrupt%20Input">Interrupt Input</a>.

<br><dt><code>int fsetpos (FILE *<var>stream</var>, const fpos_t *<var>position</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>int fsetpos64 (FILE *<var>stream</var>, const fpos64_t *<var>position</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Portable%20Positioning">Portable Positioning</a>.

<br><dt><code>int fstat (int <var>filedes</var>, struct stat *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>int fstat64 (int <var>filedes</var>, struct stat64 *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (Unix98):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>int fsync (int <var>fildes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX):  <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>.

<br><dt><code>long int ftell (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>off_t ftello (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>off64_t ftello64 (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int ftruncate (int <var>fd</var>, off_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (POSIX):  <a href="#File%20Size">File Size</a>.

<br><dt><code>int ftruncate64 (int <var>id</var>, off64_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#File%20Size">File Size</a>.

<br><dt><code>int ftrylockfile (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Streams%20and%20Threads">Streams and Threads</a>.

<br><dt><code>int ftw (const char *<var>filename</var>, __ftw_func_t <var>func</var>, int <var>descriptors</var>)</code>
<dd>
<code>ftw.h</code> (SVID):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>int ftw64 (const char *<var>filename</var>, __ftw64_func_t <var>func</var>, int <var>descriptors</var>)</code>
<dd>
<code>ftw.h</code> (Unix98):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>__ftw64_func_t</code>
<dd>
<code>ftw.h</code> (GNU):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>__ftw_func_t</code>
<dd>
<code>ftw.h</code> (GNU):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>F_UNLCK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>void funlockfile (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Streams%20and%20Threads">Streams and Threads</a>.

<br><dt><code>int fwide (FILE *<var>stream</var>, int <var>mode</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Streams%20and%20I18N">Streams and I18N</a>.

<br><dt><code>int fwprintf (FILE *<var>stream</var>, const wchar_t *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>int __fwritable (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>size_t fwrite (const void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Block%20Input%2fOutput">Block Input/Output</a>.

<br><dt><code>size_t fwrite_unlocked (const void *<var>data</var>, size_t <var>size</var>, size_t <var>count</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Block%20Input%2fOutput">Block Input/Output</a>.

<br><dt><code>int __fwriting (FILE *<var>stream</var>)</code>
<dd>
<code>stdio_ext.h</code> (GNU):  <a href="#Opening%20Streams">Opening Streams</a>.

<br><dt><code>F_WRLCK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>int fwscanf (FILE *<var>stream</var>, const wchar_t *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>double gamma (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float gammaf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double gammal (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>void (*__gconv_end_fct) (struct gconv_step *)</code>
<dd>
<code>gconv.h</code> (GNU):  <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>.

<br><dt><code>int (*__gconv_fct) (struct __gconv_step *, struct __gconv_step_data *, const char **, const char *, size_t *, int)</code>
<dd>
<code>gconv.h</code> (GNU):  <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>.

<br><dt><code>int (*__gconv_init_fct) (struct __gconv_step *)</code>
<dd>
<code>gconv.h</code> (GNU):  <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>.

<br><dt><code>char * gcvt (double <var>value</var>, int <var>ndigit</var>, char *<var>buf</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, Unix98):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>long int get_avphys_pages (void)</code>
<dd>
<code>sys/sysinfo.h</code> (GNU):  <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>.

<br><dt><code>int getc (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>int getchar (void)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>int getchar_unlocked (void)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>int getcontext (ucontext_t *<var>ucp</var>)</code>
<dd>
<code>ucontext.h</code> (SVID):  <a href="#System%20V%20contexts">System V contexts</a>.

<br><dt><code>int getc_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>char * get_current_dir_name (void)</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Working%20Directory">Working Directory</a>.

<br><dt><code>char * getcwd (char *<var>buffer</var>, size_t <var>size</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Working%20Directory">Working Directory</a>.

<br><dt><code>struct tm * getdate (const char *<var>string</var>)</code>
<dd>
<code>time.h</code> (Unix98):  <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>.

<br><dt><code>getdate_err</code>
<dd>
<code>time.h</code> (Unix98):  <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>.

<br><dt><code>int getdate_r (const char *<var>string</var>, struct tm *<var>tp</var>)</code>
<dd>
<code>time.h</code> (GNU):  <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>.

<br><dt><code>ssize_t getdelim (char **<var>lineptr</var>, size_t *<var>n</var>, int <var>delimiter</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>int getdomainnname (char *<var>name</var>, size_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (???):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>gid_t getegid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>char * getenv (const char *<var>name</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>uid_t geteuid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>struct fstab * getfsent (void)</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>struct fstab * getfsfile (const char *<var>name</var>)</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>struct fstab * getfsspec (const char *<var>name</var>)</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>gid_t getgid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>struct group * getgrent (void)</code>
<dd>
<code>grp.h</code> (SVID, BSD):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>int getgrent_r (struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)</code>
<dd>
<code>grp.h</code> (GNU):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>struct group * getgrgid (gid_t <var>gid</var>)</code>
<dd>
<code>grp.h</code> (POSIX.1):  <a href="#Lookup%20Group">Lookup Group</a>.

<br><dt><code>int getgrgid_r (gid_t <var>gid</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)</code>
<dd>
<code>grp.h</code> (POSIX.1c):  <a href="#Lookup%20Group">Lookup Group</a>.

<br><dt><code>struct group * getgrnam (const char *<var>name</var>)</code>
<dd>
<code>grp.h</code> (SVID, BSD):  <a href="#Lookup%20Group">Lookup Group</a>.

<br><dt><code>int getgrnam_r (const char *<var>name</var>, struct group *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct group **<var>result</var>)</code>
<dd>
<code>grp.h</code> (POSIX.1c):  <a href="#Lookup%20Group">Lookup Group</a>.

<br><dt><code>int getgrouplist (const char *<var>user</var>, gid_t <var>group</var>, gid_t *<var>groups</var>, int *<var>ngroups</var>)</code>
<dd>
<code>grp.h</code> (BSD):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>int getgroups (int <var>count</var>, gid_t *<var>groups</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>struct hostent * gethostbyaddr (const char *<var>addr</var>, size_t <var>length</var>, int <var>format</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>int gethostbyaddr_r (const char *<var>addr</var>, size_t <var>length</var>, int <var>format</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)</code>
<dd>
<code>netdb.h</code> (GNU):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>struct hostent * gethostbyname (const char *<var>name</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>struct hostent * gethostbyname2 (const char *<var>name</var>, int <var>af</var>)</code>
<dd>
<code>netdb.h</code> (IPv6 Basic API):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>int gethostbyname2_r (const char *<var>name</var>, int <var>af</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)</code>
<dd>
<code>netdb.h</code> (GNU):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>int gethostbyname_r (const char *restrict <var>name</var>, struct hostent *restrict <var>result_buf</var>, char *restrict <var>buf</var>, size_t <var>buflen</var>, struct hostent **restrict <var>result</var>, int *restrict <var>h_errnop</var>)</code>
<dd>
<code>netdb.h</code> (GNU):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>struct hostent * gethostent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>long int gethostid (void)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>int gethostname (char *<var>name</var>, size_t <var>size</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>int getitimer (int <var>which</var>, struct itimerval *<var>old</var>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>ssize_t getline (char **<var>lineptr</var>, size_t *<var>n</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>int getloadavg (double <var>loadavg</var>[], int <var>nelem</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Processor%20Resources">Processor Resources</a>.

<br><dt><code>char * getlogin (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Who%20Logged%20In">Who Logged In</a>.

<br><dt><code>struct mntent * getmntent (FILE *<var>stream</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>struct mntent * getmntent_r (FILE *<var>stream</var>, struct mentent *<var>result</var>, char *<var>buffer</var>, int <var>bufsize</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>struct netent * getnetbyaddr (unsigned long int <var>net</var>, int <var>type</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>struct netent * getnetbyname (const char *<var>name</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>struct netent * getnetent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>int getnetgrent (char **<var>hostp</var>, char **<var>userp</var>, char **<var>domainp</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Lookup%20Netgroup">Lookup Netgroup</a>.

<br><dt><code>int getnetgrent_r (char **<var>hostp</var>, char **<var>userp</var>, char **<var>domainp</var>, char *<var>buffer</var>, int <var>buflen</var>)</code>
<dd>
<code>netdb.h</code> (GNU):  <a href="#Lookup%20Netgroup">Lookup Netgroup</a>.

<br><dt><code>int get_nprocs (void)</code>
<dd>
<code>sys/sysinfo.h</code> (GNU):  <a href="#Processor%20Resources">Processor Resources</a>.

<br><dt><code>int get_nprocs_conf (void)</code>
<dd>
<code>sys/sysinfo.h</code> (GNU):  <a href="#Processor%20Resources">Processor Resources</a>.

<br><dt><code>int getopt (int <var>argc</var>, char **<var>argv</var>, const char *<var>options</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Using%20Getopt">Using Getopt</a>.

<br><dt><code>int getopt_long (int <var>argc</var>, char *const *<var>argv</var>, const char *<var>shortopts</var>, const struct option *<var>longopts</var>, int *<var>indexptr</var>)</code>
<dd>
<code>getopt.h</code> (GNU):  <a href="#Getopt%20Long%20Options">Getopt Long Options</a>.

<br><dt><code>int getopt_long_only (int <var>argc</var>, char *const *<var>argv</var>, const char *<var>shortopts</var>, const struct option *<var>longopts</var>, int *<var>indexptr</var>)</code>
<dd>
<code>getopt.h</code> (GNU):  <a href="#Getopt%20Long%20Options">Getopt Long Options</a>.

<br><dt><code>int getpagesize (void)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>.

<br><dt><code>char * getpass (const char *<var>prompt</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#getpass">getpass</a>.

<br><dt><code>int getpeername (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Who%20is%20Connected">Who is Connected</a>.

<br><dt><code>int getpgid (pid_t <var>pid</var>)</code>
<dd>
<code>unistd.h</code> (SVID):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>pid_t getpgrp (pid_t <var>pid</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>pid_t getpgrp (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>long int get_phys_pages (void)</code>
<dd>
<code>sys/sysinfo.h</code> (GNU):  <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>.

<br><dt><code>pid_t getpid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Process%20Identification">Process Identification</a>.

<br><dt><code>pid_t getppid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Process%20Identification">Process Identification</a>.

<br><dt><code>int getpriority (int <var>class</var>, int <var>id</var>)</code>
<dd>
<code>sys/resource.h</code> (BSD,POSIX):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>struct protoent * getprotobyname (const char *<var>name</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>struct protoent * getprotobynumber (int <var>protocol</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>struct protoent * getprotoent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>int getpt (void)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#Allocation">Allocation</a>.

<br><dt><code>struct passwd * getpwent (void)</code>
<dd>
<code>pwd.h</code> (POSIX.1):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>int getpwent_r (struct passwd *<var>result_buf</var>, char *<var>buffer</var>, int <var>buflen</var>, struct passwd **<var>result</var>)</code>
<dd>
<code>pwd.h</code> (GNU):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>struct passwd * getpwnam (const char *<var>name</var>)</code>
<dd>
<code>pwd.h</code> (POSIX.1):  <a href="#Lookup%20User">Lookup User</a>.

<br><dt><code>int getpwnam_r (const char *<var>name</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)</code>
<dd>
<code>pwd.h</code> (POSIX.1c):  <a href="#Lookup%20User">Lookup User</a>.

<br><dt><code>struct passwd * getpwuid (uid_t <var>uid</var>)</code>
<dd>
<code>pwd.h</code> (POSIX.1):  <a href="#Lookup%20User">Lookup User</a>.

<br><dt><code>int getpwuid_r (uid_t <var>uid</var>, struct passwd *<var>result_buf</var>, char *<var>buffer</var>, size_t <var>buflen</var>, struct passwd **<var>result</var>)</code>
<dd>
<code>pwd.h</code> (POSIX.1c):  <a href="#Lookup%20User">Lookup User</a>.

<br><dt><code>int getrlimit (int <var>resource</var>, struct rlimit *<var>rlp</var>)</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>int getrlimit64 (int <var>resource</var>, struct rlimit64 *<var>rlp</var>)</code>
<dd>
<code>sys/resource.h</code> (Unix98):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>int getrusage (int <var>processes</var>, struct rusage *<var>rusage</var>)</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Resource%20Usage">Resource Usage</a>.

<br><dt><code>char * gets (char *<var>s</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Line%20Input">Line Input</a>.

<br><dt><code>struct servent * getservbyname (const char *<var>name</var>, const char *<var>proto</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>struct servent * getservbyport (int <var>port</var>, const char *<var>proto</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>struct servent * getservent (void)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>pid_t getsid (pid_t <var>pid</var>)</code>
<dd>
<code>unistd.h</code> (SVID):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>int getsockname (int <var>socket</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Reading%20Address">Reading Address</a>.

<br><dt><code>int getsockopt (int <var>socket</var>, int <var>level</var>, int <var>optname</var>, void *<var>optval</var>, socklen_t *<var>optlen-ptr</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Option%20Functions">Socket Option Functions</a>.

<br><dt><code>int getsubopt (char **<var>optionp</var>, const char* const *<var>tokens</var>, char **<var>valuep</var>)</code>
<dd>
<code>stdlib.h</code> (stdlib.h):  <a href="#Suboptions">Suboptions Example</a>.

<br><dt><code>char * gettext (const char *<var>msgid</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Translation%20with%20gettext">Translation with gettext</a>.

<br><dt><code>int gettimeofday (struct timeval *<var>tp</var>, struct timezone *<var>tzp</var>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<br><dt><code>uid_t getuid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>mode_t getumask (void)</code>
<dd>
<code>sys/stat.h</code> (GNU):  <a href="#Setting%20Permissions">Setting Permissions</a>.

<br><dt><code>struct utmp * getutent (void)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>int getutent_r (struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)</code>
<dd>
<code>utmp.h</code> (GNU):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>struct utmp * getutid (const struct utmp *<var>id</var>)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>int getutid_r (const struct utmp *<var>id</var>, struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)</code>
<dd>
<code>utmp.h</code> (GNU):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>struct utmp * getutline (const struct utmp *<var>line</var>)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>int getutline_r (const struct utmp *<var>line</var>, struct utmp *<var>buffer</var>, struct utmp **<var>result</var>)</code>
<dd>
<code>utmp.h</code> (GNU):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>int getutmp (const struct utmpx *utmpx, struct utmp *utmp)</code>
<dd>
<code>utmp.h</code> (GNU):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int getutmpx (const struct utmp *utmp, struct utmpx *utmpx)</code>
<dd>
<code>utmp.h</code> (GNU):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>struct utmpx * getutxent (void)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>struct utmpx * getutxid (const struct utmpx *<var>id</var>)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>struct utmpx * getutxline (const struct utmpx *<var>line</var>)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int getw (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (SVID):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wint_t getwc (FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wint_t getwchar (void)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wint_t getwchar_unlocked (void)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>wint_t getwc_unlocked (FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Character%20Input">Character Input</a>.

<br><dt><code>char * getwd (char *<var>buffer</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Working%20Directory">Working Directory</a>.

<br><dt><code>gid_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>int glob (const char *<var>pattern</var>, int <var>flags</var>, int (*<var>errfunc</var>) (const char *<var>filename</var>, int <var>error-code</var>), glob_t *<var>vector-ptr</var>)</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>int glob64 (const char *<var>pattern</var>, int <var>flags</var>, int (*<var>errfunc</var>) (const char *<var>filename</var>, int <var>error-code</var>), glob64_t *<var>vector-ptr</var>)</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>glob64_t</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>GLOB_ABORTED</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>GLOB_ALTDIRFUNC</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_APPEND</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_BRACE</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_DOOFFS</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_ERR</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>void globfree (glob_t *<var>pglob</var>)</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>void globfree64 (glob64_t *<var>pglob</var>)</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_MAGCHAR</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_MARK</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_NOCHECK</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_NOESCAPE</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_NOMAGIC</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_NOMATCH</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>GLOB_NOSORT</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Flags%20for%20Globbing">Flags for Globbing</a>.

<br><dt><code>GLOB_NOSPACE</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>GLOB_ONLYDIR</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_PERIOD</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>glob_t</code>
<dd>
<code>glob.h</code> (POSIX.2):  <a href="#Calling%20Glob">Calling Glob</a>.

<br><dt><code>GLOB_TILDE</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>GLOB_TILDE_CHECK</code>
<dd>
<code>glob.h</code> (GNU):  <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>.

<br><dt><code>struct tm * gmtime (const time_t *<var>time</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>struct tm * gmtime_r (const time_t *<var>time</var>, struct tm *<var>resultp</var>)</code>
<dd>
<code>time.h</code> (POSIX.1c):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>_GNU_SOURCE</code>
<dd>
(GNU):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>int grantpt (int <var>filedes</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, XPG4.2):  <a href="#Allocation">Allocation</a>.

<br><dt><code>int gsignal (int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (SVID):  <a href="#Signaling%20Yourself">Signaling Yourself</a>.

<br><dt><code>int gtty (int <var>filedes</var>, struct sgttyb *<var>attributes</var>)</code>
<dd>
<code>sgtty.h</code> (BSD):  <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>.

<br><dt><code>char * hasmntopt (const struct mntent *<var>mnt</var>, const char *<var>opt</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>int hcreate (size_t <var>nel</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>int hcreate_r (size_t <var>nel</var>, struct hsearch_data *<var>htab</var>)</code>
<dd>
<code>search.h</code> (GNU):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>void hdestroy (void)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>void hdestroy_r (struct hsearch_data *<var>htab</var>)</code>
<dd>
<code>search.h</code> (GNU):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>HOST_NOT_FOUND</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>ENTRY * hsearch (ENTRY <var>item</var>, ACTION <var>action</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>int hsearch_r (ENTRY <var>item</var>, ACTION <var>action</var>, ENTRY **<var>retval</var>, struct hsearch_data *<var>htab</var>)</code>
<dd>
<code>search.h</code> (GNU):  <a href="#Hash%20Search%20Function">Hash Search Function</a>.

<br><dt><code>uint32_t htonl (uint32_t <var>hostlong</var>)</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Byte%20Order">Byte Order</a>.

<br><dt><code>uint16_t htons (uint16_t <var>hostshort</var>)</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Byte%20Order">Byte Order</a>.

<br><dt><code>double HUGE_VAL</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Math%20Error%20Reporting">Math Error Reporting</a>.

<br><dt><code>float HUGE_VALF</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Math%20Error%20Reporting">Math Error Reporting</a>.

<br><dt><code>long double HUGE_VALL</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Math%20Error%20Reporting">Math Error Reporting</a>.

<br><dt><code>tcflag_t HUPCL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>double hypot (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float hypotf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double hypotl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>tcflag_t ICANON</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>size_t iconv (iconv_t <var>cd</var>, char **<var>inbuf</var>, size_t *<var>inbytesleft</var>, char **<var>outbuf</var>, size_t *<var>outbytesleft</var>)</code>
<dd>
<code>iconv.h</code> (XPG2):  <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>.

<br><dt><code>int iconv_close (iconv_t <var>cd</var>)</code>
<dd>
<code>iconv.h</code> (XPG2):  <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>.

<br><dt><code>iconv_t iconv_open (const char *<var>tocode</var>, const char *<var>fromcode</var>)</code>
<dd>
<code>iconv.h</code> (XPG2):  <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>.

<br><dt><code>iconv_t</code>
<dd>
<code>iconv.h</code> (XPG2):  <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>.

<br><dt><code>tcflag_t ICRNL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t IEXTEN</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>void if_freenameindex (struct if_nameindex *ptr)</code>
<dd>
<code>net/if.h</code> (IPv6 basic API):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>char * if_indextoname (unsigned int ifindex, char *ifname)</code>
<dd>
<code>net/if.h</code> (IPv6 basic API):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>struct if_nameindex * if_nameindex (void)</code>
<dd>
<code>net/if.h</code> (IPv6 basic API):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>unsigned int if_nametoindex (const char *ifname)</code>
<dd>
<code>net/if.h</code> (IPv6 basic API):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>size_t IFNAMSIZ</code>
<dd>
<code>net/if.h</code> (net/if.h):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>int IFTODT (mode_t <var>mode</var>)</code>
<dd>
<code>dirent.h</code> (BSD):  <a href="#Directory%20Entries">Directory Entries</a>.

<br><dt><code>tcflag_t IGNBRK</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t IGNCR</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t IGNPAR</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>int ilogb (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int ilogbf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int ilogbl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>intmax_t imaxabs (intmax_t <var>number</var>)</code>
<dd>
<code>inttypes.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>tcflag_t IMAXBEL</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>imaxdiv_t imaxdiv (intmax_t <var>numerator</var>, intmax_t <var>denominator</var>)</code>
<dd>
<code>inttypes.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>imaxdiv_t</code>
<dd>
<code>inttypes.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>struct in6_addr in6addr_any</code>
<dd>
<code>netinet/in.h</code> (IPv6 basic API):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>struct in6_addr in6addr_loopback</code>
<dd>
<code>netinet/in.h</code> (IPv6 basic API):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>uint32_t INADDR_ANY</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>uint32_t INADDR_BROADCAST</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>uint32_t INADDR_LOOPBACK</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>uint32_t INADDR_NONE</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>char * index (const char *<var>string</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>uint32_t inet_addr (const char *<var>name</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>int inet_aton (const char *<var>name</var>, struct in_addr *<var>addr</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>uint32_t inet_lnaof (struct in_addr <var>addr</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>struct in_addr inet_makeaddr (uint32_t <var>net</var>, uint32_t <var>local</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>uint32_t inet_netof (struct in_addr <var>addr</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>uint32_t inet_network (const char *<var>name</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>char * inet_ntoa (struct in_addr <var>addr</var>)</code>
<dd>
<code>arpa/inet.h</code> (BSD):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>const char * inet_ntop (int <var>af</var>, const void *<var>cp</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>arpa/inet.h</code> (IPv6 basic API):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>int inet_pton (int <var>af</var>, const char *<var>cp</var>, void *<var>buf</var>)</code>
<dd>
<code>arpa/inet.h</code> (IPv6 basic API):  <a href="#Host%20Address%20Functions">Host Address Functions</a>.

<br><dt><code>float INFINITY</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Infinity%20and%20NaN">Infinity and NaN</a>.

<br><dt><code>int initgroups (const char *<var>user</var>, gid_t <var>group</var>)</code>
<dd>
<code>grp.h</code> (BSD):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>INIT_PROCESS</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>INIT_PROCESS</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>void * initstate (unsigned int <var>seed</var>, void *<var>state</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int initstate_r (unsigned int <var>seed</var>, char *restrict <var>statebuf</var>, size_t <var>statelen</var>, struct random_data *restrict <var>buf</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>tcflag_t INLCR</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>int innetgr (const char *<var>netgroup</var>, const char *<var>host</var>, const char *<var>user</var>, const char *<var>domain</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Netgroup%20Membership">Netgroup Membership</a>.

<br><dt><code>ino64_t</code>
<dd>
<code>sys/types.h</code> (Unix98):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>ino_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>tcflag_t INPCK</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>INT_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>INT_MIN</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int ioctl (int <var>filedes</var>, int <var>command</var>, <small>...</small>)</code>
<dd>
<code>sys/ioctl.h</code> (BSD):  <a href="#IOCTLs">IOCTLs</a>.

<br><dt><code>int _IOFBF</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>int _IOLBF</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>int _IONBF</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>int IPPORT_RESERVED</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Ports">Ports</a>.

<br><dt><code>int IPPORT_USERRESERVED</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Ports">Ports</a>.

<br><dt><code>int isalnum (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isalpha (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isascii (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (SVID, BSD):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isatty (int <var>filedes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>.

<br><dt><code>int isblank (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (GNU):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int iscntrl (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isdigit (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isfinite (<em>float-type</em> <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isgraph (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isgreater (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>int isgreaterequal (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>tcflag_t ISIG</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>int isinf (double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isinff (float <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isinfl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isless (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>int islessequal (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>int islessgreater (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>int islower (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isnan (<em>float-type</em> <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isnan (double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isnanf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isnanl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>int isnormal (<em>float-type</em> <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Floating%20Point%20Classes">Floating Point Classes</a>.

<br><dt><code>_ISOC99_SOURCE</code>
<dd>
(GNU):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>int isprint (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int ispunct (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int isspace (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>tcflag_t ISTRIP</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>int isunordered (<em>real-floating</em> <var>x</var>, <em>real-floating</em> <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>.

<br><dt><code>int isupper (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>int iswalnum (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswalpha (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswblank (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (GNU):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswcntrl (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswctype (wint_t <var>wc</var>, wctype_t <var>desc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswdigit (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswgraph (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswlower (wint_t <var>wc</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswprint (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswpunct (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswspace (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswupper (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int iswxdigit (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int isxdigit (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Classification%20of%20Characters">Classification of Characters</a>.

<br><dt><code>ITIMER_PROF</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>ITIMER_REAL</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>ITIMER_VIRTUAL</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>tcflag_t IXANY</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t IXOFF</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t IXON</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>double j0 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float j0f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double j0l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>double j1 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float j1f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double j1l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>jmp_buf</code>
<dd>
<code>setjmp.h</code> (ISO):  <a href="#Non-Local%20Details">Non-Local Details</a>.

<br><dt><code>double jn (int n, double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float jnf (int n, float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double jnl (int n, long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long int jrand48 (unsigned short int <var>xsubi</var>[3])</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int jrand48_r (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, long int *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int kill (pid_t <var>pid</var>, int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<br><dt><code>int killpg (int <var>pgid</var>, int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Signaling%20Another%20Process">Signaling Another Process</a>.

<br><dt><code>char * l64a (long int <var>n</var>)</code>
<dd>
<code>stdlib.h</code> (XPG):  <a href="#Encode%20Binary%20Data">Encode Binary Data</a>.

<br><dt><code>long int labs (long int <var>number</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>LANG</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_ALL</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_COLLATE</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_CTYPE</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_MESSAGES</code>
<dd>
<code>locale.h</code> (XOPEN):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_MONETARY</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>LC_NUMERIC</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>void lcong48 (unsigned short int <var>param</var>[7])</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int lcong48_r (unsigned short int <var>param</var>[7], struct drand48_data *<var>buffer</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int L_ctermid</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>.

<br><dt><code>LC_TIME</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Locale%20Categories">Locale Categories</a>.

<br><dt><code>int L_cuserid</code>
<dd>
<code>stdio.h</code> (POSIX.1):  <a href="#Who%20Logged%20In">Who Logged In</a>.

<br><dt><code>double ldexp (double <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>float ldexpf (float <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long double ldexpl (long double <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>ldiv_t ldiv (long int <var>numerator</var>, long int <var>denominator</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>ldiv_t</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>void * lfind (const void *<var>key</var>, void *<var>base</var>, size_t *<var>nmemb</var>, size_t <var>size</var>, comparison_fn_t <var>compar</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Array%20Search%20Function">Array Search Function</a>.

<br><dt><code>double lgamma (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float lgammaf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float lgammaf_r (float <var>x</var>, int *<var>signp</var>)</code>
<dd>
<code>math.h</code> (XPG):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double lgammal (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double lgammal_r (long double <var>x</var>, int *<var>signp</var>)</code>
<dd>
<code>math.h</code> (XPG):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>double lgamma_r (double <var>x</var>, int *<var>signp</var>)</code>
<dd>
<code>math.h</code> (XPG):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>L_INCR</code>
<dd>
<code>sys/file.h</code> (BSD):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int LINE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Limits">Utility Limits</a>.

<br><dt><code>int link (const char *<var>oldname</var>, const char *<var>newname</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Hard%20Links">Hard Links</a>.

<br><dt><code>int LINK_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int lio_listio (int <var>mode</var>, struct aiocb *const <var>list</var>[], int <var>nent</var>, struct sigevent *<var>sig</var>)</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>int lio_listio64 (int <var>mode</var>, struct aiocb *const <var>list</var>, int <var>nent</var>, struct sigevent *<var>sig</var>)</code>
<dd>
<code>aio.h</code> (Unix98):  <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>.

<br><dt><code>int listen (int <var>socket</var>, unsigned int <var>n</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Listening">Listening</a>.

<br><dt><code>long long int llabs (long long int <var>number</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Absolute%20Value">Absolute Value</a>.

<br><dt><code>lldiv_t lldiv (long long int <var>numerator</var>, long long int <var>denominator</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>lldiv_t</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Integer%20Division">Integer Division</a>.

<br><dt><code>long long int llrint (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long long int llrintf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long long int llrintl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long long int llround (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long long int llroundf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long long int llroundl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>struct lconv * localeconv (void)</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>.

<br><dt><code>struct tm * localtime (const time_t *<var>time</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>struct tm * localtime_r (const time_t *<var>time</var>, struct tm *<var>resultp</var>)</code>
<dd>
<code>time.h</code> (POSIX.1c):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>double log (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double log10 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float log10f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double log10l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double log1p (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float log1pf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double log1pl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double log2 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float log2f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double log2l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double logb (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float logbf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double logbl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float logf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>void login (const struct utmp *<var>entry</var>)</code>
<dd>
<code>utmp.h</code> (BSD):  <a href="#Logging%20In%20and%20Out">Logging In and Out</a>.

<br><dt><code>LOGIN_PROCESS</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>LOGIN_PROCESS</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int login_tty (int <var>filedes</var>)</code>
<dd>
<code>utmp.h</code> (BSD):  <a href="#Logging%20In%20and%20Out">Logging In and Out</a>.

<br><dt><code>long double logl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>int logout (const char *<var>ut_line</var>)</code>
<dd>
<code>utmp.h</code> (BSD):  <a href="#Logging%20In%20and%20Out">Logging In and Out</a>.

<br><dt><code>void logwtmp (const char *<var>ut_line</var>, const char *<var>ut_name</var>, const char *<var>ut_host</var>)</code>
<dd>
<code>utmp.h</code> (BSD):  <a href="#Logging%20In%20and%20Out">Logging In and Out</a>.

<br><dt><code>void longjmp (jmp_buf <var>state</var>, int <var>value</var>)</code>
<dd>
<code>setjmp.h</code> (ISO):  <a href="#Non-Local%20Details">Non-Local Details</a>.

<br><dt><code>LONG_LONG_MAX</code>
<dd>
<code>limits.h</code> (GNU):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>LONG_LONG_MIN</code>
<dd>
<code>limits.h</code> (GNU):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>LONG_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>LONG_MIN</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>long int lrand48 (void)</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int lrand48_r (struct drand48_data *<var>buffer</var>, double *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>long int lrint (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long int lrintf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long int lrintl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long int lround (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long int lroundf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long int lroundl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>void * lsearch (const void *<var>key</var>, void *<var>base</var>, size_t *<var>nmemb</var>, size_t <var>size</var>, comparison_fn_t <var>compar</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Array%20Search%20Function">Array Search Function</a>.

<br><dt><code>off_t lseek (int <var>filedes</var>, off_t <var>offset</var>, int <var>whence</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#File%20Position%20Primitive">File Position Primitive</a>.

<br><dt><code>off64_t lseek64 (int <var>filedes</var>, off64_t <var>offset</var>, int <var>whence</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#File%20Position%20Primitive">File Position Primitive</a>.

<br><dt><code>L_SET</code>
<dd>
<code>sys/file.h</code> (BSD):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int lstat (const char *<var>filename</var>, struct stat *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>int lstat64 (const char *<var>filename</var>, struct stat64 *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (Unix98):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>int L_tmpnam</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>L_XTND</code>
<dd>
<code>sys/file.h</code> (BSD):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int madvise (void *<var>addr</var>, size_t <var>length</var>, int <var>advice</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>void makecontext (ucontext_t *<var>ucp</var>, void (*<var>func</var>) (void), int <var>argc</var>, <small>...</small>)</code>
<dd>
<code>ucontext.h</code> (SVID):  <a href="#System%20V%20contexts">System V contexts</a>.

<br><dt><code>struct mallinfo mallinfo (void)</code>
<dd>
<code>malloc.h</code> (SVID):  <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>.

<br><dt><code>void * malloc (size_t <var>size</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (ISO):  <a href="#Basic%20Allocation">Basic Allocation</a>.

<br><dt><code>__malloc_hook</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>.

<br><dt><code>__malloc_initialize_hook</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>.

<br><dt><code>int MAX_CANON</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int MAX_INPUT</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int MAXNAMLEN</code>
<dd>
<code>dirent.h</code> (BSD):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int MAXSYMLINKS</code>
<dd>
<code>sys/param.h</code> (BSD):  <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>int MB_CUR_MAX</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>.

<br><dt><code>int mblen (const char *<var>string</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>.

<br><dt><code>int MB_LEN_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>.

<br><dt><code>size_t mbrlen (const char *restrict <var>s</var>, size_t <var>n</var>, mbstate_t *<var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20a%20Character">Converting a Character</a>.

<br><dt><code>size_t mbrtowc (wchar_t *restrict <var>pwc</var>, const char *restrict <var>s</var>, size_t <var>n</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20a%20Character">Converting a Character</a>.

<br><dt><code>int mbsinit (const mbstate_t *<var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Keeping%20the%20state">Keeping the state</a>.

<br><dt><code>size_t mbsnrtowcs (wchar_t *restrict <var>dst</var>, const char **restrict <var>src</var>, size_t <var>nmc</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Converting%20Strings">Converting Strings</a>.

<br><dt><code>size_t mbsrtowcs (wchar_t *restrict <var>dst</var>, const char **restrict <var>src</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20Strings">Converting Strings</a>.

<br><dt><code>mbstate_t</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Keeping%20the%20state">Keeping the state</a>.

<br><dt><code>size_t mbstowcs (wchar_t *<var>wstring</var>, const char *<var>string</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>.

<br><dt><code>int mbtowc (wchar_t *restrict <var>result</var>, const char *restrict <var>string</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>.

<br><dt><code>int mcheck (void (*<var>abortfn</var>) (enum mcheck_status <var>status</var>))</code>
<dd>
<code>mcheck.h</code> (GNU):  <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>.

<br><dt><code>tcflag_t MDMBUF</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>void * memalign (size_t <var>boundary</var>, size_t <var>size</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (BSD):  <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>.

<br><dt><code>__memalign_hook</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>.

<br><dt><code>void * memccpy (void *restrict <var>to</var>, const void *restrict <var>from</var>, int <var>c</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (SVID):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>void * memchr (const void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>int memcmp (const void *<var>a1</var>, const void *<var>a2</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>void * memcpy (void *restrict <var>to</var>, const void *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>void * memfrob (void *<var>mem</var>, size_t <var>length</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Trivial%20Encryption">Trivial Encryption</a>.

<br><dt><code>void * memmem (const void *<var>haystack</var>, size_t <var>haystack-len</var>,<br>const void *<var>needle</var>, size_t <var>needle-len</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>void * memmove (void *<var>to</var>, const void *<var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>void * mempcpy (void *restrict <var>to</var>, const void *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>void * memrchr (const void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>void * memset (void *<var>block</var>, int <var>c</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int mkdir (const char *<var>filename</var>, mode_t <var>mode</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Creating%20Directories">Creating Directories</a>.

<br><dt><code>char * mkdtemp (char *<var>template</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>int mkfifo (const char *<var>filename</var>, mode_t <var>mode</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#FIFO%20Special%20Files">FIFO Special Files</a>.

<br><dt><code>int mknod (const char *<var>filename</var>, int <var>mode</var>, int <var>dev</var>)</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Making%20Special%20Files">Making Special Files</a>.

<br><dt><code>int mkstemp (char *<var>template</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>char * mktemp (char *<var>template</var>)</code>
<dd>
<code>stdlib.h</code> (Unix):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>time_t mktime (struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>int mlock (const void *<var>addr</var>, size_t <var>len</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX.1b):  <a href="#Page%20Lock%20Functions">Page Lock Functions</a>.

<br><dt><code>int mlockall (int <var>flags</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX.1b):  <a href="#Page%20Lock%20Functions">Page Lock Functions</a>.

<br><dt><code>void * mmap (void *<var>address</var>, size_t <var>length</var>,int <var>protect</var>, int <var>flags</var>, int <var>filedes</var>, off_t <var>offset</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>void * mmap64 (void *<var>address</var>, size_t <var>length</var>,int <var>protect</var>, int <var>flags</var>, int <var>filedes</var>, off64_t <var>offset</var>)</code>
<dd>
<code>sys/mman.h</code> (LFS):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>mode_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>double modf (double <var>value</var>, double *<var>integer-part</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float modff (float <var>value</var>, float *<var>integer-part</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double modfl (long double <var>value</var>, long double *<var>integer-part</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>int mount (const char *<var>special_file</var>, const char *<var>dir</var>, const char *<var>fstype</var>, unsigned long int <var>options</var>, const void *<var>data</var>)</code>
<dd>
<code>sys/mount.h</code> (SVID, BSD):  <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>.

<br><dt><code>long int mrand48 (void)</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int mrand48_r (struct drand48_data *<var>buffer</var>, double *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>void * mremap (void *<var>address</var>, size_t <var>length</var>, size_t <var>new_length</var>, int <var>flag</var>)</code>
<dd>
<code>sys/mman.h</code> (GNU):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>int MSG_DONTROUTE</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Data%20Options">Socket Data Options</a>.

<br><dt><code>int MSG_OOB</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Data%20Options">Socket Data Options</a>.

<br><dt><code>int MSG_PEEK</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Data%20Options">Socket Data Options</a>.

<br><dt><code>int msync (void *<var>address</var>, size_t <var>length</var>, int <var>flags</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>void mtrace (void)</code>
<dd>
<code>mcheck.h</code> (GNU):  <a href="#Tracing%20malloc">Tracing malloc</a>.

<br><dt><code>int munlock (const void *<var>addr</var>, size_t <var>len</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX.1b):  <a href="#Page%20Lock%20Functions">Page Lock Functions</a>.

<br><dt><code>int munlockall (void)</code>
<dd>
<code>sys/mman.h</code> (POSIX.1b):  <a href="#Page%20Lock%20Functions">Page Lock Functions</a>.

<br><dt><code>int munmap (void *<var>addr</var>, size_t <var>length</var>)</code>
<dd>
<code>sys/mman.h</code> (POSIX):  <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>.

<br><dt><code>void muntrace (void)</code>
<dd>
<code>mcheck.h</code> (GNU):  <a href="#Tracing%20malloc">Tracing malloc</a>.

<br><dt><code>int NAME_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>float NAN</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Infinity%20and%20NaN">Infinity and NaN</a>.

<br><dt><code>double nan (const char *<var>tagp</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>float nanf (const char *<var>tagp</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>long double nanl (const char *<var>tagp</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>int nanosleep (const struct timespec *<var>requested_time</var>, struct timespec *<var>remaining</var>)</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#Sleeping">Sleeping</a>.

<br><dt><code>int NCCS</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Data%20Types">Mode Data Types</a>.

<br><dt><code>double nearbyint (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float nearbyintf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double nearbyintl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>NEW_TIME</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>NEW_TIME</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>double nextafter (double <var>x</var>, double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>float nextafterf (float <var>x</var>, float <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>long double nextafterl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>double nexttoward (double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>float nexttowardf (float <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>long double nexttowardl (long double <var>x</var>, long double <var>y</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>int nftw (const char *<var>filename</var>, __nftw_func_t <var>func</var>, int <var>descriptors</var>, int <var>flag</var>)</code>
<dd>
<code>ftw.h</code> (XPG4.2):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>int nftw64 (const char *<var>filename</var>, __nftw64_func_t <var>func</var>, int <var>descriptors</var>, int <var>flag</var>)</code>
<dd>
<code>ftw.h</code> (Unix98):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>__nftw64_func_t</code>
<dd>
<code>ftw.h</code> (GNU):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>__nftw_func_t</code>
<dd>
<code>ftw.h</code> (GNU):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>char * ngettext (const char *<var>msgid1</var>, const char *<var>msgid2</var>, unsigned long int <var>n</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>.

<br><dt><code>int NGROUPS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>int nice (int <var>increment</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>nlink_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>char * nl_langinfo (nl_item <var>item</var>)</code>
<dd>
<code>langinfo.h</code> (XOPEN):  <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>.

<br><dt><code>NO_ADDRESS</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>tcflag_t NOFLSH</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>tcflag_t NOKERNINFO</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>NO_RECOVERY</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>long int nrand48 (unsigned short int <var>xsubi</var>[3])</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int nrand48_r (unsigned short int <var>xsubi</var>[3], struct drand48_data *<var>buffer</var>, long int *<var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int NSIG</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Standard%20Signals">Standard Signals</a>.

<br><dt><code>uint32_t ntohl (uint32_t <var>netlong</var>)</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Byte%20Order">Byte Order</a>.

<br><dt><code>uint16_t ntohs (uint16_t <var>netshort</var>)</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Byte%20Order">Byte Order</a>.

<br><dt><code>int ntp_adjtime (struct timex *<var>tptr</var>)</code>
<dd>
<code>sys/timex.h</code> (GNU):  <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>.

<br><dt><code>int ntp_gettime (struct ntptimeval *<var>tptr</var>)</code>
<dd>
<code>sys/timex.h</code> (GNU):  <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>.

<br><dt><code>void * NULL</code>
<dd>
<code>stddef.h</code> (ISO):  <a href="#Null%20Pointer%20Constant">Null Pointer Constant</a>.

<br><dt><code>int O_ACCMODE</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_APPEND</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int O_ASYNC</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>void obstack_1grow (struct obstack *<var>obstack-ptr</var>, char <var>c</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_1grow_fast (struct obstack *<var>obstack-ptr</var>, char <var>c</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_alignment_mask (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>.

<br><dt><code>void * obstack_alloc (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>obstack_alloc_failed_handler</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>.

<br><dt><code>void * obstack_base (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>.

<br><dt><code>void obstack_blank (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_blank_fast (struct obstack *<var>obstack-ptr</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_chunk_size (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Obstack%20Chunks">Obstack Chunks</a>.

<br><dt><code>void * obstack_copy (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>void * obstack_copy0 (struct obstack *<var>obstack-ptr</var>, void *<var>address</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>.

<br><dt><code>void * obstack_finish (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_free (struct obstack *<var>obstack-ptr</var>, void *<var>object</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>.

<br><dt><code>void obstack_grow (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_grow0 (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>, int <var>size</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>int obstack_init (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>.

<br><dt><code>void obstack_int_grow (struct obstack *<var>obstack-ptr</var>, int <var>data</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_int_grow_fast (struct obstack *<var>obstack-ptr</var>, int <var>data</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>void * obstack_next_free (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>.

<br><dt><code>int obstack_object_size (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>int obstack_object_size (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>.

<br><dt><code>int obstack_printf (struct obstack *<var>obstack</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Dynamic%20Output">Dynamic Output</a>.

<br><dt><code>void obstack_ptr_grow (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Growing%20Objects">Growing Objects</a>.

<br><dt><code>void obstack_ptr_grow_fast (struct obstack *<var>obstack-ptr</var>, void *<var>data</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_room (struct obstack *<var>obstack-ptr</var>)</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>.

<br><dt><code>int obstack_vprintf (struct obstack *<var>obstack</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int O_CREAT</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_EXCL</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_EXEC</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_EXLOCK</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>off64_t</code>
<dd>
<code>sys/types.h</code> (Unix98):  <a href="#File%20Position%20Primitive">File Position Primitive</a>.

<br><dt><code>size_t offsetof (<var>type</var>, <var>member</var>)</code>
<dd>
<code>stddef.h</code> (ISO):  <a href="#Structure%20Measurement">Structure Measurement</a>.

<br><dt><code>off_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#File%20Position%20Primitive">File Position Primitive</a>.

<br><dt><code>int O_FSYNC</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int O_IGNORE_CTTY</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>OLD_TIME</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>OLD_TIME</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int O_NDELAY</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int on_exit (void (*<var>function</var>)(int <var>status</var>, void *<var>arg</var>), void *<var>arg</var>)</code>
<dd>
<code>stdlib.h</code> (SunOS):  <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>.

<br><dt><code>tcflag_t ONLCR</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Output%20Modes">Output Modes</a>.

<br><dt><code>int O_NOATIME</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int O_NOCTTY</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>tcflag_t ONOEOT</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Output%20Modes">Output Modes</a>.

<br><dt><code>int O_NOLINK</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_NONBLOCK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_NONBLOCK</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int O_NOTRANS</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int open (const char *<var>filename</var>, int <var>flags</var>[, mode_t <var>mode</var>])</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<br><dt><code>int open64 (const char *<var>filename</var>, int <var>flags</var>[, mode_t <var>mode</var>])</code>
<dd>
<code>fcntl.h</code> (Unix98):  <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>.

<br><dt><code>DIR * opendir (const char *<var>dirname</var>)</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Opening%20a%20Directory">Opening a Directory</a>.

<br><dt><code>void openlog (char *<var>ident</var>, int <var>option</var>,</code>
<dd>
<code>syslog.h</code> (BSD):  <a href="#openlog">openlog</a>.

<br><dt><code>int OPEN_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>FILE * open_memstream (char **<var>ptr</var>, size_t *<var>sizeloc</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#String%20Streams">String Streams</a>.

<br><dt><code>FILE * open_obstack_stream (struct obstack *<var>obstack</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Obstack%20Streams">Obstack Streams</a>.

<br><dt><code>int openpty (int *<var>amaster</var>, int *<var>aslave</var>, char *<var>name</var>, struct termios *<var>termp</var>, struct winsize *<var>winp</var>)</code>
<dd>
<code>pty.h</code> (BSD):  <a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>.

<br><dt><code>tcflag_t OPOST</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Output%20Modes">Output Modes</a>.

<br><dt><code>char * optarg</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Using%20Getopt">Using Getopt</a>.

<br><dt><code>int opterr</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Using%20Getopt">Using Getopt</a>.

<br><dt><code>int optind</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Using%20Getopt">Using Getopt</a>.

<br><dt><code>OPTION_ALIAS</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>OPTION_ARG_OPTIONAL</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>OPTION_DOC</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>OPTION_HIDDEN</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>OPTION_NO_USAGE</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Flags">Argp Option Flags</a>.

<br><dt><code>int optopt</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Using%20Getopt">Using Getopt</a>.

<br><dt><code>int O_RDONLY</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_RDWR</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_READ</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_SHLOCK</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_SYNC</code>
<dd>
<code>fcntl.h</code> (BSD):  <a href="#Operating%20Modes">Operating Modes</a>.

<br><dt><code>int O_TRUNC</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Open-time%20Flags">Open-time Flags</a>.

<br><dt><code>int O_WRITE</code>
<dd>
<code>fcntl.h</code> (GNU):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>int O_WRONLY</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#Access%20Modes">Access Modes</a>.

<br><dt><code>tcflag_t OXTABS</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Output%20Modes">Output Modes</a>.

<br><dt><code>PA_CHAR</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_DOUBLE</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLAG_LONG</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLAG_LONG_DOUBLE</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLAG_LONG_LONG</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>int PA_FLAG_MASK</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLAG_PTR</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLAG_SHORT</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_FLOAT</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_INT</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_LAST</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_POINTER</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>tcflag_t PARENB</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>tcflag_t PARMRK</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Input%20Modes">Input Modes</a>.

<br><dt><code>tcflag_t PARODD</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Control%20Modes">Control Modes</a>.

<br><dt><code>size_t parse_printf_format (const char *<var>template</var>, size_t <var>n</var>, int *<var>argtypes</var>)</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>PA_STRING</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>.

<br><dt><code>long int pathconf (const char *<var>filename</var>, int <var>parameter</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>int PATH_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>int pause ()</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Using%20Pause">Using Pause</a>.

<br><dt><code>_PC_ASYNC_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_CHOWN_RESTRICTED</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_FILESIZEBITS</code>
<dd>
<code>unistd.h</code> (LFS):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_LINK_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>int pclose (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.2, SVID, BSD):  <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>.

<br><dt><code>_PC_MAX_CANON</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_MAX_INPUT</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_NAME_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_NO_TRUNC</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_PATH_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_PIPE_BUF</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_PRIO_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_REC_INCR_XFER_SIZE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_REC_MAX_XFER_SIZE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_REC_MIN_XFER_SIZE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_REC_XFER_ALIGN</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_SOCK_MAXBUF</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_SYNC_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>_PC_VDISABLE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Pathconf">Pathconf</a>.

<br><dt><code>tcflag_t PENDIN</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>void perror (const char *<var>message</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>int PF_FILE</code>
<dd>
<code>sys/socket.h</code> (GNU):  <a href="#Local%20Namespace%20Details">Local Namespace Details</a>.

<br><dt><code>int PF_INET</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Internet%20Namespace">Internet Namespace</a>.

<br><dt><code>int PF_INET6</code>
<dd>
<code>sys/socket.h</code> (X/Open):  <a href="#Internet%20Namespace">Internet Namespace</a>.

<br><dt><code>int PF_LOCAL</code>
<dd>
<code>sys/socket.h</code> (POSIX):  <a href="#Local%20Namespace%20Details">Local Namespace Details</a>.

<br><dt><code>int PF_UNIX</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Local%20Namespace%20Details">Local Namespace Details</a>.

<br><dt><code>pid_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Process%20Identification">Process Identification</a>.

<br><dt><code>int pipe (int <var>filedes</var><tt>[2]</tt>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Creating%20a%20Pipe">Creating a Pipe</a>.

<br><dt><code>int PIPE_BUF</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Limits%20for%20Files">Limits for Files</a>.

<br><dt><code>FILE * popen (const char *<var>command</var>, const char *<var>mode</var>)</code>
<dd>
<code>stdio.h</code> (POSIX.2, SVID, BSD):  <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>.

<br><dt><code>_POSIX2_BC_BASE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>_POSIX2_BC_DIM_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>_POSIX2_BC_SCALE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>_POSIX2_BC_STRING_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>int _POSIX2_C_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX2_COLL_WEIGHTS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>long int _POSIX2_C_VERSION</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Version%20Supported">Version Supported</a>.

<br><dt><code>_POSIX2_EQUIV_CLASS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>_POSIX2_EXPR_NEST_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>int _POSIX2_FORT_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#System%20Options">System Options</a>.

<br><dt><code>int _POSIX2_FORT_RUN</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX2_LINE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Utility%20Minimums">Utility Minimums</a>.

<br><dt><code>int _POSIX2_LOCALEDEF</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX2_RE_DUP_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#Minimums">Minimums</a>.

<br><dt><code>int _POSIX2_SW_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX_AIO_LISTIO_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_AIO_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_ARG_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_CHILD_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>int _POSIX_CHOWN_RESTRICTED</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Options%20for%20Files">Options for Files</a>.

<br><dt><code>_POSIX_C_SOURCE</code>
<dd>
(POSIX.2):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>int _POSIX_JOB_CONTROL</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX_LINK_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>_POSIX_MAX_CANON</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>_POSIX_MAX_INPUT</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>int posix_memalign (void **<var>memptr</var>, size_t <var>alignment</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (POSIX):  <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>.

<br><dt><code>_POSIX_NAME_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>_POSIX_NGROUPS_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>int _POSIX_NO_TRUNC</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Options%20for%20Files">Options for Files</a>.

<br><dt><code>_POSIX_OPEN_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_PATH_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>_POSIX_PIPE_BUF</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>POSIX_REC_INCR_XFER_SIZE</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>POSIX_REC_MAX_XFER_SIZE</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>POSIX_REC_MIN_XFER_SIZE</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>POSIX_REC_XFER_ALIGN</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>int _POSIX_SAVED_IDS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#System%20Options">System Options</a>.

<br><dt><code>_POSIX_SOURCE</code>
<dd>
(POSIX.1):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_POSIX_SSIZE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_STREAM_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>_POSIX_TZNAME_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#Minimums">Minimums</a>.

<br><dt><code>unsigned char _POSIX_VDISABLE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Options%20for%20Files">Options for Files</a>.

<br><dt><code>long int _POSIX_VERSION</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Version%20Supported">Version Supported</a>.

<br><dt><code>double pow (double <var>base</var>, double <var>power</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>double pow10 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float pow10f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double pow10l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float powf (float <var>base</var>, float <var>power</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double powl (long double <var>base</var>, long double <var>power</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>ssize_t pread (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>, off_t <var>offset</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>ssize_t pread64 (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>, off64_t <var>offset</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>int printf (const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>printf_arginfo_function</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>.

<br><dt><code>printf_function</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>.

<br><dt><code>int printf_size (FILE *<var>fp</var>, const struct printf_info *<var>info</var>, const void *const *<var>args</var>)</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>.

<br><dt><code>int printf_size_info (const struct printf_info *<var>info</var>, size_t <var>n</var>, int *<var>argtypes</var>)</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>.

<br><dt><code>PRIO_MAX</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>PRIO_MIN</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>PRIO_PGRP</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>PRIO_PROCESS</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>PRIO_USER</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>char * program_invocation_name</code>
<dd>
<code>errno.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>char * program_invocation_short_name</code>
<dd>
<code>errno.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void psignal (int <var>signum</var>, const char *<var>message</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Signal%20Messages">Signal Messages</a>.

<br><dt><code>char * P_tmpdir</code>
<dd>
<code>stdio.h</code> (SVID):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>ptrdiff_t</code>
<dd>
<code>stddef.h</code> (ISO):  <a href="#Important%20Data%20Types">Important Data Types</a>.

<br><dt><code>char * ptsname (int <var>filedes</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, XPG4.2):  <a href="#Allocation">Allocation</a>.

<br><dt><code>int ptsname_r (int <var>filedes</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#Allocation">Allocation</a>.

<br><dt><code>int putc (int <var>c</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int putchar (int <var>c</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int putchar_unlocked (int <var>c</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int putc_unlocked (int <var>c</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (POSIX):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>int putenv (char *<var>string</var>)</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>int putpwent (const struct passwd *<var>p</var>, FILE *<var>stream</var>)</code>
<dd>
<code>pwd.h</code> (SVID):  <a href="#Writing%20a%20User%20Entry">Writing a User Entry</a>.

<br><dt><code>int puts (const char *<var>s</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>struct utmp * pututline (const struct utmp *<var>utmp</var>)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>struct utmpx * pututxline (const struct utmpx *<var>utmp</var>)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int putw (int <var>w</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (SVID):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t putwc (wchar_t <var>wc</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t putwchar (wchar_t <var>wc</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t putwchar_unlocked (wchar_t <var>wc</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>wint_t putwc_unlocked (wchar_t <var>wc</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Simple%20Output">Simple Output</a>.

<br><dt><code>ssize_t pwrite (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>, off_t <var>offset</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>ssize_t pwrite64 (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>, off64_t <var>offset</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>char * qecvt (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * qecvt_r (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * qfcvt (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * qfcvt_r (long double <var>value</var>, int <var>ndigit</var>, int *<var>decpt</var>, int *<var>neg</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>char * qgcvt (long double <var>value</var>, int <var>ndigit</var>, char *<var>buf</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>.

<br><dt><code>void qsort (void *<var>array</var>, size_t <var>count</var>, size_t <var>size</var>, comparison_fn_t <var>compare</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Array%20Sort%20Function">Array Sort Function</a>.

<br><dt><code>int raise (int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Signaling%20Yourself">Signaling Yourself</a>.

<br><dt><code>int rand (void)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#ISO%20Random">ISO Random</a>.

<br><dt><code>int RAND_MAX</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#ISO%20Random">ISO Random</a>.

<br><dt><code>long int random (void)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int random_r (struct random_data *restrict <var>buf</var>, int32_t *restrict <var>result</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int rand_r (unsigned int *<var>seed</var>)</code>
<dd>
<code>stdlib.h</code> (POSIX.1):  <a href="#ISO%20Random">ISO Random</a>.

<br><dt><code>void * rawmemchr (const void *<var>block</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>ssize_t read (int <var>filedes</var>, void *<var>buffer</var>, size_t <var>size</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>struct dirent * readdir (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>.

<br><dt><code>struct dirent64 * readdir64 (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (LFS):  <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>.

<br><dt><code>int readdir64_r (DIR *<var>dirstream</var>, struct dirent64 *<var>entry</var>, struct dirent64 **<var>result</var>)</code>
<dd>
<code>dirent.h</code> (LFS):  <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>.

<br><dt><code>int readdir_r (DIR *<var>dirstream</var>, struct dirent *<var>entry</var>, struct dirent **<var>result</var>)</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>.

<br><dt><code>int readlink (const char *<var>filename</var>, char *<var>buffer</var>, size_t <var>size</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>ssize_t readv (int <var>filedes</var>, const struct iovec *<var>vector</var>, int <var>count</var>)</code>
<dd>
<code>sys/uio.h</code> (BSD):  <a href="#Scatter-Gather">Scatter-Gather</a>.

<br><dt><code>void * realloc (void *<var>ptr</var>, size_t <var>newsize</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (ISO):  <a href="#Changing%20Block%20Size">Changing Block Size</a>.

<br><dt><code>__realloc_hook</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>.

<br><dt><code>char * realpath (const char *restrict <var>name</var>, char *restrict <var>resolved</var>)</code>
<dd>
<code>stdlib.h</code> (XPG):  <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>int recv (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Receiving%20Data">Receiving Data</a>.

<br><dt><code>int recvfrom (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>, struct sockaddr *<var>addr</var>, socklen_t *<var>length-ptr</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Receiving%20Datagrams">Receiving Datagrams</a>.

<br><dt><code>int recvmsg (int <var>socket</var>, struct msghdr *<var>message</var>, int <var>flags</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Receiving%20Datagrams">Receiving Datagrams</a>.

<br><dt><code>int RE_DUP_MAX</code>
<dd>
<code>limits.h</code> (POSIX.2):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>_REENTRANT</code>
<dd>
(GNU):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>REG_BADBR</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_BADPAT</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_BADRPT</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>int regcomp (regex_t *<var>compiled</var>, const char *<var>pattern</var>, int <var>cflags</var>)</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_EBRACE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_EBRACK</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_ECOLLATE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_ECTYPE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_EESCAPE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_EPAREN</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_ERANGE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>size_t regerror (int <var>errcode</var>, regex_t *<var>compiled</var>, char *<var>buffer</var>, size_t <var>length</var>)</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Regexp%20Cleanup">Regexp Cleanup</a>.

<br><dt><code>REG_ESPACE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>.

<br><dt><code>REG_ESPACE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_ESUBREG</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>int regexec (regex_t *<var>compiled</var>, char *<var>string</var>, size_t <var>nmatch</var>, regmatch_t <var>matchptr</var> <tt>[]</tt>, int <var>eflags</var>)</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>.

<br><dt><code>regex_t</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>.

<br><dt><code>REG_EXTENDED</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>.

<br><dt><code>void regfree (regex_t *<var>compiled</var>)</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Regexp%20Cleanup">Regexp Cleanup</a>.

<br><dt><code>REG_ICASE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>.

<br><dt><code>int register_printf_function (int <var>spec</var>, printf_function <var>handler-function</var>, printf_arginfo_function <var>arginfo-function</var>)</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Registering%20New%20Conversions">Registering New Conversions</a>.

<br><dt><code>regmatch_t</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>.

<br><dt><code>REG_NEWLINE</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>.

<br><dt><code>REG_NOMATCH</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>.

<br><dt><code>REG_NOSUB</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regexps</a>.

<br><dt><code>REG_NOTBOL</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>.

<br><dt><code>REG_NOTEOL</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>.

<br><dt><code>regoff_t</code>
<dd>
<code>regex.h</code> (POSIX.2):  <a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>.

<br><dt><code>double remainder (double <var>numerator</var>, double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>float remainderf (float <var>numerator</var>, float <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>long double remainderl (long double <var>numerator</var>, long double <var>denominator</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Remainder%20Functions">Remainder Functions</a>.

<br><dt><code>int remove (const char *<var>filename</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Deleting%20Files">Deleting Files</a>.

<br><dt><code>int rename (const char *<var>oldname</var>, const char *<var>newname</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Renaming%20Files">Renaming Files</a>.

<br><dt><code>void rewind (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>void rewinddir (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Random%20Access%20Directory">Random Access Directory</a>.

<br><dt><code>char * rindex (const char *<var>string</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>double rint (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float rintf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double rintl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>int RLIM_INFINITY</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_AS</code>
<dd>
<code>sys/resource.h</code> (Unix98):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_CORE</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_CPU</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_DATA</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_FSIZE</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_MEMLOCK</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_NOFILE</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_NPROC</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_RSS</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIMIT_STACK</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>RLIM_NLIMITS</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>int rmdir (const char *<var>filename</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Deleting%20Files">Deleting Files</a>.

<br><dt><code>int R_OK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Testing%20File%20Access">Testing File Access</a>.

<br><dt><code>double round (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>float roundf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double roundl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>int rpmatch (const char *<var>response</var>)</code>
<dd>
<code>stdlib.h</code> (stdlib.h):  <a href="#Yes-or-No%20Questions">Yes-or-No Questions</a>.

<br><dt><code>RUN_LVL</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>RUN_LVL</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>RUSAGE_CHILDREN</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Resource%20Usage">Resource Usage</a>.

<br><dt><code>RUSAGE_SELF</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Resource%20Usage">Resource Usage</a>.

<br><dt><code>int SA_NOCLDSTOP</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>.

<br><dt><code>int SA_ONSTACK</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>.

<br><dt><code>int SA_RESTART</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>.

<br><dt><code>int sbrk (ptrdiff_t <var>delta</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>.

<br><dt><code>_SC_2_C_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_2_FORT_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_2_FORT_RUN</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_2_LOCALEDEF</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_2_SW_DEV</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_2_VERSION</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_AIO_LISTIO_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_AIO_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_AIO_PRIO_DELTA_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>double scalb (double <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>float scalbf (float <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long double scalbl (long double <var>value</var>, int <var>exponent</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalbln (double <var>x</var>, long int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalblnf (float <var>x</var>, long int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalblnl (long double <var>x</var>, long int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalbn (double <var>x</var>, int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalbnf (float <var>x</var>, int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int scalbnl (long double <var>x</var>, int n)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>int scandir (const char *<var>dir</var>, struct dirent ***<var>namelist</var>, int (*<var>selector</var>) (const struct dirent *), int (*<var>cmp</var>) (const void *, const void *))</code>
<dd>
<code>dirent.h</code> (BSD/SVID):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>int scandir64 (const char *<var>dir</var>, struct dirent64 ***<var>namelist</var>, int (*<var>selector</var>) (const struct dirent64 *), int (*<var>cmp</var>) (const void *, const void *))</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>int scanf (const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>_SC_ARG_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_ASYNCHRONOUS_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_ATEXIT_MAX</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_AVPHYS_PAGES</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_BC_BASE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_BC_DIM_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_BC_SCALE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_BC_STRING_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CHAR_BIT</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CHARCLASS_NAME_MAX</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CHAR_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CHAR_MIN</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CHILD_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_CLK_TCK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_COLL_WEIGHTS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_DELAYTIMER_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_EQUIV_CLASS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_EXPR_NEST_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_FSYNC</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_GETGR_R_SIZE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_GETPW_R_SIZE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>SCHAR_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>SCHAR_MIN</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int sched_getparam (pid_t <var>pid</var>, const struct sched_param *<var>param</var>)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_get_priority_max (int *<var>policy</var>);</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_get_priority_min (int *<var>policy</var>);</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_getscheduler (pid_t <var>pid</var>)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_rr_get_interval (pid_t <var>pid</var>, struct timespec *<var>interval</var>)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_setparam (pid_t <var>pid</var>, const struct sched_param *<var>param</var>)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_setscheduler (pid_t <var>pid</var>, int <var>policy</var>, const struct sched_param *<var>param</var>)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>int sched_yield (void)</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>_SC_INT_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_INT_MIN</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_JOB_CONTROL</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_LINE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_LOGIN_NAME_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_LONG_BIT</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MAPPED_FILES</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MB_LEN_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MEMLOCK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MEMLOCK_RANGE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MEMORY_PROTECTION</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MESSAGE_PASSING</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MQ_OPEN_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_MQ_PRIO_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NGROUPS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_ARGMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_LANGMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_MSGMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_NMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_SETMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NL_TEXTMAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NPROCESSORS_CONF</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NPROCESSORS_ONLN</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_NZERO</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_OPEN_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PAGESIZE</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PHYS_PAGES</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_INTERNET</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_INTERNET_DGRAM</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_INTERNET_STREAM</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_OSI</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_OSI_CLTS</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_OSI_COTS</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_OSI_M</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_SOCKET</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PII_XTI</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PRIORITIZED_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_PRIORITY_SCHEDULING</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_REALTIME_SIGNALS</code>
<dd>
<code>unistdh.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_RTSIG_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SAVED_IDS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SCHAR_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SCHAR_MIN</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SELECT</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SEMAPHORES</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SEM_NSEMS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SEM_VALUE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SHARED_MEMORY_OBJECTS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SHRT_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SHRT_MIN</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SIGQUEUE_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>SC_SSIZE_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_STREAM_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_SYNCHRONIZED_IO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_ATTR_STACKADDR</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_ATTR_STACKSIZE</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_DESTRUCTOR_ITERATIONS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_KEYS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_PRIO_INHERIT</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_PRIO_PROTECT</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_PRIORITY_SCHEDULING</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_PROCESS_SHARED</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREADS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_SAFE_FUNCTIONS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_STACK_MIN</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_THREAD_THREADS_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_TIMER_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_TIMERS</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_T_IOV_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_TTY_NAME_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_TZNAME_MAX</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_UCHAR_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_UINT_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_UIO_MAXIOV</code>
<dd>
<code>unistd.h</code> (POSIX.1g):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_ULONG_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_USHRT_MAX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_VERSION</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_VERSION</code>
<dd>
<code>unistd.h</code> (POSIX.2):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_WORD_BIT</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_CRYPT</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_ENH_I18N</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_LEGACY</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_REALTIME</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_REALTIME_THREADS</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_SHM</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_UNIX</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_VERSION</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_XCU_VERSION</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_XPG2</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_XPG3</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>_SC_XOPEN_XPG4</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>.

<br><dt><code>unsigned short int * seed48 (unsigned short int <var>seed16v</var>[3])</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int seed48_r (unsigned short int <var>seed16v</var>[3], struct drand48_data *<var>buffer</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int SEEK_CUR</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>void seekdir (DIR *<var>dirstream</var>, off_t <var>pos</var>)</code>
<dd>
<code>dirent.h</code> (BSD):  <a href="#Random%20Access%20Directory">Random Access Directory</a>.

<br><dt><code>int SEEK_END</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int SEEK_SET</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#File%20Positioning">File Positioning</a>.

<br><dt><code>int select (int <var>nfds</var>, fd_set *<var>read-fds</var>, fd_set *<var>write-fds</var>, fd_set *<var>except-fds</var>, struct timeval *<var>timeout</var>)</code>
<dd>
<code>sys/types.h</code> (BSD):  <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>.

<br><dt><code>int send (int <var>socket</var>, void *<var>buffer</var>, size_t <var>size</var>, int <var>flags</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Sending%20Data">Sending Data</a>.

<br><dt><code>int sendmsg (int <var>socket</var>, const struct msghdr *<var>message</var>, int <var>flags</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Receiving%20Datagrams">Receiving Datagrams</a>.

<br><dt><code>int sendto (int <var>socket</var>, void *<var>buffer</var>. size_t <var>size</var>, int <var>flags</var>, struct sockaddr *<var>addr</var>, socklen_t <var>length</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Sending%20Datagrams">Sending Datagrams</a>.

<br><dt><code>void setbuf (FILE *<var>stream</var>, char *<var>buf</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>void setbuffer (FILE *<var>stream</var>, char *<var>buf</var>, size_t <var>size</var>)</code>
<dd>
<code>stdio.h</code> (BSD):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>int setcontext (const ucontext_t *<var>ucp</var>)</code>
<dd>
<code>ucontext.h</code> (SVID):  <a href="#System%20V%20contexts">System V contexts</a>.

<br><dt><code>int setdomainname (const char *<var>name</var>, size_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (???):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>int setegid (gid_t <var>newgid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>int setenv (const char *<var>name</var>, const char *<var>value</var>, int <var>replace</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>int seteuid (uid_t <var>neweuid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Setting%20User%20ID">Setting User ID</a>.

<br><dt><code>int setfsent (void)</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>int setgid (gid_t <var>newgid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>void setgrent (void)</code>
<dd>
<code>grp.h</code> (SVID, BSD):  <a href="#Scanning%20All%20Groups">Scanning All Groups</a>.

<br><dt><code>int setgroups (size_t <var>count</var>, gid_t *<var>groups</var>)</code>
<dd>
<code>grp.h</code> (BSD):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>void sethostent (int <var>stayopen</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>int sethostid (long int <var>id</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>int sethostname (const char *<var>name</var>, size_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Host%20Identification">Host Identification</a>.

<br><dt><code>int setitimer (int <var>which</var>, struct itimerval *<var>new</var>, struct itimerval *<var>old</var>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>int setjmp (jmp_buf <var>state</var>)</code>
<dd>
<code>setjmp.h</code> (ISO):  <a href="#Non-Local%20Details">Non-Local Details</a>.

<br><dt><code>void setkey (const char *<var>key</var>)</code>
<dd>
<code>crypt.h</code> (BSD, SVID):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>void setkey_r (const char *<var>key</var>, struct crypt_data * <var>data</var>)</code>
<dd>
<code>crypt.h</code> (GNU):  <a href="#DES%20Encryption">DES Encryption</a>.

<br><dt><code>void setlinebuf (FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (BSD):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>char * setlocale (int <var>category</var>, const char *<var>locale</var>)</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#Setting%20the%20Locale">Setting the Locale</a>.

<br><dt><code>int setlogmask (int <var>mask</var>)</code>
<dd>
<code>syslog.h</code> (BSD):  <a href="#setlogmask">setlogmask</a>.

<br><dt><code>FILE * setmntent (const char *<var>file</var>, const char *<var>mode</var>)</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>void setnetent (int <var>stayopen</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>int setnetgrent (const char *<var>netgroup</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Lookup%20Netgroup">Lookup Netgroup</a>.

<br><dt><code>int setpgid (pid_t <var>pid</var>, pid_t <var>pgid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>int setpgrp (pid_t <var>pid</var>, pid_t <var>pgid</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>int setpriority (int <var>class</var>, int <var>id</var>, int <var>niceval</var>)</code>
<dd>
<code>sys/resource.h</code> (BSD,POSIX):  <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>.

<br><dt><code>void setprotoent (int <var>stayopen</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>void setpwent (void)</code>
<dd>
<code>pwd.h</code> (SVID, BSD):  <a href="#Scanning%20All%20Users">Scanning All Users</a>.

<br><dt><code>int setregid (gid_t <var>rgid</var>, gid_t <var>egid</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Setting%20Groups">Setting Groups</a>.

<br><dt><code>int setreuid (uid_t <var>ruid</var>, uid_t <var>euid</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Setting%20User%20ID">Setting User ID</a>.

<br><dt><code>int setrlimit (int <var>resource</var>, const struct rlimit *<var>rlp</var>)</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>int setrlimit64 (int <var>resource</var>, const struct rlimit64 *<var>rlp</var>)</code>
<dd>
<code>sys/resource.h</code> (Unix98):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>void setservent (int <var>stayopen</var>)</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>pid_t setsid (void)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Process%20Group%20Functions">Process Group Functions</a>.

<br><dt><code>int setsockopt (int <var>socket</var>, int <var>level</var>, int <var>optname</var>, void *<var>optval</var>, socklen_t <var>optlen</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Option%20Functions">Socket Option Functions</a>.

<br><dt><code>void * setstate (void *<var>state</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int setstate_r (char *restrict <var>statebuf</var>, struct random_data *restrict <var>buf</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int settimeofday (const struct timeval *<var>tp</var>, const struct timezone *<var>tzp</var>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<br><dt><code>int setuid (uid_t <var>newuid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Setting%20User%20ID">Setting User ID</a>.

<br><dt><code>void setutent (void)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>void setutxent (void)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>int setvbuf (FILE *<var>stream</var>, char *<var>buf</var>, int <var>mode</var>, size_t <var>size</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Controlling%20Buffering">Controlling Buffering</a>.

<br><dt><code>SHRT_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>SHRT_MIN</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int shutdown (int <var>socket</var>, int <var>how</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Closing%20a%20Socket">Closing a Socket</a>.

<br><dt><code>S_IEXEC</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IFBLK</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFCHR</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFDIR</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFIFO</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFLNK</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_IFMT</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFREG</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_IFSOCK</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int SIGABRT</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int sigaction (int <var>signum</var>, const struct sigaction *restrict <var>action</var>, struct sigaction *restrict <var>old-action</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>.

<br><dt><code>int sigaddset (sigset_t *<var>set</var>, int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>int SIGALRM</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Alarm%20Signals">Alarm Signals</a>.

<br><dt><code>int sigaltstack (const stack_t *restrict <var>stack</var>, stack_t *restrict <var>oldstack</var>)</code>
<dd>
<code>signal.h</code> (XPG):  <a href="#Signal%20Stack">Signal Stack</a>.

<br><dt><code>sig_atomic_t</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Atomic%20Types">Atomic Types</a>.

<br><dt><code>SIG_BLOCK</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.

<br><dt><code>int sigblock (int <var>mask</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Blocking%20in%20BSD">Blocking in BSD</a>.

<br><dt><code>int SIGBUS</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int SIGCHLD</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int SIGCLD</code>
<dd>
<code>signal.h</code> (SVID):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int SIGCONT</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int sigdelset (sigset_t *<var>set</var>, int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>int sigemptyset (sigset_t *<var>set</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>int SIGEMT</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>sighandler_t SIG_ERR</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>int sigfillset (sigset_t *<var>set</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>int SIGFPE</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>sighandler_t</code>
<dd>
<code>signal.h</code> (GNU):  <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>int SIGHUP</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Termination%20Signals">Termination Signals</a>.

<br><dt><code>int SIGILL</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int SIGINFO</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>.

<br><dt><code>int SIGINT</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Termination%20Signals">Termination Signals</a>.

<br><dt><code>int siginterrupt (int <var>signum</var>, int <var>failflag</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>int SIGIO</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>.

<br><dt><code>int SIGIOT</code>
<dd>
<code>signal.h</code> (Unix):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int sigismember (const sigset_t *<var>set</var>, int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>sigjmp_buf</code>
<dd>
<code>setjmp.h</code> (POSIX.1):  <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>.

<br><dt><code>int SIGKILL</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Termination%20Signals">Termination Signals</a>.

<br><dt><code>void siglongjmp (sigjmp_buf <var>state</var>, int <var>value</var>)</code>
<dd>
<code>setjmp.h</code> (POSIX.1):  <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>.

<br><dt><code>int SIGLOST</code>
<dd>
<code>signal.h</code> (GNU):  <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>int sigmask (int <var>signum</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Blocking%20in%20BSD">Blocking in BSD</a>.

<br><dt><code>sighandler_t signal (int <var>signum</var>, sighandler_t <var>action</var>)</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>int signbit (<em>float-type</em> <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>.

<br><dt><code>long long int significand (double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int significandf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>long long int significandl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (BSD):  <a href="#Normalization%20Functions">Normalization Functions</a>.

<br><dt><code>int sigpause (int <var>mask</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Blocking%20in%20BSD">Blocking in BSD</a>.

<br><dt><code>int sigpending (sigset_t *<var>set</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>.

<br><dt><code>int SIGPIPE</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>int SIGPOLL</code>
<dd>
<code>signal.h</code> (SVID):  <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>.

<br><dt><code>int sigprocmask (int <var>how</var>, const sigset_t *restrict <var>set</var>, sigset_t *restrict <var>oldset</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.

<br><dt><code>int SIGPROF</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Alarm%20Signals">Alarm Signals</a>.

<br><dt><code>int SIGQUIT</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Termination%20Signals">Termination Signals</a>.

<br><dt><code>int SIGSEGV</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int sigsetjmp (sigjmp_buf <var>state</var>, int <var>savesigs</var>)</code>
<dd>
<code>setjmp.h</code> (POSIX.1):  <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>.

<br><dt><code>SIG_SETMASK</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.

<br><dt><code>int sigsetmask (int <var>mask</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Blocking%20in%20BSD">Blocking in BSD</a>.

<br><dt><code>sigset_t</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Signal%20Sets">Signal Sets</a>.

<br><dt><code>int sigstack (const struct sigstack *<var>stack</var>, struct sigstack *<var>oldstack</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Signal%20Stack">Signal Stack</a>.

<br><dt><code>int SIGSTOP</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int sigsuspend (const sigset_t *<var>set</var>)</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Sigsuspend">Sigsuspend</a>.

<br><dt><code>int SIGSYS</code>
<dd>
<code>signal.h</code> (Unix):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int SIGTERM</code>
<dd>
<code>signal.h</code> (ISO):  <a href="#Termination%20Signals">Termination Signals</a>.

<br><dt><code>int SIGTRAP</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Program%20Error%20Signals">Program Error Signals</a>.

<br><dt><code>int SIGTSTP</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int SIGTTIN</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>int SIGTTOU</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Job%20Control%20Signals">Job Control Signals</a>.

<br><dt><code>SIG_UNBLOCK</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Process%20Signal%20Mask">Process Signal Mask</a>.

<br><dt><code>int SIGURG</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>.

<br><dt><code>int SIGUSR1</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>.

<br><dt><code>int SIGUSR2</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>.

<br><dt><code>int sigvec (int <var>signum</var>, const struct sigvec *<var>action</var>,struct sigvec *<var>old-action</var>)</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>int SIGVTALRM</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Alarm%20Signals">Alarm Signals</a>.

<br><dt><code>int SIGWINCH</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>.

<br><dt><code>int SIGXCPU</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>int SIGXFSZ</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Operation%20Error%20Signals">Operation Error Signals</a>.

<br><dt><code>double sin (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>void sincos (double <var>x</var>, double *<var>sinx</var>, double *<var>cosx</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>void sincosf (float <var>x</var>, float *<var>sinx</var>, float *<var>cosx</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>void sincosl (long double <var>x</var>, long double *<var>sinx</var>, long double *<var>cosx</var>)</code>
<dd>
<code>math.h</code> (GNU):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>float sinf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>double sinh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float sinhf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double sinhl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double sinl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>S_IREAD</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IRGRP</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IROTH</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IRUSR</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IRWXG</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IRWXO</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IRWXU</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>int S_ISBLK (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_ISCHR (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_ISDIR (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_ISFIFO (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_ISGID</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>int S_ISLNK (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (GNU):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_ISREG (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_ISSOCK (mode_t <var>m</var>)</code>
<dd>
<code>sys/stat.h</code> (GNU):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>S_ISUID</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_ISVTX</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IWGRP</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IWOTH</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IWRITE</code>
<dd>
<code>sys/stat.h</code> (BSD):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IWUSR</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IXGRP</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IXOTH</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>S_IXUSR</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Permission%20Bits">Permission Bits</a>.

<br><dt><code>size_t</code>
<dd>
<code>stddef.h</code> (ISO):  <a href="#Important%20Data%20Types">Important Data Types</a>.

<br><dt><code>unsigned int sleep (unsigned int <var>seconds</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Sleeping">Sleeping</a>.

<br><dt><code>int snprintf (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>SO_BROADCAST</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>int SOCK_DGRAM</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>int socket (int <var>namespace</var>, int <var>style</var>, int <var>protocol</var>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Creating%20a%20Socket">Creating a Socket</a>.

<br><dt><code>int socketpair (int <var>namespace</var>, int <var>style</var>, int <var>protocol</var>, int <var>filedes</var><tt>[2]</tt>)</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket%20Pairs">Socket Pairs</a>.

<br><dt><code>int SOCK_RAW</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>int SOCK_RDM</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>int SOCK_SEQPACKET</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>int SOCK_STREAM</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Communication%20Styles">Communication Styles</a>.

<br><dt><code>SO_DEBUG</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_DONTROUTE</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_ERROR</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_KEEPALIVE</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_LINGER</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>int SOL_SOCKET</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_OOBINLINE</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_RCVBUF</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_REUSEADDR</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_SNDBUF</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_STYLE</code>
<dd>
<code>sys/socket.h</code> (GNU):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>SO_TYPE</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>speed_t</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Speed">Line Speed</a>.

<br><dt><code>int sprintf (char *<var>s</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>double sqrt (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>float sqrtf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>long double sqrtl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>.

<br><dt><code>void srand (unsigned int <var>seed</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#ISO%20Random">ISO Random</a>.

<br><dt><code>void srand48 (long int <var>seedval</var>)</code>
<dd>
<code>stdlib.h</code> (SVID):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>int srand48_r (long int <var>seedval</var>, struct drand48_data *<var>buffer</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#SVID%20Random">SVID Random</a>.

<br><dt><code>void srandom (unsigned int <var>seed</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int srandom_r (unsigned int <var>seed</var>, struct random_data *<var>buf</var>)</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>int sscanf (const char *<var>s</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>sighandler_t ssignal (int <var>signum</var>, sighandler_t <var>action</var>)</code>
<dd>
<code>signal.h</code> (SVID):  <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>int SSIZE_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>ssize_t</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>stack_t</code>
<dd>
<code>signal.h</code> (XPG):  <a href="#Signal%20Stack">Signal Stack</a>.

<br><dt><code>int stat (const char *<var>filename</var>, struct stat *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>int stat64 (const char *<var>filename</var>, struct stat64 *<var>buf</var>)</code>
<dd>
<code>sys/stat.h</code> (Unix98):  <a href="#Reading%20Attributes">Reading Attributes</a>.

<br><dt><code>FILE * stderr</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Standard%20Streams">Standard Streams</a>.

<br><dt><code>STDERR_FILENO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>FILE * stdin</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Standard%20Streams">Standard Streams</a>.

<br><dt><code>STDIN_FILENO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>FILE * stdout</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Standard%20Streams">Standard Streams</a>.

<br><dt><code>STDOUT_FILENO</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>.

<br><dt><code>int stime (time_t *<var>newtime</var>)</code>
<dd>
<code>time.h</code> (SVID, XPG):  <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>.

<br><dt><code>char * stpcpy (char *restrict <var>to</var>, const char *restrict <var>from</var>)</code>
<dd>
<code>string.h</code> (Unknown origin):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>char * stpncpy (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int strcasecmp (const char *<var>s1</var>, const char *<var>s2</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>char * strcasestr (const char *<var>haystack</var>, const char *<var>needle</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strcat (char *restrict <var>to</var>, const char *restrict <var>from</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>char * strchr (const char *<var>string</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strchrnul (const char *<var>string</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>int strcmp (const char *<var>s1</var>, const char *<var>s2</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>int strcoll (const char *<var>s1</var>, const char *<var>s2</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Collation%20Functions">Collation Functions</a>.

<br><dt><code>char * strcpy (char *restrict <var>to</var>, const char *restrict <var>from</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t strcspn (const char *<var>string</var>, const char *<var>stopset</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strdup (const char *<var>s</var>)</code>
<dd>
<code>string.h</code> (SVID):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>char * strdupa (const char *<var>s</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int STREAM_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>char * strerror (int <var>errnum</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>char * strerror_r (int <var>errnum</var>, char *<var>buf</var>, size_t <var>n</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>char * strfry (char *<var>string</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#strfry">strfry</a>.

<br><dt><code>size_t strftime (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, const struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>size_t strlen (const char *<var>s</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#String%20Length">String Length</a>.

<br><dt><code>int strncasecmp (const char *<var>s1</var>, const char *<var>s2</var>, size_t <var>n</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>char * strncat (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int strncmp (const char *<var>s1</var>, const char *<var>s2</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>char * strncpy (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>char * strndup (const char *<var>s</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>char * strndupa (const char *<var>s</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t strnlen (const char *<var>s</var>, size_t <var>maxlen</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#String%20Length">String Length</a>.

<br><dt><code>char * strpbrk (const char *<var>string</var>, const char *<var>stopset</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strptime (const char *<var>s</var>, const char *<var>fmt</var>, struct tm *<var>tp</var>)</code>
<dd>
<code>time.h</code> (XPG4):  <a href="#Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>.

<br><dt><code>char * strrchr (const char *<var>string</var>, int <var>c</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strsep (char **<var>string_ptr</var>, const char *<var>delimiter</var>)</code>
<dd>
<code>string.h</code> (BSD):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>char * strsignal (int <var>signum</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#Signal%20Messages">Signal Messages</a>.

<br><dt><code>size_t strspn (const char *<var>string</var>, const char *<var>skipset</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>char * strstr (const char *<var>haystack</var>, const char *<var>needle</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>double strtod (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>float strtof (const char *<var>string</var>, char **<var>tailptr</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>intmax_t strtoimax (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>inttypes.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>char * strtok (char *restrict <var>newstring</var>, const char *restrict <var>delimiters</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>char * strtok_r (char *<var>newstring</var>, const char *<var>delimiters</var>, char **<var>save_ptr</var>)</code>
<dd>
<code>string.h</code> (POSIX):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>long int strtol (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>long double strtold (const char *<var>string</var>, char **<var>tailptr</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>long long int strtoll (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>long long int strtoq (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long int strtoul (const char *retrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long long int strtoull (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>uintmax_t strtoumax (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>inttypes.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long long int strtouq (const char *restrict <var>string</var>, char **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>struct aiocb</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>.

<br><dt><code>struct aiocb64</code>
<dd>
<code>aio.h</code> (POSIX.1b):  <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>.

<br><dt><code>struct aioinit</code>
<dd>
<code>aio.h</code> (GNU):  <a href="#Configuration%20of%20AIO">Configuration of AIO</a>.

<br><dt><code>struct argp</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Parsers">Argp Parsers</a>.

<br><dt><code>struct argp_child</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Children">Argp Children</a>.

<br><dt><code>struct argp_option</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>.

<br><dt><code>struct argp_state</code>
<dd>
<code>argp.h</code> (GNU):  <a href="#Argp%20Parsing%20State">Argp Parsing State</a>.

<br><dt><code>struct dirent</code>
<dd>
<code>dirent.h</code> (POSIX.1):  <a href="#Directory%20Entries">Directory Entries</a>.

<br><dt><code>struct exit_status</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>struct flock</code>
<dd>
<code>fcntl.h</code> (POSIX.1):  <a href="#File%20Locks">File Locks</a>.

<br><dt><code>struct fstab</code>
<dd>
<code>fstab.h</code> (BSD):  <a href="#fstab">fstab</a>.

<br><dt><code>struct FTW</code>
<dd>
<code>ftw.h</code> (XPG4.2):  <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>.

<br><dt><code>struct __gconv_step</code>
<dd>
<code>gconv.h</code> (GNU):  <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>.

<br><dt><code>struct __gconv_step_data</code>
<dd>
<code>gconv.h</code> (GNU):  <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>.

<br><dt><code>struct group</code>
<dd>
<code>grp.h</code> (POSIX.1):  <a href="#Group%20Data%20Structure">Group Data Structure</a>.

<br><dt><code>struct hostent</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>struct if_nameindex</code>
<dd>
<code>net/if.h</code> (IPv6 basic API):  <a href="#Interface%20Naming">Interface Naming</a>.

<br><dt><code>struct in6_addr</code>
<dd>
<code>netinet/in.h</code> (IPv6 basic API):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>struct in_addr</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>.

<br><dt><code>struct iovec</code>
<dd>
<code>sys/uio.h</code> (BSD):  <a href="#Scatter-Gather">Scatter-Gather</a>.

<br><dt><code>struct itimerval</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Setting%20an%20Alarm">Setting an Alarm</a>.

<br><dt><code>struct lconv</code>
<dd>
<code>locale.h</code> (ISO):  <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>.

<br><dt><code>struct linger</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Socket-Level%20Options">Socket-Level Options</a>.

<br><dt><code>struct mallinfo</code>
<dd>
<code>malloc.h</code> (GNU):  <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>.

<br><dt><code>struct mntent</code>
<dd>
<code>mntent.h</code> (BSD):  <a href="#mtab">mtab</a>.

<br><dt><code>struct msghdr</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Receiving%20Datagrams">Receiving Datagrams</a>.

<br><dt><code>struct netent</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Networks%20Database">Networks Database</a>.

<br><dt><code>struct obstack</code>
<dd>
<code>obstack.h</code> (GNU):  <a href="#Creating%20Obstacks">Creating Obstacks</a>.

<br><dt><code>struct option</code>
<dd>
<code>getopt.h</code> (GNU):  <a href="#Getopt%20Long%20Options">Getopt Long Options</a>.

<br><dt><code>struct passwd</code>
<dd>
<code>pwd.h</code> (POSIX.1):  <a href="#User%20Data%20Structure">User Data Structure</a>.

<br><dt><code>struct printf_info</code>
<dd>
<code>printf.h</code> (GNU):  <a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>.

<br><dt><code>struct protoent</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Protocols%20Database">Protocols Database</a>.

<br><dt><code>struct random_data</code>
<dd>
<code>stdlib.h</code> (GNU):  <a href="#BSD%20Random">BSD Random</a>.

<br><dt><code>struct rlimit</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>struct rlimit64</code>
<dd>
<code>sys/resource.h</code> (Unix98):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>struct rusage</code>
<dd>
<code>sys/resource.h</code> (BSD):  <a href="#Resource%20Usage">Resource Usage</a>.

<br><dt><code>struct sched_param</code>
<dd>
<code>sched.h</code> (POSIX):  <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>.

<br><dt><code>struct servent</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Services%20Database">Services Database</a>.

<br><dt><code>struct sgttyb</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>.

<br><dt><code>struct sigaction</code>
<dd>
<code>signal.h</code> (POSIX.1):  <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>.

<br><dt><code>struct sigstack</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#Signal%20Stack">Signal Stack</a>.

<br><dt><code>struct sigvec</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>struct sockaddr</code>
<dd>
<code>sys/socket.h</code> (BSD):  <a href="#Address%20Formats">Address Formats</a>.

<br><dt><code>struct sockaddr_in</code>
<dd>
<code>netinet/in.h</code> (BSD):  <a href="#Internet%20Address%20Formats">Internet Address Formats</a>.

<br><dt><code>struct sockaddr_un</code>
<dd>
<code>sys/un.h</code> (BSD):  <a href="#Local%20Namespace%20Details">Local Namespace Details</a>.

<br><dt><code>struct stat</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>struct stat64</code>
<dd>
<code>sys/stat.h</code> (LFS):  <a href="#Attribute%20Meanings">Attribute Meanings</a>.

<br><dt><code>struct termios</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Data%20Types">Mode Data Types</a>.

<br><dt><code>struct timespec</code>
<dd>
<code>sys/time.h</code> (POSIX.1):  <a href="#Elapsed%20Time">Elapsed Time</a>.

<br><dt><code>struct timeval</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#Elapsed%20Time">Elapsed Time</a>.

<br><dt><code>struct timezone</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>.

<br><dt><code>struct tm</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>struct tms</code>
<dd>
<code>sys/times.h</code> (POSIX.1):  <a href="#Processor%20Time">Processor Time</a>.

<br><dt><code>struct utimbuf</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#File%20Times">File Times</a>.

<br><dt><code>struct utsname</code>
<dd>
<code>sys/utsname.h</code> (POSIX.1):  <a href="#Platform%20Type">Platform Type</a>.

<br><dt><code>int strverscmp (const char *<var>s1</var>, const char *<var>s2</var>)</code>
<dd>
<code>string.h</code> (GNU):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>size_t strxfrm (char *restrict <var>to</var>, const char *restrict <var>from</var>, size_t <var>size</var>)</code>
<dd>
<code>string.h</code> (ISO):  <a href="#Collation%20Functions">Collation Functions</a>.

<br><dt><code>int stty (int <var>filedes</var>, struct sgttyb * attributes)</code>
<dd>
<code>sgtty.h</code> (BSD):  <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>.

<br><dt><code>int S_TYPEISMQ (struct stat *<var>s</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_TYPEISSEM (struct stat *<var>s</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int S_TYPEISSHM (struct stat *<var>s</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX):  <a href="#Testing%20File%20Type">Testing File Type</a>.

<br><dt><code>int SUN_LEN (<em>struct sockaddr_un *</em> <var>ptr</var>)</code>
<dd>
<code>sys/un.h</code> (BSD):  <a href="#Local%20Namespace%20Details">Local Namespace Details</a>.

<br><dt><code>_SVID_SOURCE</code>
<dd>
(GNU):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>int SV_INTERRUPT</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>int SV_ONSTACK</code>
<dd>
<code>signal.h</code> (BSD):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>int SV_RESETHAND</code>
<dd>
<code>signal.h</code> (Sun):  <a href="#BSD%20Handler">BSD Handler</a>.

<br><dt><code>int swapcontext (ucontext_t *restrict <var>oucp</var>, const ucontext_t *restrict <var>ucp</var>)</code>
<dd>
<code>ucontext.h</code> (SVID):  <a href="#System%20V%20contexts">System V contexts</a>.

<br><dt><code>int swprintf (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>int swscanf (const wchar_t *<var>ws</var>, const char *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>int symlink (const char *<var>oldname</var>, const char *<var>newname</var>)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Symbolic%20Links">Symbolic Links</a>.

<br><dt><code>SYMLINK_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#File%20Minimums">File Minimums</a>.

<br><dt><code>int sync (void)</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>.

<br><dt><code>long int syscall (long int <var>sysno</var>, ...)</code>
<dd>
<code>unistd.h</code> (???):  <a href="#System%20Calls">System Calls</a>.

<br><dt><code>long int sysconf (int <var>parameter</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Sysconf%20Definition">Sysconf Definition</a>.

<br><dt><code>int sysctl (int *<var>names</var>, int <var>nlen</var>, void *<var>oldval</var>,</code>
<dd>
<code>sysctl.h</code> (BSD):  <a href="#System%20Parameters">System Parameters</a>.

<br><dt><code>void syslog (int <var>facility_priority</var>, char *<var>format</var>, ...)</code>
<dd>
<code>syslog.h</code> (BSD):  <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>.

<br><dt><code>int system (const char *<var>command</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Running%20a%20Command">Running a Command</a>.

<br><dt><code>sighandler_t sysv_signal (int <var>signum</var>, sighandler_t <var>action</var>)</code>
<dd>
<code>signal.h</code> (GNU):  <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>.

<br><dt><code>double tan (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>float tanf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>double tanh (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>float tanhf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double tanhl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>.

<br><dt><code>long double tanl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Trig%20Functions">Trig Functions</a>.

<br><dt><code>int tcdrain (int <var>filedes</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Control">Line Control</a>.

<br><dt><code>tcflag_t</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Data%20Types">Mode Data Types</a>.

<br><dt><code>int tcflow (int <var>filedes</var>, int <var>action</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Control">Line Control</a>.

<br><dt><code>int tcflush (int <var>filedes</var>, int <var>queue</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Control">Line Control</a>.

<br><dt><code>int tcgetattr (int <var>filedes</var>, struct termios *<var>termios-p</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>pid_t tcgetpgrp (int <var>filedes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>.

<br><dt><code>pid_t tcgetsid (int <var>fildes</var>)</code>
<dd>
<code>termios.h</code> (Unix98):  <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>.

<br><dt><code>TCSADRAIN</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>TCSAFLUSH</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>TCSANOW</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>TCSASOFT</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>int tcsendbreak (int <var>filedes</var>, int <var>duration</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Line%20Control">Line Control</a>.

<br><dt><code>int tcsetattr (int <var>filedes</var>, int <var>when</var>, const struct termios *<var>termios-p</var>)</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Mode%20Functions">Mode Functions</a>.

<br><dt><code>int tcsetpgrp (int <var>filedes</var>, pid_t <var>pgid</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>.

<br><dt><code>void * tdelete (const void *<var>key</var>, void **<var>rootp</var>, comparison_fn_t <var>compar</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Tree%20Search%20Function">Tree Search Function</a>.

<br><dt><code>void tdestroy (void *<var>vroot</var>, __free_fn_t <var>freefct</var>)</code>
<dd>
<code>search.h</code> (GNU):  <a href="#Tree%20Search%20Function">Tree Search Function</a>.

<br><dt><code>off_t telldir (DIR *<var>dirstream</var>)</code>
<dd>
<code>dirent.h</code> (BSD):  <a href="#Random%20Access%20Directory">Random Access Directory</a>.

<br><dt><code>TEMP_FAILURE_RETRY (<var>expression</var>)</code>
<dd>
<code>unistd.h</code> (GNU):  <a href="#Interrupted%20Primitives">Interrupted Primitives</a>.

<br><dt><code>char * tempnam (const char *<var>dir</var>, const char *<var>prefix</var>)</code>
<dd>
<code>stdio.h</code> (SVID):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>char * textdomain (const char *<var>domainname</var>)</code>
<dd>
<code>libintl.h</code> (GNU):  <a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>.

<br><dt><code>void * tfind (const void *<var>key</var>, void *const *<var>rootp</var>, comparison_fn_t <var>compar</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Tree%20Search%20Function">Tree Search Function</a>.

<br><dt><code>double tgamma (double <var>x</var>)</code>
<dd>
<code>math.h</code> (XPG, ISO):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float tgammaf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (XPG, ISO):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double tgammal (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (XPG, ISO):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>time_t time (time_t *<var>result</var>)</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>.

<br><dt><code>time_t timegm (struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (???):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>time_t timelocal (struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (???):  <a href="#Broken-down%20Time">Broken-down Time</a>.

<br><dt><code>clock_t times (struct tms *<var>buffer</var>)</code>
<dd>
<code>sys/times.h</code> (POSIX.1):  <a href="#Processor%20Time">Processor Time</a>.

<br><dt><code>time_t</code>
<dd>
<code>time.h</code> (ISO):  <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>.

<br><dt><code>long int timezone</code>
<dd>
<code>time.h</code> (SVID):  <a href="#Time%20Zone%20Functions">Time Zone Functions</a>.

<br><dt><code>FILE * tmpfile (void)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>FILE * tmpfile64 (void)</code>
<dd>
<code>stdio.h</code> (Unix98):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>int TMP_MAX</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>char * tmpnam (char *<var>result</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>char * tmpnam_r (char *<var>result</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Temporary%20Files">Temporary Files</a>.

<br><dt><code>int toascii (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (SVID, BSD):  <a href="#Case%20Conversion">Case Conversion</a>.

<br><dt><code>int _tolower (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (SVID):  <a href="#Case%20Conversion">Case Conversion</a>.

<br><dt><code>int tolower (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Case%20Conversion">Case Conversion</a>.

<br><dt><code>tcflag_t TOSTOP</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Local%20Modes">Local Modes</a>.

<br><dt><code>int _toupper (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (SVID):  <a href="#Case%20Conversion">Case Conversion</a>.

<br><dt><code>int toupper (int <var>c</var>)</code>
<dd>
<code>ctype.h</code> (ISO):  <a href="#Case%20Conversion">Case Conversion</a>.

<br><dt><code>wint_t towctrans (wint_t <var>wc</var>, wctrans_t <var>desc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>.

<br><dt><code>wint_t towlower (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>.

<br><dt><code>wint_t towupper (wint_t <var>wc</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>.

<br><dt><code>double trunc (double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>int truncate (const char *<var>filename</var>, off_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (X/Open):  <a href="#File%20Size">File Size</a>.

<br><dt><code>int truncate64 (const char *<var>name</var>, off64_t <var>length</var>)</code>
<dd>
<code>unistd.h</code> (Unix98):  <a href="#File%20Size">File Size</a>.

<br><dt><code>float truncf (float <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>long double truncl (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (ISO):  <a href="#Rounding%20Functions">Rounding Functions</a>.

<br><dt><code>TRY_AGAIN</code>
<dd>
<code>netdb.h</code> (BSD):  <a href="#Host%20Names">Host Names</a>.

<br><dt><code>void * tsearch (const void *<var>key</var>, void **<var>rootp</var>, comparison_fn_t <var>compar</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Tree%20Search%20Function">Tree Search Function</a>.

<br><dt><code>char * ttyname (int <var>filedes</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>.

<br><dt><code>int ttyname_r (int <var>filedes</var>, char *<var>buf</var>, size_t <var>len</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>.

<br><dt><code>void twalk (const void *<var>root</var>, __action_fn_t <var>action</var>)</code>
<dd>
<code>search.h</code> (SVID):  <a href="#Tree%20Search%20Function">Tree Search Function</a>.

<br><dt><code>char * tzname [2]</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#Time%20Zone%20Functions">Time Zone Functions</a>.

<br><dt><code>int TZNAME_MAX</code>
<dd>
<code>limits.h</code> (POSIX.1):  <a href="#General%20Limits">General Limits</a>.

<br><dt><code>void tzset (void)</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#Time%20Zone%20Functions">Time Zone Functions</a>.

<br><dt><code>UCHAR_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>ucontext_t</code>
<dd>
<code>ucontext.h</code> (SVID):  <a href="#System%20V%20contexts">System V contexts</a>.

<br><dt><code>uid_t</code>
<dd>
<code>sys/types.h</code> (POSIX.1):  <a href="#Reading%20Persona">Reading Persona</a>.

<br><dt><code>UINT_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int ulimit (int <var>cmd</var>, ...)</code>
<dd>
<code>ulimit.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>ULONG_LONG_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>ULONG_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>mode_t umask (mode_t <var>mask</var>)</code>
<dd>
<code>sys/stat.h</code> (POSIX.1):  <a href="#Setting%20Permissions">Setting Permissions</a>.

<br><dt><code>int umount (const char *<var>file</var>)</code>
<dd>
<code>sys/mount.h</code> (SVID, GNU):  <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>.

<br><dt><code>int umount2 (const char *<var>file</var>, int <var>flags</var>)</code>
<dd>
<code>sys/mount.h</code> (GNU):  <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>.

<br><dt><code>int uname (struct utsname *<var>info</var>)</code>
<dd>
<code>sys/utsname.h</code> (POSIX.1):  <a href="#Platform%20Type">Platform Type</a>.

<br><dt><code>int ungetc (int <var>c</var>, FILE *<var>stream</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#How%20Unread">How Unread</a>.

<br><dt><code>wint_t ungetwc (wint_t <var>wc</var>, FILE *<var>stream</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#How%20Unread">How Unread</a>.

<br><dt><code>union wait</code>
<dd>
<code>sys/wait.h</code> (BSD):  <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>.

<br><dt><code>int unlink (const char *<var>filename</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Deleting%20Files">Deleting Files</a>.

<br><dt><code>int unlockpt (int <var>filedes</var>)</code>
<dd>
<code>stdlib.h</code> (SVID, XPG4.2):  <a href="#Allocation">Allocation</a>.

<br><dt><code>int unsetenv (const char *<var>name</var>)</code>
<dd>
<code>stdlib.h</code> (BSD):  <a href="#Environment%20Access">Environment Access</a>.

<br><dt><code>void updwtmp (const char *<var>wtmp_file</var>, const struct utmp *<var>utmp</var>)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>USER_PROCESS</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>USER_PROCESS</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>USHRT_MAX</code>
<dd>
<code>limits.h</code> (ISO):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>int utime (const char *<var>filename</var>, const struct utimbuf *<var>times</var>)</code>
<dd>
<code>time.h</code> (POSIX.1):  <a href="#File%20Times">File Times</a>.

<br><dt><code>int utimes (const char *<var>filename</var>, struct timeval <var>tvp</var><tt>[2]</tt>)</code>
<dd>
<code>sys/time.h</code> (BSD):  <a href="#File%20Times">File Times</a>.

<br><dt><code>int utmpname (const char *<var>file</var>)</code>
<dd>
<code>utmp.h</code> (SVID):  <a href="#Manipulating%20the%20Database">Manipulating the Database</a>.

<br><dt><code>int utmpxname (const char *<var>file</var>)</code>
<dd>
<code>utmpx.h</code> (XPG4.2):  <a href="#XPG%20Functions">XPG Functions</a>.

<br><dt><code>va_alist</code>
<dd>
<code>varargs.h</code> (Unix):  <a href="#Old%20Varargs">Old Varargs</a>.

<br><dt><code><var>type</var> va_arg (va_list <var>ap</var>, <var>type</var>)</code>
<dd>
<code>stdarg.h</code> (ISO):  <a href="#Argument%20Macros">Argument Macros</a>.

<br><dt><code>void __va_copy (va_list <var>dest</var>, va_list <var>src</var>)</code>
<dd>
<code>stdarg.h</code> (GNU):  <a href="#Argument%20Macros">Argument Macros</a>.

<br><dt><code>va_dcl</code>
<dd>
<code>varargs.h</code> (Unix):  <a href="#Old%20Varargs">Old Varargs</a>.

<br><dt><code>void va_end (va_list <var>ap</var>)</code>
<dd>
<code>stdarg.h</code> (ISO):  <a href="#Argument%20Macros">Argument Macros</a>.

<br><dt><code>va_list</code>
<dd>
<code>stdarg.h</code> (ISO):  <a href="#Argument%20Macros">Argument Macros</a>.

<br><dt><code>void * valloc (size_t <var>size</var>)</code>
<dd>
<code>malloc.h</code>, <code>stdlib.h</code> (BSD):  <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>.

<br><dt><code>int vasprintf (char **<var>ptr</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>void va_start (va_list <var>ap</var>)</code>
<dd>
<code>varargs.h</code> (Unix):  <a href="#Old%20Varargs">Old Varargs</a>.

<br><dt><code>void va_start (va_list <var>ap</var>, <var>last-required</var>)</code>
<dd>
<code>stdarg.h</code> (ISO):  <a href="#Argument%20Macros">Argument Macros</a>.

<br><dt><code>int VDISCARD</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Other%20Special">Other Special</a>.

<br><dt><code>int VDSUSP</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Signal%20Characters">Signal Characters</a>.

<br><dt><code>int VEOF</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int VEOL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int VEOL2</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int VERASE</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>void verr (int <var>status</var>, const char *<var>format</var>, va_list)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void verrx (int <var>status</var>, const char *<var>format</var>, va_list)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>int versionsort (const void *<var>a</var>, const void *<var>b</var>)</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>int versionsort64 (const void *<var>a</var>, const void *<var>b</var>)</code>
<dd>
<code>dirent.h</code> (GNU):  <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>.

<br><dt><code>pid_t vfork (void)</code>
<dd>
<code>unistd.h</code> (BSD):  <a href="#Creating%20a%20Process">Creating a Process</a>.

<br><dt><code>int vfprintf (FILE *<var>stream</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vfscanf (FILE *<var>stream</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>int vfwprintf (FILE *<var>stream</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vfwscanf (FILE *<var>stream</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>int VINTR</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Signal%20Characters">Signal Characters</a>.

<br><dt><code>int VKILL</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int vlimit (int <var>resource</var>, int <var>limit</var>)</code>
<dd>
<code>sys/vlimit.h</code> (BSD):  <a href="#Limits%20on%20Resources">Limits on Resources</a>.

<br><dt><code>int VLNEXT</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Other%20Special">Other Special</a>.

<br><dt><code>int VMIN</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Noncanonical%20Input">Noncanonical Input</a>.

<br><dt><code>int vprintf (const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int VQUIT</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Signal%20Characters">Signal Characters</a>.

<br><dt><code>int VREPRINT</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int vscanf (const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>int vsnprintf (char *<var>s</var>, size_t <var>size</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (GNU):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vsprintf (char *<var>s</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vsscanf (const char *<var>s</var>, const char *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>stdio.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>int VSTART</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>.

<br><dt><code>int VSTATUS</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Other%20Special">Other Special</a>.

<br><dt><code>int VSTOP</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>.

<br><dt><code>int VSUSP</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Signal%20Characters">Signal Characters</a>.

<br><dt><code>int vswprintf (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vswscanf (const wchar_t *<var>s</var>, const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>void vsyslog (int <var>facility_priority</var>, char *<var>format</var>, va_list arglist)</code>
<dd>
<code>syslog.h</code> (BSD):  <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>.

<br><dt><code>int VTIME</code>
<dd>
<code>termios.h</code> (POSIX.1):  <a href="#Noncanonical%20Input">Noncanonical Input</a>.

<br><dt><code>int vtimes (struct vtimes <var>current</var>, struct vtimes <var>child</var>)</code>
<dd>
<code>vtimes.h</code> (vtimes.h):  <a href="#Resource%20Usage">Resource Usage</a>.

<br><dt><code>void vwarn (const char *<var>format</var>, va_list)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void vwarnx (const char *<var>format</var>, va_list)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>int VWERASE</code>
<dd>
<code>termios.h</code> (BSD):  <a href="#Editing%20Characters">Editing Characters</a>.

<br><dt><code>int vwprintf (const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>.

<br><dt><code>int vwscanf (const wchar_t *<var>template</var>, va_list <var>ap</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>.

<br><dt><code>pid_t wait (int *<var>status-ptr</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion">Process Completion</a>.

<br><dt><code>pid_t wait3 (union wait *<var>status-ptr</var>, int <var>options</var>, struct rusage *<var>usage</var>)</code>
<dd>
<code>sys/wait.h</code> (BSD):  <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>.

<br><dt><code>pid_t wait4 (pid_t <var>pid</var>, int *<var>status-ptr</var>, int <var>options</var>, struct rusage *<var>usage</var>)</code>
<dd>
<code>sys/wait.h</code> (BSD):  <a href="#Process%20Completion">Process Completion</a>.

<br><dt><code>pid_t waitpid (pid_t <var>pid</var>, int *<var>status-ptr</var>, int <var>options</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion">Process Completion</a>.

<br><dt><code>void warn (const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>void warnx (const char *<var>format</var>, <small>...</small>)</code>
<dd>
<code>err.h</code> (BSD):  <a href="#Error%20Messages">Error Messages</a>.

<br><dt><code>WCHAR_MAX</code>
<dd>
<code>limits.h</code> (GNU):  <a href="#Range%20of%20Type">Range of Type</a>.

<br><dt><code>wint_t WCHAR_MAX</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Extended%20Char%20Intro">Extended Char Intro</a>.

<br><dt><code>wint_t WCHAR_MIN</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Extended%20Char%20Intro">Extended Char Intro</a>.

<br><dt><code>wchar_t</code>
<dd>
<code>stddef.h</code> (ISO):  <a href="#Extended%20Char%20Intro">Extended Char Intro</a>.

<br><dt><code>int WCOREDUMP (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (BSD):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>wchar_t * wcpcpy (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>wchar_t * wcpncpy (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t wcrtomb (char *restrict <var>s</var>, wchar_t <var>wc</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20a%20Character">Converting a Character</a>.

<br><dt><code>int wcscasecmp (const wchar_t *<var>ws1</var>, const wchar_T *<var>ws2</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>wchar_t * wcscat (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>wchar_t * wcschr (const wchar_t *<var>wstring</var>, int <var>wc</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>wchar_t * wcschrnul (const wchar_t *<var>wstring</var>, wchar_t <var>wc</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>int wcscmp (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>int wcscoll (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Collation%20Functions">Collation Functions</a>.

<br><dt><code>wchar_t * wcscpy (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t wcscspn (const wchar_t *<var>wstring</var>, const wchar_t *<var>stopset</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>wchar_t * wcsdup (const wchar_t *<var>ws</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t wcsftime (wchar_t *<var>s</var>, size_t <var>size</var>, const wchar_t *<var>template</var>, const struct tm *<var>brokentime</var>)</code>
<dd>
<code>time.h</code> (ISO/Amend1):  <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>.

<br><dt><code>size_t wcslen (const wchar_t *<var>ws</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#String%20Length">String Length</a>.

<br><dt><code>int wcsncasecmp (const wchar_t *<var>ws1</var>, const wchar_t *<var>s2</var>, size_t <var>n</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>wchar_t * wcsncat (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int wcsncmp (const wchar_t *<var>ws1</var>, const wchar_t *<var>ws2</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>wchar_t * wcsncpy (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>size_t wcsnlen (const wchar_t *<var>ws</var>, size_t <var>maxlen</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#String%20Length">String Length</a>.

<br><dt><code>size_t wcsnrtombs (char *restrict <var>dst</var>, const wchar_t **restrict <var>src</var>, size_t <var>nwc</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Converting%20Strings">Converting Strings</a>.

<br><dt><code>wchar_t * wcspbrk (const wchar_t *<var>wstring</var>, const wchar_t *<var>stopset</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>wchar_t * wcsrchr (const wchar_t *<var>wstring</var>, wchar_t <var>c</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>size_t wcsrtombs (char *restrict <var>dst</var>, const wchar_t **restrict <var>src</var>, size_t <var>len</var>, mbstate_t *restrict <var>ps</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20Strings">Converting Strings</a>.

<br><dt><code>size_t wcsspn (const wchar_t *<var>wstring</var>, const wchar_t *<var>skipset</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>wchar_t * wcsstr (const wchar_t *<var>haystack</var>, const wchar_t *<var>needle</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>double wcstod (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>float wcstof (const wchar_t *<var>string</var>, wchar_t **<var>tailptr</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>intmax_t wcstoimax (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>wchar_t * wcstok (wchar_t *<var>newstring</var>, const char *<var>delimiters</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>.

<br><dt><code>long int wcstol (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>long double wcstold (const wchar_t *<var>string</var>, wchar_t **<var>tailptr</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Parsing%20of%20Floats">Parsing of Floats</a>.

<br><dt><code>long long int wcstoll (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>size_t wcstombs (char *<var>string</var>, const wchar_t *<var>wstring</var>, size_t <var>size</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>.

<br><dt><code>long long int wcstoq (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long int wcstoul (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long long int wcstoull (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>uintmax_t wcstoumax (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>unsigned long long int wcstouq (const wchar_t *restrict <var>string</var>, wchar_t **restrict <var>tailptr</var>, int <var>base</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Parsing%20of%20Integers">Parsing of Integers</a>.

<br><dt><code>wchar_t * wcswcs (const wchar_t *<var>haystack</var>, const wchar_t *<var>needle</var>)</code>
<dd>
<code>wchar.h</code> (XPG):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>size_t wcsxfrm (wchar_t *restrict <var>wto</var>, const wchar_t *<var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Collation%20Functions">Collation Functions</a>.

<br><dt><code>int wctob (wint_t <var>c</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Converting%20a%20Character">Converting a Character</a>.

<br><dt><code>int wctomb (char *<var>string</var>, wchar_t <var>wchar</var>)</code>
<dd>
<code>stdlib.h</code> (ISO):  <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>.

<br><dt><code>wctrans_t wctrans (const char *<var>property</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>.

<br><dt><code>wctrans_t</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>.

<br><dt><code>wctype_t wctype (const char *<var>property</var>)</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>wctype_t</code>
<dd>
<code>wctype.h</code> (ISO):  <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>.

<br><dt><code>int WEOF</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#EOF%20and%20Errors">EOF and Errors</a>.

<br><dt><code>wint_t WEOF</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Extended%20Char%20Intro">Extended Char Intro</a>.

<br><dt><code>int WEXITSTATUS (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>int WIFEXITED (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>int WIFSIGNALED (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>int WIFSTOPPED (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>wint_t</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Extended%20Char%20Intro">Extended Char Intro</a>.

<br><dt><code>wchar_t * wmemchr (const wchar_t *<var>block</var>, wchar_t <var>wc</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Search%20Functions">Search Functions</a>.

<br><dt><code>int wmemcmp (const wchar_t *<var>a1</var>, const wchar_t *<var>a2</var>, size_t <var>size</var>)</code>
<dd>
<code>wcjar.h</code> (ISO):  <a href="#String%2fArray%20Comparison">String/Array Comparison</a>.

<br><dt><code>wchar_t * wmemcpy (wchar_t *restrict <var>wto</var>, const wchar_t *restruct <var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>wchar_t * wmemmove (wchar *<var>wto</var>, const wchar_t *<var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>wchar_t * wmempcpy (wchar_t *restrict <var>wto</var>, const wchar_t *restrict <var>wfrom</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (GNU):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>wchar_t * wmemset (wchar_t *<var>block</var>, wchar_t <var>wc</var>, size_t <var>size</var>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>.

<br><dt><code>int W_OK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Testing%20File%20Access">Testing File Access</a>.

<br><dt><code>int wordexp (const char *<var>words</var>, wordexp_t *<var>word-vector-ptr</var>, int <var>flags</var>)</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>wordexp_t</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>void wordfree (wordexp_t *<var>word-vector-ptr</var>)</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>int wprintf (const wchar_t *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>.

<br><dt><code>WRDE_APPEND</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>WRDE_BADCHAR</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>WRDE_BADVAL</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>WRDE_CMDSUB</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>WRDE_DOOFFS</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>WRDE_NOCMD</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>WRDE_NOSPACE</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>WRDE_REUSE</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>WRDE_SHOWERR</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>WRDE_SYNTAX</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Calling%20Wordexp">Calling Wordexp</a>.

<br><dt><code>WRDE_UNDEF</code>
<dd>
<code>wordexp.h</code> (POSIX.2):  <a href="#Flags%20for%20Wordexp">Flags for Wordexp</a>.

<br><dt><code>ssize_t write (int <var>filedes</var>, const void *<var>buffer</var>, size_t <var>size</var>)</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#I%2fO%20Primitives">I/O Primitives</a>.

<br><dt><code>ssize_t writev (int <var>filedes</var>, const struct iovec *<var>vector</var>, int <var>count</var>)</code>
<dd>
<code>sys/uio.h</code> (BSD):  <a href="#Scatter-Gather">Scatter-Gather</a>.

<br><dt><code>int wscanf (const wchar_t *<var>template</var>, <small>...</small>)</code>
<dd>
<code>wchar.h</code> (ISO):  <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>.

<br><dt><code>int WSTOPSIG (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>int WTERMSIG (int <var>status</var>)</code>
<dd>
<code>sys/wait.h</code> (POSIX.1):  <a href="#Process%20Completion%20Status">Process Completion Status</a>.

<br><dt><code>int X_OK</code>
<dd>
<code>unistd.h</code> (POSIX.1):  <a href="#Testing%20File%20Access">Testing File Access</a>.

<br><dt><code>_XOPEN_SOURCE</code>
<dd>
(X/Open):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>_XOPEN_SOURCE_EXTENDED</code>
<dd>
(X/Open):  <a href="#Feature%20Test%20Macros">Feature Test Macros</a>.

<br><dt><code>double y0 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float y0f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double y0l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>double y1 (double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float y1f (float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double y1l (long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>double yn (int n, double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>float ynf (int n, float <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

<br><dt><code>long double ynl (int n, long double <var>x</var>)</code>
<dd>
<code>math.h</code> (SVID):  <a href="#Special%20Functions">Special Functions</a>.

</dl>

<p><hr>
Node:<a name="Installation">Installation</a>,
Next:<a rel=next accesskey=n href="#Maintenance">Maintenance</a>,
Previous:<a rel=previous accesskey=p href="#Library%20Summary">Library Summary</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Installing the GNU C Library</h2>

<p>Before you do anything else, you should read the file <code>FAQ</code> found
at the top level of the source tree.  This file answers common questions
and describes problems you may experience with compilation and
installation.  It is updated more frequently than this manual.

<p>Features can be added to GNU Libc via <dfn>add-on</dfn> bundles.  These are
separate tarfiles which you unpack into the top level of the source
tree.  Then you give <code>configure</code> the <code>--enable-add-ons</code> option
to activate them, and they will be compiled into the library.  As of the
2.2 release, one important component of glibc is distributed as
"official" add-ons: the linuxthreads add-on.  Unless you are doing an
unusual installation, you should get this.

<p>Support for POSIX threads is maintained by someone else, so it's in a
separate package.  It is only available for Linux systems, but this will
change in the future.  Get it from the same place you got the main
bundle; the file is <code>glibc-linuxthreads-<var>VERSION</var>.tar.gz</code>.

<p>You will need recent versions of several GNU tools: definitely GCC and
GNU Make, and possibly others.  See <a href="#Tools%20for%20Compilation">Tools for Compilation</a>, below.

<ul>
<li><a accesskey=1 href="#Configuring%20and%20compiling">Configuring and compiling</a>:    How to compile and test GNU libc. 
<li><a accesskey=2 href="#Running%20make%20install">Running make install</a>:         How to install it once you've got it compiled. 
<li><a accesskey=3 href="#Tools%20for%20Compilation">Tools for Compilation</a>:        You'll need these first. 
<li><a accesskey=4 href="#Supported%20Configurations">Supported Configurations</a>:     What it runs on, what it doesn't. 
<li><a accesskey=5 href="#Linux">Linux</a>:                        Specific advice for Linux systems. 
<li><a accesskey=6 href="#Reporting%20Bugs">Reporting Bugs</a>:               So they'll get fixed. 
</ul>

<p><hr>
Node:<a name="Configuring%20and%20compiling">Configuring and compiling</a>,
Next:<a rel=next accesskey=n href="#Running%20make%20install">Running make install</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Configuring and compiling GNU Libc</h3>

<p>GNU libc can be compiled in the source directory, but we strongly advise to
build it in a separate build directory.  For example, if you have unpacked
the glibc sources in <code>/src/gnu/glibc-2.2.0</code>, create a directory
<code>/src/gnu/glibc-build</code> to put the object files in.  This allows
removing the whole build directory in case an error occurs, which is the
safest way to get a fresh start and should always be done.

<p>From your object directory, run the shell script <code>configure</code> found
at the top level of the source tree.  In the scenario above, you'd type

<br><pre>$ ../glibc-2.2.0/configure <var>args...</var>
</pre>

<p>Please note that even if you're building in a separate build directory,
the compilation needs to modify a few files in the source
directory, especially some files in the manual subdirectory.

<p><code>configure</code> takes many options, but you can get away with knowing
only two: <code>--prefix</code> and <code>--enable-add-ons</code>.  The
<code>--prefix</code> option tells configure where you want glibc installed. 
This defaults to <code>/usr/local</code>.  The <code>--enable-add-ons</code> option
tells configure to use all the add-on bundles it finds in the source
directory.  Since important functionality is provided in add-ons, you
should always specify this option.

<p>It may also be useful to set the <var>CC</var> and <var>CFLAGS</var> variables in
the environment when running <code>configure</code>.  <var>CC</var> selects the C
compiler that will be used, and <var>CFLAGS</var> sets optimization options
for the compiler.

<p>The following list describes all of the available options for <code>configure</code>:

<dl>
<dt><code>--prefix=<var>directory</var></code>
<dd>Install machine-independent data files in subdirectories of
<code><var>directory</var></code>.  The default is to install in <code>/usr/local</code>.

<br><dt><code>--exec-prefix=<var>directory</var></code>
<dd>Install the library and other machine-dependent files in subdirectories
of <code><var>directory</var></code>.  The default is to the <code>--prefix</code>
directory if that option is specified, or <code>/usr/local</code> otherwise.

<br><dt><code>--with-headers=<var>directory</var></code>
<dd>Look for kernel header files in <var>directory</var>, not
<code>/usr/include</code>.  Glibc needs information from the kernel's private
header files.  It will normally look in <code>/usr/include</code> for them,
but if you specify this option, it will look in <var>DIRECTORY</var> instead.

<p>This option is primarily of use on a system where the headers in
<code>/usr/include</code> come from an older version of glibc.  Conflicts can
occasionally happen in this case.  Note that Linux libc5 qualifies as an
older version of glibc.  You can also use this option if you want to
compile glibc with a newer set of kernel headers than the ones found in
<code>/usr/include</code>.

<br><dt><code>--enable-add-ons[=<var>list</var>]</code>
<dd>Enable add-on packages in your source tree.  If this option is specified
with no list, it enables all the add-on packages it finds.  If you do
not wish to use some add-on package that you have present in your source
tree, give this option a list of the add-ons that you <em>do</em> want
used, like this: <code>--enable-add-ons=linuxthreads</code>

<br><dt><code>--enable-kernel=<var>version</var></code>
<dd>This option is currently only useful on Linux systems.  The
<var>version</var> parameter should have the form X.Y.Z and describes the
smallest version of the Linux kernel the generated library is expected
to support.  The higher the <var>version</var> number is, the less
compatibility code is added, and the faster the code gets.

<br><dt><code>--with-binutils=<var>directory</var></code>
<dd>Use the binutils (assembler and linker) in <code><var>directory</var></code>, not
the ones the C compiler would default to.  You could use this option if
the default binutils on your system cannot deal with all the constructs
in the GNU C library.  In that case, <code>configure</code> will detect the problem and
suppress these constructs, so that the library will still be usable, but
functionality may be lost--for example, you can't build a shared libc
with old binutils.

<br><dt><code>--without-fp</code>
<dd>Use this option if your computer lacks hardware floating-point support
and your operating system does not emulate an FPU.

<br><dt><code>--disable-shared</code>
<dd>Don't build shared libraries even if it is possible.  Not all systems support
shared libraries; you need ELF support and (currently) the GNU linker.

<br><dt><code>--disable-profile</code>
<dd>Don't build libraries with profiling information.  You may want to use
this option if you don't plan to do profiling.

<br><dt><code>--enable-omitfp</code>
<dd>Use maximum optimization for the normal (static and shared)
libraries, and compile separate static libraries with debugging
information and no optimization.  We recommend against this.  The extra
optimization doesn't gain you much, it may provoke compiler bugs, and
you won't be able to trace bugs through the C library.

<br><dt><code>--disable-versioning</code>
<dd>Don't compile the shared libraries with symbol version information. 
Doing this will make the resulting library incompatible with old
binaries, so it's not recommended.

<br><dt><code>--enable-static-nss</code>
<dd>Compile static versions of the NSS (Name Service Switch) libraries. 
This is not recommended because it defeats the purpose of NSS; a program
linked statically with the NSS libraries cannot be dynamically
reconfigured to use a different name database.

<br><dt><code>--build=<var>build-system</var></code>
<dt><code>--host=<var>host-system</var></code>
<dd>These options are for cross-compiling.  If you specify both options and
<var>build-system</var> is different from <var>host-system</var>, <code>configure</code>
will prepare to cross-compile glibc from <var>build-system</var> to be used
on <var>host-system</var>.  You'll probably need the <code>--with-headers</code>
option too, and you may have to override <var>configure</var>'s selection of
the compiler and/or binutils.

<p>If you only specify <code>--host</code>, configure will prepare for a native
compile but use what you specify instead of guessing what your system is. 
This is most useful to change the CPU submodel.  For example, if
configure guesses your machine as <code>i586-pc-linux-gnu</code> but you want
to compile a library for 386es, give <code>--host=i386-pc-linux-gnu</code> or
just <code>--host=i386-linux</code> and add the appropriate compiler flags
(<code>-mcpu=i386</code> will do the trick) to <var>CFLAGS</var>.

<p>If you specify just <code>--build</code>, configure will get confused. 
</dl>

<p>To build the library and related programs, type <code>make</code>.  This will
produce a lot of output, some of which may look like errors from
<code>make</code> but isn't.  Look for error messages from <code>make</code>
containing <code>***</code>.  Those indicate that something is really wrong.

<p>The compilation process takes several hours even on fast hardware. 
Expect at least two hours for the default configuration on i586 for
Linux.  For Hurd times are much longer.  Except for EGCS 1.1 and GCC
2.95 (and later versions of GCC), all supported versions of GCC have a
problem which causes them to take several minutes to compile certain
files in the iconvdata directory.  Do not panic if the compiler appears
to hang.

<p>If you want to run a parallel make, you can't just give <code>make</code> the
<code>-j</code> option, because it won't be passed down to the sub-makes. 
Instead, edit the generated <code>Makefile</code> and uncomment the line

<br><pre># PARALLELMFLAGS = -j 4
</pre>

<p>You can change the <code>4</code> to some other number as appropriate for
your system.  Instead of changing the <code>Makefile</code>, you could give
this option directly to <code>make</code> and call it as, for example,
<code>make PARALLELMFLAGS=-j4</code>.  If you're building in the source
directory, you must use the latter approach since in this case no
new <code>Makefile</code> is generated for you to change.

<p>To build and run test programs which exercise some of the library
facilities, type <code>make check</code>.  If it does not complete
successfully, do not use the built library, and report a bug after
verifying that the problem is not already known.  See <a href="#Reporting%20Bugs">Reporting Bugs</a>,
for instructions on reporting bugs.  Note that some of the tests assume
they are not being run by <code>root</code>.  We recommend you compile and
test glibc as an unprivileged user.

<p>To format the <cite>GNU C Library Reference Manual</cite> for printing, type
<code>make&nbsp;dvi</code>.  You need a working TeX installation to do this. 
The distribution already includes the on-line formatted version of the
manual, as Info files.  You can regenerate those with <code>make&nbsp;info</code>, but it shouldn't be necessary.

<p>The library has a number of special-purpose configuration parameters
which you can find in <code>Makeconfig</code>.  These can be overwritten with
the file <code>configparms</code>.  To change them, create a
<code>configparms</code> in your build directory and add values as appropriate
for your system.  The file is included and parsed by <code>make</code> and has
to follow the conventions for makefiles.

<p>It is easy to configure the GNU C library for cross-compilation by
setting a few variables in <code>configparms</code>.  Set <code>CC</code> to the
cross-compiler for the target you configured the library for; it is
important to use this same <code>CC</code> value when running
<code>configure</code>, like this: <code>CC=<var>target</var>-gcc configure
<var>target</var></code>.  Set <code>BUILD_CC</code> to the compiler to use for for
programs run on the build system as part of compiling the library.  You
may need to set <code>AR</code> and <code>RANLIB</code> to cross-compiling versions
of <code>ar</code> and <code>ranlib</code> if the native tools are not configured to
work with object files for the target you configured for.

<p><hr>
Node:<a name="Running%20make%20install">Running make install</a>,
Next:<a rel=next accesskey=n href="#Tools%20for%20Compilation">Tools for Compilation</a>,
Previous:<a rel=previous accesskey=p href="#Configuring%20and%20compiling">Configuring and compiling</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Installing the C Library</h3>

<p>To install the library and its header files, and the Info files of the
manual, type <code>env LANGUAGE=C LC_ALL=C make install</code>.  This will
build things if necessary, before installing them.  However, you should
still compile everything first.  If you are installing glibc as your
primary C library, we recommend that you shut the system down to
single-user mode first, and reboot afterward.  This minimizes the risk
of breaking things when the library changes out from underneath.

<p>If you're upgrading from Linux libc5 or some other C library, you need to
replace the <code>/usr/include</code> with a fresh directory before installing it. 
The new <code>/usr/include</code> should contain the Linux headers, but nothing else.

<p>You must first build the library (<code>make</code>), optionally check it
(<code>make check</code>), switch the include directories and then install
(<code>make install</code>).  The steps must be done in this order.  Not moving
the directory before install will result in an unusable mixture of header
files from both libraries, but configuring, building, and checking the
library requires the ability to compile and run programs against the old
library.

<p>If you are upgrading from a previous installation of glibc 2.0 or 2.1,
<code>make install</code> will do the entire job.  You do not need to remove
the old includes - if you want to do so anyway you must then follow the
order given above.

<p>You may also need to reconfigure GCC to work with the new library.  The
easiest way to do that is to figure out the compiler switches to make it
work again (<code>-Wl,--dynamic-linker=/lib/ld-linux.so.2</code> should work on
Linux systems) and use them to recompile gcc.  You can also edit the specs
file (<code>/usr/lib/gcc-lib/<var>TARGET</var>/<var>VERSION</var>/specs</code>), but that
is a bit of a black art.

<p>You can install glibc somewhere other than where you configured it to go
by setting the <code>install_root</code> variable on the command line for
<code>make install</code>.  The value of this variable is prepended to all the
paths for installation.  This is useful when setting up a chroot
environment or preparing a binary distribution.  The directory should be
specified with an absolute file name.

<p>Glibc 2.2 includes a daemon called <code>nscd</code>, which you
may or may not want to run.  <code>nscd</code> caches name service lookups; it
can dramatically improve performance with NIS+, and may help with DNS as
well.

<p>One auxiliary program, <code>/usr/libexec/pt_chown</code>, is installed setuid
<code>root</code>.  This program is invoked by the <code>grantpt</code> function; it
sets the permissions on a pseudoterminal so it can be used by the
calling process.  This means programs like <code>xterm</code> and
<code>screen</code> do not have to be setuid to get a pty.  (There may be
other reasons why they need privileges.)  If you are using a 2.1 or
newer Linux kernel with the <code>devptsfs</code> or <code>devfs</code> filesystems
providing pty slaves, you don't need this program; otherwise you do. 
The source for <code>pt_chown</code> is in <code>login/programs/pt_chown.c</code>.

<p>After installation you might want to configure the timezone and locale
installation of your system.  The GNU C library comes with a locale
database which gets configured with <code>localedef</code>.  For example, to
set up a German locale with name <code>de_DE</code>, simply issue the command
<code>localedef -i de_DE -f ISO-8859-1 de_DE</code>.  To configure all locales
that are supported by glibc, you can issue from your build directory the
command <code>make localedata/install-locales</code>.

<p>To configure the locally used timezone, you can either set the <code>TZ</code>
environment variable.  The script <code>tzselect</code> helps you to select
the right value.  As an example for Germany, tzselect would tell you to
use <code>TZ='Europe/Berlin'</code>.  For a system wide installation (the
given paths are for an installation with <code>--prefix=/usr</code>), link the
timezone file which is in <code>/usr/share/zoneinfo</code> to the file
<code>/etc/localtime</code>.  For Germany, you might execute <code>ln -s
/usr/share/zoneinfo/Europe/Berlin /etc/localtime</code>.

<p><hr>
Node:<a name="Tools%20for%20Compilation">Tools for Compilation</a>,
Next:<a rel=next accesskey=n href="#Supported%20Configurations">Supported Configurations</a>,
Previous:<a rel=previous accesskey=p href="#Running%20make%20install">Running make install</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Recommended Tools for Compilation</h3>

<p>We recommend installing the following GNU tools before attempting to
build the GNU C library:

<ul>
<li>GNU <code>make</code> 3.79 or newer

<p>You need the latest version of GNU <code>make</code>.  Modifying the GNU C
Library to work with other <code>make</code> programs would be so difficult that we
recommend you port GNU <code>make</code> instead.  <strong>Really.</strong>  We
recommend version GNU <code>make</code> version 3.79.  All earlier
versions have severe bugs or lack features.

</p><li>GCC 2.95 or newer

<p>The GNU C library can only be compiled with the GNU C compiler family. 
As of the 2.2 release, GCC 2.95.2 or higher is required.  As of this
writing, GCC 2.95.3 is the compiler we advise to use.

<p>You can use whatever compiler you like to compile programs that use GNU
libc, but be aware that both GCC 2.7 and 2.8 have bugs in their
floating-point support that may be triggered by the math library.

<p>For PPC you might need some patches even on top of the last GCC version. 
See the FAQ.

</p><li>GNU <code>binutils</code> 2.10.1 or later

<p>You must use GNU binutils (as and ld) if you want to build a shared
library.  Even if you don't, we recommend you use them anyway.  No one
has tested compilation with non-GNU binutils in a long time.

<p>The quality of binutils releases has varied a bit recently.  The bugs
are in obscure features, but glibc uses quite a few of those.  2.10.1
and later releases are known to work.  Versions after 2.8.1.0.23 may or
may not work.  Older versions definitely don't.

<p>For PPC you might need some patches even on top of the last binutils
version.  See the FAQ.

</p><li>GNU <code>texinfo</code> 3.12f

<p>To correctly translate and install the Texinfo documentation you need
this version of the <code>texinfo</code> package.  Earlier versions do not
understand all the tags used in the document, and the installation
mechanism for the info files is not present or works differently.

</p><li>GNU <code>awk</code> 3.0, or some other POSIX awk

<p>Awk is used in several places to generate files.  The scripts should
work with any POSIX-compliant awk implementation; <code>gawk</code> 3.0 and
<code>mawk</code> 1.3 are known to work.

</p><li>Perl 5

<p>Perl is not required, but it is used if present to test the
installation.  We may decide to use it elsewhere in the future.

</p><li>GNU <code>sed</code> 3.02 or newer

<p>Sed is used in several places to generate files.  Most scripts work with
any version of <code>sed</code>.  The known exception is the script
<code>po2test.sed</code> in the <code>intl</code> subdirectory which is used to
generate <code>msgs.h</code> for the testsuite.  This script works correctly
only with GNU <code>sed</code> 3.02.  If you like to run the testsuite, you
should definitely upgrade <code>sed</code>.

</ul>

<p>If you change any of the <code>configure.in</code> files you will also need

<ul>
<li>GNU <code>autoconf</code> 2.12 or higher
</ul>

<p>and if you change any of the message translation files you will need

<ul>
<li>GNU <code>gettext</code> 0.10.36 or later
</ul>

<p>You may also need these packages if you upgrade your source tree using
patches, although we try to avoid this.

<p><hr>
Node:<a name="Supported%20Configurations">Supported Configurations</a>,
Next:<a rel=next accesskey=n href="#Linux">Linux</a>,
Previous:<a rel=previous accesskey=p href="#Tools%20for%20Compilation">Tools for Compilation</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Supported Configurations</h3>

<p>The GNU C Library currently supports configurations that match the
following patterns:

<br><pre>alpha<var>*</var>-<var>*</var>-linux
arm-<var>*</var>-linux
cris-<var>*</var>-linux
hppa-<var>*</var>-linux
i<var>x</var>86-<var>*</var>-gnu
i<var>x</var>86-<var>*</var>-linux
ia64-<var>*</var>-linux
m68k-<var>*</var>-linux
mips<var>*</var>-<var>*</var>-linux
powerpc-<var>*</var>-linux
s390-<var>*</var>-linux
s390x-<var>*</var>-linux
sparc-<var>*</var>-linux
sparc64-<var>*</var>-linux
</pre>

<p>Former releases of this library (version 2.1 and/or 2.0) used to run on
the following configurations:

<br><pre>arm-<var>*</var>-linuxaout
arm-<var>*</var>-none
</pre>

<p>Very early releases (version 1.09.1 and perhaps earlier versions) used
to run on the following configurations:

<br><pre>alpha-dec-osf1
alpha-<var>*</var>-linuxecoff
i<var>x</var>86-<var>*</var>-bsd4.3
i<var>x</var>86-<var>*</var>-isc2.2
i<var>x</var>86-<var>*</var>-isc3.<var>n</var>
i<var>x</var>86-<var>*</var>-sco3.2
i<var>x</var>86-<var>*</var>-sco3.2v4
i<var>x</var>86-<var>*</var>-sysv
i<var>x</var>86-<var>*</var>-sysv4
i<var>x</var>86-force_cpu386-none
i<var>x</var>86-sequent-bsd
i960-nindy960-none
m68k-hp-bsd4.3
m68k-mvme135-none
m68k-mvme136-none
m68k-sony-newsos3
m68k-sony-newsos4
m68k-sun-sunos4.<var>n</var>
mips-dec-ultrix4.<var>n</var>
mips-sgi-irix4.<var>n</var>
sparc-sun-solaris2.<var>n</var>
sparc-sun-sunos4.<var>n</var>
</pre>

<p>Since no one has volunteered to test and fix these configurations,
they are not supported at the moment.  They probably don't compile;
they definitely don't work anymore.  Porting the library is not hard. 
If you are interested in doing a port, please contact the glibc
maintainers by sending electronic mail to <a href="mailto:bug-glibc@gnu.org">bug-glibc@gnu.org</a>.

<p>Valid cases of <code>i<var>x</var>86</code> include <code>i386</code>, <code>i486</code>,
<code>i586</code>, and <code>i686</code>.  All of those configurations produce a
library that can run on this processor and newer processors.  The GCC
compiler by default generates code that's optimized for the machine it's
configured for and will use the instructions available on that machine. 
For example if your GCC is configured for <code>i686</code>, gcc will optimize
for <code>i686</code> and might issue some <code>i686</code> specific instructions. 
To generate code for other models, you have to configure for that model
and give GCC the appropriate <code>-march=</code> and <code>-mcpu=</code> compiler
switches via <var>CFLAGS</var>.

<p><hr>
Node:<a name="Linux">Linux</a>,
Next:<a rel=next accesskey=n href="#Reporting%20Bugs">Reporting Bugs</a>,
Previous:<a rel=previous accesskey=p href="#Supported%20Configurations">Supported Configurations</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Specific advice for Linux systems</h3>

<p>If you are installing GNU libc on a Linux system, you need to have the
header files from a 2.2 or newer kernel around for reference.  For some
architectures, like ia64, sh and hppa, you need at least headers from
kernel 2.3.99 (sh and hppa) or 2.4.0 (ia64).  You do not need to use
that kernel, just have its headers where glibc can access at them.  The
easiest way to do this is to unpack it in a directory such as
<code>/usr/src/linux-2.2.1</code>.  In that directory, run <code>make config</code>
and accept all the defaults.  Then run <code>make
include/linux/version.h</code>.  Finally, configure glibc with the option
<code>--with-headers=/usr/src/linux-2.2.1/include</code>.  Use the most recent
kernel you can get your hands on.

<p>An alternate tactic is to unpack the 2.2 kernel and run <code>make
config</code> as above.  Then rename or delete <code>/usr/include</code>, create
a new <code>/usr/include</code>, and make the usual symbolic links of
<code>/usr/include/linux</code> and <code>/usr/include/asm</code> into the 2.2
kernel sources.  You can then configure glibc with no special options. 
This tactic is recommended if you are upgrading from libc5, since you
need to get rid of the old header files anyway.

<p>Note that <code>/usr/include/net</code> and <code>/usr/include/scsi</code> should
<strong>not</strong> be symlinks into the kernel sources.  GNU libc provides its
own versions of these files.

<p>Linux expects some components of the libc installation to be in
<code>/lib</code> and some in <code>/usr/lib</code>.  This is handled automatically
if you configure glibc with <code>--prefix=/usr</code>.  If you set some other
prefix or allow it to default to <code>/usr/local</code>, then all the
components are installed there.

<p>If you are upgrading from libc5, you need to recompile every shared
library on your system against the new library for the sake of new code,
but keep the old libraries around for old binaries to use.  This is
complicated and difficult.  Consult the Glibc2 HOWTO at
&lt;<code>http://www.imaxx.net/~thrytis/glibc</code>&gt; for details.

<p>You cannot use <code>nscd</code> with 2.0 kernels, due to bugs in the
kernel-side thread support.  <code>nscd</code> happens to hit these bugs
particularly hard, but you might have problems with any threaded
program.

<p><hr>
Node:<a name="Reporting%20Bugs">Reporting Bugs</a>,
Previous:<a rel=previous accesskey=p href="#Linux">Linux</a>,
Up:<a rel=up accesskey=u href="#Installation">Installation</a>
<br>

<h3>Reporting Bugs</h3>

<p>There are probably bugs in the GNU C library.  There are certainly
errors and omissions in this manual.  If you report them, they will get
fixed.  If you don't, no one will ever know about them and they will
remain unfixed for all eternity, if not longer.

<p>It is a good idea to verify that the problem has not already been
reported.  Bugs are documented in two places: The file <code>BUGS</code>
describes a number of well known bugs and the bug tracking system has a
WWW interface at
&lt;<code>http://www-gnats.gnu.org:8080/cgi-bin/wwwgnats.pl</code>&gt;.  The WWW
interface gives you access to open and closed reports.  The closed
reports normally include a patch or a hint on solving the problem.

<p>To report a bug, first you must find it.  Hopefully, this will be the
hard part.  Once you've found a bug, make sure it's really a bug.  A
good way to do this is to see if the GNU C library behaves the same way
some other C library does.  If so, probably you are wrong and the
libraries are right (but not necessarily).  If not, one of the libraries
is probably wrong.  It might not be the GNU library.  Many historical
Unix C libraries permit things that we don't, such as closing a file
twice.

<p>If you think you have found some way in which the GNU C library does not
conform to the ISO and POSIX standards (see <a href="#Standards%20and%20Portability">Standards and Portability</a>), that is definitely a bug.  Report it!

<p>Once you're sure you've found a bug, try to narrow it down to the
smallest test case that reproduces the problem.  In the case of a C
library, you really only need to narrow it down to one library
function call, if possible.  This should not be too difficult.

<p>The final step when you have a simple test case is to report the bug. 
Do this using the <code>glibcbug</code> script.  It is installed with libc, or
if you haven't installed it, will be in your build directory.  Send your
test case, the results you got, the results you expected, and what you
think the problem might be (if you've thought of anything). 
<code>glibcbug</code> will insert the configuration information we need to
see, and ship the report off to <a href="mailto:bugs@gnu.org">bugs@gnu.org</a>.  Don't send
a message there directly; it is fed to a program that expects mail to be
formatted in a particular way.  Use the script.

<p>If you are not sure how a function should behave, and this manual
doesn't tell you, that's a bug in the manual.  Report that too!  If the
function's behavior disagrees with the manual, then either the library
or the manual has a bug, so report the disagreement.  If you find any
errors or omissions in this manual, please report them to the Internet
address <a href="mailto:bug-glibc-manual@gnu.org">bug-glibc-manual@gnu.org</a>.  If you refer to specific
sections of the manual, please include the section names for easier
identification.

<p><hr>
Node:<a name="Maintenance">Maintenance</a>,
Next:<a rel=next accesskey=n href="#Contributors">Contributors</a>,
Previous:<a rel=previous accesskey=p href="#Installation">Installation</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Library Maintenance</h2>

<ul>
<li><a accesskey=1 href="#Source%20Layout">Source Layout</a>:          How to add new functions or header files
                             to the GNU C library. 
<li><a accesskey=2 href="#Porting">Porting</a>:                How to port the GNU C library to
                             a new machine or operating system. 
</ul>

<p><hr>
Node:<a name="Source%20Layout">Source Layout</a>,
Next:<a rel=next accesskey=n href="#Porting">Porting</a>,
Up:<a rel=up accesskey=u href="#Maintenance">Maintenance</a>
<br>

<h3>Adding New Functions</h3>

<p>The process of building the library is driven by the makefiles, which
make heavy use of special features of GNU <code>make</code>.  The makefiles
are very complex, and you probably don't want to try to understand them. 
But what they do is fairly straightforward, and only requires that you
define a few variables in the right places.

<p>The library sources are divided into subdirectories, grouped by topic.

<p>The <code>string</code> subdirectory has all the string-manipulation
functions, <code>math</code> has all the mathematical functions, etc.

<p>Each subdirectory contains a simple makefile, called <code>Makefile</code>,
which defines a few <code>make</code> variables and then includes the global
makefile <code>Rules</code> with a line like:

<br><pre>include ../Rules
</pre>

<p>The basic variables that a subdirectory makefile defines are:

<dl>
<dt><code>subdir</code>
<dd>The name of the subdirectory, for example <code>stdio</code>. 
This variable <strong>must</strong> be defined.

<br><dt><code>headers</code>
<dd>The names of the header files in this section of the library,
such as <code>stdio.h</code>.

<br><dt><code>routines</code>
<dt><code>aux</code>
<dd>The names of the modules (source files) in this section of the library. 
These should be simple names, such as <code>strlen</code> (rather than
complete file names, such as <code>strlen.c</code>).  Use <code>routines</code> for
modules that define functions in the library, and <code>aux</code> for
auxiliary modules containing things like data definitions.  But the
values of <code>routines</code> and <code>aux</code> are just concatenated, so there
really is no practical difference.

<br><dt><code>tests</code>
<dd>The names of test programs for this section of the library.  These
should be simple names, such as <code>tester</code> (rather than complete file
names, such as <code>tester.c</code>).  <code>make&nbsp;tests</code> will build and
run all the test programs.  If a test program needs input, put the test
data in a file called <code><var>test-program</var>.input</code>; it will be given to
the test program on its standard input.  If a test program wants to be
run with arguments, put the arguments (all on a single line) in a file
called <code><var>test-program</var>.args</code>.  Test programs should exit with
zero status when the test passes, and nonzero status when the test
indicates a bug in the library or error in building.

<br><dt><code>others</code>
<dd>The names of "other" programs associated with this section of the
library.  These are programs which are not tests per se, but are other
small programs included with the library.  They are built by
<code>make&nbsp;others</code>.

<br><dt><code>install-lib</code>
<dt><code>install-data</code>
<dt><code>install</code>
<dd>Files to be installed by <code>make&nbsp;install</code>.  Files listed in
<code>install-lib</code> are installed in the directory specified by
<code>libdir</code> in <code>configparms</code> or <code>Makeconfig</code>
(see <a href="#Installation">Installation</a>).  Files listed in <code>install-data</code> are
installed in the directory specified by <code>datadir</code> in
<code>configparms</code> or <code>Makeconfig</code>.  Files listed in <code>install</code>
are installed in the directory specified by <code>bindir</code> in
<code>configparms</code> or <code>Makeconfig</code>.

<br><dt><code>distribute</code>
<dd>Other files from this subdirectory which should be put into a
distribution tar file.  You need not list here the makefile itself or
the source and header files listed in the other standard variables. 
Only define <code>distribute</code> if there are files used in an unusual way
that should go into the distribution.

<br><dt><code>generated</code>
<dd>Files which are generated by <code>Makefile</code> in this subdirectory. 
These files will be removed by <code>make&nbsp;clean</code>, and they will
never go into a distribution.

<br><dt><code>extra-objs</code>
<dd>Extra object files which are built by <code>Makefile</code> in this
subdirectory.  This should be a list of file names like <code>foo.o</code>;
the files will actually be found in whatever directory object files are
being built in.  These files will be removed by <code>make&nbsp;clean</code>. 
This variable is used for secondary object files needed to build
<code>others</code> or <code>tests</code>. 
</dl>

<p><hr>
Node:<a name="Porting">Porting</a>,
Previous:<a rel=previous accesskey=p href="#Source%20Layout">Source Layout</a>,
Up:<a rel=up accesskey=u href="#Maintenance">Maintenance</a>
<br>

<h3>Porting the GNU C Library</h3>

<p>The GNU C library is written to be easily portable to a variety of
machines and operating systems.  Machine- and operating system-dependent
functions are well separated to make it easy to add implementations for
new machines or operating systems.  This section describes the layout of
the library source tree and explains the mechanisms used to select
machine-dependent code to use.

<p>All the machine-dependent and operating system-dependent files in the
library are in the subdirectory <code>sysdeps</code> under the top-level
library source directory.  This directory contains a hierarchy of
subdirectories (see <a href="#Hierarchy%20Conventions">Hierarchy Conventions</a>).

<p>Each subdirectory of <code>sysdeps</code> contains source files for a
particular machine or operating system, or for a class of machine or
operating system (for example, systems by a particular vendor, or all
machines that use IEEE 754 floating-point format).  A configuration
specifies an ordered list of these subdirectories.  Each subdirectory
implicitly appends its parent directory to the list.  For example,
specifying the list <code>unix/bsd/vax</code> is equivalent to specifying the
list <code>unix/bsd/vax unix/bsd unix</code>.  A subdirectory can also specify
that it implies other subdirectories which are not directly above it in
the directory hierarchy.  If the file <code>Implies</code> exists in a
subdirectory, it lists other subdirectories of <code>sysdeps</code> which are
appended to the list, appearing after the subdirectory containing the
<code>Implies</code> file.  Lines in an <code>Implies</code> file that begin with a
<code>#</code> character are ignored as comments.  For example,
<code>unix/bsd/Implies</code> contains:
<br><pre># BSD has Internet-related things.
unix/inet
</pre>

<p>and <code>unix/Implies</code> contains:
<br><pre>posix
</pre>

<p>So the final list is <code>unix/bsd/vax unix/bsd unix/inet unix posix</code>.

<p><code>sysdeps</code> has a "special" subdirectory called <code>generic</code>.  It
is always implicitly appended to the list of subdirectories, so you
needn't put it in an <code>Implies</code> file, and you should not create any
subdirectories under it intended to be new specific categories. 
<code>generic</code> serves two purposes.  First, the makefiles do not bother
to look for a system-dependent version of a file that's not in
<code>generic</code>.  This means that any system-dependent source file must
have an analogue in <code>generic</code>, even if the routines defined by that
file are not implemented on other platforms.  Second. the <code>generic</code>
version of a system-dependent file is used if the makefiles do not find
a version specific to the system you're compiling for.

<p>If it is possible to implement the routines in a <code>generic</code> file in
machine-independent C, using only other machine-independent functions in
the C library, then you should do so.  Otherwise, make them stubs.  A
<dfn>stub</dfn> function is a function which cannot be implemented on a
particular machine or operating system.  Stub functions always return an
error, and set <code>errno</code> to <code>ENOSYS</code> (Function not implemented). 
See <a href="#Error%20Reporting">Error Reporting</a>.  If you define a stub function, you must place
the statement <code>stub_warning(<var>function</var>)</code>, where <var>function</var>
is the name of your function, after its definition; also, you must
include the file <code>&lt;stub-tag.h&gt;</code> into your file.  This causes the
function to be listed in the installed <code>&lt;gnu/stubs.h&gt;</code>, and
makes GNU ld warn when the function is used.

<p>Some rare functions are only useful on specific systems and aren't
defined at all on others; these do not appear anywhere in the
system-independent source code or makefiles (including the
<code>generic</code> directory), only in the system-dependent <code>Makefile</code>
in the specific system's subdirectory.

<p>If you come across a file that is in one of the main source directories
(<code>string</code>, <code>stdio</code>, etc.), and you want to write a machine- or
operating system-dependent version of it, move the file into
<code>sysdeps/generic</code> and write your new implementation in the
appropriate system-specific subdirectory.  Note that if a file is to be
system-dependent, it <strong>must not</strong> appear in one of the main source
directories.

<p>There are a few special files that may exist in each subdirectory of
<code>sysdeps</code>:

<dl>
<dt><code>Makefile</code>
<dd>
A makefile for this machine or operating system, or class of machine or
operating system.  This file is included by the library makefile
<code>Makerules</code>, which is used by the top-level makefile and the
subdirectory makefiles.  It can change the variables set in the
including makefile or add new rules.  It can use GNU <code>make</code>
conditional directives based on the variable <code>subdir</code> (see above) to
select different sets of variables and rules for different sections of
the library.  It can also set the <code>make</code> variable
<code>sysdep-routines</code>, to specify extra modules to be included in the
library.  You should use <code>sysdep-routines</code> rather than adding
modules to <code>routines</code> because the latter is used in determining
what to distribute for each subdirectory of the main source tree.

<p>Each makefile in a subdirectory in the ordered list of subdirectories to
be searched is included in order.  Since several system-dependent
makefiles may be included, each should append to <code>sysdep-routines</code>
rather than simply setting it:

<br><pre>sysdep-routines := $(sysdep-routines) foo bar
</pre>

<br><dt><code>Subdirs</code>
<dd>
This file contains the names of new whole subdirectories under the
top-level library source tree that should be included for this system. 
These subdirectories are treated just like the system-independent
subdirectories in the library source tree, such as <code>stdio</code> and
<code>math</code>.

<p>Use this when there are completely new sets of functions and header
files that should go into the library for the system this subdirectory
of <code>sysdeps</code> implements.  For example,
<code>sysdeps/unix/inet/Subdirs</code> contains <code>inet</code>; the <code>inet</code>
directory contains various network-oriented operations which only make
sense to put in the library on systems that support the Internet.

<br><dt><code>Dist</code>
<dd>
This file contains the names of files (relative to the subdirectory of
<code>sysdeps</code> in which it appears) which should be included in the
distribution.  List any new files used by rules in the <code>Makefile</code>
in the same directory, or header files used by the source files in that
directory.  You don't need to list files that are implementations
(either C or assembly source) of routines whose names are given in the
machine-independent makefiles in the main source tree.

<br><dt><code>configure</code>
<dd>
This file is a shell script fragment to be run at configuration time. 
The top-level <code>configure</code> script uses the shell <code>.</code> command to
read the <code>configure</code> file in each system-dependent directory
chosen, in order.  The <code>configure</code> files are often generated from
<code>configure.in</code> files using Autoconf.

<p>A system-dependent <code>configure</code> script will usually add things to
the shell variables <code>DEFS</code> and <code>config_vars</code>; see the
top-level <code>configure</code> script for details.  The script can check for
<code>--with-<var>package</var></code> options that were passed to the
top-level <code>configure</code>.  For an option
<code>--with-<var>package</var>=<var>value</var></code> <code>configure</code> sets the
shell variable <code>with_<var>package</var></code> (with any dashes in
<var>package</var> converted to underscores) to <var>value</var>; if the option is
just <code>--with-<var>package</var></code> (no argument), then it sets
<code>with_<var>package</var></code> to <code>yes</code>.

<br><dt><code>configure.in</code>
<dd>
This file is an Autoconf input fragment to be processed into the file
<code>configure</code> in this subdirectory.  See <a href="autoconf.info.html#Introduction">Introduction</a>,
for a description of Autoconf.  You should write either <code>configure</code>
or <code>configure.in</code>, but not both.  The first line of
<code>configure.in</code> should invoke the <code>m4</code> macro
<code>GLIBC_PROVIDES</code>.  This macro does several <code>AC_PROVIDE</code> calls
for Autoconf macros which are used by the top-level <code>configure</code>
script; without this, those macros might be invoked again unnecessarily
by Autoconf. 
</dl>

<p>That is the general system for how system-dependencies are isolated.

<ul>
<li><a accesskey=1 href="#Hierarchy%20Conventions">Hierarchy Conventions</a>:        The layout of the <code>sysdeps</code> hierarchy. 
<li><a accesskey=2 href="#Porting%20to%20Unix">Porting to Unix</a>:              Porting the library to an average
                                   Unix-like system. 
</ul>

<p><hr>
Node:<a name="Hierarchy%20Conventions">Hierarchy Conventions</a>,
Next:<a rel=next accesskey=n href="#Porting%20to%20Unix">Porting to Unix</a>,
Up:<a rel=up accesskey=u href="#Porting">Porting</a>
<br>

<h4>Layout of the <code>sysdeps</code> Directory Hierarchy</h4>

<p>A GNU configuration name has three parts: the CPU type, the
manufacturer's name, and the operating system.  <code>configure</code> uses
these to pick the list of system-dependent directories to look for.  If
the <code>--nfp</code> option is <em>not</em> passed to <code>configure</code>, the
directory <code><var>machine</var>/fpu</code> is also used.  The operating system
often has a <dfn>base operating system</dfn>; for example, if the operating
system is <code>Linux</code>, the base operating system is <code>unix/sysv</code>. 
The algorithm used to pick the list of directories is simple:
<code>configure</code> makes a list of the base operating system,
manufacturer, CPU type, and operating system, in that order.  It then
concatenates all these together with slashes in between, to produce a
directory name; for example, the configuration <code>i686-linux-gnu</code>
results in <code>unix/sysv/linux/i386/i686</code>.  <code>configure</code> then
tries removing each element of the list in turn, so
<code>unix/sysv/linux</code> and <code>unix/sysv</code> are also tried, among others. 
Since the precise version number of the operating system is often not
important, and it would be very inconvenient, for example, to have
identical <code>irix6.2</code> and <code>irix6.3</code> directories,
<code>configure</code> tries successively less specific operating system names
by removing trailing suffixes starting with a period.

<p>As an example, here is the complete list of directories that would be
tried for the configuration <code>i686-linux-gnu</code> (with the
<code>crypt</code> and <code>linuxthreads</code> add-on):

<br><pre>sysdeps/i386/elf
crypt/sysdeps/unix
linuxthreads/sysdeps/unix/sysv/linux
linuxthreads/sysdeps/pthread
linuxthreads/sysdeps/unix/sysv
linuxthreads/sysdeps/unix
linuxthreads/sysdeps/i386/i686
linuxthreads/sysdeps/i386
linuxthreads/sysdeps/pthread/no-cmpxchg
sysdeps/unix/sysv/linux/i386
sysdeps/unix/sysv/linux
sysdeps/gnu
sysdeps/unix/common
sysdeps/unix/mman
sysdeps/unix/inet
sysdeps/unix/sysv/i386/i686
sysdeps/unix/sysv/i386
sysdeps/unix/sysv
sysdeps/unix/i386
sysdeps/unix
sysdeps/posix
sysdeps/i386/i686
sysdeps/i386/i486
sysdeps/libm-i387/i686
sysdeps/i386/fpu
sysdeps/libm-i387
sysdeps/i386
sysdeps/wordsize-32
sysdeps/ieee754
sysdeps/libm-ieee754
sysdeps/generic
</pre>

<p>Different machine architectures are conventionally subdirectories at the
top level of the <code>sysdeps</code> directory tree.  For example,
<code>sysdeps/sparc</code> and <code>sysdeps/m68k</code>.  These contain
files specific to those machine architectures, but not specific to any
particular operating system.  There might be subdirectories for
specializations of those architectures, such as
<code>sysdeps/m68k/68020</code>. Code which is specific to the
floating-point coprocessor used with a particular machine should go in
<code>sysdeps/<var>machine</var>/fpu</code>.

<p>There are a few directories at the top level of the <code>sysdeps</code>
hierarchy that are not for particular machine architectures.

<dl>
<dt><code>generic</code>
<dd>As described above (see <a href="#Porting">Porting</a>), this is the subdirectory
that every configuration implicitly uses after all others.

<br><dt><code>ieee754</code>
<dd>This directory is for code using the IEEE 754 floating-point format,
where the C type <code>float</code> is IEEE 754 single-precision format, and
<code>double</code> is IEEE 754 double-precision format.  Usually this
directory is referred to in the <code>Implies</code> file in a machine
architecture-specific directory, such as <code>m68k/Implies</code>.

<br><dt><code>libm-ieee754</code>
<dd>This directory contains an implementation of a mathematical library
usable on platforms which use IEEE&nbsp;754 conformant floating-point
arithmetic.

<br><dt><code>libm-i387</code>
<dd>This is a special case.  Ideally the code should be in
<code>sysdeps/i386/fpu</code> but for various reasons it is kept aside.

<br><dt><code>posix</code>
<dd>This directory contains implementations of things in the library in
terms of <small>POSIX.1</small> functions.  This includes some of the <small>POSIX.1</small>
functions themselves.  Of course, <small>POSIX.1</small> cannot be completely
implemented in terms of itself, so a configuration using just
<code>posix</code> cannot be complete.

<br><dt><code>unix</code>
<dd>This is the directory for Unix-like things.  See <a href="#Porting%20to%20Unix">Porting to Unix</a>. 
<code>unix</code> implies <code>posix</code>.  There are some special-purpose
subdirectories of <code>unix</code>:

<dl>
<dt><code>unix/common</code>
<dd>This directory is for things common to both BSD and System V release 4. 
Both <code>unix/bsd</code> and <code>unix/sysv/sysv4</code> imply <code>unix/common</code>.

<br><dt><code>unix/inet</code>
<dd>This directory is for <code>socket</code> and related functions on Unix systems. 
<code>unix/inet/Subdirs</code> enables the <code>inet</code> top-level subdirectory. 
<code>unix/common</code> implies <code>unix/inet</code>. 
</dl>

<br><dt><code>mach</code>
<dd>This is the directory for things based on the Mach microkernel from CMU
(including the GNU operating system).  Other basic operating systems
(VMS, for example) would have their own directories at the top level of
the <code>sysdeps</code> hierarchy, parallel to <code>unix</code> and <code>mach</code>. 
</dl>

<p><hr>
Node:<a name="Porting%20to%20Unix">Porting to Unix</a>,
Previous:<a rel=previous accesskey=p href="#Hierarchy%20Conventions">Hierarchy Conventions</a>,
Up:<a rel=up accesskey=u href="#Porting">Porting</a>
<br>

<h4>Porting the GNU C Library to Unix Systems</h4>

<p>Most Unix systems are fundamentally very similar.  There are variations
between different machines, and variations in what facilities are
provided by the kernel.  But the interface to the operating system
facilities is, for the most part, pretty uniform and simple.

<p>The code for Unix systems is in the directory <code>unix</code>, at the top
level of the <code>sysdeps</code> hierarchy.  This directory contains
subdirectories (and subdirectory trees) for various Unix variants.

<p>The functions which are system calls in most Unix systems are
implemented in assembly code, which is generated automatically from
specifications in files named <code>syscalls.list</code>.  There are several
such files, one in <code>sysdeps/unix</code> and others in its subdirectories. 
Some special system calls are implemented in files that are named with a
suffix of <code>.S</code>; for example, <code>_exit.S</code>.  Files ending in
<code>.S</code> are run through the C preprocessor before being fed to the
assembler.

<p>These files all use a set of macros that should be defined in
<code>sysdep.h</code>.  The <code>sysdep.h</code> file in <code>sysdeps/unix</code>
partially defines them; a <code>sysdep.h</code> file in another directory must
finish defining them for the particular machine and operating system
variant.  See <code>sysdeps/unix/sysdep.h</code> and the machine-specific
<code>sysdep.h</code> implementations to see what these macros are and what
they should do.

<p>The system-specific makefile for the <code>unix</code> directory
(<code>sysdeps/unix/Makefile</code>) gives rules to generate several files
from the Unix system you are building the library on (which is assumed
to be the target system you are building the library <em>for</em>).  All
the generated files are put in the directory where the object files are
kept; they should not affect the source tree itself.  The files
generated are <code>ioctls.h</code>, <code>errnos.h</code>, <code>sys/param.h</code>, and
<code>errlist.c</code> (for the <code>stdio</code> section of the library).

<p><hr>
Node:<a name="Contributors">Contributors</a>,
Next:<a rel=next accesskey=n href="#Free%20Manuals">Free Manuals</a>,
Previous:<a rel=previous accesskey=p href="#Maintenance">Maintenance</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Contributors to the GNU C Library</h2>

<p>The GNU C library was written originally by Roland McGrath, and is
currently maintained by Ulrich Drepper.  Some parts of the library were
contributed or worked on by other people.

<ul>
<li>The <code>getopt</code> function and related code was written by
Richard Stallman, David&nbsp;J. MacKenzie, and Roland&nbsp;McGrath.

<li>The merge sort function <code>qsort</code> was written by Michael J. Haertel.

<li>The quick sort function used as a fallback by <code>qsort</code> was written
by Douglas C. Schmidt.

<li>The memory allocation functions <code>malloc</code>, <code>realloc</code> and
<code>free</code> and related code were written by Michael J. Haertel,
Wolfram&nbsp;Gloger, and Doug&nbsp;Lea.

<li>Fast implementations of many of the string functions (<code>memcpy</code>,
<code>strlen</code>, etc.) were written by Torbj&ouml;rn Granlund.

<li>The <code>tar.h</code> header file was written by David J. MacKenzie.

<li>The port to the MIPS DECStation running Ultrix 4
(<code>mips-dec-ultrix4</code>)
was contributed by Brendan Kehoe and Ian Lance Taylor.

<li>The DES encryption function <code>crypt</code> and related functions were
contributed by Michael Glad.

<li>The <code>ftw</code> and <code>nftw</code> functions were contributed by Ulrich Drepper.

<li>The startup code to support SunOS shared libraries was contributed by
Tom Quinn.

<li>The <code>mktime</code> function was contributed by Paul Eggert.

<li>The port to the Sequent Symmetry running Dynix version 3
(<code>i386-sequent-bsd</code>) was contributed by Jason Merrill.

<li>The timezone support code is derived from the public-domain timezone
package by Arthur David Olson and his many contributors.

<li>The port to the DEC Alpha running OSF/1 (<code>alpha-dec-osf1</code>) was
contributed by Brendan Kehoe, using some code written by Roland McGrath.

<li>The port to SGI machines running Irix 4 (<code>mips-sgi-irix4</code>) was
contributed by Tom Quinn.

<li>The port of the Mach and Hurd code to the MIPS architecture
(<code>mips-<var>anything</var>-gnu</code>) was contributed by Kazumoto Kojima.

<li>The floating-point printing function used by <code>printf</code> and friends
and the floating-point reading function used by <code>scanf</code>,
<code>strtod</code> and friends were written by Ulrich Drepper.  The
multi-precision integer functions used in those functions are taken from
GNU MP, which was contributed by Torbj&ouml;rn Granlund.

<li>The internationalization support in the library, and the support
programs <code>locale</code> and <code>localedef</code>, were written by Ulrich
Drepper.  Ulrich Drepper adapted the support code for message catalogs
(<code>libintl.h</code>, etc.) from the GNU <code>gettext</code> package, which he
also wrote.  He also contributed the <code>catgets</code> support and the
entire suite of multi-byte and wide-character support functions
(<code>wctype.h</code>, <code>wchar.h</code>, etc.).

<li>The implementations of the <code>nsswitch.conf</code> mechanism and the files
and DNS backends for it were designed and written by Ulrich Drepper and
Roland McGrath, based on a backend interface defined by Peter Eriksson.

<li>The port to Linux i386/ELF (<code>i386-<var>anything</var>-linux</code>) was
contributed by Ulrich Drepper, based in large part on work done in
Hongjiu Lu's Linux version of the GNU C Library.

<li>The port to Linux/m68k (<code>m68k-<var>anything</var>-linux</code>) was
contributed by Andreas Schwab.

<li>The ports to Linux/ARM (<code>arm-<var>ANYTHING</var>-linuxaout</code>) and ARM
standalone (<code>arm-<var>ANYTHING</var>-none</code>), as well as parts of the
IPv6 support code, were contributed by Philip Blundell.

<li>Richard Henderson contributed the ELF dynamic linking code and other
support for the Alpha processor.

<li>David Mosberger-Tang contributed the port to Linux/Alpha
(<code>alpha-<var>anything</var>-linux</code>).

<li>The port to Linux on PowerPC (<code>powerpc-<var>anything</var>-linux</code>)
was contributed by Geoffrey Keating.

<li>Miles Bader wrote the argp argument-parsing package, and the argz/envz
interfaces.

<li>Stephen R. van den Berg contributed a highly-optimized <code>strstr</code> function.

<li>Ulrich Drepper contributed the <code>hsearch</code> and <code>drand48</code>
families of functions; reentrant <code><small>...</small><code>_r</code></code> versions of the
<code>random</code> family; System V shared memory and IPC support code; and
several highly-optimized string functions for i<var>x</var>86 processors.

<li>The math functions are taken from <code>fdlibm-5.1</code> by Sun
Microsystems, as modified by J.T. Conklin, Ian Lance Taylor,
Ulrich Drepper, Andreas Schwab, and Roland McGrath.

<li>The <code>libio</code> library used to implement <code>stdio</code> functions on
some platforms was written by Per Bothner and modified by Ulrich Drepper.

<li>Eric Youngdale and Ulrich Drepper implemented versioning of objects on
 symbol level.

<li>Thorsten Kukuk provided an implementation for NIS (YP) and NIS+,
securelevel 0, 1 and 2.

<li>Andreas Jaeger provided a test suite for the math library.

<li>Mark Kettenis implemented the utmpx interface and an utmp daemon.

<li>Ulrich Drepper added character conversion functions (<code>iconv</code>).

<li>Thorsten Kukuk provided an implementation for a caching daemon for NSS
(nscd).

<li>Tim Waugh provided an implementation of the POSIX.2 wordexp function family.

<li>Mark Kettenis provided a Hesiod NSS module.

<li>The Internet-related code (most of the <code>inet</code> subdirectory) and
several other miscellaneous functions and header files have been
included from 4.4 BSD with little or no modification.

<p>All code incorporated from 4.4 BSD is under the following copyright:

<blockquote>
<br><pre>Copyright &copy; 1991 Regents of the University of California.
All rights reserved.
</pre>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:

<ol type=1 start=1>
</p><li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer. 
<li>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution. 
<li>[This condition was removed.] 
<li>Neither the name of the University nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.
</ol>

<p><small>THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.</small>
</blockquote>

<li>The random number generation functions <code>random</code>, <code>srandom</code>,
<code>setstate</code> and <code>initstate</code>, which are also the basis for the
<code>rand</code> and <code>srand</code> functions, were written by Earl T. Cohen
for the University of California at Berkeley and are copyrighted by the
Regents of the University of California.  They have undergone minor
changes to fit into the GNU C library and to fit the ISO&nbsp;C standard,
but the functional code is Berkeley's.

<li>The DNS resolver code is taken directly from BIND 4.9.5, which is
under both the Berkeley copyright above and also:

<blockquote>
Portions Copyright &copy; 1993 by Digital Equipment Corporation.

<p>Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies, and
that the name of Digital Equipment Corporation not be used in
advertising or publicity pertaining to distribution of the document or
software without specific, written prior permission.

<p><small>THE SOFTWARE IS PROVIDED "AS IS" AND DIGITAL EQUIPMENT CORP. 
DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING ALL
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.  IN NO EVENT SHALL
DIGITAL EQUIPMENT CORPORATION BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</small>
</blockquote>

</p><li>The code to support Sun RPC is taken verbatim from Sun's
<small>RPCSRC-4.0</small> distribution, and is covered by this copyright:

<blockquote>
<br><pre>Copyright &copy; 1984, Sun Microsystems, Inc.
</pre>

<p>Sun RPC is a product of Sun Microsystems, Inc. and is provided for
unrestricted use provided that this legend is included on all tape media
and as a part of the software program in whole or part.  Users may copy
or modify Sun RPC without charge, but are not authorized to license or
distribute it to anyone else except as part of a product or program
developed by the user.

<p><small>SUN RPC IS PROVIDED AS IS WITH NO WARRANTIES OF ANY KIND INCLUDING THE
WARRANTIES OF DESIGN, MERCHANTIBILITY AND FITNESS FOR A PARTICULAR
PURPOSE, OR ARISING FROM A COURSE OF DEALING, USAGE OR TRADE PRACTICE.</small>

<p>Sun RPC is provided with no support and without any obligation on the
part of Sun Microsystems, Inc. to assist in its use, correction,
modification or enhancement.

<p><small>SUN MICROSYSTEMS, INC. SHALL HAVE NO LIABILITY WITH RESPECT TO THE
INFRINGEMENT OF COPYRIGHTS, TRADE SECRETS OR ANY PATENTS BY SUN RPC
OR ANY PART THEREOF.</small>

<p>In no event will Sun Microsystems, Inc. be liable for any lost revenue
or profits or other special, indirect and consequential damages, even if
Sun has been advised of the possibility of such damages.

<br><pre>Sun Microsystems, Inc.
2550 Garcia Avenue
Mountain View, California  94043
</pre>
</blockquote>

</p><li>Some of the support code for Mach is taken from Mach 3.0 by CMU,
and is under the following copyright terms:

<blockquote>
<br><pre>Mach Operating System
Copyright &copy; 1991,1990,1989 Carnegie Mellon University
All Rights Reserved.
</pre>

<p>Permission to use, copy, modify and distribute this software and its
documentation is hereby granted, provided that both the copyright
notice and this permission notice appear in all copies of the
software, derivative works or modified versions, and any portions
thereof, and that both notices appear in supporting documentation.

<p><small>CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS "AS IS"
CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.</small>

<p>Carnegie Mellon requests users of this software to return to

<br><pre> Software Distribution Coordinator
 School of Computer Science
 Carnegie Mellon University
 Pittsburgh PA 15213-3890
</pre>

<p>or <a href="mailto:Software.Distribution@CS.CMU.EDU">Software.Distribution@CS.CMU.EDU</a> any improvements or
extensions that they make and grant Carnegie Mellon the rights to
redistribute these changes. 
</blockquote>

</p><li>The code for the database library <code>libdb</code> comes from the 2.3
release of Berkeley DB. That code is under the same copyright as 4.4 BSD
and also:

<blockquote>
<br><pre>Copyright &copy; 1990, 1993, 1994, 1995, 1996, 1997
Sleepycat Software.  All rights reserved.
</pre>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:

<ol type=1 start=1>
</p><li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer. 
<li>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution. 
<li>Redistributions in any form must be accompanied by information on
how to obtain complete source code for the DB software and any
accompanying software that uses the DB software.  The source code
must either be included in the distribution or be available for no
more than the cost of distribution plus a nominal fee, and must be
freely redistributable under reasonable conditions.  For an
executable file, complete source code means the source code for all
modules it contains.  It does not mean source code for modules or
files that typically accompany the operating system on which the
executable file runs, e.g., standard library modules or system
header files.
</ol>

<p><small>THIS SOFTWARE IS PROVIDED BY SLEEPYCAT SOFTWARE "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL SLEEPYCAT SOFTWARE BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.</small>

<br><pre>Portions copyright &copy; 1995, 1996
The President and Fellows of Harvard University.
All rights reserved.
</pre>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
<ol type=1 start=1>
</p><li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer. 
<li>Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution. 
<li>All advertising materials mentioning features or use of this software
must display the following acknowledgement:
<blockquote>
 This product includes software developed by Harvard University
 and its contributors. 
</blockquote>
<li>Neither the name of the University nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.
</ol>

<p><small>THIS SOFTWARE IS PROVIDED BY HARVARD AND ITS CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL HARVARD OR ITS CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.</small>

<p>For a license to use, redistribute or sell DB software under conditions
other than those described above, or to purchase support for this
software, please contact Sleepycat Software at

<br><pre> Sleepycat Software
 394 E. Riding Dr.
 Carlisle, MA 01741
 USA
 +1-508-287-4781
</pre>

<p>or <a href="mailto:db@sleepycat.com">db@sleepycat.com</a>.

</blockquote>

</ul>

<p><hr>
Node:<a name="Free%20Manuals">Free Manuals</a>,
Next:<a rel=next accesskey=n href="#Copying">Copying</a>,
Previous:<a rel=previous accesskey=p href="#Contributors">Contributors</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Free Software Needs Free Documentation</h2>

<p>The biggest deficiency in the free software community today is not in
the software--it is the lack of good free documentation that we can
include with the free software.  Many of our most important
programs do not come with free reference manuals and free introductory
texts.  Documentation is an essential part of any software package;
when an important free software package does not come with a free
manual and a free tutorial, that is a major gap.  We have many such
gaps today.

<p>Consider Perl, for instance.  The tutorial manuals that people
normally use are non-free.  How did this come about?  Because the
authors of those manuals published them with restrictive terms--no
copying, no modification, source files not available--which exclude
them from the free software world.

<p>That wasn't the first time this sort of thing happened, and it was far
from the last.  Many times we have heard a GNU user eagerly describe a
manual that he is writing, his intended contribution to the community,
only to learn that he had ruined everything by signing a publication
contract to make it non-free.

<p>Free documentation, like free software, is a matter of freedom, not
price.  The problem with the non-free manual is not that publishers
charge a price for printed copies--that in itself is fine.  (The Free
Software Foundation sells printed copies of manuals, too.)  The
problem is the restrictions on the use of the manual.  Free manuals
are available in source code form, and give you permission to copy and
modify.  Non-free manuals do not allow this.

<p>The criteria of freedom for a free manual are roughly the same as for
free software.  Redistribution (including the normal kinds of
commercial redistribution) must be permitted, so that the manual can
accompany every copy of the program, both on-line and on paper.

<p>Permission for modification of the technical content is crucial too. 
When people modify the software, adding or changing features, if they
are conscientious they will change the manual too--so they can
provide accurate and clear documentation for the modified program.  A
manual that leaves you no choice but to write a new manual to document
a changed version of the program is not really available to our
community.

<p>Some kinds of limits on the way modification is handled are
acceptable.  For example, requirements to preserve the original
author's copyright notice, the distribution terms, or the list of
authors, are ok.  It is also no problem to require modified versions
to include notice that they were modified.  Even entire sections that
may not be deleted or changed are acceptable, as long as they deal
with nontechnical topics (like this one).  These kinds of restrictions
are acceptable because they don't obstruct the community's normal use
of the manual.

<p>However, it must be possible to modify all the <em>technical</em>
content of the manual, and then distribute the result in all the usual
media, through all the usual channels.  Otherwise, the restrictions
obstruct the use of the manual, it is not free, and we need another
manual to replace it.

<p>Please spread the word about this issue.  Our community continues to
lose manuals to proprietary publishing.  If we spread the word that
free software needs free reference manuals and free tutorials, perhaps
the next person who wants to contribute by writing documentation will
realize, before it is too late, that only free manuals contribute to
the free software community.

<p>If you are writing documentation, please insist on publishing it under
the GNU Free Documentation License or another free documentation
license.  Remember that this decision requires your approval--you
don't have to let the publisher decide.  Some commercial publishers
will use a free license if you insist, but they will not propose the
option; it is up to you to raise the issue and say firmly that this is
what you want.  If the publisher you are dealing with refuses, please
try other publishers.  If you're not sure whether a proposed license
is free, write to <a href="mailto:licensing@gnu.org">licensing@gnu.org</a>.

<p>You can encourage commercial publishers to sell more free, copylefted
manuals and tutorials by buying them, and particularly by buying
copies from the publishers that paid for their writing or for major
improvements.  Meanwhile, try to avoid buying non-free documentation
at all.  Check the distribution terms of a manual before you buy it,
and insist that whoever seeks your business must respect your freedom. 
Check the history of the book, and try reward the publishers that have
paid or pay the authors to work on it.

<p>The Free Software Foundation maintains a list of free documentation
published by other publishers, at
&lt;<code>http://www.fsf.org/doc/other-free-books.html</code>&gt;.

<p><hr>
Node:<a name="Copying">Copying</a>,
Next:<a rel=next accesskey=n href="#Documentation%20License">Documentation License</a>,
Previous:<a rel=previous accesskey=p href="#Free%20Manuals">Free Manuals</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>GNU Lesser General Public License</h2>

<div align="center">Version 2.1, February 1999</div>
<br><pre>Copyright &copy; 1991, 1999 Free Software Foundation, Inc.
59 Temple Place -- Suite 330, Boston, MA 02111-1307, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.

[This is the first released version of the Lesser GPL.  It also counts
as the successor of the GNU Library Public License, version 2, hence the
version number 2.1.]
</pre>

<h4>Preamble</h4>

<p>The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
Licenses are intended to guarantee your freedom to share and change
free software--to make sure the software is free for all its users.

<p>This license, the Lesser General Public License, applies to some
specially designated software--typically libraries--of the Free
Software Foundation and other authors who decide to use it.  You can use
it too, but we suggest you first think carefully about whether this
license or the ordinary General Public License is the better strategy to
use in any particular case, based on the explanations below.

<p>When we speak of free software, we are referring to freedom of use,
not price.  Our General Public Licenses are designed to make sure that
you have the freedom to distribute copies of free software (and charge
for this service if you wish); that you receive source code or can get
it if you want it; that you can change the software and use pieces of it
in new free programs; and that you are informed that you can do these
things.

<p>To protect your rights, we need to make restrictions that forbid
distributors to deny you these rights or to ask you to surrender these
rights.  These restrictions translate to certain responsibilities for
you if you distribute copies of the library or if you modify it.

<p>For example, if you distribute copies of the library, whether gratis
or for a fee, you must give the recipients all the rights that we gave
you.  You must make sure that they, too, receive or can get the source
code.  If you link other code with the library, you must provide
complete object files to the recipients, so that they can relink them
with the library after making changes to the library and recompiling
it.  And you must show them these terms so they know their rights.

<p>We protect your rights with a two-step method: (1) we copyright the
library, and (2) we offer you this license, which gives you legal
permission to copy, distribute and/or modify the library.

<p>To protect each distributor, we want to make it very clear that
there is no warranty for the free library.  Also, if the library is
modified by someone else and passed on, the recipients should know
that what they have is not the original version, so that the original
author's reputation will not be affected by problems that might be
introduced by others.

<p>Finally, software patents pose a constant threat to the existence of
any free program.  We wish to make sure that a company cannot
effectively restrict the users of a free program by obtaining a
restrictive license from a patent holder.  Therefore, we insist that
any patent license obtained for a version of the library must be
consistent with the full freedom of use specified in this license.

<p>Most GNU software, including some libraries, is covered by the
ordinary GNU General Public License.  This license, the GNU Lesser
General Public License, applies to certain designated libraries, and
is quite different from the ordinary General Public License.  We use
this license for certain libraries in order to permit linking those
libraries into non-free programs.

<p>When a program is linked with a library, whether statically or using
a shared library, the combination of the two is legally speaking a
combined work, a derivative of the original library.  The ordinary
General Public License therefore permits such linking only if the
entire combination fits its criteria of freedom.  The Lesser General
Public License permits more lax criteria for linking other code with
the library.

<p>We call this license the <dfn>Lesser</dfn> General Public License because it
does <em>Less</em> to protect the user's freedom than the ordinary General
Public License.  It also provides other free software developers Less
of an advantage over competing non-free programs.  These disadvantages
are the reason we use the ordinary General Public License for many
libraries.  However, the Lesser license provides advantages in certain
special circumstances.

<p>For example, on rare occasions, there may be a special need to
encourage the widest possible use of a certain library, so that it becomes
a de-facto standard.  To achieve this, non-free programs must be
allowed to use the library.  A more frequent case is that a free
library does the same job as widely used non-free libraries.  In this
case, there is little to gain by limiting the free library to free
software only, so we use the Lesser General Public License.

<p>In other cases, permission to use a particular library in non-free
programs enables a greater number of people to use a large body of
free software.  For example, permission to use the GNU C Library in
non-free programs enables many more people to use the whole GNU
operating system, as well as its variant, the GNU/Linux operating
system.

<p>Although the Lesser General Public License is Less protective of the
users' freedom, it does ensure that the user of a program that is
linked with the Library has the freedom and the wherewithal to run
that program using a modified version of the Library.

<p>The precise terms and conditions for copying, distribution and
modification follow.  Pay close attention to the difference between a
"work based on the library" and a "work that uses the library".  The
former contains code derived from the library, whereas the latter must
be combined with the library in order to run.

<ol type=1 start=0>
</p><li>This License Agreement applies to any software library or other program
which contains a notice placed by the copyright holder or other
authorized party saying it may be distributed under the terms of this
Lesser General Public License (also called "this License").  Each
licensee is addressed as "you".

<p>A "library" means a collection of software functions and/or data
prepared so as to be conveniently linked with application programs
(which use some of those functions and data) to form executables.

<p>The "Library", below, refers to any such software library or work
which has been distributed under these terms.  A "work based on the
Library" means either the Library or any derivative work under
copyright law: that is to say, a work containing the Library or a
portion of it, either verbatim or with modifications and/or translated
straightforwardly into another language.  (Hereinafter, translation is
included without limitation in the term "modification".)

<p>"Source code" for a work means the preferred form of the work for
making modifications to it.  For a library, complete source code means
all the source code for all modules it contains, plus any associated
interface definition files, plus the scripts used to control compilation
and installation of the library.

<p>Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running a program using the Library is not restricted, and output from
such a program is covered only if its contents constitute a work based
on the Library (independent of the use of the Library in a tool for
writing it).  Whether that is true depends on what the Library does
and what the program that uses the Library does.

</p><li>You may copy and distribute verbatim copies of the Library's
complete source code as you receive it, in any medium, provided that
you conspicuously and appropriately publish on each copy an
appropriate copyright notice and disclaimer of warranty; keep intact
all the notices that refer to this License and to the absence of any
warranty; and distribute a copy of this License along with the
Library.

<p>You may charge a fee for the physical act of transferring a copy,
and you may at your option offer warranty protection in exchange for a
fee.

</p><li>You may modify your copy or copies of the Library or any portion
of it, thus forming a work based on the Library, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

<ol type=a start=1>
<li>The modified work must itself be a software library.

<li>You must cause the files modified to carry prominent notices
stating that you changed the files and the date of any change.

<li>You must cause the whole of the work to be licensed at no
charge to all third parties under the terms of this License.

<li>If a facility in the modified Library refers to a function or a
table of data to be supplied by an application program that uses
the facility, other than as an argument passed when the facility
is invoked, then you must make a good faith effort to ensure that,
in the event an application does not supply such function or
table, the facility still operates, and performs whatever part of
its purpose remains meaningful.

<p>(For example, a function in a library to compute square roots has
a purpose that is entirely well-defined independent of the
application.  Therefore, Subsection 2d requires that any
application-supplied function or table used by this function must
be optional: if the application does not supply it, the square
root function must still compute square roots.)
</ol>

<p>These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Library,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote
it.

<p>Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Library.

<p>In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

</p><li>You may opt to apply the terms of the ordinary GNU General Public
License instead of this License to a given copy of the Library.  To do
this, you must alter all the notices that refer to this License, so
that they refer to the ordinary GNU General Public License, version 2,
instead of to this License.  (If a newer version than version 2 of the
ordinary GNU General Public License has appeared, then you can specify
that version instead if you wish.)  Do not make any other change in
these notices.

<p>Once this change is made in a given copy, it is irreversible for
that copy, so the ordinary GNU General Public License applies to all
subsequent copies and derivative works made from that copy.

<p>This option is useful when you wish to copy part of the code of
the Library into a program that is not a library.

</p><li>You may copy and distribute the Library (or a portion or
derivative of it, under Section 2) in object code or executable form
under the terms of Sections 1 and 2 above provided that you accompany
it with the complete corresponding machine-readable source code, which
must be distributed under the terms of Sections 1 and 2 above on a
medium customarily used for software interchange.

<p>If distribution of object code is made by offering access to copy
from a designated place, then offering equivalent access to copy the
source code from the same place satisfies the requirement to
distribute the source code, even though third parties are not
compelled to copy the source along with the object code.

</p><li>A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a "work that uses the Library".  Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.

<p>However, linking a "work that uses the Library" with the Library
creates an executable that is a derivative of the Library (because it
contains portions of the Library), rather than a "work that uses the
library".  The executable is therefore covered by this License. 
Section 6 states terms for distribution of such executables.

<p>When a "work that uses the Library" uses material from a header file
that is part of the Library, the object code for the work may be a
derivative work of the Library even though the source code is not. 
Whether this is true is especially significant if the work can be
linked without the Library, or if the work is itself a library.  The
threshold for this to be true is not precisely defined by law.

<p>If such an object file uses only numerical parameters, data
structure layouts and accessors, and small macros and small inline
functions (ten lines or less in length), then the use of the object
file is unrestricted, regardless of whether it is legally a derivative
work.  (Executables containing this object code plus portions of the
Library will still fall under Section 6.)

<p>Otherwise, if the work is a derivative of the Library, you may
distribute the object code for the work under the terms of Section 6. 
Any executables containing that work also fall under Section 6,
whether or not they are linked directly with the Library itself.

</p><li>As an exception to the Sections above, you may also combine or
link a "work that uses the Library" with the Library to produce a
work containing portions of the Library, and distribute that work
under terms of your choice, provided that the terms permit
modification of the work for the customer's own use and reverse
engineering for debugging such modifications.

<p>You must give prominent notice with each copy of the work that the
Library is used in it and that the Library and its use are covered by
this License.  You must supply a copy of this License.  If the work
during execution displays copyright notices, you must include the
copyright notice for the Library among them, as well as a reference
directing the user to the copy of this License.  Also, you must do one
of these things:

<ol type=a start=1>
</p><li>Accompany the work with the complete corresponding
machine-readable source code for the Library including whatever
changes were used in the work (which must be distributed under
Sections 1 and 2 above); and, if the work is an executable linked
with the Library, with the complete machine-readable "work that
uses the Library", as object code and/or source code, so that the
user can modify the Library and then relink to produce a modified
executable containing the modified Library.  (It is understood
that the user who changes the contents of definitions files in the
Library will not necessarily be able to recompile the application
to use the modified definitions.)

<li>Use a suitable shared library mechanism for linking with the Library.  A
suitable mechanism is one that (1) uses at run time a copy of the
library already present on the user's computer system, rather than
copying library functions into the executable, and (2) will operate
properly with a modified version of the library, if the user installs
one, as long as the modified version is interface-compatible with the
version that the work was made with.

<li>Accompany the work with a written offer, valid for at
least three years, to give the same user the materials
specified in Subsection 6a, above, for a charge no more
than the cost of performing this distribution.

<li>If distribution of the work is made by offering access to copy
from a designated place, offer equivalent access to copy the above
specified materials from the same place.

<li>Verify that the user has already received a copy of these
materials or that you have already sent this user a copy.
</ol>

<p>For an executable, the required form of the "work that uses the
Library" must include any data and utility programs needed for
reproducing the executable from it.  However, as a special exception,
the materials to be distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies the
executable.

<p>It may happen that this requirement contradicts the license
restrictions of other proprietary libraries that do not normally
accompany the operating system.  Such a contradiction means you cannot
use both them and the Library together in an executable that you
distribute.

</p><li>You may place library facilities that are a work based on the
Library side-by-side in a single library together with other library
facilities not covered by this License, and distribute such a combined
library, provided that the separate distribution of the work based on
the Library and of the other library facilities is otherwise
permitted, and provided that you do these two things:

<ol type=a start=1>
<li>Accompany the combined library with a copy of the same work
based on the Library, uncombined with any other library
facilities.  This must be distributed under the terms of the
Sections above.

<li>Give prominent notice with the combined library of the fact
that part of it is a work based on the Library, and explaining
where to find the accompanying uncombined form of the same work.
</ol>

<li>You may not copy, modify, sublicense, link with, or distribute
the Library except as expressly provided under this License.  Any
attempt otherwise to copy, modify, sublicense, link with, or
distribute the Library is void, and will automatically terminate your
rights under this License.  However, parties who have received copies,
or rights, from you under this License will not have their licenses
terminated so long as such parties remain in full compliance.

<li>You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Library or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Library (or any work based on the
Library), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Library or works based on it.

<li>Each time you redistribute the Library (or any work based on the
Library), the recipient automatically receives a license from the
original licensor to copy, distribute, link with or modify the Library
subject to these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein. 
You are not responsible for enforcing compliance by third parties with
this License.

<li>If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Library at all.  For example, if a patent
license would not permit royalty-free redistribution of the Library by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library.

<p>If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply,
and the section as a whole is intended to apply in other circumstances.

<p>It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

<p>This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

</p><li>If the distribution and/or use of the Library is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Library under this License may add
an explicit geographical distribution limitation excluding those countries,
so that distribution is permitted only in or among countries not thus
excluded.  In such case, this License incorporates the limitation as if
written in the body of this License.

<li>The Free Software Foundation may publish revised and/or new
versions of the Lesser General Public License from time to time. 
Such new versions will be similar in spirit to the present version,
but may differ in detail to address new problems or concerns.

<p>Each version is given a distinguishing version number.  If the Library
specifies a version number of this License which applies to it and
"any later version", you have the option of following the terms and
conditions either of that version or of any later version published by
the Free Software Foundation.  If the Library does not specify a
license version number, you may choose any version ever published by
the Free Software Foundation.

</p><li>If you wish to incorporate parts of the Library into other free
programs whose distribution conditions are incompatible with these,
write to the author to ask for permission.  For software which is
copyrighted by the Free Software Foundation, write to the Free
Software Foundation; we sometimes make exceptions for this.  Our
decision will be guided by the two goals of preserving the free status
of all derivatives of our free software and of promoting the sharing
and reuse of software generally.

<li>BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW. 
EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE LIBRARY "AS IS" WITHOUT WARRANTY OF ANY
KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

<li>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.
</ol>

<h4>How to Apply These Terms to Your New Libraries</h4>

<p>If you develop a new library, and you want it to be of the greatest
possible use to the public, we recommend making it free software that
everyone can redistribute and change.  You can do so by permitting
redistribution under these terms (or, alternatively, under the terms of the
ordinary General Public License).

<p>To apply these terms, attach the following notices to the library.  It is
safest to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least the
"copyright" line and a pointer to where the full notice is found.

<br><pre><var>one line to give the library's name and an idea of what it does.</var>
Copyright (C) <var>year</var>  <var>name of author</var>

This library is free software; you can redistribute it and/or modify it
under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation; either version 2.1 of the License, or (at
your option) any later version.

This library is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307,
USA.
</pre>

<p>Also add information on how to contact you by electronic and paper mail.

<p>You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the library, if
necessary.  Here is a sample; alter the names:

<br><pre>Yoyodyne, Inc., hereby disclaims all copyright interest in the library
`Frob' (a library for tweaking knobs) written by James Random Hacker.

<var>signature of Ty Coon</var>, 1 April 1990
Ty Coon, President of Vice
</pre>

<p>That's all there is to it!

<p><hr>
Node:<a name="Documentation%20License">Documentation License</a>,
Next:<a rel=next accesskey=n href="#Concept%20Index">Concept Index</a>,
Previous:<a rel=previous accesskey=p href="#Copying">Copying</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>GNU Free Documentation License</h2>

<div align="center">Version 1.1, March 2000</div>
<br><pre>Copyright &copy; 2000 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre>

<ol type=1 start=0>
</p><li>PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
written document <dfn>free</dfn> in the sense of freedom: to assure everyone
the effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially.  Secondarily,
this License preserves for the author and publisher a way to get
credit for their work, while not being considered responsible for
modifications made by others.

<p>This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

</p><li>APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License.  The "Document", below, refers to any
such manual or work.  Any member of the public is a licensee, and is
addressed as "you".

<p>A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

<p>A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

<p>The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.

<p>The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.

<p>A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup has been designed to thwart or discourage
subsequent modification by readers is not Transparent.  A copy that is
not "Transparent" is called "Opaque".

<p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input format,
<small>SGML</small> or <small>XML</small> using a publicly available
<small>DTD</small>, and standard-conforming simple <small>HTML</small> designed
for human modification.  Opaque formats include PostScript,
<small>PDF</small>, proprietary formats that can be read and edited only by
proprietary word processors, <small>SGML</small> or <small>XML</small> for which
the <small>DTD</small> and/or processing tools are not generally available,
and the machine-generated <small>HTML</small> produced by some word
processors for output purposes only.

<p>The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

</p><li>VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

</p><li>COPYING IN QUANTITY

<p>If you publish printed copies of the Document numbering more than 100,
and the Document's license notice requires Cover Texts, you must enclose
the copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols.  If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.

<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

</p><li>MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

<ol type=A start=1>
</p><li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

<li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has less than five).

<li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

<li>Preserve all the copyright notices of the Document.

<li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

<li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

<li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

<li>Include an unaltered copy of this License.

<li>Preserve the section entitled "History", and its title, and add to
it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section entitled "History" in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

<li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the "History" section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

<li>In any section entitled "Acknowledgments" or "Dedications",
preserve the section's title, and preserve in the section all the
substance and tone of each of the contributor acknowledgments
and/or dedications given therein.

<li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

<li>Delete any section entitled "Endorsements".  Such a section
may not be included in the Modified Version.

<li>Do not retitle any existing section as "Endorsements"
or to conflict in title with any Invariant Section.
</ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

<p>You may add a section entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

</p><li>COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.

<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

<p>In the combination, you must combine any sections entitled "History"
in the various original documents, forming one section entitled
"History"; likewise combine any sections entitled "Acknowledgments",
and any sections entitled "Dedications".  You must delete all sections
entitled "Endorsements."

</p><li>COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

</p><li>AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version
of the Document, provided no compilation copyright is claimed for the
compilation.  Such a compilation is called an "aggregate", and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they
are not themselves derivative works of the Document.

<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document's Cover Texts may be placed on
covers that surround only the Document within the aggregate. 
Otherwise they must appear on covers around the whole aggregate.

</p><li>TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License provided that you also include the
original English version of this License.  In case of a disagreement
between the translation and the original English version of this
License, the original English version will prevail.

</p><li>TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.

</p><li>FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

<p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.
</ol>

<h4>ADDENDUM: How to use this License for your documents</h4>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<br><pre>  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.1
  or any later version published by the Free Software Foundation;
  with the Invariant Sections being <var>list their titles</var>, with the
  Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts being <var>list</var>.
  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre>

<p>If you have no Invariant Sections, write "with no Invariant Sections"
instead of saying which ones are invariant.  If you have no
Front-Cover Texts, write "no Front-Cover Texts" instead of
"Front-Cover Texts being <var>list</var>"; likewise for Back-Cover Texts.

<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<p><hr>
Node:<a name="Concept%20Index">Concept Index</a>,
Next:<a rel=next accesskey=n href="#Type%20Index">Type Index</a>,
Previous:<a rel=previous accesskey=p href="#Documentation%20License">Documentation License</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Concept Index</h2>

<ul compact>
<li>/etc/hostname: <a href="#Host%20Identification">Host Identification</a>
<li><code>/etc/nsswitch.conf</code>: <a href="#NSS%20Configuration%20File">NSS Configuration File</a>
<li>4.<var>n</var> BSD Unix: <a href="#Berkeley%20Unix">Berkeley Unix</a>
<li>__va_copy: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>_POSIX_OPTION_ORDER</code> environment variable.: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>_POSIX_SAVED_IDS</code>: <a href="#How%20Change%20Persona">How Change Persona</a>
<li>abort signal: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>aborting a program: <a href="#Aborting%20a%20Program">Aborting a Program</a>
<li>absolute file name: <a href="#File%20Name%20Resolution">File Name Resolution</a>
<li>absolute priority: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>absolute value functions: <a href="#Absolute%20Value">Absolute Value</a>
<li>accepting connections: <a href="#Accepting%20Connections">Accepting Connections</a>
<li>access permission for a file: <a href="#Access%20Permission">Access Permission</a>
<li>access, testing for: <a href="#Testing%20File%20Access">Testing File Access</a>
<li>accessing directories: <a href="#Accessing%20Directories">Accessing Directories</a>
<li>address of socket: <a href="#Socket%20Addresses">Socket Addresses</a>
<li>address space: <a href="#Program%20Basics">Program Basics</a>, <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>alarm signal: <a href="#Alarm%20Signals">Alarm Signals</a>
<li>alarms, setting: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>alignment (in obstacks): <a href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>
<li>alignment (with <code>malloc</code>): <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>
<li><code>alloca</code> disadvantages: <a href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>
<li><code>alloca</code> function: <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<li>allocating pseudo-terminals: <a href="#Allocation">Allocation</a>
<li>allocation (obstacks): <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>
<li>allocation debugging: <a href="#Allocation%20Debugging">Allocation Debugging</a>
<li>allocation hooks, for <code>malloc</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li>allocation of memory with <code>malloc</code>: <a href="#Basic%20Allocation">Basic Allocation</a>
<li>allocation size of string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>allocation statistics: <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>
<li>alphabetic character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>alphanumeric character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>append-access files: <a href="#File%20Position">File Position</a>
<li>argc (program argument count): <a href="#Program%20Arguments">Program Arguments</a>
<li>argp (program argument parser): <a href="#Argp">Argp</a>
<li>argp parser functions: <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<li>ARGP_HELP_FMT environment variable: <a href="#Argp%20User%20Customization">Argp User Customization</a>
<li>argument parsing with argp: <a href="#Argp">Argp</a>
<li>argument promotion: <a href="#Calling%20Variadics">Calling Variadics</a>
<li>argument vectors, null-character separated: <a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<li>arguments (variadic functions): <a href="#Receiving%20Arguments">Receiving Arguments</a>
<li>arguments, how many: <a href="#How%20Many%20Arguments">How Many Arguments</a>
<li>arguments, to program: <a href="#Program%20Arguments">Program Arguments</a>
<li>argv (program argument vector): <a href="#Program%20Arguments">Program Arguments</a>
<li>argz vectors (string vectors): <a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<li>arithmetic expansion: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>array comparison functions: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li>array copy functions: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>array search function: <a href="#Array%20Search%20Function">Array Search Function</a>
<li>array sort function: <a href="#Array%20Sort%20Function">Array Sort Function</a>
<li>ASCII character: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>assertions: <a href="#Consistency%20Checking">Consistency Checking</a>
<li>attributes of a file: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li>automatic freeing: <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<li>automatic memory allocation: <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>
<li>automatic storage class: <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>
<li>automatic storage with variable size: <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<li>background job: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>background job, launching: <a href="#Foreground%20and%20Background">Foreground and Background</a>
<li>backtrace: <a href="#Backtraces">Backtraces</a>
<li>backtrace_fd: <a href="#Backtraces">Backtraces</a>
<li>backtrace_symbols: <a href="#Backtraces">Backtraces</a>
<li>base (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>baud rate: <a href="#Line%20Speed">Line Speed</a>
<li>Berkeley Unix: <a href="#Berkeley%20Unix">Berkeley Unix</a>
<li>Bessel functions: <a href="#Special%20Functions">Special Functions</a>
<li>bias (of floating point number exponent): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>big-endian: <a href="#Byte%20Order">Byte Order</a>
<li>binary I/O to a stream: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li>binary search function (for arrays): <a href="#Array%20Search%20Function">Array Search Function</a>
<li>binary stream: <a href="#Binary%20Streams">Binary Streams</a>
<li>binding a socket address: <a href="#Socket%20Addresses">Socket Addresses</a>
<li>blank character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>block I/O to a stream: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li>blocked signals: <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>blocked signals, checking for: <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>
<li>blocking signals: <a href="#Blocking%20Signals">Blocking Signals</a>
<li>blocking signals, in a handler: <a href="#Blocking%20for%20Handler">Blocking for Handler</a>
<li>bootstrapping, and services: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li>break condition, detecting: <a href="#Input%20Modes">Input Modes</a>
<li>break condition, generating: <a href="#Line%20Control">Line Control</a>
<li>breaking a string into tokens: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li>broken pipe signal: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li>broken-down time: <a href="#Broken-down%20Time">Broken-down Time</a>, <a href="#Calendar%20Time">Calendar Time</a>
<li>BSD compatibility library: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li>BSD compatibility library.: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li>BSD Unix: <a href="#Berkeley%20Unix">Berkeley Unix</a>
<li>buffering of streams: <a href="#Stream%20Buffering">Stream Buffering</a>
<li>buffering, controlling: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li>bugs, reporting: <a href="#Reporting%20Bugs">Reporting Bugs</a>
<li>bus error: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>butterfly: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li>byte order conversion, for socket: <a href="#Byte%20Order">Byte Order</a>
<li>byte stream: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>C++ streams: <a href="#Streams%20and%20I18N">Streams and I18N</a>
<li>calendar time: <a href="#Time%20Basics">Time Basics</a>
<li>calendar time and broken-down time: <a href="#Broken-down%20Time">Broken-down Time</a>
<li>calendar, Gregorian: <a href="#Calendar%20Time">Calendar Time</a>
<li>calling variadic functions: <a href="#Calling%20Variadics">Calling Variadics</a>
<li>canonical input processing: <a href="#Canonical%20or%20Not">Canonical or Not</a>
<li>capacity limits, POSIX: <a href="#General%20Limits">General Limits</a>
<li>carrier detect: <a href="#Control%20Modes">Control Modes</a>
<li>case conversion of characters: <a href="#Case%20Conversion">Case Conversion</a>
<li>catching signals: <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>categories for locales: <a href="#Locale%20Categories">Locale Categories</a>
<li>change working directory: <a href="#Working%20Directory">Working Directory</a>
<li>changing the locale: <a href="#Setting%20the%20Locale">Setting the Locale</a>
<li>changing the size of a block (<code>malloc</code>): <a href="#Changing%20Block%20Size">Changing Block Size</a>
<li>changing the size of a block (obstacks): <a href="#Growing%20Objects">Growing Objects</a>
<li>channels: <a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<li>character case conversion: <a href="#Case%20Conversion">Case Conversion</a>
<li>character predicates: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>character testing: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>checking for pending signals: <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>
<li>child process: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>, <a href="#Processes">Processes</a>, <a href="#Processor%20Time">Processor Time</a>
<li>child process signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>chunks: <a href="#Obstack%20Chunks">Obstack Chunks</a>
<li>classes, floating-point: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li>classification of characters: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>cleaning up a stream: <a href="#Linked%20Channels">Linked Channels</a>
<li>clearing terminal input queue: <a href="#Line%20Control">Line Control</a>
<li>client: <a href="#Connections">Connections</a>
<li>clock ticks: <a href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<li>clock, high accuracy: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li>close-on-exec (file descriptor flag): <a href="#Descriptor%20Flags">Descriptor Flags</a>
<li>closing a file descriptor: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li>closing a socket: <a href="#Closing%20a%20Socket">Closing a Socket</a>
<li>closing a stream: <a href="#Closing%20Streams">Closing Streams</a>
<li>collating strings: <a href="#Collation%20Functions">Collation Functions</a>
<li>combining locales: <a href="#Choosing%20Locale">Choosing Locale</a>
<li>command argument syntax: <a href="#Argument%20Syntax">Argument Syntax</a>
<li>command arguments, parsing: <a href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<li>command line arguments: <a href="#Program%20Arguments">Program Arguments</a>
<li>command substitution: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>communication style (of a socket): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>comparing strings and arrays: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li>Comparison Function: <a href="#Comparison%20Functions">Comparison Functions</a>
<li>compiling: <a href="#Configuring%20and%20compiling">Configuring and compiling</a>
<li>complex exponentiation functions: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>complex logarithm functions: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>complex numbers: <a href="#Complex%20Numbers">Complex Numbers</a>
<li>complex trigonometric functions: <a href="#Trig%20Functions">Trig Functions</a>
<li>concatenating strings: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>configurations, all supported: <a href="#Supported%20Configurations">Supported Configurations</a>
<li>configuring: <a href="#Configuring%20and%20compiling">Configuring and compiling</a>
<li>conjugate complex numbers: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li>connecting a socket: <a href="#Connecting">Connecting</a>
<li>connection: <a href="#Connections">Connections</a>
<li>consistency checking: <a href="#Consistency%20Checking">Consistency Checking</a>
<li>consistency checking, of heap: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li>constants: <a href="#Mathematical%20Constants">Mathematical Constants</a>, <a href="#Memory%20Concepts">Memory Concepts</a>
<li>continue signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>control character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>control operations on files: <a href="#Control%20Operations">Control Operations</a>
<li>controlling process: <a href="#Controlling%20Terminal">Controlling Terminal</a>
<li>controlling terminal: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>controlling terminal, access to: <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>
<li>controlling terminal, determining: <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>
<li>controlling terminal, setting: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>conversion specifications (<code>printf</code>): <a href="#Formatted%20Output%20Basics">Formatted Output Basics</a>
<li>conversion specifications (<code>scanf</code>): <a href="#Formatted%20Input%20Basics">Formatted Input Basics</a>
<li>converting byte order: <a href="#Byte%20Order">Byte Order</a>
<li>converting case of characters: <a href="#Case%20Conversion">Case Conversion</a>
<li>converting file descriptor to stream: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>converting floats to integers: <a href="#Rounding%20Functions">Rounding Functions</a>
<li>converting group ID to group name: <a href="#Lookup%20Group">Lookup Group</a>
<li>converting group name to group ID: <a href="#Lookup%20Group">Lookup Group</a>
<li>converting host address to name: <a href="#Host%20Names">Host Names</a>
<li>converting host name to address: <a href="#Host%20Names">Host Names</a>
<li>converting network name to network number: <a href="#Networks%20Database">Networks Database</a>
<li>converting network number to network name: <a href="#Networks%20Database">Networks Database</a>
<li>converting port number to service name: <a href="#Services%20Database">Services Database</a>
<li>converting service name to port number: <a href="#Services%20Database">Services Database</a>
<li>converting string to collation order: <a href="#Collation%20Functions">Collation Functions</a>
<li>converting strings to numbers: <a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<li>converting user ID to user name: <a href="#Lookup%20User">Lookup User</a>
<li>converting user name to user ID: <a href="#Lookup%20User">Lookup User</a>
<li>cookie, for custom stream: <a href="#Streams%20and%20Cookies">Streams and Cookies</a>
<li>copy-on-write page fault: <a href="#Locked%20Memory%20Details">Locked Memory Details</a>
<li>copying strings and arrays: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>cpu priority: <a href="#Priority">Priority</a>
<li>CPU time: <a href="#Processor%20Time">Processor Time</a>, <a href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>, <a href="#Time%20Basics">Time Basics</a>
<li>create on open (file status flag): <a href="#Open-time%20Flags">Open-time Flags</a>
<li>creating a directory: <a href="#Creating%20Directories">Creating Directories</a>
<li>creating a FIFO special file: <a href="#FIFO%20Special%20Files">FIFO Special Files</a>
<li>creating a pipe: <a href="#Creating%20a%20Pipe">Creating a Pipe</a>
<li>creating a pipe to a subprocess: <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li>creating a process: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li>creating a socket: <a href="#Creating%20a%20Socket">Creating a Socket</a>
<li>creating a socket pair: <a href="#Socket%20Pairs">Socket Pairs</a>
<li>creating special files: <a href="#Making%20Special%20Files">Making Special Files</a>
<li>cube root function: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>currency symbols: <a href="#Currency%20Symbol">Currency Symbol</a>
<li>current limit: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>current working directory: <a href="#Working%20Directory">Working Directory</a>
<li>custom streams: <a href="#Custom%20Streams">Custom Streams</a>
<li>customizing <code>printf</code>: <a href="#Customizing%20Printf">Customizing Printf</a>
<li>data loss on sockets: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>databases: <a href="#Name%20Service%20Switch">Name Service Switch</a>
<li>datagram socket: <a href="#Datagrams">Datagrams</a>
<li>datagrams, transmitting: <a href="#Sending%20Datagrams">Sending Datagrams</a>
<li>date: <a href="#Time%20Basics">Time Basics</a>
<li>Daylight Saving Time: <a href="#Broken-down%20Time">Broken-down Time</a>
<li>decimal digit character: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>decimal-point separator: <a href="#General%20Numeric">General Numeric</a>
<li>declaration (compared to definition): <a href="#Header%20Files">Header Files</a>
<li>declaring variadic functions: <a href="#Calling%20Variadics">Calling Variadics</a>
<li>decompose complex numbers: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li>default action (for a signal): <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>default action for a signal: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li>default argument promotions: <a href="#Calling%20Variadics">Calling Variadics</a>
<li>default value, and NSS: <a href="#Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>
<li>defining new <code>printf</code> conversions: <a href="#Customizing%20Printf">Customizing Printf</a>
<li>definition (compared to declaration): <a href="#Header%20Files">Header Files</a>
<li>delayed suspend character: <a href="#Signal%20Characters">Signal Characters</a>
<li>deleting a directory: <a href="#Deleting%20Files">Deleting Files</a>
<li>deleting a file: <a href="#Deleting%20Files">Deleting Files</a>
<li>delivery of signals: <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>descriptors and streams: <a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<li>digit character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>directories, accessing: <a href="#Accessing%20Directories">Accessing Directories</a>
<li>directories, creating: <a href="#Creating%20Directories">Creating Directories</a>
<li>directories, deleting: <a href="#Deleting%20Files">Deleting Files</a>
<li>directory: <a href="#Directories">Directories</a>
<li>directory entry: <a href="#Directories">Directories</a>
<li>directory hierarchy: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li>directory stream: <a href="#Accessing%20Directories">Accessing Directories</a>
<li>disadvantages of <code>alloca</code>: <a href="#Disadvantages%20of%20Alloca">Disadvantages of Alloca</a>
<li>DISCARD character: <a href="#Other%20Special">Other Special</a>
<li>division by zero: <a href="#FP%20Exceptions">FP Exceptions</a>
<li>DNS: <a href="#Host%20Identification">Host Identification</a>
<li>DNS server unavailable: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li>domain (of socket): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>domain error: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li>domain name: <a href="#Host%20Identification">Host Identification</a>
<li>Domain Name System: <a href="#Host%20Identification">Host Identification</a>
<li>dot notation, for Internet addresses: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>DSUSP character: <a href="#Signal%20Characters">Signal Characters</a>
<li>duplicating file descriptors: <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li>dynamic memory allocation: <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>
<li>EBCDIC: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>echo of terminal input: <a href="#Local%20Modes">Local Modes</a>
<li>effective group ID: <a href="#Process%20Persona">Process Persona</a>
<li>effective user ID: <a href="#Process%20Persona">Process Persona</a>
<li>efficiency and <code>malloc</code>: <a href="#Efficiency%20and%20Malloc">Efficiency and Malloc</a>
<li>efficiency and obstacks: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li>efficiency of chunks: <a href="#Obstack%20Chunks">Obstack Chunks</a>
<li>EINTR, and restarting interrupted primitives: <a href="#Interrupted%20Primitives">Interrupted Primitives</a>
<li>elapsed time: <a href="#Elapsed%20Time">Elapsed Time</a>, <a href="#Time%20Basics">Time Basics</a>
<li>encryption: <a href="#Trivial%20Encryption">Trivial Encryption</a>
<li>end of file, on a stream: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li>end-of-file, on a file descriptor: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li>environment: <a href="#Environment%20Variables">Environment Variables</a>
<li>environment access: <a href="#Environment%20Access">Environment Access</a>
<li>environment representation: <a href="#Environment%20Access">Environment Access</a>
<li>environment variable: <a href="#Environment%20Variables">Environment Variables</a>
<li>environment vectors, null-character separated: <a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<li>envz vectors (environment vectors): <a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<li>EOF character: <a href="#Editing%20Characters">Editing Characters</a>
<li>EOL character: <a href="#Editing%20Characters">Editing Characters</a>
<li>EOL2 character: <a href="#Editing%20Characters">Editing Characters</a>
<li>epoch: <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>
<li>ERASE character: <a href="#Editing%20Characters">Editing Characters</a>
<li>errno: <a href="#System%20Calls">System Calls</a>
<li>error codes: <a href="#Error%20Reporting">Error Reporting</a>
<li>error messages, in argp: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li>error reporting: <a href="#Error%20Reporting">Error Reporting</a>
<li>errors, mathematical: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li>establishing a handler: <a href="#Signal%20Actions">Signal Actions</a>
<li>ethers: <a href="#NSS%20Basics">NSS Basics</a>
<li>EUC: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>EUC-JP: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li>exception: <a href="#Program%20Error%20Signals">Program Error Signals</a>, <a href="#FP%20Exceptions">FP Exceptions</a>
<li>exclusive lock: <a href="#File%20Locks">File Locks</a>
<li><code>exec</code> functions: <a href="#Executing%20a%20File">Executing a File</a>
<li>execing a program: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>executable: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>executing a file: <a href="#Executing%20a%20File">Executing a File</a>
<li>exit status: <a href="#Exit%20Status">Exit Status</a>
<li>exit status value: <a href="#Program%20Termination">Program Termination</a>
<li>exiting a program: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>expansion of shell words: <a href="#Word%20Expansion">Word Expansion</a>
<li>exponent (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>exponentiation functions: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>extending <code>printf</code>: <a href="#Customizing%20Printf">Customizing Printf</a>
<li>extracting file descriptor from stream: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>fcntl</code> function: <a href="#Control%20Operations">Control Operations</a>
<li>FDL, GNU Free Documentation License: <a href="#Documentation%20License">Documentation License</a>
<li>feature test macros: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li>field splitting: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>FIFO special file: <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<li>file access permission: <a href="#Access%20Permission">Access Permission</a>
<li>file access time: <a href="#File%20Times">File Times</a>
<li>file attribute modification time: <a href="#File%20Times">File Times</a>
<li>file attributes: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li>file creation mask: <a href="#Setting%20Permissions">Setting Permissions</a>
<li>file descriptor flags: <a href="#Descriptor%20Flags">Descriptor Flags</a>
<li>file descriptor sets, for <code>select</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li>file descriptors, standard: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>file locks: <a href="#File%20Locks">File Locks</a>
<li>file modification time: <a href="#File%20Times">File Times</a>
<li>file name: <a href="#File%20Names">File Names</a>
<li>file name component: <a href="#Directories">Directories</a>
<li>file name errors: <a href="#File%20Name%20Errors">File Name Errors</a>
<li>file name resolution: <a href="#File%20Name%20Resolution">File Name Resolution</a>
<li>file name translation flags: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>file names, multiple: <a href="#Hard%20Links">Hard Links</a>
<li>file owner: <a href="#File%20Owner">File Owner</a>
<li>file permission bits: <a href="#Permission%20Bits">Permission Bits</a>
<li>file pointer: <a href="#Streams">Streams</a>
<li>file position: <a href="#File%20Position">File Position</a>
<li>file positioning on a file descriptor: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li>file positioning on a stream: <a href="#File%20Positioning">File Positioning</a>
<li>file status flags: <a href="#File%20Status%20Flags">File Status Flags</a>
<li>files, accessing: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>filtering i/o through subprocess: <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li>flag character (<code>printf</code>): <a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li>flag character (<code>scanf</code>): <a href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>
<li>flags for <code>sigaction</code>: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li>flags, file name translation: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>flags, open-time action: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>floating point: <a href="#Floating%20Point%20Numbers">Floating Point Numbers</a>
<li>floating point, IEEE: <a href="#IEEE%20Floating%20Point">IEEE Floating Point</a>
<li>floating type measurements: <a href="#Floating%20Type%20Macros">Floating Type Macros</a>
<li>floating-point classes: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li>floating-point exception: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>flow control, terminal: <a href="#Line%20Control">Line Control</a>
<li>flushing a stream: <a href="#Flushing%20Buffers">Flushing Buffers</a>
<li>flushing terminal output queue: <a href="#Line%20Control">Line Control</a>
<li>foreground job: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>foreground job, launching: <a href="#Foreground%20and%20Background">Foreground and Background</a>
<li>forking a process: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li>format string, for <code>printf</code>: <a href="#Formatted%20Output">Formatted Output</a>
<li>format string, for <code>scanf</code>: <a href="#Formatted%20Input">Formatted Input</a>
<li>formatted input from a stream: <a href="#Formatted%20Input">Formatted Input</a>
<li>formatted messages: <a href="#Formatted%20Messages">Formatted Messages</a>
<li>formatted output to a stream: <a href="#Formatted%20Output">Formatted Output</a>
<li>FP arithmetic: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li>FQDN: <a href="#Host%20Identification">Host Identification</a>
<li>frame, real memory: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>free documentation: <a href="#Free%20Manuals">Free Manuals</a>
<li>freeing (obstacks): <a href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>
<li>freeing memory: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>freeing memory allocated with <code>malloc</code>: <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>
<li>fully buffered stream: <a href="#Buffering%20Concepts">Buffering Concepts</a>
<li>function prototypes (variadic): <a href="#Variadic%20Prototypes">Variadic Prototypes</a>
<li>gamma function: <a href="#Special%20Functions">Special Functions</a>
<li>gcvt_r: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li>gencat: <a href="#The%20gencat%20program">The gencat program</a>
<li>generation of signals: <a href="#Signal%20Generation">Signal Generation</a>
<li>generic i/o control operations: <a href="#IOCTLs">IOCTLs</a>
<li>globbing: <a href="#Globbing">Globbing</a>
<li>graphic character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>Gregorian calendar: <a href="#Calendar%20Time">Calendar Time</a>
<li>group: <a href="#NSS%20Basics">NSS Basics</a>
<li>group database: <a href="#Group%20Database">Group Database</a>
<li>group ID: <a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li>group name: <a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li>group owner of a file: <a href="#File%20Owner">File Owner</a>
<li>grouping of digits: <a href="#General%20Numeric">General Numeric</a>
<li>growing objects (in obstacks): <a href="#Growing%20Objects">Growing Objects</a>
<li>handling multiple signals: <a href="#Merged%20Signals">Merged Signals</a>
<li>hangup signal: <a href="#Termination%20Signals">Termination Signals</a>
<li>hard limit: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>hard link: <a href="#Hard%20Links">Hard Links</a>
<li>header files: <a href="#Header%20Files">Header Files</a>
<li>heap consistency checking: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li>heap, dynamic allocation from: <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<li>heap, freeing memory from: <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>
<li>hexadecimal digit character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>hidden bit (of floating point number mantissa): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>hierarchy, directory: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li>high-priority data: <a href="#Out-of-Band%20Data">Out-of-Band Data</a>
<li>high-resolution time: <a href="#Calendar%20Time">Calendar Time</a>
<li>holes in files: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li>home directory: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>HOME</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>hook functions (of custom streams): <a href="#Hook%20Functions">Hook Functions</a>
<li>host address, Internet: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>host name: <a href="#Host%20Identification">Host Identification</a>
<li>hostname: <a href="#Host%20Identification">Host Identification</a>
<li>hosts: <a href="#NSS%20Basics">NSS Basics</a>
<li>hosts database: <a href="#Host%20Names">Host Names</a>
<li>how many arguments: <a href="#How%20Many%20Arguments">How Many Arguments</a>
<li>hyperbolic functions: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li>identifying terminals: <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>
<li>IEEE 754: <a href="#Floating%20Point%20Numbers">Floating Point Numbers</a>
<li>IEEE floating point: <a href="#Floating%20Point%20Numbers">Floating Point Numbers</a>
<li>IEEE floating point representation: <a href="#IEEE%20Floating%20Point">IEEE Floating Point</a>
<li>IEEE Std 1003.1: <a href="#POSIX">POSIX</a>
<li>IEEE Std 1003.2: <a href="#POSIX">POSIX</a>
<li>ignore action for a signal: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li>illegal instruction: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>impossible events: <a href="#Consistency%20Checking">Consistency Checking</a>
<li>independent channels: <a href="#Independent%20Channels">Independent Channels</a>
<li>inexact exception: <a href="#FP%20Exceptions">FP Exceptions</a>
<li>infinity: <a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li>initial signal actions: <a href="#Initial%20Signal%20Actions">Initial Signal Actions</a>
<li>inode number: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li>input available signal: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li>input conversions, for <code>scanf</code>: <a href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>
<li>input from multiple files: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li>installation tools: <a href="#Tools%20for%20Compilation">Tools for Compilation</a>
<li>installing: <a href="#Running%20make%20install">Running make install</a>
<li>integer: <a href="#Integers">Integers</a>
<li>integer division functions: <a href="#Integer%20Division">Integer Division</a>
<li>integer type range: <a href="#Range%20of%20Type">Range of Type</a>
<li>integer type width: <a href="#Width%20of%20Type">Width of Type</a>
<li>interactive signals, from terminal: <a href="#Local%20Modes">Local Modes</a>
<li>interactive stop signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>internal representation: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>internationalization: <a href="#Locales">Locales</a>
<li>Internet host address: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>Internet namespace, for sockets: <a href="#Internet%20Namespace">Internet Namespace</a>
<li>interprocess communication, with FIFO: <a href="#FIFO%20Special%20Files">FIFO Special Files</a>
<li>interprocess communication, with pipes: <a href="#Creating%20a%20Pipe">Creating a Pipe</a>
<li>interprocess communication, with signals: <a href="#Kill%20Example">Kill Example</a>
<li>interprocess communication, with sockets: <a href="#Sockets">Sockets</a>
<li>interrupt character: <a href="#Signal%20Characters">Signal Characters</a>
<li>interrupt signal: <a href="#Termination%20Signals">Termination Signals</a>
<li>interrupt-driven input: <a href="#Interrupt%20Input">Interrupt Input</a>
<li>interrupting primitives: <a href="#Interrupted%20Primitives">Interrupted Primitives</a>
<li>interval: <a href="#Time%20Basics">Time Basics</a>
<li>interval timer, setting: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>INTR character: <a href="#Signal%20Characters">Signal Characters</a>
<li>invalid exception: <a href="#FP%20Exceptions">FP Exceptions</a>
<li>inverse complex hyperbolic functions: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li>inverse complex trigonometric functions: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li>inverse hyperbolic functions: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li>inverse trigonometric functions: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li>invocation of program: <a href="#Program%20Arguments">Program Arguments</a>
<li>IOCTLs: <a href="#IOCTLs">IOCTLs</a>
<li>ISO 10646: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>ISO 2022: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>ISO 6937: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>ISO C: <a href="#ISO%20C">ISO C</a>
<li>ISO-2022-JP: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li>ISO/IEC 9945-1: <a href="#POSIX">POSIX</a>
<li>ISO/IEC 9945-2: <a href="#POSIX">POSIX</a>
<li>job: <a href="#Job%20Control">Job Control</a>
<li>job control: <a href="#Job%20Control">Job Control</a>
<li>job control functions: <a href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<li>job control is optional: <a href="#Job%20Control%20is%20Optional">Job Control is Optional</a>
<li>job control signals: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>job control, enabling: <a href="#Initializing%20the%20Shell">Initializing the Shell</a>
<li>Kermit the frog: <a href="#Search%2fSort%20Example">Search/Sort Example</a>
<li>kernel call: <a href="#System%20Calls">System Calls</a>
<li>kernel header files: <a href="#Linux">Linux</a>
<li>KILL character: <a href="#Editing%20Characters">Editing Characters</a>
<li>kill signal: <a href="#Termination%20Signals">Termination Signals</a>
<li>killing a process: <a href="#Signaling%20Another%20Process">Signaling Another Process</a>
<li>Korn Shell: <a href="#Wildcard%20Matching">Wildcard Matching</a>
<li><code>LANG</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>LANG environment variable: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li>launching jobs: <a href="#Launching%20Jobs">Launching Jobs</a>
<li><code>LC_ALL</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>LC_ALL environment variable: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li><code>LC_COLLATE</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>LC_CTYPE</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>LC_MESSAGES</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>LC_MESSAGES environment variable: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li><code>LC_MONETARY</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>LC_NUMERIC</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>LC_TIME</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>leap second: <a href="#Broken-down%20Time">Broken-down Time</a>
<li>length of string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>level, for socket options: <a href="#Socket%20Options">Socket Options</a>
<li>LGPL, Lesser General Public License: <a href="#Copying">Copying</a>
<li>library: <a href="#Introduction">Introduction</a>
<li>limit: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>limits on resource usage: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>limits, file name length: <a href="#Limits%20for%20Files">Limits for Files</a>
<li>limits, floating types: <a href="#Floating%20Type%20Macros">Floating Type Macros</a>
<li>limits, integer types: <a href="#Range%20of%20Type">Range of Type</a>
<li>limits, link count of files: <a href="#Limits%20for%20Files">Limits for Files</a>
<li>limits, number of open files: <a href="#General%20Limits">General Limits</a>
<li>limits, number of processes: <a href="#General%20Limits">General Limits</a>
<li>limits, number of supplementary group IDs: <a href="#General%20Limits">General Limits</a>
<li>limits, pipe buffer size: <a href="#Limits%20for%20Files">Limits for Files</a>
<li>limits, POSIX: <a href="#General%20Limits">General Limits</a>
<li>limits, program argument size: <a href="#General%20Limits">General Limits</a>
<li>limits, terminal input queue: <a href="#Limits%20for%20Files">Limits for Files</a>
<li>limits, time zone name length: <a href="#General%20Limits">General Limits</a>
<li>line buffered stream: <a href="#Buffering%20Concepts">Buffering Concepts</a>
<li>line speed: <a href="#Line%20Speed">Line Speed</a>
<li>lines (in a text file): <a href="#Binary%20Streams">Binary Streams</a>
<li>link: <a href="#Directories">Directories</a>
<li>link, hard: <a href="#Hard%20Links">Hard Links</a>
<li>link, soft: <a href="#Symbolic%20Links">Symbolic Links</a>
<li>link, symbolic: <a href="#Symbolic%20Links">Symbolic Links</a>
<li>linked channels: <a href="#Linked%20Channels">Linked Channels</a>
<li>listening (sockets): <a href="#Listening">Listening</a>
<li>literals: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>little-endian: <a href="#Byte%20Order">Byte Order</a>
<li>LNEXT character: <a href="#Other%20Special">Other Special</a>
<li>load average: <a href="#Processor%20Resources">Processor Resources</a>
<li>local namespace, for sockets: <a href="#Local%20Namespace">Local Namespace</a>
<li>local network address number: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>local time: <a href="#Calendar%20Time">Calendar Time</a>
<li>locale categories: <a href="#Locale%20Categories">Locale Categories</a>
<li>locale, changing: <a href="#Setting%20the%20Locale">Setting the Locale</a>
<li>locales: <a href="#Locales">Locales</a>
<li>locking pages: <a href="#Locking%20Pages">Locking Pages</a>
<li>logarithm functions: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>login name: <a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li>login name, determining: <a href="#Who%20Logged%20In">Who Logged In</a>
<li><code>LOGNAME</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>long jumps: <a href="#Non-Local%20Exits">Non-Local Exits</a>
<li>long-named options: <a href="#Argument%20Syntax">Argument Syntax</a>
<li>longjmp: <a href="#Advantages%20of%20Alloca">Advantages of Alloca</a>
<li>loss of data on sockets: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>lost resource signal: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li>lower-case character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>macros: <a href="#Obstack%20Functions">Obstack Functions</a>
<li><code>main</code> function: <a href="#Program%20Arguments">Program Arguments</a>
<li>malloc debugger: <a href="#Allocation%20Debugging">Allocation Debugging</a>
<li><code>malloc</code> function: <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<li>mantissa (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>matching failure, in <code>scanf</code>: <a href="#Formatted%20Input%20Basics">Formatted Input Basics</a>
<li>math errors: <a href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>
<li>mathematical constants: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li>maximum: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li>maximum field width (<code>scanf</code>): <a href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>
<li>maximum limit: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>maximum possible integer: <a href="#Integers">Integers</a>
<li>measurements of floating types: <a href="#Floating%20Type%20Macros">Floating Type Macros</a>
<li>memory allocation: <a href="#Memory">Memory</a>
<li>memory lock: <a href="#Locking%20Pages">Locking Pages</a>
<li>memory mapped file: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>memory mapped I/O: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>memory page: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>merging of signals: <a href="#Merged%20Signals">Merged Signals</a>
<li>MIN termios slot: <a href="#Noncanonical%20Input">Noncanonical Input</a>
<li>minimum: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li>minimum field width (<code>printf</code>): <a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li>minimum possible integer: <a href="#Integers">Integers</a>
<li>mixing descriptors and streams: <a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<li>modem disconnect: <a href="#Control%20Modes">Control Modes</a>
<li>modem status lines: <a href="#Control%20Modes">Control Modes</a>
<li>monetary value formatting: <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<li>multi-threaded application: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li>multibyte character: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>multibyte character string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>multibyte string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>multiple names for one file: <a href="#Hard%20Links">Hard Links</a>
<li>multiplexing input: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li>multiply-add: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li>name of running program: <a href="#Error%20Messages">Error Messages</a>
<li>name of socket: <a href="#Socket%20Addresses">Socket Addresses</a>
<li>Name Service Switch: <a href="#Name%20Service%20Switch">Name Service Switch</a>
<li>name space: <a href="#Reserved%20Names">Reserved Names</a>
<li>names of signals: <a href="#Standard%20Signals">Standard Signals</a>
<li>namespace (of socket): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>NaN: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>, <a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li>Netgroup: <a href="#Netgroup%20Data">Netgroup Data</a>
<li>netgroup: <a href="#NSS%20Basics">NSS Basics</a>
<li>network byte order: <a href="#Byte%20Order">Byte Order</a>
<li>network number: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>network protocol: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>networks: <a href="#NSS%20Basics">NSS Basics</a>
<li>networks database: <a href="#Networks%20Database">Networks Database</a>
<li>NIS: <a href="#Host%20Identification">Host Identification</a>
<li>NIS domain name: <a href="#Host%20Identification">Host Identification</a>
<li>nisplus, and booting: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li>nisplus, and completeness: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><code>NLSPATH</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>NLSPATH environment variable: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li>non-blocking open: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>non-local exit, from signal handler: <a href="#Longjmp%20in%20Handler">Longjmp in Handler</a>
<li>non-local exits: <a href="#Non-Local%20Exits">Non-Local Exits</a>
<li>noncanonical input processing: <a href="#Canonical%20or%20Not">Canonical or Not</a>
<li>normalization functions (floating-point): <a href="#Normalization%20Functions">Normalization Functions</a>
<li>normalized floating point number: <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>not a number: <a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li>NSS: <a href="#Name%20Service%20Switch">Name Service Switch</a>
<li><code>nsswitch.conf</code>: <a href="#NSS%20Configuration%20File">NSS Configuration File</a>
<li>null character: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>null pointer constant: <a href="#Null%20Pointer%20Constant">Null Pointer Constant</a>
<li>null wide character: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>number of arguments passed: <a href="#How%20Many%20Arguments">How Many Arguments</a>
<li>number syntax, parsing: <a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<li>numeric value formatting: <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<li>obstack status: <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>
<li>obstacks: <a href="#Obstacks">Obstacks</a>
<li>open-time action flags: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>opening a file: <a href="#I%2fO%20Concepts">I/O Concepts</a>
<li>opening a file descriptor: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li>opening a pipe: <a href="#Creating%20a%20Pipe">Creating a Pipe</a>
<li>opening a pseudo-terminal pair: <a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>
<li>opening a socket: <a href="#Creating%20a%20Socket">Creating a Socket</a>
<li>opening a socket pair: <a href="#Socket%20Pairs">Socket Pairs</a>
<li>opening a stream: <a href="#Opening%20Streams">Opening Streams</a>
<li>Optimization: <a href="#FP%20Function%20Optimizations">FP Function Optimizations</a>
<li>optimizing NSS: <a href="#Notes%20on%20NSS%20Configuration%20File">Notes on NSS Configuration File</a>
<li>option parsing with argp: <a href="#Argp">Argp</a>
<li>optional arguments: <a href="#Variadic%20Functions">Variadic Functions</a>
<li>optional POSIX features: <a href="#System%20Options">System Options</a>
<li>orientation, stream: <a href="#Streams%20and%20I18N">Streams and I18N</a>, <a href="#Opening%20Streams">Opening Streams</a>
<li>orphaned process group: <a href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>
<li>out-of-band data: <a href="#Out-of-Band%20Data">Out-of-Band Data</a>
<li>output conversions, for <code>printf</code>: <a href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>
<li>output possible signal: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li>overflow exception: <a href="#FP%20Exceptions">FP Exceptions</a>
<li>owner of a file: <a href="#File%20Owner">File Owner</a>
<li>packet: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>page boundary: <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>
<li>page fault: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>page fault, copy-on-write: <a href="#Locked%20Memory%20Details">Locked Memory Details</a>
<li>page frame: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>page, memory: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>page, virtual memory: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>paging: <a href="#Locking%20Pages">Locking Pages</a>, <a href="#Memory%20Concepts">Memory Concepts</a>
<li>parameter promotion: <a href="#String%2fArray%20Conventions">String/Array Conventions</a>
<li>parent directory: <a href="#File%20Name%20Resolution">File Name Resolution</a>
<li>parent process: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>, <a href="#Processes">Processes</a>
<li>parity checking: <a href="#Input%20Modes">Input Modes</a>
<li>parsing a template string: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li>parsing numbers (in formatted input): <a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<li>parsing program arguments: <a href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<li>parsing tokens from a string: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li>passwd: <a href="#NSS%20Basics">NSS Basics</a>
<li>password database: <a href="#User%20Database">User Database</a>
<li><code>PATH</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li><code>pause</code> function: <a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<li>peeking at input: <a href="#Unreading">Unreading</a>
<li>pending signals: <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>pending signals, checking for: <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>
<li>period of time: <a href="#Time%20Basics">Time Basics</a>
<li>permission to access a file: <a href="#Access%20Permission">Access Permission</a>
<li>persona: <a href="#Process%20Persona">Process Persona</a>
<li>physical address: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>physical memory: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>pi (trigonometric constant): <a href="#Trig%20Functions">Trig Functions</a>
<li>pipe: <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<li>pipe signal: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li>pipe to a subprocess: <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li>port number: <a href="#Ports">Ports</a>
<li>positioning a file descriptor: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li>positioning a stream: <a href="#File%20Positioning">File Positioning</a>
<li>positive difference: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li>POSIX: <a href="#POSIX">POSIX</a>
<li>POSIX capacity limits: <a href="#General%20Limits">General Limits</a>
<li>POSIX optional features: <a href="#System%20Options">System Options</a>
<li>POSIX.1: <a href="#POSIX">POSIX</a>
<li>POSIX.2: <a href="#POSIX">POSIX</a>
<li>power functions: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>precision (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>precision (<code>printf</code>): <a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li>predicates on arrays: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li>predicates on characters: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>predicates on strings: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li>preemptive scheduling: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>primitives, interrupting: <a href="#Interrupted%20Primitives">Interrupted Primitives</a>
<li>printing character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>priority of a process: <a href="#Priority">Priority</a>
<li>priority, absolute: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>process: <a href="#Processes">Processes</a>, <a href="#Program%20Basics">Program Basics</a>
<li>process completion: <a href="#Process%20Completion">Process Completion</a>
<li>process group functions: <a href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<li>process group ID: <a href="#Launching%20Jobs">Launching Jobs</a>
<li>process group leader: <a href="#Launching%20Jobs">Launching Jobs</a>
<li>process groups: <a href="#Job%20Control">Job Control</a>
<li>process ID: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li>process image: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li>process lifetime: <a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li>process priority: <a href="#Priority">Priority</a>
<li>process signal mask: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li>process termination: <a href="#Program%20Termination">Program Termination</a>
<li>processor time: <a href="#Processor%20Time">Processor Time</a>, <a href="#Time%20Basics">Time Basics</a>
<li>profiling alarm signal: <a href="#Alarm%20Signals">Alarm Signals</a>
<li>profiling timer: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>program: <a href="#Program%20Basics">Program Basics</a>
<li>program argument syntax: <a href="#Argument%20Syntax">Argument Syntax</a>
<li>program arguments: <a href="#Program%20Arguments">Program Arguments</a>
<li>program arguments, parsing: <a href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
<li>program error signals: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>program name: <a href="#Error%20Messages">Error Messages</a>
<li>program startup: <a href="#Program%20Arguments">Program Arguments</a>
<li>program termination: <a href="#Program%20Termination">Program Termination</a>
<li>program termination signals: <a href="#Termination%20Signals">Termination Signals</a>
<li>programming your own streams: <a href="#Custom%20Streams">Custom Streams</a>
<li>project complex numbers: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li>protocol (of socket): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>protocol family: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>protocols: <a href="#NSS%20Basics">NSS Basics</a>
<li>protocols database: <a href="#Protocols%20Database">Protocols Database</a>
<li>prototypes for variadic functions: <a href="#Variadic%20Prototypes">Variadic Prototypes</a>
<li>pseudo-random numbers: <a href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<li>pseudo-terminals: <a href="#Pseudo-Terminals">Pseudo-Terminals</a>
<li>punctuation character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>pushing input back: <a href="#Unreading">Unreading</a>
<li>quick sort function (for arrays): <a href="#Array%20Sort%20Function">Array Sort Function</a>
<li>QUIT character: <a href="#Signal%20Characters">Signal Characters</a>
<li>quit signal: <a href="#Termination%20Signals">Termination Signals</a>
<li>quote removal: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>race conditions, relating to job control: <a href="#Launching%20Jobs">Launching Jobs</a>
<li>race conditions, relating to signals: <a href="#Signals%20in%20Handler">Signals in Handler</a>
<li>radix (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>raising signals: <a href="#Generating%20Signals">Generating Signals</a>
<li>random numbers: <a href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<li>random-access files: <a href="#File%20Position">File Position</a>
<li>range error: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li>range of integer type: <a href="#Range%20of%20Type">Range of Type</a>
<li>read lock: <a href="#File%20Locks">File Locks</a>
<li>reading from a directory: <a href="#Accessing%20Directories">Accessing Directories</a>
<li>reading from a file descriptor: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li>reading from a socket: <a href="#Transferring%20Data">Transferring Data</a>
<li>reading from a stream, by blocks: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li>reading from a stream, by characters: <a href="#Character%20Input">Character Input</a>
<li>reading from a stream, formatted: <a href="#Formatted%20Input">Formatted Input</a>
<li>ready to run: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>real group ID: <a href="#Process%20Persona">Process Persona</a>
<li>real user ID: <a href="#Process%20Persona">Process Persona</a>
<li>real-time timer: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>realtime CPU scheduling: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>realtime processing: <a href="#Why%20Lock%20Pages">Why Lock Pages</a>
<li>realtime scheduling: <a href="#Realtime%20Scheduling">Realtime Scheduling</a>
<li>receiving datagrams: <a href="#Receiving%20Datagrams">Receiving Datagrams</a>
<li>record locking: <a href="#File%20Locks">File Locks</a>
<li>redirecting input and output: <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li>reentrant functions: <a href="#Nonreentrancy">Nonreentrancy</a>
<li>reentrant NSS functions: <a href="#NSS%20Module%20Names">NSS Module Names</a>
<li>relative file name: <a href="#File%20Name%20Resolution">File Name Resolution</a>
<li>removal of quotes: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>removing a file: <a href="#Deleting%20Files">Deleting Files</a>
<li>removing macros that shadow functions: <a href="#Macro%20Definitions">Macro Definitions</a>
<li>renaming a file: <a href="#Renaming%20Files">Renaming Files</a>
<li>reporting bugs: <a href="#Reporting%20Bugs">Reporting Bugs</a>
<li>reporting errors: <a href="#Error%20Reporting">Error Reporting</a>
<li>REPRINT character: <a href="#Editing%20Characters">Editing Characters</a>
<li>reserved names: <a href="#Reserved%20Names">Reserved Names</a>
<li>resource limits: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>restarting interrupted primitives: <a href="#Interrupted%20Primitives">Interrupted Primitives</a>
<li>restrictions on signal handler functions: <a href="#Nonreentrancy">Nonreentrancy</a>
<li>root directory: <a href="#File%20Name%20Resolution">File Name Resolution</a>
<li>Rot13: <a href="#Trivial%20Encryption">Trivial Encryption</a>
<li>rpc: <a href="#NSS%20Basics">NSS Basics</a>
<li>runnable process: <a href="#Absolute%20Priority">Absolute Priority</a>
<li>running a command: <a href="#Running%20a%20Command">Running a Command</a>
<li>saved set-group-ID: <a href="#How%20Change%20Persona">How Change Persona</a>
<li>saved set-user-ID: <a href="#How%20Change%20Persona">How Change Persona</a>
<li>scanning the group list: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li>scanning the user list: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li>scatter-gather: <a href="#Scatter-Gather">Scatter-Gather</a>
<li>scheduling, traditional: <a href="#Traditional%20Scheduling">Traditional Scheduling</a>
<li>search function (for arrays): <a href="#Array%20Search%20Function">Array Search Function</a>
<li>search functions (for strings): <a href="#Search%20Functions">Search Functions</a>
<li>seed (for random numbers): <a href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<li>seeking on a file descriptor: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li>seeking on a stream: <a href="#File%20Positioning">File Positioning</a>
<li>segmentation violation: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li>sending a datagram: <a href="#Sending%20Datagrams">Sending Datagrams</a>
<li>sending signals: <a href="#Generating%20Signals">Generating Signals</a>
<li>sequential-access files: <a href="#File%20Position">File Position</a>
<li>server: <a href="#Connections">Connections</a>
<li>services: <a href="#NSS%20Basics">NSS Basics</a>
<li>services database: <a href="#Services%20Database">Services Database</a>
<li>session: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>, <a href="#Job%20Control">Job Control</a>
<li>session leader: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>setting an alarm: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>setuid</code> programs: <a href="#How%20Change%20Persona">How Change Persona</a>
<li>setuid programs and file access: <a href="#Testing%20File%20Access">Testing File Access</a>
<li>severity class: <a href="#Adding%20Severity%20Classes">Adding Severity Classes</a>, <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li>sgettext: <a href="#GUI%20program%20problems">GUI program problems</a>
<li>shadow: <a href="#NSS%20Basics">NSS Basics</a>
<li>shadowing functions with macros: <a href="#Macro%20Definitions">Macro Definitions</a>
<li>shared lock: <a href="#File%20Locks">File Locks</a>
<li>shared memory: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>shell: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>shift state: <a href="#Keeping%20the%20state">Keeping the state</a>
<li>Shift_JIS: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>shrinking objects: <a href="#Growing%20Objects">Growing Objects</a>
<li>shutting down a socket: <a href="#Closing%20a%20Socket">Closing a Socket</a>
<li><code>sigaction</code> flags: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li><code>sigaction</code> function: <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>
<li><code>SIGCHLD</code>, handling of: <a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>
<li>sign (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li>signal: <a href="#Signal%20Handling">Signal Handling</a>, <a href="#FP%20Exceptions">FP Exceptions</a>
<li>signal action: <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>signal actions: <a href="#Signal%20Actions">Signal Actions</a>
<li>signal flags: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li><code>signal</code> function: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li>signal handler function: <a href="#Defining%20Handlers">Defining Handlers</a>
<li>signal mask: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li>signal messages: <a href="#Signal%20Messages">Signal Messages</a>
<li>signal names: <a href="#Standard%20Signals">Standard Signals</a>
<li>signal number: <a href="#Standard%20Signals">Standard Signals</a>
<li>signal set: <a href="#Signal%20Sets">Signal Sets</a>
<li>signals, generating: <a href="#Generating%20Signals">Generating Signals</a>
<li>signedness: <a href="#Integers">Integers</a>
<li>significand (of floating point number): <a href="#Floating%20Point%20Concepts">Floating Point Concepts</a>
<li><code>SIGTTIN</code>, from background job: <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>
<li><code>SIGTTOU</code>, from background job: <a href="#Access%20to%20the%20Terminal">Access to the Terminal</a>
<li>simple time: <a href="#Calendar%20Time">Calendar Time</a>
<li>single-byte string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>size of string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>SJIS: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>socket: <a href="#Sockets">Sockets</a>
<li>socket address (name) binding: <a href="#Socket%20Addresses">Socket Addresses</a>
<li>socket domain: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>socket namespace: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>socket option level: <a href="#Socket%20Options">Socket Options</a>
<li>socket options: <a href="#Socket%20Options">Socket Options</a>
<li>socket pair: <a href="#Socket%20Pairs">Socket Pairs</a>
<li>socket protocol: <a href="#Socket%20Concepts">Socket Concepts</a>
<li>socket shutdown: <a href="#Closing%20a%20Socket">Closing a Socket</a>
<li>socket, client actions: <a href="#Connecting">Connecting</a>
<li>socket, closing: <a href="#Closing%20a%20Socket">Closing a Socket</a>
<li>socket, connecting: <a href="#Connecting">Connecting</a>
<li>socket, creating: <a href="#Creating%20a%20Socket">Creating a Socket</a>
<li>socket, initiating a connection: <a href="#Connecting">Connecting</a>
<li>sockets, accepting connections: <a href="#Accepting%20Connections">Accepting Connections</a>
<li>sockets, listening: <a href="#Listening">Listening</a>
<li>sockets, server actions: <a href="#Listening">Listening</a>
<li>soft limit: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>soft link: <a href="#Symbolic%20Links">Symbolic Links</a>
<li>sort function (for arrays): <a href="#Array%20Sort%20Function">Array Sort Function</a>
<li>sparse files: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li>special files: <a href="#Making%20Special%20Files">Making Special Files</a>
<li>special functions: <a href="#Special%20Functions">Special Functions</a>
<li>specified action (for a signal): <a href="#Delivery%20of%20Signal">Delivery of Signal</a>
<li>speed of execution: <a href="#Why%20Lock%20Pages">Why Lock Pages</a>
<li>square root function: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li>stable sorting: <a href="#Array%20Sort%20Function">Array Sort Function</a>
<li>standard dot notation, for Internet addresses: <a href="#Abstract%20Host%20Addresses">Abstract Host Addresses</a>
<li>standard environment variables: <a href="#Standard%20Environment">Standard Environment</a>
<li>standard error file descriptor: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>standard error stream: <a href="#Standard%20Streams">Standard Streams</a>
<li>standard file descriptors: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>standard input file descriptor: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>standard input stream: <a href="#Standard%20Streams">Standard Streams</a>
<li>standard output file descriptor: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>standard output stream: <a href="#Standard%20Streams">Standard Streams</a>
<li>standard streams: <a href="#Standard%20Streams">Standard Streams</a>
<li>standards: <a href="#Standards%20and%20Portability">Standards and Portability</a>
<li>START character: <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>
<li>startup of program: <a href="#Program%20Arguments">Program Arguments</a>
<li>stateful: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>, <a href="#iconv%20Examples">iconv Examples</a>, <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>, <a href="#Converting%20Strings">Converting Strings</a>, <a href="#Converting%20a%20Character">Converting a Character</a>, <a href="#Keeping%20the%20state">Keeping the state</a>
<li>static memory allocation: <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>
<li>static storage class: <a href="#Memory%20Allocation%20and%20C">Memory Allocation and C</a>
<li>STATUS character: <a href="#Other%20Special">Other Special</a>
<li>status codes: <a href="#Error%20Reporting">Error Reporting</a>
<li>status of a file: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li>status of obstack: <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>
<li>sticky bit: <a href="#Permission%20Bits">Permission Bits</a>
<li>STOP character: <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>
<li>stop signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>stopped job: <a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li>stopped jobs, continuing: <a href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>
<li>stopped jobs, detecting: <a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>
<li>storage allocation: <a href="#Memory">Memory</a>
<li>stream (sockets): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>stream orientation: <a href="#Streams%20and%20I18N">Streams and I18N</a>, <a href="#Opening%20Streams">Opening Streams</a>
<li>stream, for I/O to a string: <a href="#String%20Streams">String Streams</a>
<li>streams and descriptors: <a href="#Stream%2fDescriptor%20Precautions">Stream/Descriptor Precautions</a>
<li>streams, and file descriptors: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li>streams, C++: <a href="#Streams%20and%20I18N">Streams and I18N</a>
<li>streams, standard: <a href="#Standard%20Streams">Standard Streams</a>
<li>string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>string allocation: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>string collation functions: <a href="#Collation%20Functions">Collation Functions</a>
<li>string comparison functions: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li>string concatenation functions: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>string copy functions: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>string length: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>string literal: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>string search functions: <a href="#Search%20Functions">Search Functions</a>
<li>string stream: <a href="#String%20Streams">String Streams</a>
<li>string vectors, null-character separated: <a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<li>string, representation of: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>style of communication (of a socket): <a href="#Socket%20Concepts">Socket Concepts</a>
<li>subshell: <a href="#Initializing%20the%20Shell">Initializing the Shell</a>
<li>substitution of variables and commands: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>successive signals: <a href="#Merged%20Signals">Merged Signals</a>
<li>summer time: <a href="#Broken-down%20Time">Broken-down Time</a>
<li>SunOS: <a href="#Berkeley%20Unix">Berkeley Unix</a>
<li>supplementary group IDs: <a href="#Process%20Persona">Process Persona</a>
<li>SUSP character: <a href="#Signal%20Characters">Signal Characters</a>
<li>suspend character: <a href="#Signal%20Characters">Signal Characters</a>
<li>SVID: <a href="#SVID">SVID</a>
<li>swap space: <a href="#Memory%20Concepts">Memory Concepts</a>
<li>symbolic link: <a href="#Symbolic%20Links">Symbolic Links</a>
<li>symbolic link, opening: <a href="#Open-time%20Flags">Open-time Flags</a>
<li>synchronizing: <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>, <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>
<li>syntax error messages, in argp: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li>syntax, for program arguments: <a href="#Argument%20Syntax">Argument Syntax</a>
<li>syntax, for reading numbers: <a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<li>sysconf: <a href="#Processor%20Resources">Processor Resources</a>, <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li>system call: <a href="#System%20Calls">System Calls</a>
<li>system call number: <a href="#System%20Calls">System Calls</a>
<li>System V Unix: <a href="#SVID">SVID</a>
<li>TCP (Internet protocol): <a href="#Protocols%20Database">Protocols Database</a>
<li>template, for <code>printf</code>: <a href="#Formatted%20Output">Formatted Output</a>
<li>template, for <code>scanf</code>: <a href="#Formatted%20Input">Formatted Input</a>
<li><code>TERM</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>terminal flow control: <a href="#Line%20Control">Line Control</a>
<li>terminal identification: <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>
<li>terminal input queue: <a href="#I%2fO%20Queues">I/O Queues</a>
<li>terminal input queue, clearing: <a href="#Line%20Control">Line Control</a>
<li>terminal input signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>terminal line control functions: <a href="#Line%20Control">Line Control</a>
<li>terminal line speed: <a href="#Line%20Speed">Line Speed</a>
<li>terminal mode data types: <a href="#Mode%20Data%20Types">Mode Data Types</a>
<li>terminal mode functions: <a href="#Mode%20Functions">Mode Functions</a>
<li>terminal modes, BSD: <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>
<li>terminal output queue: <a href="#I%2fO%20Queues">I/O Queues</a>
<li>terminal output queue, flushing: <a href="#Line%20Control">Line Control</a>
<li>terminal output signal: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li>terminated jobs, detecting: <a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>
<li>termination signal: <a href="#Termination%20Signals">Termination Signals</a>
<li>testing access permission: <a href="#Testing%20File%20Access">Testing File Access</a>
<li>testing exit status of child process: <a href="#Process%20Completion">Process Completion</a>
<li>text stream: <a href="#Binary%20Streams">Binary Streams</a>
<li>thrashing: <a href="#Memory%20Subsystem">Memory Subsystem</a>
<li>thread of control: <a href="#Program%20Basics">Program Basics</a>
<li>threads: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li>ticks, clock: <a href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<li>tilde expansion: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>time: <a href="#Time%20Basics">Time Basics</a>
<li>TIME termios slot: <a href="#Noncanonical%20Input">Noncanonical Input</a>
<li>time zone: <a href="#TZ%20Variable">TZ Variable</a>
<li>time zone database: <a href="#TZ%20Variable">TZ Variable</a>
<li>time, elapsed: <a href="#Time%20Basics">Time Basics</a>
<li>time, high precision: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li>timer, profiling: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>timer, real-time: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>timer, virtual: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>timers, setting: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li>timespec: <a href="#Elapsed%20Time">Elapsed Time</a>
<li>timeval: <a href="#Elapsed%20Time">Elapsed Time</a>
<li>timing error in signal handling: <a href="#Remembering%20a%20Signal">Remembering a Signal</a>
<li>TMPDIR environment variable: <a href="#Temporary%20Files">Temporary Files</a>
<li>tokenizing strings: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li>tools, for installing library: <a href="#Tools%20for%20Compilation">Tools for Compilation</a>
<li>transmitting datagrams: <a href="#Sending%20Datagrams">Sending Datagrams</a>
<li>tree, directory: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li>triangulation: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li>trigonometric functions: <a href="#Trig%20Functions">Trig Functions</a>
<li>type measurements, floating: <a href="#Floating%20Type%20Macros">Floating Type Macros</a>
<li>type measurements, integer: <a href="#Width%20of%20Type">Width of Type</a>
<li>type modifier character (<code>printf</code>): <a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li>type modifier character (<code>scanf</code>): <a href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>
<li>typeahead buffer: <a href="#I%2fO%20Queues">I/O Queues</a>
<li><code>TZ</code> environment variable: <a href="#Standard%20Environment">Standard Environment</a>
<li>UCS-2: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>UCS-4: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>ulps: <a href="#Errors%20in%20Math%20Functions">Errors in Math Functions</a>
<li>umask: <a href="#Setting%20Permissions">Setting Permissions</a>
<li>unbuffered stream: <a href="#Buffering%20Concepts">Buffering Concepts</a>
<li>unconstrained memory allocation: <a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<li>undefining macros that shadow functions: <a href="#Macro%20Definitions">Macro Definitions</a>
<li>underflow exception: <a href="#FP%20Exceptions">FP Exceptions</a>
<li>Unicode: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>Unix, Berkeley: <a href="#Berkeley%20Unix">Berkeley Unix</a>
<li>Unix, System V: <a href="#SVID">SVID</a>
<li>unlinking a file: <a href="#Deleting%20Files">Deleting Files</a>
<li>unordered comparison: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li>unreading characters: <a href="#Unreading">Unreading</a>
<li>upgrading from libc5: <a href="#Linux">Linux</a>
<li>upper-case character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>urgent data signal: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li>urgent socket condition: <a href="#Out-of-Band%20Data">Out-of-Band Data</a>
<li>usage limits: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li>usage messages, in argp: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li>user accounting database: <a href="#User%20Accounting%20Database">User Accounting Database</a>
<li>user database: <a href="#User%20Database">User Database</a>
<li>user ID: <a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li>user ID, determining: <a href="#Who%20Logged%20In">Who Logged In</a>
<li>user name: <a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li>user signals: <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li>usual file name errors: <a href="#File%20Name%20Errors">File Name Errors</a>
<li>UTF-16: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>UTF-7: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>UTF-8: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>va_copy: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li>variable number of arguments: <a href="#Variadic%20Functions">Variadic Functions</a>
<li>variable substitution: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>variable-sized arrays: <a href="#GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>
<li>variadic function argument access: <a href="#Receiving%20Arguments">Receiving Arguments</a>
<li>variadic function prototypes: <a href="#Variadic%20Prototypes">Variadic Prototypes</a>
<li>variadic functions: <a href="#Variadic%20Functions">Variadic Functions</a>
<li>variadic functions, calling: <a href="#Calling%20Variadics">Calling Variadics</a>
<li>virtual time alarm signal: <a href="#Alarm%20Signals">Alarm Signals</a>
<li>virtual timer: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>volatile</code> declarations: <a href="#Nonreentrancy">Nonreentrancy</a>
<li>waiting for a signal: <a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<li>waiting for completion of child process: <a href="#Process%20Completion">Process Completion</a>
<li>waiting for input or output: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li>WERASE character: <a href="#Editing%20Characters">Editing Characters</a>
<li>whitespace character: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li>wide character: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li>wide character string: <a href="#Representation%20of%20Strings">Representation of Strings</a>
<li>width of integer type: <a href="#Width%20of%20Type">Width of Type</a>
<li>wildcard expansion: <a href="#Expansion%20Stages">Expansion Stages</a>
<li>wint_t: <a href="#String%2fArray%20Conventions">String/Array Conventions</a>
<li>word expansion: <a href="#Word%20Expansion">Word Expansion</a>
<li>working directory: <a href="#Working%20Directory">Working Directory</a>
<li>write lock: <a href="#File%20Locks">File Locks</a>
<li>writing to a file descriptor: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li>writing to a socket: <a href="#Transferring%20Data">Transferring Data</a>
<li>writing to a stream, by blocks: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li>writing to a stream, by characters: <a href="#Simple%20Output">Simple Output</a>
<li>writing to a stream, formatted: <a href="#Formatted%20Output">Formatted Output</a>
<li>YP: <a href="#Host%20Identification">Host Identification</a>
<li>YP domain name: <a href="#Host%20Identification">Host Identification</a>
<li>zero divide: <a href="#FP%20Exceptions">FP Exceptions</a>
</ul>
<p><hr>
Node:<a name="Type%20Index">Type Index</a>,
Next:<a rel=next accesskey=n href="#Function%20Index">Function Index</a>,
Previous:<a rel=previous accesskey=p href="#Concept%20Index">Concept Index</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Type Index</h2>

<ul compact>
<li><code>__ftw64_func_t</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>__ftw_func_t</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>__nftw64_func_t</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>__nftw_func_t</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>blkcnt64_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>blkcnt_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>cc_t</code>: <a href="#Mode%20Data%20Types">Mode Data Types</a>
<li><code>clock_t</code>: <a href="#CPU%20Time">CPU Time</a>
<li><code>comparison_fn_t</code>: <a href="#Comparison%20Functions">Comparison Functions</a>
<li><code>cookie_close_function</code>: <a href="#Hook%20Functions">Hook Functions</a>
<li><code>cookie_io_functions_t</code>: <a href="#Streams%20and%20Cookies">Streams and Cookies</a>
<li><code>cookie_read_function</code>: <a href="#Hook%20Functions">Hook Functions</a>
<li><code>cookie_seek_function</code>: <a href="#Hook%20Functions">Hook Functions</a>
<li><code>cookie_write_function</code>: <a href="#Hook%20Functions">Hook Functions</a>
<li><code>dev_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>DIR</code>: <a href="#Opening%20a%20Directory">Opening a Directory</a>
<li><code>div_t</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>enum mcheck_status</code>: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li><code>fd_set</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>FILE</code>: <a href="#Streams">Streams</a>
<li><code>fpos64_t</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>fpos_t</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>gid_t</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>glob64_t</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>glob_t</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>iconv_t</code>: <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>
<li><code>imaxdiv_t</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>ino64_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>ino_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>jmp_buf</code>: <a href="#Non-Local%20Details">Non-Local Details</a>
<li><code>ldiv_t</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>lldiv_t</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>mbstate_t</code>: <a href="#Keeping%20the%20state">Keeping the state</a>
<li><code>mode_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>nlink_t</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>off64_t</code>: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li><code>off_t</code>: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li><code>pid_t</code>: <a href="#Process%20Identification">Process Identification</a>
<li><code>printf_arginfo_function</code>: <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>
<li><code>printf_function</code>: <a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>
<li><code>ptrdiff_t</code>: <a href="#Important%20Data%20Types">Important Data Types</a>
<li><code>regex_t</code>: <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>
<li><code>regmatch_t</code>: <a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>
<li><code>regoff_t</code>: <a href="#Regexp%20Subexpressions">Regexp Subexpressions</a>
<li><code>sig_atomic_t</code>: <a href="#Atomic%20Types">Atomic Types</a>
<li><code>sighandler_t</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>sigjmp_buf</code>: <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>
<li><code>sigset_t</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>size_t</code>: <a href="#Important%20Data%20Types">Important Data Types</a>
<li><code>speed_t</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>ssize_t</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>stack_t</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>struct __gconv_step</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>struct __gconv_step_data</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>struct aiocb</code>: <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<li><code>struct aiocb64</code>: <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<li><code>struct aioinit</code>: <a href="#Configuration%20of%20AIO">Configuration of AIO</a>
<li><code>struct argp</code>: <a href="#Argp%20Parsers">Argp Parsers</a>
<li><code>struct argp_child</code>: <a href="#Argp%20Children">Argp Children</a>
<li><code>struct argp_option</code>: <a href="#Argp%20Option%20Vectors">Argp Option Vectors</a>
<li><code>struct argp_state</code>: <a href="#Argp%20Parsing%20State">Argp Parsing State</a>
<li><code>struct dirent</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>struct ENTRY</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>struct exit_status</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>struct flock</code>: <a href="#File%20Locks">File Locks</a>
<li><code>struct fstab</code>: <a href="#fstab">fstab</a>
<li><code>struct FTW</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>struct group</code>: <a href="#Group%20Data%20Structure">Group Data Structure</a>
<li><code>struct hostent</code>: <a href="#Host%20Names">Host Names</a>
<li><code>struct if_nameindex</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>struct in6_addr</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>struct in_addr</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>struct iovec</code>: <a href="#Scatter-Gather">Scatter-Gather</a>
<li><code>struct itimerval</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>struct lconv</code>: <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<li><code>struct linger</code>: <a href="#Socket-Level%20Options">Socket-Level Options</a>
<li><code>struct mallinfo</code>: <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>
<li><code>struct mntent</code>: <a href="#mtab">mtab</a>
<li><code>struct netent</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>struct ntptimeval</code>: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><code>struct obstack</code>: <a href="#Creating%20Obstacks">Creating Obstacks</a>
<li><code>struct option</code>: <a href="#Getopt%20Long%20Options">Getopt Long Options</a>
<li><code>struct passwd</code>: <a href="#User%20Data%20Structure">User Data Structure</a>
<li><code>struct printf_info</code>: <a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>
<li><code>struct protoent</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>struct random_data</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>struct rlimit</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>struct rlimit64</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>struct rusage</code>: <a href="#Resource%20Usage">Resource Usage</a>
<li><code>struct sched_param</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>struct servent</code>: <a href="#Services%20Database">Services Database</a>
<li><code>struct sgttyb</code>: <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>
<li><code>struct sigaction</code>: <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>
<li><code>struct sigstack</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>struct sigvec</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>struct sockaddr</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>struct sockaddr_in</code>: <a href="#Internet%20Address%20Formats">Internet Address Formats</a>
<li><code>struct sockaddr_in6</code>: <a href="#Internet%20Address%20Formats">Internet Address Formats</a>
<li><code>struct sockaddr_un</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>struct stat</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>struct stat64</code>: <a href="#Attribute%20Meanings">Attribute Meanings</a>
<li><code>struct termios</code>: <a href="#Mode%20Data%20Types">Mode Data Types</a>
<li><code>struct timespec</code>: <a href="#Elapsed%20Time">Elapsed Time</a>
<li><code>struct timeval</code>: <a href="#Elapsed%20Time">Elapsed Time</a>
<li><code>struct timex</code>: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><code>struct timezone</code>: <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><code>struct tm</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>struct tms</code>: <a href="#Processor%20Time">Processor Time</a>
<li><code>struct utimbuf</code>: <a href="#File%20Times">File Times</a>
<li><code>struct utmp</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>struct utmpx</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>struct utsname</code>: <a href="#Platform%20Type">Platform Type</a>
<li><code>struct vtimes</code>: <a href="#Resource%20Usage">Resource Usage</a>
<li><code>tcflag_t</code>: <a href="#Mode%20Data%20Types">Mode Data Types</a>
<li><code>time_t</code>: <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>
<li><code>ucontext_t</code>: <a href="#System%20V%20contexts">System V contexts</a>
<li><code>uid_t</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>union wait</code>: <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>
<li><code>va_list</code>: <a href="#Argument%20Macros">Argument Macros</a>
<li><code>VISIT</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>wchar_t</code>: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li><code>wctrans_t</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>
<li><code>wctype_t</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>wint_t</code>: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li><code>wordexp_t</code>: <a href="#Calling%20Wordexp">Calling Wordexp</a>
</ul>
<p><hr>
Node:<a name="Function%20Index">Function Index</a>,
Next:<a rel=next accesskey=n href="#Variable%20Index">Variable Index</a>,
Previous:<a rel=previous accesskey=p href="#Type%20Index">Type Index</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Function and Macro Index</h2>

<ul compact>
<li><code>__fbufsize</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>__flbf</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>__fpending</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>__fpurge</code>: <a href="#Flushing%20Buffers">Flushing Buffers</a>
<li><code>__freadable</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>__freading</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>__fsetlocking</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>__fwritable</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>__fwriting</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>__va_copy</code>: <a href="#Argument%20Macros">Argument Macros</a>
<li><code>_Exit</code>: <a href="#Termination%20Internals">Termination Internals</a>
<li><code>_exit</code>: <a href="#Termination%20Internals">Termination Internals</a>
<li><code>_flushlbf</code>: <a href="#Flushing%20Buffers">Flushing Buffers</a>
<li><code>_tolower</code>: <a href="#Case%20Conversion">Case Conversion</a>
<li><code>_toupper</code>: <a href="#Case%20Conversion">Case Conversion</a>
<li><code>a64l</code>: <a href="#Encode%20Binary%20Data">Encode Binary Data</a>
<li><code>abort</code>: <a href="#Aborting%20a%20Program">Aborting a Program</a>
<li><code>abs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>accept</code>: <a href="#Accepting%20Connections">Accepting Connections</a>
<li><code>access</code>: <a href="#Testing%20File%20Access">Testing File Access</a>
<li><code>acos</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>acosf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>acosh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>acoshf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>acoshl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>acosl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>addmntent</code>: <a href="#mtab">mtab</a>
<li><code>addseverity</code>: <a href="#Adding%20Severity%20Classes">Adding Severity Classes</a>
<li><code>adjtime</code>: <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><code>adjtimex</code>: <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><code>aio_cancel</code>: <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>
<li><code>aio_cancel64</code>: <a href="#Cancel%20AIO%20Operations">Cancel AIO Operations</a>
<li><code>aio_error</code>: <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>
<li><code>aio_error64</code>: <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>
<li><code>aio_fsync</code>: <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>
<li><code>aio_fsync64</code>: <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>
<li><code>aio_init</code>: <a href="#Configuration%20of%20AIO">Configuration of AIO</a>
<li><code>aio_read</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>aio_read64</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>aio_return</code>: <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>
<li><code>aio_return64</code>: <a href="#Status%20of%20AIO%20Operations">Status of AIO Operations</a>
<li><code>aio_suspend</code>: <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>
<li><code>aio_suspend64</code>: <a href="#Synchronizing%20AIO%20Operations">Synchronizing AIO Operations</a>
<li><code>aio_write</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>aio_write64</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>alarm</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>alloca</code>: <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>
<li><code>alphasort</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>alphasort64</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>argp_error</code>: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li><code>argp_failure</code>: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li><code>argp_help</code>: <a href="#Argp%20Help">Argp Help</a>
<li><code>argp_parse</code>: <a href="#Argp">Argp</a>
<li><code>argp_state_help</code>: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li><code>argp_usage</code>: <a href="#Argp%20Helper%20Functions">Argp Helper Functions</a>
<li><code>argz_add</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_add_sep</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_append</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_count</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_create</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_create_sep</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_delete</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_extract</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_insert</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_next</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_replace</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>argz_stringify</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>asctime</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>asctime_r</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>asin</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>asinf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>asinh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>asinhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>asinhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>asinl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>asprintf</code>: <a href="#Dynamic%20Output">Dynamic Output</a>
<li><code>assert</code>: <a href="#Consistency%20Checking">Consistency Checking</a>
<li><code>assert_perror</code>: <a href="#Consistency%20Checking">Consistency Checking</a>
<li><code>atan</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atan2</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atan2f</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atan2l</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atanf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atanh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>atanhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>atanhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>atanl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>atexit</code>: <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>
<li><code>atof</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>atoi</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>atol</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>atoll</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>backtrace</code>: <a href="#Backtraces">Backtraces</a>
<li><code>backtrace_symbols</code>: <a href="#Backtraces">Backtraces</a>
<li><code>backtrace_symbols_fd</code>: <a href="#Backtraces">Backtraces</a>
<li><code>basename</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>bcmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>bcopy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>bind</code>: <a href="#Setting%20Address">Setting Address</a>
<li><code>bind_textdomain_codeset</code>: <a href="#Charset%20conversion%20in%20gettext">Charset conversion in gettext</a>
<li><code>bindtextdomain</code>: <a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>
<li><code>brk</code>: <a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>
<li><code>bsearch</code>: <a href="#Array%20Search%20Function">Array Search Function</a>
<li><code>btowc</code>: <a href="#Converting%20a%20Character">Converting a Character</a>
<li><code>bzero</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>cabs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>cabsf</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>cabsl</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>cacos</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>cacosf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>cacosh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>cacoshf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>cacoshl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>cacosl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>calloc</code>: <a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>
<li><code>canonicalize_file_name</code>: <a href="#Symbolic%20Links">Symbolic Links</a>
<li><code>carg</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cargf</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cargl</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>casin</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>casinf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>casinh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>casinhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>casinhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>casinl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>catan</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>catanf</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>catanh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>catanhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>catanhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>catanl</code>: <a href="#Inverse%20Trig%20Functions">Inverse Trig Functions</a>
<li><code>catclose</code>: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li><code>catgets</code>: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li><code>catopen</code>: <a href="#The%20catgets%20Functions">The catgets Functions</a>
<li><code>cbc_crypt</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>cbrt</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cbrtf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cbrtl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>ccos</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ccosf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ccosh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ccoshf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ccoshl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ccosl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ceil</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>ceilf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>ceill</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>cexp</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cexpf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cexpl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cfgetispeed</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>cfgetospeed</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>cfmakeraw</code>: <a href="#Noncanonical%20Input">Noncanonical Input</a>
<li><code>cfree</code>: <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>
<li><code>cfsetispeed</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>cfsetospeed</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>cfsetspeed</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>chdir</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>chmod</code>: <a href="#Setting%20Permissions">Setting Permissions</a>
<li><code>chown</code>: <a href="#File%20Owner">File Owner</a>
<li><code>cimag</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cimagf</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cimagl</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>clearenv</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>clearerr</code>: <a href="#Error%20Recovery">Error Recovery</a>
<li><code>clearerr_unlocked</code>: <a href="#Error%20Recovery">Error Recovery</a>
<li><code>clock</code>: <a href="#CPU%20Time">CPU Time</a>
<li><code>clog</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>clog10</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>clog10f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>clog10l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>clogf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>clogl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>close</code>: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>closedir</code>: <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>
<li><code>closelog</code>: <a href="#closelog">closelog</a>
<li><code>confstr</code>: <a href="#String%20Parameters">String Parameters</a>
<li><code>conj</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>conjf</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>conjl</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>connect</code>: <a href="#Connecting">Connecting</a>
<li><code>copysign</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>copysignf</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>copysignl</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>cos</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>cosf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>cosh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>coshf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>coshl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>cosl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>cpow</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cpowf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cpowl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>cproj</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cprojf</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>cprojl</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>creal</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>crealf</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>creall</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>
<li><code>creat</code>: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>creat64</code>: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>crypt</code>: <a href="#crypt">crypt</a>
<li><code>crypt_r</code>: <a href="#crypt">crypt</a>
<li><code>csin</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>csinf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>csinh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>csinhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>csinhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>csinl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>csqrt</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>csqrtf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>csqrtl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>ctan</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ctanf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ctanh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ctanhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ctanhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>ctanl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>ctermid</code>: <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>
<li><code>ctime</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>ctime_r</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>cuserid</code>: <a href="#Who%20Logged%20In">Who Logged In</a>
<li><code>dcgettext</code>: <a href="#Translation%20with%20gettext">Translation with gettext</a>
<li><code>dcngettext</code>: <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>
<li><code>DES_FAILED</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>des_setparity</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>dgettext</code>: <a href="#Translation%20with%20gettext">Translation with gettext</a>
<li><code>difftime</code>: <a href="#Elapsed%20Time">Elapsed Time</a>
<li><code>dirfd</code>: <a href="#Opening%20a%20Directory">Opening a Directory</a>
<li><code>dirname</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>div</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>dngettext</code>: <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>
<li><code>drand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>drand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>drem</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>dremf</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>dreml</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>DTTOIF</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>dup</code>: <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li><code>dup2</code>: <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li><code>ecb_crypt</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>ecvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>ecvt_r</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>encrypt</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>encrypt_r</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>endfsent</code>: <a href="#fstab">fstab</a>
<li><code>endgrent</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>endhostent</code>: <a href="#Host%20Names">Host Names</a>
<li><code>endmntent</code>: <a href="#mtab">mtab</a>
<li><code>endnetent</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>endnetgrent</code>: <a href="#Lookup%20Netgroup">Lookup Netgroup</a>
<li><code>endprotoent</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>endpwent</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>endservent</code>: <a href="#Services%20Database">Services Database</a>
<li><code>endutent</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>endutxent</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>envz_add</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>envz_entry</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>envz_get</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>envz_merge</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>envz_strip</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>erand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>erand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>erf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>erfc</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>erfcf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>erfcl</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>erff</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>erfl</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>err</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>error</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>error_at_line</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>errx</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>execl</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>execle</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>execlp</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>execv</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>execve</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>execvp</code>: <a href="#Executing%20a%20File">Executing a File</a>
<li><code>exit</code>: <a href="#Normal%20Termination">Normal Termination</a>
<li><code>exp</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp10</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp10f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp10l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp2</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp2f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>exp2l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>expf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>expl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>expm1</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>expm1f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>expm1l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>fabs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>fabsf</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>fabsl</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>fchdir</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>fchmod</code>: <a href="#Setting%20Permissions">Setting Permissions</a>
<li><code>fchown</code>: <a href="#File%20Owner">File Owner</a>
<li><code>fclean</code>: <a href="#Cleaning%20Streams">Cleaning Streams</a>
<li><code>fclose</code>: <a href="#Closing%20Streams">Closing Streams</a>
<li><code>fcloseall</code>: <a href="#Closing%20Streams">Closing Streams</a>
<li><code>fcntl</code>: <a href="#Control%20Operations">Control Operations</a>
<li><code>fcvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>fcvt_r</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>FD_CLR</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>FD_ISSET</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>FD_SET</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>FD_ZERO</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>fdatasync</code>: <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>
<li><code>fdim</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fdimf</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fdiml</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fdopen</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>feclearexcept</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>fedisableexcept</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>feenableexcept</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>fegetenv</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>fegetexcept</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>fegetexceptflag</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>fegetround</code>: <a href="#Rounding">Rounding</a>
<li><code>feholdexcept</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>feof</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li><code>feof_unlocked</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li><code>feraiseexcept</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>ferror</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li><code>ferror_unlocked</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li><code>fesetenv</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>fesetexceptflag</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>fesetround</code>: <a href="#Rounding">Rounding</a>
<li><code>fetestexcept</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>feupdateenv</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>fflush</code>: <a href="#Flushing%20Buffers">Flushing Buffers</a>
<li><code>fflush_unlocked</code>: <a href="#Flushing%20Buffers">Flushing Buffers</a>
<li><code>fgetc</code>: <a href="#Character%20Input">Character Input</a>
<li><code>fgetc_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>fgetgrent</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>fgetgrent_r</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>fgetpos</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>fgetpos64</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>fgetpwent</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>fgetpwent_r</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>fgets</code>: <a href="#Line%20Input">Line Input</a>
<li><code>fgets_unlocked</code>: <a href="#Line%20Input">Line Input</a>
<li><code>fgetwc</code>: <a href="#Character%20Input">Character Input</a>
<li><code>fgetwc_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>fgetws</code>: <a href="#Line%20Input">Line Input</a>
<li><code>fgetws_unlocked</code>: <a href="#Line%20Input">Line Input</a>
<li><code>fileno</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>fileno_unlocked</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>finite</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>finitef</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>finitel</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>flockfile</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>floor</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>floorf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>floorl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>fma</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmaf</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmal</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmax</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmaxf</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmaxl</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmemopen</code>: <a href="#String%20Streams">String Streams</a>
<li><code>fmin</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fminf</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fminl</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>fmod</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>fmodf</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>fmodl</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>fmtmsg</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>fnmatch</code>: <a href="#Wildcard%20Matching">Wildcard Matching</a>
<li><code>fopen</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>fopen64</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>fopencookie</code>: <a href="#Streams%20and%20Cookies">Streams and Cookies</a>
<li><code>fork</code>: <a href="#Creating%20a%20Process">Creating a Process</a>
<li><code>forkpty</code>: <a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>
<li><code>fpathconf</code>: <a href="#Pathconf">Pathconf</a>
<li><code>fpclassify</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>fprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>fputc</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputc_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputs</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputs_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputwc</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputwc_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputws</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fputws_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>fread</code>: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li><code>fread_unlocked</code>: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li><code>free</code>: <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>
<li><code>freopen</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>freopen64</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>frexp</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>frexpf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>frexpl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>fscanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>fseek</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>fseeko</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>fseeko64</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>fsetpos</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>fsetpos64</code>: <a href="#Portable%20Positioning">Portable Positioning</a>
<li><code>fstat</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>fstat64</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>fsync</code>: <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>
<li><code>ftell</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>ftello</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>ftello64</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>ftruncate</code>: <a href="#File%20Size">File Size</a>
<li><code>ftruncate64</code>: <a href="#File%20Size">File Size</a>
<li><code>ftrylockfile</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>ftw</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>ftw64</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>funlockfile</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>fwide</code>: <a href="#Streams%20and%20I18N">Streams and I18N</a>
<li><code>fwprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>fwrite</code>: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li><code>fwrite_unlocked</code>: <a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li><code>fwscanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>gamma</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>gammaf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>gammal</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>gcvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>get_avphys_pages</code>: <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li><code>get_current_dir_name</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>get_nprocs</code>: <a href="#Processor%20Resources">Processor Resources</a>
<li><code>get_nprocs_conf</code>: <a href="#Processor%20Resources">Processor Resources</a>
<li><code>get_phys_pages</code>: <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li><code>getc</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getc_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getchar</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getchar_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getcontext</code>: <a href="#System%20V%20contexts">System V contexts</a>
<li><code>getcwd</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>getdate</code>: <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>
<li><code>getdate_r</code>: <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>
<li><code>getdelim</code>: <a href="#Line%20Input">Line Input</a>
<li><code>getdomainnname</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>getegid</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>getenv</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>geteuid</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>getfsent</code>: <a href="#fstab">fstab</a>
<li><code>getfsfile</code>: <a href="#fstab">fstab</a>
<li><code>getfsspec</code>: <a href="#fstab">fstab</a>
<li><code>getgid</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>getgrent</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>getgrent_r</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>getgrgid</code>: <a href="#Lookup%20Group">Lookup Group</a>
<li><code>getgrgid_r</code>: <a href="#Lookup%20Group">Lookup Group</a>
<li><code>getgrnam</code>: <a href="#Lookup%20Group">Lookup Group</a>
<li><code>getgrnam_r</code>: <a href="#Lookup%20Group">Lookup Group</a>
<li><code>getgrouplist</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>getgroups</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>gethostbyaddr</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostbyaddr_r</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostbyname</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostbyname2</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostbyname2_r</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostbyname_r</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostent</code>: <a href="#Host%20Names">Host Names</a>
<li><code>gethostid</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>gethostname</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>getitimer</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>getline</code>: <a href="#Line%20Input">Line Input</a>
<li><code>getloadavg</code>: <a href="#Processor%20Resources">Processor Resources</a>
<li><code>getlogin</code>: <a href="#Who%20Logged%20In">Who Logged In</a>
<li><code>getmntent</code>: <a href="#mtab">mtab</a>
<li><code>getmntent_r</code>: <a href="#mtab">mtab</a>
<li><code>getnetbyaddr</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>getnetbyname</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>getnetent</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>getnetgrent</code>: <a href="#Lookup%20Netgroup">Lookup Netgroup</a>
<li><code>getnetgrent_r</code>: <a href="#Lookup%20Netgroup">Lookup Netgroup</a>
<li><code>getopt</code>: <a href="#Using%20Getopt">Using Getopt</a>
<li><code>getopt_long</code>: <a href="#Getopt%20Long%20Options">Getopt Long Options</a>
<li><code>getopt_long_only</code>: <a href="#Getopt%20Long%20Options">Getopt Long Options</a>
<li><code>getpagesize</code>: <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li><code>getpass</code>: <a href="#getpass">getpass</a>
<li><code>getpeername</code>: <a href="#Who%20is%20Connected">Who is Connected</a>
<li><code>getpgid</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>getpgrp</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>getpid</code>: <a href="#Process%20Identification">Process Identification</a>
<li><code>getppid</code>: <a href="#Process%20Identification">Process Identification</a>
<li><code>getpriority</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>getprotobyname</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>getprotobynumber</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>getprotoent</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>getpt</code>: <a href="#Allocation">Allocation</a>
<li><code>getpwent</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>getpwent_r</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>getpwnam</code>: <a href="#Lookup%20User">Lookup User</a>
<li><code>getpwnam_r</code>: <a href="#Lookup%20User">Lookup User</a>
<li><code>getpwuid</code>: <a href="#Lookup%20User">Lookup User</a>
<li><code>getpwuid_r</code>: <a href="#Lookup%20User">Lookup User</a>
<li><code>getrlimit</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>getrlimit64</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>getrusage</code>: <a href="#Resource%20Usage">Resource Usage</a>
<li><code>gets</code>: <a href="#Line%20Input">Line Input</a>
<li><code>getservbyname</code>: <a href="#Services%20Database">Services Database</a>
<li><code>getservbyport</code>: <a href="#Services%20Database">Services Database</a>
<li><code>getservent</code>: <a href="#Services%20Database">Services Database</a>
<li><code>getsid</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>getsockname</code>: <a href="#Reading%20Address">Reading Address</a>
<li><code>getsockopt</code>: <a href="#Socket%20Option%20Functions">Socket Option Functions</a>
<li><code>getsubopt</code>: <a href="#Suboptions">Suboptions</a>
<li><code>gettext</code>: <a href="#Translation%20with%20gettext">Translation with gettext</a>
<li><code>gettimeofday</code>: <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><code>getuid</code>: <a href="#Reading%20Persona">Reading Persona</a>
<li><code>getumask</code>: <a href="#Setting%20Permissions">Setting Permissions</a>
<li><code>getutent</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutent_r</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutid</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutid_r</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutline</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutline_r</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>getutmp</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>getutmpx</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>getutxent</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>getutxid</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>getutxline</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>getw</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getwc</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getwc_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getwchar</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getwchar_unlocked</code>: <a href="#Character%20Input">Character Input</a>
<li><code>getwd</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>glob</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>glob64</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>globfree</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>globfree64</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>gmtime</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>gmtime_r</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>grantpt</code>: <a href="#Allocation">Allocation</a>
<li><code>gsignal</code>: <a href="#Signaling%20Yourself">Signaling Yourself</a>
<li><code>gtty</code>: <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>
<li><code>hasmntopt</code>: <a href="#mtab">mtab</a>
<li><code>hcreate</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>hcreate_r</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>hdestroy</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>hdestroy_r</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>hsearch</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>hsearch_r</code>: <a href="#Hash%20Search%20Function">Hash Search Function</a>
<li><code>htonl</code>: <a href="#Byte%20Order">Byte Order</a>
<li><code>htons</code>: <a href="#Byte%20Order">Byte Order</a>
<li><code>hypot</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>hypotf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>hypotl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>iconv</code>: <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>
<li><code>iconv_close</code>: <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>
<li><code>iconv_open</code>: <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>
<li><code>if_freenameindex</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>if_indextoname</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>if_nameindex</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>if_nametoindex</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>IFTODT</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>ilogb</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>ilogbf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>ilogbl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>imaxabs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>imaxdiv</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>index</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>inet_addr</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_aton</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_lnaof</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_makeaddr</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_netof</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_network</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_ntoa</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_ntop</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>inet_pton</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>initgroups</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>initstate</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>initstate_r</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>innetgr</code>: <a href="#Netgroup%20Membership">Netgroup Membership</a>
<li><code>ioctl</code>: <a href="#IOCTLs">IOCTLs</a>
<li><code>isalnum</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isalpha</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isascii</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isatty</code>: <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>
<li><code>isblank</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>iscntrl</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isdigit</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isfinite</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isgraph</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isgreater</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>isgreaterequal</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>isinf</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isinff</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isinfl</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isless</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>islessequal</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>islessgreater</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>islower</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isnan</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isnanf</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isnanl</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isnormal</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>isprint</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>ispunct</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isspace</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>isunordered</code>: <a href="#FP%20Comparison%20Functions">FP Comparison Functions</a>
<li><code>isupper</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>iswalnum</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswalpha</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswblank</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswcntrl</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswctype</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswdigit</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswgraph</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswlower</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswprint</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswpunct</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswspace</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswupper</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>iswxdigit</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>isxdigit</code>: <a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><code>j0</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>j0f</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>j0l</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>j1</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>j1f</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>j1l</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>jn</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>jnf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>jnl</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>jrand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>jrand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>kill</code>: <a href="#Signaling%20Another%20Process">Signaling Another Process</a>
<li><code>killpg</code>: <a href="#Signaling%20Another%20Process">Signaling Another Process</a>
<li><code>l64a</code>: <a href="#Encode%20Binary%20Data">Encode Binary Data</a>
<li><code>labs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>lcong48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>lcong48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>ldexp</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>ldexpf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>ldexpl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>ldiv</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>lfind</code>: <a href="#Array%20Search%20Function">Array Search Function</a>
<li><code>lgamma</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>lgamma_r</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>lgammaf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>lgammaf_r</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>lgammal</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>lgammal_r</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>link</code>: <a href="#Hard%20Links">Hard Links</a>
<li><code>lio_listio</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>lio_listio64</code>: <a href="#Asynchronous%20Reads%2fWrites">Asynchronous Reads/Writes</a>
<li><code>listen</code>: <a href="#Listening">Listening</a>
<li><code>llabs</code>: <a href="#Absolute%20Value">Absolute Value</a>
<li><code>lldiv</code>: <a href="#Integer%20Division">Integer Division</a>
<li><code>llrint</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>llrintf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>llrintl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>llround</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>llroundf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>llroundl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>localeconv</code>: <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>
<li><code>localtime</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>localtime_r</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>log</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log10</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log10f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log10l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log1p</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log1pf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log1pl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log2</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log2f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>log2l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>logb</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>logbf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>logbl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>logf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>login</code>: <a href="#Logging%20In%20and%20Out">Logging In and Out</a>
<li><code>login_tty</code>: <a href="#Logging%20In%20and%20Out">Logging In and Out</a>
<li><code>logl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>logout</code>: <a href="#Logging%20In%20and%20Out">Logging In and Out</a>
<li><code>logwtmp</code>: <a href="#Logging%20In%20and%20Out">Logging In and Out</a>
<li><code>longjmp</code>: <a href="#Non-Local%20Details">Non-Local Details</a>
<li><code>lrand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>lrand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>lrint</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lrintf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lrintl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lround</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lroundf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lroundl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>lsearch</code>: <a href="#Array%20Search%20Function">Array Search Function</a>
<li><code>lseek</code>: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li><code>lseek64</code>: <a href="#File%20Position%20Primitive">File Position Primitive</a>
<li><code>lstat</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>lstat64</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>madvise</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>main</code>: <a href="#Program%20Arguments">Program Arguments</a>
<li><code>makecontext</code>: <a href="#System%20V%20contexts">System V contexts</a>
<li><code>mallinfo</code>: <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>
<li><code>malloc</code>: <a href="#Basic%20Allocation">Basic Allocation</a>
<li><code>mallopt</code>: <a href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>
<li><code>matherr</code>: <a href="#FP%20Exceptions">FP Exceptions</a>
<li><code>mblen</code>: <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>
<li><code>mbrlen</code>: <a href="#Converting%20a%20Character">Converting a Character</a>
<li><code>mbrtowc</code>: <a href="#Converting%20a%20Character">Converting a Character</a>
<li><code>mbsinit</code>: <a href="#Keeping%20the%20state">Keeping the state</a>
<li><code>mbsnrtowcs</code>: <a href="#Converting%20Strings">Converting Strings</a>
<li><code>mbsrtowcs</code>: <a href="#Converting%20Strings">Converting Strings</a>
<li><code>mbstowcs</code>: <a href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>
<li><code>mbtowc</code>: <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>
<li><code>mcheck</code>: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li><code>memalign</code>: <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>
<li><code>memccpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>memchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>memcmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>memcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>memfrob</code>: <a href="#Trivial%20Encryption">Trivial Encryption</a>
<li><code>memmem</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>memmove</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>mempcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>memrchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>memset</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>mkdir</code>: <a href="#Creating%20Directories">Creating Directories</a>
<li><code>mkdtemp</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>mkfifo</code>: <a href="#FIFO%20Special%20Files">FIFO Special Files</a>
<li><code>mknod</code>: <a href="#Making%20Special%20Files">Making Special Files</a>
<li><code>mkstemp</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>mktemp</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>mktime</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>mlock</code>: <a href="#Page%20Lock%20Functions">Page Lock Functions</a>
<li><code>mlockall</code>: <a href="#Page%20Lock%20Functions">Page Lock Functions</a>
<li><code>mmap</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>mmap64</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>modf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>modff</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>modfl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>mount</code>: <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>
<li><code>mprobe</code>: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li><code>mrand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>mrand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>mremap</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>msync</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>mtrace</code>: <a href="#Tracing%20malloc">Tracing malloc</a>
<li><code>munlock</code>: <a href="#Page%20Lock%20Functions">Page Lock Functions</a>
<li><code>munlockall</code>: <a href="#Page%20Lock%20Functions">Page Lock Functions</a>
<li><code>munmap</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>muntrace</code>: <a href="#Tracing%20malloc">Tracing malloc</a>
<li><code>nan</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nanf</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nanl</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nanosleep</code>: <a href="#Sleeping">Sleeping</a>
<li><code>nearbyint</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>nearbyintf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>nearbyintl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>nextafter</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nextafterf</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nextafterl</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nexttoward</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nexttowardf</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nexttowardl</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>nftw</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>nftw64</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>ngettext</code>: <a href="#Advanced%20gettext%20functions">Advanced gettext functions</a>
<li><code>nice</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>nl_langinfo</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>notfound</code>: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><code>nrand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>nrand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>ntohl</code>: <a href="#Byte%20Order">Byte Order</a>
<li><code>ntohs</code>: <a href="#Byte%20Order">Byte Order</a>
<li><code>ntp_adjtime</code>: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><code>ntp_gettime</code>: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><code>obstack_1grow</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_1grow_fast</code>: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li><code>obstack_alignment_mask</code>: <a href="#Obstacks%20Data%20Alignment">Obstacks Data Alignment</a>
<li><code>obstack_alloc</code>: <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>
<li><code>obstack_base</code>: <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>
<li><code>obstack_blank</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_blank_fast</code>: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li><code>obstack_chunk_alloc</code>: <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>
<li><code>obstack_chunk_free</code>: <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>
<li><code>obstack_chunk_size</code>: <a href="#Obstack%20Chunks">Obstack Chunks</a>
<li><code>obstack_copy</code>: <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>
<li><code>obstack_copy0</code>: <a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>
<li><code>obstack_finish</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_free</code>: <a href="#Freeing%20Obstack%20Objects">Freeing Obstack Objects</a>
<li><code>obstack_grow</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_grow0</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_init</code>: <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>
<li><code>obstack_int_grow</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_int_grow_fast</code>: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li><code>obstack_next_free</code>: <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>
<li><code>obstack_object_size</code>: <a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>, <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_printf</code>: <a href="#Dynamic%20Output">Dynamic Output</a>
<li><code>obstack_ptr_grow</code>: <a href="#Growing%20Objects">Growing Objects</a>
<li><code>obstack_ptr_grow_fast</code>: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li><code>obstack_room</code>: <a href="#Extra%20Fast%20Growing">Extra Fast Growing</a>
<li><code>obstack_vprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>offsetof</code>: <a href="#Structure%20Measurement">Structure Measurement</a>
<li><code>on_exit</code>: <a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>
<li><code>open</code>: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>open64</code>: <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>open_memstream</code>: <a href="#String%20Streams">String Streams</a>
<li><code>open_obstack_stream</code>: <a href="#Obstack%20Streams">Obstack Streams</a>
<li><code>opendir</code>: <a href="#Opening%20a%20Directory">Opening a Directory</a>
<li><code>openlog</code>: <a href="#openlog">openlog</a>
<li><code>openpty</code>: <a href="#Pseudo-Terminal%20Pairs">Pseudo-Terminal Pairs</a>
<li><code>parse_printf_format</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>pathconf</code>: <a href="#Pathconf">Pathconf</a>
<li><code>pause</code>: <a href="#Using%20Pause">Using Pause</a>
<li><code>pclose</code>: <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li><code>perror</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>pipe</code>: <a href="#Creating%20a%20Pipe">Creating a Pipe</a>
<li><code>popen</code>: <a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li><code>posix_memalign</code>: <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>
<li><code>pow</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>pow10</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>pow10f</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>pow10l</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>powf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>powl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>pread</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>pread64</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>printf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>printf_size</code>: <a href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>
<li><code>printf_size_info</code>: <a href="#Predefined%20Printf%20Handlers">Predefined Printf Handlers</a>
<li><code>psignal</code>: <a href="#Signal%20Messages">Signal Messages</a>
<li><code>ptsname</code>: <a href="#Allocation">Allocation</a>
<li><code>ptsname_r</code>: <a href="#Allocation">Allocation</a>
<li><code>putc</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putc_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putchar</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putchar_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putenv</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>putpwent</code>: <a href="#Writing%20a%20User%20Entry">Writing a User Entry</a>
<li><code>puts</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>pututline</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>pututxline</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>putw</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putwc</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putwc_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putwchar</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>putwchar_unlocked</code>: <a href="#Simple%20Output">Simple Output</a>
<li><code>pwrite</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>pwrite64</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>qecvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>qecvt_r</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>qfcvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>qfcvt_r</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>qgcvt</code>: <a href="#System%20V%20Number%20Conversion">System V Number Conversion</a>
<li><code>qsort</code>: <a href="#Array%20Sort%20Function">Array Sort Function</a>
<li><code>raise</code>: <a href="#Signaling%20Yourself">Signaling Yourself</a>
<li><code>rand</code>: <a href="#ISO%20Random">ISO Random</a>
<li><code>rand_r</code>: <a href="#ISO%20Random">ISO Random</a>
<li><code>random</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>random_r</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>rawmemchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>read</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>readdir</code>: <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>
<li><code>readdir64</code>: <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>
<li><code>readdir64_r</code>: <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>
<li><code>readdir_r</code>: <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>
<li><code>readlink</code>: <a href="#Symbolic%20Links">Symbolic Links</a>
<li><code>readv</code>: <a href="#Scatter-Gather">Scatter-Gather</a>
<li><code>realloc</code>: <a href="#Changing%20Block%20Size">Changing Block Size</a>
<li><code>realpath</code>: <a href="#Symbolic%20Links">Symbolic Links</a>
<li><code>recv</code>: <a href="#Receiving%20Data">Receiving Data</a>
<li><code>recvfrom</code>: <a href="#Receiving%20Datagrams">Receiving Datagrams</a>
<li><code>regcomp</code>: <a href="#POSIX%20Regexp%20Compilation">POSIX Regexp Compilation</a>
<li><code>regerror</code>: <a href="#Regexp%20Cleanup">Regexp Cleanup</a>
<li><code>regexec</code>: <a href="#Matching%20POSIX%20Regexps">Matching POSIX Regexps</a>
<li><code>regfree</code>: <a href="#Regexp%20Cleanup">Regexp Cleanup</a>
<li><code>register_printf_function</code>: <a href="#Registering%20New%20Conversions">Registering New Conversions</a>
<li><code>remainder</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>remainderf</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>remainderl</code>: <a href="#Remainder%20Functions">Remainder Functions</a>
<li><code>remove</code>: <a href="#Deleting%20Files">Deleting Files</a>
<li><code>rename</code>: <a href="#Renaming%20Files">Renaming Files</a>
<li><code>rewind</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>rewinddir</code>: <a href="#Random%20Access%20Directory">Random Access Directory</a>
<li><code>rindex</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>rint</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>rintf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>rintl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>rmdir</code>: <a href="#Deleting%20Files">Deleting Files</a>
<li><code>round</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>roundf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>roundl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>rpmatch</code>: <a href="#Yes-or-No%20Questions">Yes-or-No Questions</a>
<li><code>S_ISBLK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISCHR</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISDIR</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISFIFO</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISLNK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISREG</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_ISSOCK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_TYPEISMQ</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_TYPEISSEM</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_TYPEISSHM</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>sbrk</code>: <a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>
<li><code>scalb</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbln</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalblnf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalblnl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbn</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbnf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scalbnl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>scandir</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>scandir64</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>scanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>sched_get_priority_max</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_get_priority_min</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_getparam</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_getscheduler</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_rr_get_interval</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_setparam</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_setscheduler</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>sched_yield</code>: <a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><code>seed48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>seed48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>seekdir</code>: <a href="#Random%20Access%20Directory">Random Access Directory</a>
<li><code>select</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>send</code>: <a href="#Sending%20Data">Sending Data</a>
<li><code>sendto</code>: <a href="#Sending%20Datagrams">Sending Datagrams</a>
<li><code>setbuf</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>setbuffer</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>setcontext</code>: <a href="#System%20V%20contexts">System V contexts</a>
<li><code>setdomainname</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>setegid</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>setenv</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>seteuid</code>: <a href="#Setting%20User%20ID">Setting User ID</a>
<li><code>setfsent</code>: <a href="#fstab">fstab</a>
<li><code>setgid</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>setgrent</code>: <a href="#Scanning%20All%20Groups">Scanning All Groups</a>
<li><code>setgroups</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>sethostent</code>: <a href="#Host%20Names">Host Names</a>
<li><code>sethostid</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>sethostname</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>setitimer</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>setjmp</code>: <a href="#Non-Local%20Details">Non-Local Details</a>
<li><code>setkey</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>setkey_r</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>setlinebuf</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>setlocale</code>: <a href="#Setting%20the%20Locale">Setting the Locale</a>
<li><code>setlogmask</code>: <a href="#setlogmask">setlogmask</a>
<li><code>setmntent</code>: <a href="#mtab">mtab</a>
<li><code>setnetent</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>setnetgrent</code>: <a href="#Lookup%20Netgroup">Lookup Netgroup</a>
<li><code>setpgid</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>setpgrp</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>setpriority</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>setprotoent</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>setpwent</code>: <a href="#Scanning%20All%20Users">Scanning All Users</a>
<li><code>setregid</code>: <a href="#Setting%20Groups">Setting Groups</a>
<li><code>setreuid</code>: <a href="#Setting%20User%20ID">Setting User ID</a>
<li><code>setrlimit</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>setrlimit64</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>setservent</code>: <a href="#Services%20Database">Services Database</a>
<li><code>setsid</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><code>setsockopt</code>: <a href="#Socket%20Option%20Functions">Socket Option Functions</a>
<li><code>setstate</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>setstate_r</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>settimeofday</code>: <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><code>setuid</code>: <a href="#Setting%20User%20ID">Setting User ID</a>
<li><code>setutent</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>setutxent</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>setvbuf</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>shutdown</code>: <a href="#Closing%20a%20Socket">Closing a Socket</a>
<li><code>sigaction</code>: <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>
<li><code>sigaddset</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>sigaltstack</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>sigblock</code>: <a href="#Blocking%20in%20BSD">Blocking in BSD</a>
<li><code>sigdelset</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>sigemptyset</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>sigfillset</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>siginterrupt</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>sigismember</code>: <a href="#Signal%20Sets">Signal Sets</a>
<li><code>siglongjmp</code>: <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>
<li><code>sigmask</code>: <a href="#Blocking%20in%20BSD">Blocking in BSD</a>
<li><code>signal</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>signbit</code>: <a href="#FP%20Bit%20Twiddling">FP Bit Twiddling</a>
<li><code>significand</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>significandf</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>significandl</code>: <a href="#Normalization%20Functions">Normalization Functions</a>
<li><code>sigpause</code>: <a href="#Blocking%20in%20BSD">Blocking in BSD</a>
<li><code>sigpending</code>: <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>
<li><code>sigprocmask</code>: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li><code>sigsetjmp</code>: <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>
<li><code>sigsetmask</code>: <a href="#Blocking%20in%20BSD">Blocking in BSD</a>
<li><code>sigstack</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>sigsuspend</code>: <a href="#Sigsuspend">Sigsuspend</a>
<li><code>sigvec</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>sin</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sincos</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sincosf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sincosl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sinf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sinh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>sinhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>sinhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>sinl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>sleep</code>: <a href="#Sleeping">Sleeping</a>
<li><code>snprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>socket</code>: <a href="#Creating%20a%20Socket">Creating a Socket</a>
<li><code>socketpair</code>: <a href="#Socket%20Pairs">Socket Pairs</a>
<li><code>sprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>sqrt</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>sqrtf</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>sqrtl</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>srand</code>: <a href="#ISO%20Random">ISO Random</a>
<li><code>srand48</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>srand48_r</code>: <a href="#SVID%20Random">SVID Random</a>
<li><code>srandom</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>srandom_r</code>: <a href="#BSD%20Random">BSD Random</a>
<li><code>sscanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>ssignal</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>stat</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>stat64</code>: <a href="#Reading%20Attributes">Reading Attributes</a>
<li><code>stime</code>: <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>
<li><code>stpcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>stpncpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strcasecmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>strcasestr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strcat</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strchrnul</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strcmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>strcoll</code>: <a href="#Collation%20Functions">Collation Functions</a>
<li><code>strcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strcspn</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strdup</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strdupa</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strerror</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>strerror_r</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>strfmon</code>: <a href="#Formatting%20Numbers">Formatting Numbers</a>
<li><code>strfry</code>: <a href="#strfry">strfry</a>
<li><code>strftime</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>strlen</code>: <a href="#String%20Length">String Length</a>
<li><code>strncasecmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>strncat</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strncmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>strncpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strndup</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strndupa</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>strnlen</code>: <a href="#String%20Length">String Length</a>
<li><code>strpbrk</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strptime</code>: <a href="#Low-Level%20Time%20String%20Parsing">Low-Level Time String Parsing</a>
<li><code>strrchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strsep</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>strsignal</code>: <a href="#Signal%20Messages">Signal Messages</a>
<li><code>strspn</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strstr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>strtod</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>strtof</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>strtoimax</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtok</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>strtok_r</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>strtol</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtold</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>strtoll</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtoq</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtoul</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtoull</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtoumax</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strtouq</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>strverscmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>strxfrm</code>: <a href="#Collation%20Functions">Collation Functions</a>
<li><code>stty</code>: <a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>
<li><code>success</code>: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><code>SUN_LEN</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>swapcontext</code>: <a href="#System%20V%20contexts">System V contexts</a>
<li><code>swprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>swscanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>symlink</code>: <a href="#Symbolic%20Links">Symbolic Links</a>
<li><code>sync</code>: <a href="#Synchronizing%20I%2fO">Synchronizing I/O</a>
<li><code>syscall</code>: <a href="#System%20Calls">System Calls</a>
<li><code>sysconf</code>: <a href="#Sysconf%20Definition">Sysconf Definition</a>
<li><code>sysctl</code>: <a href="#System%20Parameters">System Parameters</a>
<li><code>syslog</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>system</code>: <a href="#Running%20a%20Command">Running a Command</a>
<li><code>sysv_signal</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>tan</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>tanf</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>tanh</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>tanhf</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>tanhl</code>: <a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><code>tanl</code>: <a href="#Trig%20Functions">Trig Functions</a>
<li><code>tcdrain</code>: <a href="#Line%20Control">Line Control</a>
<li><code>tcflow</code>: <a href="#Line%20Control">Line Control</a>
<li><code>tcflush</code>: <a href="#Line%20Control">Line Control</a>
<li><code>tcgetattr</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>tcgetpgrp</code>: <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>
<li><code>tcgetsid</code>: <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>
<li><code>tcsendbreak</code>: <a href="#Line%20Control">Line Control</a>
<li><code>tcsetattr</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>tcsetpgrp</code>: <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>
<li><code>tdelete</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>tdestroy</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>telldir</code>: <a href="#Random%20Access%20Directory">Random Access Directory</a>
<li><code>TEMP_FAILURE_RETRY</code>: <a href="#Interrupted%20Primitives">Interrupted Primitives</a>
<li><code>tempnam</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>textdomain</code>: <a href="#Locating%20gettext%20catalog">Locating gettext catalog</a>
<li><code>tfind</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>tgamma</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>tgammaf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>tgammal</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>time</code>: <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>
<li><code>timegm</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>timelocal</code>: <a href="#Broken-down%20Time">Broken-down Time</a>
<li><code>times</code>: <a href="#Processor%20Time">Processor Time</a>
<li><code>tmpfile</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>tmpfile64</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>tmpnam</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>tmpnam_r</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>toascii</code>: <a href="#Case%20Conversion">Case Conversion</a>
<li><code>tolower</code>: <a href="#Case%20Conversion">Case Conversion</a>
<li><code>toupper</code>: <a href="#Case%20Conversion">Case Conversion</a>
<li><code>towctrans</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>
<li><code>towlower</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>
<li><code>towupper</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>
<li><code>trunc</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>truncate</code>: <a href="#File%20Size">File Size</a>
<li><code>truncate64</code>: <a href="#File%20Size">File Size</a>
<li><code>truncf</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>truncl</code>: <a href="#Rounding%20Functions">Rounding Functions</a>
<li><code>tryagain</code>: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><code>tsearch</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>ttyname</code>: <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>
<li><code>ttyname_r</code>: <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>
<li><code>twalk</code>: <a href="#Tree%20Search%20Function">Tree Search Function</a>
<li><code>tzset</code>: <a href="#Time%20Zone%20Functions">Time Zone Functions</a>
<li><code>ulimit</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>umask</code>: <a href="#Setting%20Permissions">Setting Permissions</a>
<li><code>umount</code>: <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>
<li><code>umount2</code>: <a href="#Mount-Unmount-Remount">Mount-Unmount-Remount</a>
<li><code>uname</code>: <a href="#Platform%20Type">Platform Type</a>
<li><code>unavail</code>: <a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><code>ungetc</code>: <a href="#How%20Unread">How Unread</a>
<li><code>ungetwc</code>: <a href="#How%20Unread">How Unread</a>
<li><code>unlink</code>: <a href="#Deleting%20Files">Deleting Files</a>
<li><code>unlockpt</code>: <a href="#Allocation">Allocation</a>
<li><code>unsetenv</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>updwtmp</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>utime</code>: <a href="#File%20Times">File Times</a>
<li><code>utimes</code>: <a href="#File%20Times">File Times</a>
<li><code>utmpname</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>utmpxname</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>va_alist</code>: <a href="#Old%20Varargs">Old Varargs</a>
<li><code>va_arg</code>: <a href="#Argument%20Macros">Argument Macros</a>
<li><code>va_dcl</code>: <a href="#Old%20Varargs">Old Varargs</a>
<li><code>va_end</code>: <a href="#Argument%20Macros">Argument Macros</a>
<li><code>va_start</code>: <a href="#Old%20Varargs">Old Varargs</a>, <a href="#Argument%20Macros">Argument Macros</a>
<li><code>valloc</code>: <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>
<li><code>vasprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>verr</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>verrx</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>versionsort</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>versionsort64</code>: <a href="#Scanning%20Directory%20Content">Scanning Directory Content</a>
<li><code>vfork</code>: <a href="#Creating%20a%20Process">Creating a Process</a>
<li><code>vfprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vfscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>vfwprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vfwscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>vlimit</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>vprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>vsnprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vsprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vsscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>vswprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vswscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>vsyslog</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>vtimes</code>: <a href="#Resource%20Usage">Resource Usage</a>
<li><code>vwarn</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>vwarnx</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>vwprintf</code>: <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>
<li><code>vwscanf</code>: <a href="#Variable%20Arguments%20Input">Variable Arguments Input</a>
<li><code>wait</code>: <a href="#Process%20Completion">Process Completion</a>
<li><code>wait3</code>: <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>
<li><code>wait4</code>: <a href="#Process%20Completion">Process Completion</a>
<li><code>waitpid</code>: <a href="#Process%20Completion">Process Completion</a>
<li><code>warn</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>warnx</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>WCOREDUMP</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>wcpcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcpncpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcrtomb</code>: <a href="#Converting%20a%20Character">Converting a Character</a>
<li><code>wcscasecmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>wcscat</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcschr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcschrnul</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcscmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>wcscoll</code>: <a href="#Collation%20Functions">Collation Functions</a>
<li><code>wcscpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcscspn</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcsdup</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcsftime</code>: <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><code>wcslen</code>: <a href="#String%20Length">String Length</a>
<li><code>wcsncasecmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>wcsncat</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcsncmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>wcsncpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wcsnlen</code>: <a href="#String%20Length">String Length</a>
<li><code>wcsnrtombs</code>: <a href="#Converting%20Strings">Converting Strings</a>
<li><code>wcspbrk</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcsrchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcsrtombs</code>: <a href="#Converting%20Strings">Converting Strings</a>
<li><code>wcsspn</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcsstr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcstod</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>wcstof</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>wcstoimax</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstok</code>: <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><code>wcstol</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstold</code>: <a href="#Parsing%20of%20Floats">Parsing of Floats</a>
<li><code>wcstoll</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstombs</code>: <a href="#Non-reentrant%20String%20Conversion">Non-reentrant String Conversion</a>
<li><code>wcstoq</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstoul</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstoull</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstoumax</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcstouq</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><code>wcswcs</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wcsxfrm</code>: <a href="#Collation%20Functions">Collation Functions</a>
<li><code>wctob</code>: <a href="#Converting%20a%20Character">Converting a Character</a>
<li><code>wctomb</code>: <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>
<li><code>wctrans</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>
<li><code>wctype</code>: <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>WEXITSTATUS</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>WIFEXITED</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>WIFSIGNALED</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>WIFSTOPPED</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>wmemchr</code>: <a href="#Search%20Functions">Search Functions</a>
<li><code>wmemcmp</code>: <a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><code>wmemcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wmemmove</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wmempcpy</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wmemset</code>: <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wordexp</code>: <a href="#Calling%20Wordexp">Calling Wordexp</a>
<li><code>wordfree</code>: <a href="#Calling%20Wordexp">Calling Wordexp</a>
<li><code>wprintf</code>: <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><code>write</code>: <a href="#I%2fO%20Primitives">I/O Primitives</a>
<li><code>writev</code>: <a href="#Scatter-Gather">Scatter-Gather</a>
<li><code>wscanf</code>: <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><code>WSTOPSIG</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>WTERMSIG</code>: <a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><code>y0</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>y0f</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>y0l</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>y1</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>y1f</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>y1l</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>yn</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>ynf</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>ynl</code>: <a href="#Special%20Functions">Special Functions</a>
</ul>
<p><hr>
Node:<a name="Variable%20Index">Variable Index</a>,
Next:<a rel=next accesskey=n href="#File%20Index">File Index</a>,
Previous:<a rel=previous accesskey=p href="#Function%20Index">Function Index</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Variable and Constant Macro Index</h2>

<ul compact>
<li><code>(*__gconv_end_fct)</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>(*__gconv_fct)</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>(*__gconv_init_fct)</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>__free_hook</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li><code>__malloc_hook</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li><code>__malloc_initialize_hook</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li><code>__memalign_hook</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li><code>__realloc_hook</code>: <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>
<li><code>_BSD_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_Complex_I</code>: <a href="#Complex%20Numbers">Complex Numbers</a>
<li><code>_FILE_OFFSET_BITS</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_GNU_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_IOFBF</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>_IOLBF</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>_IONBF</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>_ISOC99_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_LARGEFILE64_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_LARGEFILE_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_PATH_FSTAB</code>: <a href="#Mount%20Information">Mount Information</a>
<li><code>_PATH_MNTTAB</code>: <a href="#Mount%20Information">Mount Information</a>
<li><code>_PATH_MOUNTED</code>: <a href="#Mount%20Information">Mount Information</a>
<li><code>_PATH_UTMP</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>_PATH_WTMP</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>_POSIX2_C_DEV</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX2_C_VERSION</code>: <a href="#Version%20Supported">Version Supported</a>
<li><code>_POSIX2_FORT_DEV</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX2_FORT_RUN</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX2_LOCALEDEF</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX2_SW_DEV</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX_C_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_POSIX_CHOWN_RESTRICTED</code>: <a href="#Options%20for%20Files">Options for Files</a>
<li><code>_POSIX_JOB_CONTROL</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX_NO_TRUNC</code>: <a href="#Options%20for%20Files">Options for Files</a>
<li><code>_POSIX_SAVED_IDS</code>: <a href="#System%20Options">System Options</a>
<li><code>_POSIX_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_POSIX_VDISABLE</code>: <a href="#Options%20for%20Files">Options for Files</a>, <a href="#Special%20Characters">Special Characters</a>
<li><code>_POSIX_VERSION</code>: <a href="#Version%20Supported">Version Supported</a>
<li><code>_REENTRANT</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_SC_2_C_DEV</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_2_FORT_DEV</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_2_FORT_RUN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_2_LOCALEDEF</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_2_SW_DEV</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_2_VERSION</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_AIO_LISTIO_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_AIO_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_AIO_PRIO_DELTA_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_ARG_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_ASYNCHRONOUS_IO</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_ATEXIT_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_AVPHYS_PAGES</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>, <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li><code>_SC_BC_BASE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_BC_DIM_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_BC_SCALE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_BC_STRING_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CHAR_BIT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CHAR_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CHAR_MIN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CHARCLASS_NAME_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CHILD_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_CLK_TCK</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_COLL_WEIGHTS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_DELAYTIMER_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_EQUIV_CLASS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_EXPR_NEST_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_FSYNC</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_GETGR_R_SIZE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_GETPW_R_SIZE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_INT_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_INT_MIN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_JOB_CONTROL</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_LINE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_LOGIN_NAME_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_LONG_BIT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MAPPED_FILES</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MB_LEN_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MEMLOCK</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MEMLOCK_RANGE</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MEMORY_PROTECTION</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MESSAGE_PASSING</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MQ_OPEN_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_MQ_PRIO_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NGROUPS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_ARGMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_LANGMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_MSGMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_NMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_SETMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NL_TEXTMAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_NPROCESSORS_CONF</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>, <a href="#Processor%20Resources">Processor Resources</a>
<li><code>_SC_NPROCESSORS_ONLN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>, <a href="#Processor%20Resources">Processor Resources</a>
<li><code>_SC_NZERO</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_OPEN_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PAGESIZE</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>, <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>, <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>_SC_PHYS_PAGES</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>, <a href="#Query%20Memory%20Parameters">Query Memory Parameters</a>
<li><code>_SC_PII</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_INTERNET</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_INTERNET_DGRAM</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_INTERNET_STREAM</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_OSI</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_OSI_CLTS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_OSI_COTS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_OSI_M</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_SOCKET</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PII_XTI</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PRIORITIZED_IO</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_PRIORITY_SCHEDULING</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_REALTIME_SIGNALS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_RTSIG_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SAVED_IDS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SCHAR_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SCHAR_MIN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SELECT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SEM_NSEMS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SEM_VALUE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SEMAPHORES</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SHARED_MEMORY_OBJECTS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SHRT_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SHRT_MIN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SIGQUEUE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_STREAM_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_SYNCHRONIZED_IO</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_T_IOV_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_ATTR_STACKADDR</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_ATTR_STACKSIZE</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_DESTRUCTOR_ITERATIONS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_KEYS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_PRIO_INHERIT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_PRIO_PROTECT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_PRIORITY_SCHEDULING</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_PROCESS_SHARED</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_SAFE_FUNCTIONS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_STACK_MIN</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREAD_THREADS_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_THREADS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_TIMER_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_TIMERS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_TTY_NAME_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_TZNAME_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_UCHAR_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_UINT_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_UIO_MAXIOV</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_ULONG_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_USHRT_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_VERSION</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_WORD_BIT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_CRYPT</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_ENH_I18N</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_LEGACY</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_REALTIME</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_REALTIME_THREADS</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_SHM</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_UNIX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_VERSION</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_XCU_VERSION</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_XPG2</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_XPG3</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SC_XOPEN_XPG4</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>_SVID_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_THREAD_SAFE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_XOPEN_SOURCE</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>_XOPEN_SOURCE_EXTENDED</code>: <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>ABDAY_1</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_2</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_3</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_4</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_5</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_6</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABDAY_7</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_1</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_10</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_11</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_12</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_2</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_3</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_4</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_5</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_6</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_7</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_8</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ABMON_9</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ACCOUNTING</code>: <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>AF_FILE</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>AF_INET</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>AF_LOCAL</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>AF_UNIX</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>AF_UNSPEC</code>: <a href="#Address%20Formats">Address Formats</a>
<li><code>aliases</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>ALT_DIGITS</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ALTWERASE</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>AM_STR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ARG_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>argp_err_exit_status</code>: <a href="#Argp%20Global%20Variables">Argp Global Variables</a>
<li><code>ARGP_ERR_UNKNOWN</code>: <a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<li><code>ARGP_HELP_BUG_ADDR</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_DOC</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_EXIT_ERR</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_EXIT_OK</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_LONG</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_LONG_ONLY</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_POST_DOC</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_PRE_DOC</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_SEE</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_SHORT_USAGE</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_STD_ERR</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_STD_HELP</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_STD_USAGE</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_HELP_USAGE</code>: <a href="#Argp%20Help%20Flags">Argp Help Flags</a>
<li><code>ARGP_IN_ORDER</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_KEY_ARG</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_ARGS</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_END</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_ERROR</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_FINI</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_HELP_ARGS_DOC</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_HELP_DUP_ARGS_NOTE</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_HELP_EXTRA</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_HELP_HEADER</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_HELP_POST_DOC</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_HELP_PRE_DOC</code>: <a href="#Argp%20Help%20Filter%20Keys">Argp Help Filter Keys</a>
<li><code>ARGP_KEY_INIT</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_NO_ARGS</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_KEY_SUCCESS</code>: <a href="#Argp%20Special%20Keys">Argp Special Keys</a>
<li><code>ARGP_LONG_ONLY</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_NO_ARGS</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_NO_ERRS</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_NO_EXIT</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_NO_HELP</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>ARGP_PARSE_ARGV0</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>argp_program_bug_address</code>: <a href="#Argp%20Global%20Variables">Argp Global Variables</a>
<li><code>argp_program_version</code>: <a href="#Argp%20Global%20Variables">Argp Global Variables</a>
<li><code>argp_program_version_hook</code>: <a href="#Argp%20Global%20Variables">Argp Global Variables</a>
<li><code>ARGP_SILENT</code>: <a href="#Argp%20Flags">Argp Flags</a>
<li><code>B0</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B110</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B115200</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B1200</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B134</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B150</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B1800</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B19200</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B200</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B230400</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B2400</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B300</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B38400</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B460800</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B4800</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B50</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B57600</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B600</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B75</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>B9600</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>BC_BASE_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>BC_DIM_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>BC_SCALE_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>BC_STRING_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>BOOT_TIME</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>BRKINT</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>BUFSIZ</code>: <a href="#Controlling%20Buffering">Controlling Buffering</a>
<li><code>CCTS_OFLOW</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CHAR_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>CHAR_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>CHILD_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>CIGNORE</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CLK_TCK</code>: <a href="#CPU%20Time">CPU Time</a>
<li><code>CLOCAL</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CLOCKS_PER_SEC</code>: <a href="#CPU%20Time">CPU Time</a>
<li><code>CODESET</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>COLL_WEIGHTS_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>COREFILE</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>CREAD</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CRNCYSTR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>CRTS_IFLOW</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CS5</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CS6</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CS7</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CS8</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CSIZE</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CSTOPB</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>CURRENCY_SYMBOL</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>D_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>D_T_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_1</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_2</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_3</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_4</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_5</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_6</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DAY_7</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>daylight</code>: <a href="#Time%20Zone%20Functions">Time Zone Functions</a>
<li><code>DBL_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_EPSILON</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MANT_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MAX</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MAX_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MAX_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MIN</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MIN_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DBL_MIN_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>DEAD_PROCESS</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>DECIMAL_POINT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>DES_DECRYPT</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DES_ENCRYPT</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DES_HW</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DES_SW</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DESERR_BADPARAM</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DESERR_HWERROR</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DESERR_NOHWDEVICE</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DESERR_NONE</code>: <a href="#DES%20Encryption">DES Encryption</a>
<li><code>DT_BLK</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_CHR</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_DIR</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_FIFO</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_REG</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_SOCK</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>DT_UNKNOWN</code>: <a href="#Directory%20Entries">Directory Entries</a>
<li><code>E2BIG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EACCES</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EADDRINUSE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EADDRNOTAVAIL</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EADV</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EAFNOSUPPORT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EAGAIN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EALREADY</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EAUTH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBACKGROUND</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADF</code>: <a href="#Line%20Control">Line Control</a>, <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADFD</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADMSG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADRPC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADRQC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBADSLT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBFONT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EBUSY</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECHILD</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECHO</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHOCTL</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHOE</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHOK</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHOKE</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHONL</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHOPRT</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ECHRNG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECOMM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECONNABORTED</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECONNREFUSED</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ECONNRESET</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ED</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDEADLK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDEADLOCK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDESTADDRREQ</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDIED</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDOM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDOTDOT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EDQUOT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EEXIST</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EFAULT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EFBIG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EFTYPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EGRATUITOUS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EGREGIOUS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EHOSTDOWN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EHOSTUNREACH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EIDRM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EIEIO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EILSEQ</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EINPROGRESS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EINTR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EINVAL</code>: <a href="#Line%20Control">Line Control</a>, <a href="#Error%20Codes">Error Codes</a>
<li><code>EIO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EISCONN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EISDIR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EISNAM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EL2HLT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EL2NSYNC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EL3HLT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EL3RST</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELIBACC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELIBBAD</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELIBEXEC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELIBMAX</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELIBSCN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELNRNG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ELOOP</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EMEDIUMTYPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EMFILE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EMLINK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EMPTY</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>EMSGSIZE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EMULTIHOP</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENAMETOOLONG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENAVAIL</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENEEDAUTH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENETDOWN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENETRESET</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENETUNREACH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENFILE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOANO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOBUFS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOCSI</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENODATA</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENODEV</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOENT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOEXEC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOLCK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOLINK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOMEDIUM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOMEM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOMSG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENONET</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOPKG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOPROTOOPT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOSPC</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOSR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOSTR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOSYS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTBLK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTCONN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTDIR</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTEMPTY</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTNAM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTSOCK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTSUP</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTTY</code>: <a href="#Line%20Control">Line Control</a>, <a href="#Error%20Codes">Error Codes</a>
<li><code>ENOTUNIQ</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>environ</code>: <a href="#Environment%20Access">Environment Access</a>
<li><code>ENXIO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EOF</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>
<li><code>EOPNOTSUPP</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EOVERFLOW</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPERM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPFNOSUPPORT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPIPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROCLIM</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROCUNAVAIL</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROGMISMATCH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROGUNAVAIL</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROTO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROTONOSUPPORT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EPROTOTYPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EQUIV_CLASS_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>ERA</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ERA_D_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ERA_D_T_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ERA_T_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ERA_YEAR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>ERANGE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EREMCHG</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EREMOTE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EREMOTEIO</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ERESTART</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EROFS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ERPCMISMATCH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>errno</code>: <a href="#Checking%20for%20Errors">Checking for Errors</a>
<li><code>error_message_count</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>error_one_per_line</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>error_print_progname</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>ESHUTDOWN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESOCKTNOSUPPORT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESPIPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESRCH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESRMNT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESTALE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ESTRPIPE</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ethers</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>ETIME</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ETIMEDOUT</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ETOOMANYREFS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>ETXTBSY</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EUCLEAN</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EUNATCH</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EUSERS</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EWOULDBLOCK</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EXDEV</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EXFULL</code>: <a href="#Error%20Codes">Error Codes</a>
<li><code>EXIT_FAILURE</code>: <a href="#Exit%20Status">Exit Status</a>
<li><code>EXIT_SUCCESS</code>: <a href="#Exit%20Status">Exit Status</a>
<li><code>EXPR_NEST_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>EXTA</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>EXTB</code>: <a href="#Line%20Speed">Line Speed</a>
<li><code>F_DUPFD</code>: <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li><code>F_GETFD</code>: <a href="#Descriptor%20Flags">Descriptor Flags</a>
<li><code>F_GETFL</code>: <a href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>
<li><code>F_GETLK</code>: <a href="#File%20Locks">File Locks</a>
<li><code>F_GETOWN</code>: <a href="#Interrupt%20Input">Interrupt Input</a>
<li><code>F_OK</code>: <a href="#Testing%20File%20Access">Testing File Access</a>
<li><code>F_RDLCK</code>: <a href="#File%20Locks">File Locks</a>
<li><code>F_SETFD</code>: <a href="#Descriptor%20Flags">Descriptor Flags</a>
<li><code>F_SETFL</code>: <a href="#Getting%20File%20Status%20Flags">Getting File Status Flags</a>
<li><code>F_SETLK</code>: <a href="#File%20Locks">File Locks</a>
<li><code>F_SETLKW</code>: <a href="#File%20Locks">File Locks</a>
<li><code>F_SETOWN</code>: <a href="#Interrupt%20Input">Interrupt Input</a>
<li><code>F_UNLCK</code>: <a href="#File%20Locks">File Locks</a>
<li><code>F_WRLCK</code>: <a href="#File%20Locks">File Locks</a>
<li><code>FD_CLOEXEC</code>: <a href="#Descriptor%20Flags">Descriptor Flags</a>
<li><code>FD_SETSIZE</code>: <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>FE_DFL_ENV</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>FE_DIVBYZERO</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>FE_DOWNWARD</code>: <a href="#Rounding">Rounding</a>
<li><code>FE_INEXACT</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>FE_INVALID</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>FE_NOMASK_ENV</code>: <a href="#Control%20Functions">Control Functions</a>
<li><code>FE_OVERFLOW</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>FE_TONEAREST</code>: <a href="#Rounding">Rounding</a>
<li><code>FE_TOWARDZERO</code>: <a href="#Rounding">Rounding</a>
<li><code>FE_UNDERFLOW</code>: <a href="#Status%20bit%20operations">Status bit operations</a>
<li><code>FE_UPWARD</code>: <a href="#Rounding">Rounding</a>
<li><code>FILENAME_MAX</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>FLT_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_EPSILON</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MANT_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MAX</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MAX_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MAX_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MIN</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MIN_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_MIN_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_RADIX</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLT_ROUNDS</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>FLUSHO</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>FOPEN_MAX</code>: <a href="#Opening%20Streams">Opening Streams</a>
<li><code>FP_FAST_FMA</code>: <a href="#Misc%20FP%20Arithmetic">Misc FP Arithmetic</a>
<li><code>FP_ILOGB0</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>FP_ILOGBNAN</code>: <a href="#Exponents%20and%20Logarithms">Exponents and Logarithms</a>
<li><code>FP_INFINITE</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>FP_NAN</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>FP_NORMAL</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>FP_SUBNORMAL</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>FP_ZERO</code>: <a href="#Floating%20Point%20Classes">Floating Point Classes</a>
<li><code>FPE_DECOVF_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_FLTDIV_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_FLTOVF_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_FLTUND_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_INTDIV_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_INTOVF_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FPE_SUBRNG_TRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>FRAC_DIGITS</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>FSETLOCKING_BYCALLER</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>FSETLOCKING_INTERNAL</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>FSETLOCKING_QUERY</code>: <a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><code>FSTAB</code>: <a href="#Mount%20Information">Mount Information</a>
<li><code>FSTAB_RO</code>: <a href="#fstab">fstab</a>
<li><code>FSTAB_RQ</code>: <a href="#fstab">fstab</a>
<li><code>FSTAB_RW</code>: <a href="#fstab">fstab</a>
<li><code>FSTAB_SW</code>: <a href="#fstab">fstab</a>
<li><code>FSTAB_XX</code>: <a href="#fstab">fstab</a>
<li><code>FTW_CHDIR</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_D</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_DEPTH</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_DNR</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_DP</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_F</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_MOUNT</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_NS</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_PHYS</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_SL</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>FTW_SLN</code>: <a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><code>getdate_err</code>: <a href="#General%20Time%20String%20Parsing">General Time String Parsing</a>
<li><code>GLOB_ABORTED</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>GLOB_ALTDIRFUNC</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_APPEND</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_BRACE</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_DOOFFS</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_ERR</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_MAGCHAR</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_MARK</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_NOCHECK</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_NOESCAPE</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_NOMAGIC</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_NOMATCH</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>GLOB_NOSORT</code>: <a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><code>GLOB_NOSPACE</code>: <a href="#Calling%20Glob">Calling Glob</a>
<li><code>GLOB_ONLYDIR</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_PERIOD</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_TILDE</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>GLOB_TILDE_CHECK</code>: <a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
<li><code>group</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>GROUPING</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>h_errno</code>: <a href="#Host%20Names">Host Names</a>
<li><code>HOST_NOT_FOUND</code>: <a href="#Host%20Names">Host Names</a>
<li><code>hosts</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>HUGE_VAL</code>: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li><code>HUGE_VALF</code>: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li><code>HUGE_VALL</code>: <a href="#Math%20Error%20Reporting">Math Error Reporting</a>
<li><code>HUPCL</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>I</code>: <a href="#Complex%20Numbers">Complex Numbers</a>
<li><code>ICANON</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ICRNL</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IEXTEN</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>IFNAMSIZ</code>: <a href="#Interface%20Naming">Interface Naming</a>
<li><code>IGNBRK</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IGNCR</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IGNPAR</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IMAXBEL</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>in6addr_any</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>in6addr_loopback</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>INADDR_ANY</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>INADDR_BROADCAST</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>INADDR_LOOPBACK</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>INADDR_NONE</code>: <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><code>INFINITY</code>: <a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li><code>INIT_PROCESS</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>INLCR</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>INPCK</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>INT_CURR_SYMBOL</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_FRAC_DIGITS</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>INT_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>INT_N_CS_PRECEDES</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_N_SEP_BY_SPACE</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_N_SIGN_POSN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_P_CS_PRECEDES</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_P_SEP_BY_SPACE</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>INT_P_SIGN_POSN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>IPPORT_RESERVED</code>: <a href="#Ports">Ports</a>
<li><code>IPPORT_USERRESERVED</code>: <a href="#Ports">Ports</a>
<li><code>ISIG</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>ISTRIP</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>ITIMER_PROF</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>ITIMER_REAL</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>ITIMER_VIRTUAL</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><code>IXANY</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IXOFF</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>IXON</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>L_ctermid</code>: <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>
<li><code>L_cuserid</code>: <a href="#Who%20Logged%20In">Who Logged In</a>
<li><code>L_INCR</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>L_SET</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>L_tmpnam</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>L_XTND</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>LANG</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LANGUAGE</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_ALL</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_COLLATE</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_CTYPE</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_MESSAGES</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_MONETARY</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_NUMERIC</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LC_TIME</code>: <a href="#Locale%20Categories">Locale Categories</a>
<li><code>LDBL_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_EPSILON</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MANT_DIG</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MAX</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MAX_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MAX_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MIN</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MIN_10_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LDBL_MIN_EXP</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>LINE_MAX</code>: <a href="#Utility%20Limits">Utility Limits</a>
<li><code>LINK_MAX</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>LIO_NOP</code>: <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<li><code>LIO_READ</code>: <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<li><code>LIO_WRITE</code>: <a href="#Asynchronous%20I%2fO">Asynchronous I/O</a>
<li><code>LOG_ALERT</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_AUTH</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_AUTHPRIV</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_CRIT</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_CRON</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_DAEMON</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_DEBUG</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_EMERG</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_ERR</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_FTP</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_INFO</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL0</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL1</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL2</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL3</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL4</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL5</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL6</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LOCAL7</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_LPR</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_MAIL</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_NEWS</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_NOTICE</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_SYSLOG</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_USER</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_UUCP</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOG_WARNING</code>: <a href="#syslog%3b%20vsyslog">syslog; vsyslog</a>
<li><code>LOGIN_PROCESS</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>LONG_LONG_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>LONG_LONG_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>LONG_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>LONG_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>M_1_PI</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_2_PI</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_2_SQRTPI</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_E</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_LN10</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_LN2</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_LOG10E</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_LOG2E</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_PI</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_PI_2</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_PI_4</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_SQRT1_2</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>M_SQRT2</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>MAP_ANON</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MAP_ANONYMOUS</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MAP_FIXED</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MAP_PRIVATE</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MAP_SHARED</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MAX_CANON</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>MAX_INPUT</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>MAXNAMLEN</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>MAXSYMLINKS</code>: <a href="#Symbolic%20Links">Symbolic Links</a>
<li><code>MB_CUR_MAX</code>: <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>
<li><code>MB_LEN_MAX</code>: <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>
<li><code>MDMBUF</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>MINSIGSTKSZ</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>MM_APPL</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_CONSOLE</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_ERROR</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_FIRM</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_HALT</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_HARD</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_INFO</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NOSEV</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NRECOV</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLACT</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLLBL</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLMC</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLSEV</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLTAG</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_NULLTXT</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_OPSYS</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_PRINT</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_RECOVER</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_SOFT</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_UTIL</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MM_WARNING</code>: <a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><code>MNTOPT_DEFAULTS</code>: <a href="#mtab">mtab</a>
<li><code>MNTOPT_NOAUTO</code>: <a href="#mtab">mtab</a>
<li><code>MNTOPT_NOSUID</code>: <a href="#mtab">mtab</a>
<li><code>MNTOPT_RO</code>: <a href="#mtab">mtab</a>
<li><code>MNTOPT_RW</code>: <a href="#mtab">mtab</a>
<li><code>MNTOPT_SUID</code>: <a href="#mtab">mtab</a>
<li><code>MNTTYPE_IGNORE</code>: <a href="#mtab">mtab</a>
<li><code>MNTTYPE_NFS</code>: <a href="#mtab">mtab</a>
<li><code>MNTTYPE_SWAP</code>: <a href="#mtab">mtab</a>
<li><code>MON_1</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_10</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_11</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_12</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_2</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_3</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_4</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_5</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_6</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_7</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_8</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_9</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_DECIMAL_POINT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_GROUPING</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MON_THOUSANDS_SEP</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>MS_ASYNC</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MS_SYNC</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>MSG_DONTROUTE</code>: <a href="#Socket%20Data%20Options">Socket Data Options</a>
<li><code>MSG_OOB</code>: <a href="#Socket%20Data%20Options">Socket Data Options</a>
<li><code>MSG_PEEK</code>: <a href="#Socket%20Data%20Options">Socket Data Options</a>
<li><code>N_CS_PRECEDES</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>N_SEP_BY_SPACE</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>N_SIGN_POSN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>NAME_MAX</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>NAN</code>: <a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li><code>NCCS</code>: <a href="#Mode%20Data%20Types">Mode Data Types</a>
<li><code>NDEBUG</code>: <a href="#Consistency%20Checking">Consistency Checking</a>
<li><code>NEGATIVE_SIGN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>netgroup</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>networks</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>NEW_TIME</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>NGROUPS_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>NL_ARGMAX</code>: <a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li><code>NO_ADDRESS</code>: <a href="#Host%20Names">Host Names</a>
<li><code>NO_RECOVERY</code>: <a href="#Host%20Names">Host Names</a>
<li><code>NOEXPR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>NOFLSH</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>NOKERNINFO</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>NOSTR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>NSIG</code>: <a href="#Standard%20Signals">Standard Signals</a>
<li><code>NSS_STATUS_NOTFOUND</code>: <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>
<li><code>NSS_STATUS_SUCCESS</code>: <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>
<li><code>NSS_STATUS_TRYAGAIN</code>: <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>
<li><code>NSS_STATUS_UNAVAIL</code>: <a href="#NSS%20Modules%20Interface">NSS Modules Interface</a>
<li><code>NULL</code>: <a href="#Null%20Pointer%20Constant">Null Pointer Constant</a>
<li><code>O_ACCMODE</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_APPEND</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_ASYNC</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_CREAT</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_EXCL</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_EXEC</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_EXLOCK</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_FSYNC</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_IGNORE_CTTY</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_NDELAY</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_NOATIME</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_NOCTTY</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_NOLINK</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_NONBLOCK</code>: <a href="#Operating%20Modes">Operating Modes</a>, <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_NOTRANS</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_RDONLY</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_RDWR</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_READ</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_SHLOCK</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_SYNC</code>: <a href="#Operating%20Modes">Operating Modes</a>
<li><code>O_TRUNC</code>: <a href="#Open-time%20Flags">Open-time Flags</a>
<li><code>O_WRITE</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>O_WRONLY</code>: <a href="#Access%20Modes">Access Modes</a>
<li><code>obstack_alloc_failed_handler</code>: <a href="#Preparing%20for%20Obstacks">Preparing for Obstacks</a>
<li><code>OLD_TIME</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>ONLCR</code>: <a href="#Output%20Modes">Output Modes</a>
<li><code>ONOEOT</code>: <a href="#Output%20Modes">Output Modes</a>
<li><code>OPEN_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>OPOST</code>: <a href="#Output%20Modes">Output Modes</a>
<li><code>optarg</code>: <a href="#Using%20Getopt">Using Getopt</a>
<li><code>opterr</code>: <a href="#Using%20Getopt">Using Getopt</a>
<li><code>optind</code>: <a href="#Using%20Getopt">Using Getopt</a>
<li><code>OPTION_ALIAS</code>: <a href="#Argp%20Option%20Flags">Argp Option Flags</a>
<li><code>OPTION_ARG_OPTIONAL</code>: <a href="#Argp%20Option%20Flags">Argp Option Flags</a>
<li><code>OPTION_DOC</code>: <a href="#Argp%20Option%20Flags">Argp Option Flags</a>
<li><code>OPTION_HIDDEN</code>: <a href="#Argp%20Option%20Flags">Argp Option Flags</a>
<li><code>OPTION_NO_USAGE</code>: <a href="#Argp%20Option%20Flags">Argp Option Flags</a>
<li><code>optopt</code>: <a href="#Using%20Getopt">Using Getopt</a>
<li><code>OXTABS</code>: <a href="#Output%20Modes">Output Modes</a>
<li><code>P_CS_PRECEDES</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>P_SEP_BY_SPACE</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>P_SIGN_POSN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>P_tmpdir</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>PA_CHAR</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_DOUBLE</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_LONG</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_LONG_DOUBLE</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_LONG_LONG</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_MASK</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_PTR</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLAG_SHORT</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_FLOAT</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_INT</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_LAST</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_POINTER</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PA_STRING</code>: <a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><code>PARENB</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>PARMRK</code>: <a href="#Input%20Modes">Input Modes</a>
<li><code>PARODD</code>: <a href="#Control%20Modes">Control Modes</a>
<li><code>passwd</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>PATH_MAX</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>PENDIN</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>PF_CCITT</code>: <a href="#Misc%20Namespaces">Misc Namespaces</a>
<li><code>PF_FILE</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>PF_IMPLINK</code>: <a href="#Misc%20Namespaces">Misc Namespaces</a>
<li><code>PF_INET</code>: <a href="#Internet%20Namespace">Internet Namespace</a>
<li><code>PF_INET6</code>: <a href="#Internet%20Namespace">Internet Namespace</a>
<li><code>PF_ISO</code>: <a href="#Misc%20Namespaces">Misc Namespaces</a>
<li><code>PF_LOCAL</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>PF_NS</code>: <a href="#Misc%20Namespaces">Misc Namespaces</a>
<li><code>PF_ROUTE</code>: <a href="#Misc%20Namespaces">Misc Namespaces</a>
<li><code>PF_UNIX</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>PI</code>: <a href="#Mathematical%20Constants">Mathematical Constants</a>
<li><code>PIPE_BUF</code>: <a href="#Limits%20for%20Files">Limits for Files</a>
<li><code>PM_STR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>POSITIVE_SIGN</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>PRIO_MAX</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>PRIO_MIN</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>PRIO_PGRP</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>PRIO_PROCESS</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>PRIO_USER</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>
<li><code>program_invocation_name</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>program_invocation_short_name</code>: <a href="#Error%20Messages">Error Messages</a>
<li><code>PROT_EXEC</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>PROT_READ</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>PROT_WRITE</code>: <a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><code>protocols</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>PWD</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>R_OK</code>: <a href="#Testing%20File%20Access">Testing File Access</a>
<li><code>RADIXCHAR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>RAND_MAX</code>: <a href="#ISO%20Random">ISO Random</a>
<li><code>RE_DUP_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>RLIM_INFINITY</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIM_NLIMITS</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_AS</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_CORE</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_CPU</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_DATA</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_FSIZE</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_NOFILE</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_OFILE</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_RSS</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>RLIMIT_STACK</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>rpc</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>RUN_LVL</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>S_IEXEC</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IFBLK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFCHR</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFDIR</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFIFO</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFLNK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFMT</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFREG</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IFSOCK</code>: <a href="#Testing%20File%20Type">Testing File Type</a>
<li><code>S_IREAD</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IRGRP</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IROTH</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IRUSR</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IRWXG</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IRWXO</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IRWXU</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_ISGID</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_ISUID</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_ISVTX</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IWGRP</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IWOTH</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IWRITE</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IWUSR</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IXGRP</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IXOTH</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>S_IXUSR</code>: <a href="#Permission%20Bits">Permission Bits</a>
<li><code>SA_NOCLDSTOP</code>: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li><code>SA_ONSTACK</code>: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li><code>SA_RESTART</code>: <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>
<li><code>SC_SSIZE_MAX</code>: <a href="#Constants%20for%20Sysconf">Constants for Sysconf</a>
<li><code>SCHAR_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>SCHAR_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>SEEK_CUR</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>SEEK_END</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>SEEK_SET</code>: <a href="#File%20Positioning">File Positioning</a>
<li><code>services</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>shadow</code>: <a href="#NSS%20Basics">NSS Basics</a>
<li><code>SHRT_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>SHRT_MIN</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>SIG_BLOCK</code>: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li><code>SIG_DFL</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>SIG_ERR</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>SIG_IGN</code>: <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><code>SIG_SETMASK</code>: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li><code>SIG_UNBLOCK</code>: <a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li><code>SIGABRT</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGALRM</code>: <a href="#Alarm%20Signals">Alarm Signals</a>
<li><code>SIGBUS</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGCHLD</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGCLD</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGCONT</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGEMT</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGFPE</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGHUP</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>SIGILL</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGINFO</code>: <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li><code>SIGINT</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>SIGIO</code>: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li><code>SIGIOT</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGKILL</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>SIGLOST</code>: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li><code>signgam</code>: <a href="#Special%20Functions">Special Functions</a>
<li><code>SIGPIPE</code>: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li><code>SIGPOLL</code>: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li><code>SIGPROF</code>: <a href="#Alarm%20Signals">Alarm Signals</a>
<li><code>SIGQUIT</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>SIGSEGV</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGSTKSZ</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>SIGSTOP</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGSYS</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGTERM</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>SIGTRAP</code>: <a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><code>SIGTSTP</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGTTIN</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGTTOU</code>: <a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><code>SIGURG</code>: <a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li><code>SIGUSR1</code>: <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li><code>SIGUSR2</code>: <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li><code>SIGVTALRM</code>: <a href="#Alarm%20Signals">Alarm Signals</a>
<li><code>SIGWINCH</code>: <a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li><code>SIGXCPU</code>: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li><code>SIGXFSZ</code>: <a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li><code>SOCK_DGRAM</code>: <a href="#Communication%20Styles">Communication Styles</a>
<li><code>SOCK_RAW</code>: <a href="#Communication%20Styles">Communication Styles</a>
<li><code>SOCK_STREAM</code>: <a href="#Communication%20Styles">Communication Styles</a>
<li><code>SOL_SOCKET</code>: <a href="#Socket-Level%20Options">Socket-Level Options</a>
<li><code>SS_DISABLE</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>SS_ONSTACK</code>: <a href="#Signal%20Stack">Signal Stack</a>
<li><code>SSIZE_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>stderr</code>: <a href="#Standard%20Streams">Standard Streams</a>
<li><code>STDERR_FILENO</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>stdin</code>: <a href="#Standard%20Streams">Standard Streams</a>
<li><code>STDIN_FILENO</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>stdout</code>: <a href="#Standard%20Streams">Standard Streams</a>
<li><code>STDOUT_FILENO</code>: <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><code>STREAM_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>SV_INTERRUPT</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>SV_ONSTACK</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>SV_RESETHAND</code>: <a href="#BSD%20Handler">BSD Handler</a>
<li><code>sys_siglist</code>: <a href="#Signal%20Messages">Signal Messages</a>
<li><code>T_FMT</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>T_FMT_AMPM</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>TCIFLUSH</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCIOFF</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCIOFLUSH</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCION</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCOFLUSH</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCOOFF</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCOON</code>: <a href="#Line%20Control">Line Control</a>
<li><code>TCSADRAIN</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>TCSAFLUSH</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>TCSANOW</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>TCSASOFT</code>: <a href="#Mode%20Functions">Mode Functions</a>
<li><code>THOUSANDS_SEP</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>THOUSEP</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>timezone</code>: <a href="#Time%20Zone%20Functions">Time Zone Functions</a>
<li><code>TMP_MAX</code>: <a href="#Temporary%20Files">Temporary Files</a>
<li><code>TOSTOP</code>: <a href="#Local%20Modes">Local Modes</a>
<li><code>TRY_AGAIN</code>: <a href="#Host%20Names">Host Names</a>
<li><code>tzname</code>: <a href="#Time%20Zone%20Functions">Time Zone Functions</a>
<li><code>TZNAME_MAX</code>: <a href="#General%20Limits">General Limits</a>
<li><code>UCHAR_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>UINT_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>ULONG_LONG_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>ULONG_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>USER_PROCESS</code>: <a href="#XPG%20Functions">XPG Functions</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>USHRT_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>
<li><code>VDISCARD</code>: <a href="#Other%20Special">Other Special</a>
<li><code>VDSUSP</code>: <a href="#Signal%20Characters">Signal Characters</a>
<li><code>VEOF</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VEOL</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VEOL2</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VERASE</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VINTR</code>: <a href="#Signal%20Characters">Signal Characters</a>
<li><code>VKILL</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VLNEXT</code>: <a href="#Other%20Special">Other Special</a>
<li><code>VMIN</code>: <a href="#Noncanonical%20Input">Noncanonical Input</a>
<li><code>VQUIT</code>: <a href="#Signal%20Characters">Signal Characters</a>
<li><code>VREPRINT</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>VSTART</code>: <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>
<li><code>VSTATUS</code>: <a href="#Other%20Special">Other Special</a>
<li><code>VSTOP</code>: <a href="#Start%2fStop%20Characters">Start/Stop Characters</a>
<li><code>VSUSP</code>: <a href="#Signal%20Characters">Signal Characters</a>
<li><code>VTIME</code>: <a href="#Noncanonical%20Input">Noncanonical Input</a>
<li><code>VWERASE</code>: <a href="#Editing%20Characters">Editing Characters</a>
<li><code>W_OK</code>: <a href="#Testing%20File%20Access">Testing File Access</a>
<li><code>WCHAR_MAX</code>: <a href="#Range%20of%20Type">Range of Type</a>, <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li><code>WCHAR_MIN</code>: <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li><code>WEOF</code>: <a href="#EOF%20and%20Errors">EOF and Errors</a>, <a href="#Extended%20Char%20Intro">Extended Char Intro</a>
<li><code>X_OK</code>: <a href="#Testing%20File%20Access">Testing File Access</a>
<li><code>YESEXPR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>YESSTR</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
</ul>
<p><hr>
Node:<a name="File%20Index">File Index</a>,
Previous:<a rel=previous accesskey=p href="#Variable%20Index">Variable Index</a>,
Up:<a rel=up accesskey=u href="#Top">Top</a>
<br>

<h2>Program and File Index</h2>

<ul compact>
<li><code>-lbsd-compat</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>, <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>/etc/group</code>: <a href="#Group%20Database">Group Database</a>
<li><code>/etc/hosts</code>: <a href="#Host%20Names">Host Names</a>
<li><code>/etc/localtime</code>: <a href="#TZ%20Variable">TZ Variable</a>
<li><code>/etc/networks</code>: <a href="#Networks%20Database">Networks Database</a>
<li><code>/etc/passwd</code>: <a href="#User%20Database">User Database</a>
<li><code>/etc/protocols</code>: <a href="#Protocols%20Database">Protocols Database</a>
<li><code>/etc/services</code>: <a href="#Services%20Database">Services Database</a>
<li><code>/share/lib/zoneinfo</code>: <a href="#TZ%20Variable">TZ Variable</a>
<li><code>argp.h</code>: <a href="#Argp">Argp</a>
<li><code>argz.h</code>: <a href="#Argz%20Functions">Argz Functions</a>
<li><code>arpa/inet.h</code>: <a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><code>assert.h</code>: <a href="#Consistency%20Checking">Consistency Checking</a>
<li><code>bsd-compat</code>: <a href="#Process%20Group%20Functions">Process Group Functions</a>, <a href="#Feature%20Test%20Macros">Feature Test Macros</a>
<li><code>cd</code>: <a href="#Working%20Directory">Working Directory</a>
<li><code>chgrp</code>: <a href="#File%20Owner">File Owner</a>
<li><code>chown</code>: <a href="#File%20Owner">File Owner</a>
<li><code>complex.h</code>: <a href="#Operations%20on%20Complex">Operations on Complex</a>, <a href="#Complex%20Numbers">Complex Numbers</a>, <a href="#Mathematics">Mathematics</a>
<li><code>ctype.h</code>: <a href="#Case%20Conversion">Case Conversion</a>, <a href="#Classification%20of%20Characters">Classification of Characters</a>, <a href="#Character%20Handling">Character Handling</a>
<li><code>dirent.h</code>: <a href="#Random%20Access%20Directory">Random Access Directory</a>, <a href="#Reading%2fClosing%20Directory">Reading/Closing Directory</a>, <a href="#Opening%20a%20Directory">Opening a Directory</a>, <a href="#Directory%20Entries">Directory Entries</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>envz.h</code>: <a href="#Envz%20Functions">Envz Functions</a>
<li><code>errno.h</code>: <a href="#Error%20Codes">Error Codes</a>, <a href="#Checking%20for%20Errors">Checking for Errors</a>, <a href="#Error%20Reporting">Error Reporting</a>
<li><code>execinfo.h</code>: <a href="#Backtraces">Backtraces</a>
<li><code>fcntl.h</code>: <a href="#Interrupt%20Input">Interrupt Input</a>, <a href="#File%20Locks">File Locks</a>, <a href="#File%20Status%20Flags">File Status Flags</a>, <a href="#Descriptor%20Flags">Descriptor Flags</a>, <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>, <a href="#Control%20Operations">Control Operations</a>, <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>float.h</code>: <a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><code>fnmatch.h</code>: <a href="#Wildcard%20Matching">Wildcard Matching</a>
<li><code>gcc</code>: <a href="#ISO%20C">ISO C</a>
<li><code>gconv.h</code>: <a href="#glibc%20iconv%20Implementation">glibc iconv Implementation</a>
<li><code>grp.h</code>: <a href="#Group%20Data%20Structure">Group Data Structure</a>, <a href="#Setting%20Groups">Setting Groups</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>hostid</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>hostname</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>iconv.h</code>: <a href="#Generic%20Conversion%20Interface">Generic Conversion Interface</a>
<li><code>kill</code>: <a href="#Termination%20Signals">Termination Signals</a>
<li><code>ksh</code>: <a href="#Wildcard%20Matching">Wildcard Matching</a>
<li><code>langinfo.h</code>: <a href="#The%20Elegant%20and%20Fast%20Way">The Elegant and Fast Way</a>
<li><code>limits.h</code>: <a href="#Width%20of%20Type">Width of Type</a>, <a href="#Limits%20for%20Files">Limits for Files</a>, <a href="#General%20Limits">General Limits</a>, <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>locale</code>: <a href="#Setting%20the%20Locale">Setting the Locale</a>
<li><code>locale.h</code>: <a href="#The%20Lame%20Way%20to%20Locale%20Data">The Lame Way to Locale Data</a>, <a href="#Setting%20the%20Locale">Setting the Locale</a>
<li><code>localtime</code>: <a href="#TZ%20Variable">TZ Variable</a>
<li><code>ls</code>: <a href="#File%20Attributes">File Attributes</a>
<li><code>malloc.h</code>: <a href="#Statistics%20of%20Malloc">Statistics of Malloc</a>, <a href="#Hooks%20for%20Malloc">Hooks for Malloc</a>, <a href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>
<li><code>math.h</code>: <a href="#Rounding%20Functions">Rounding Functions</a>, <a href="#Normalization%20Functions">Normalization Functions</a>, <a href="#Absolute%20Value">Absolute Value</a>, <a href="#Floating%20Point%20Classes">Floating Point Classes</a>, <a href="#Mathematics">Mathematics</a>
<li><code>mcheck.h</code>: <a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li><code>mkdir</code>: <a href="#Creating%20Directories">Creating Directories</a>
<li><code>netdb.h</code>: <a href="#Networks%20Database">Networks Database</a>, <a href="#Protocols%20Database">Protocols Database</a>, <a href="#Services%20Database">Services Database</a>, <a href="#Host%20Names">Host Names</a>
<li><code>netinet/in.h</code>: <a href="#Byte%20Order">Byte Order</a>, <a href="#Ports">Ports</a>, <a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>, <a href="#Internet%20Address%20Formats">Internet Address Formats</a>
<li><code>obstack.h</code>: <a href="#Creating%20Obstacks">Creating Obstacks</a>
<li><code>printf.h</code>: <a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>, <a href="#Registering%20New%20Conversions">Registering New Conversions</a>
<li><code>pwd.h</code>: <a href="#User%20Data%20Structure">User Data Structure</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>setjmp.h</code>: <a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>, <a href="#Non-Local%20Details">Non-Local Details</a>
<li><code>sh</code>: <a href="#Running%20a%20Command">Running a Command</a>
<li><code>signal.h</code>: <a href="#BSD%20Signal%20Handling">BSD Signal Handling</a>, <a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>, <a href="#Process%20Signal%20Mask">Process Signal Mask</a>, <a href="#Signal%20Sets">Signal Sets</a>, <a href="#Signaling%20Another%20Process">Signaling Another Process</a>, <a href="#Signaling%20Yourself">Signaling Yourself</a>, <a href="#Flags%20for%20Sigaction">Flags for Sigaction</a>, <a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>, <a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>, <a href="#Standard%20Signals">Standard Signals</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>stdarg.h</code>: <a href="#Argument%20Macros">Argument Macros</a>, <a href="#Receiving%20Arguments">Receiving Arguments</a>
<li><code>stddef.h</code>: <a href="#Important%20Data%20Types">Important Data Types</a>
<li><code>stdint.h</code>: <a href="#Integers">Integers</a>
<li><code>stdio.h</code>: <a href="#Who%20Logged%20In">Who Logged In</a>, <a href="#Identifying%20the%20Terminal">Identifying the Terminal</a>, <a href="#Signal%20Messages">Signal Messages</a>, <a href="#Temporary%20Files">Temporary Files</a>, <a href="#Deleting%20Files">Deleting Files</a>, <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>, <a href="#Streams%20and%20Cookies">Streams and Cookies</a>, <a href="#String%20Streams">String Streams</a>, <a href="#Controlling%20Buffering">Controlling Buffering</a>, <a href="#Flushing%20Buffers">Flushing Buffers</a>, <a href="#Portable%20Positioning">Portable Positioning</a>, <a href="#File%20Positioning">File Positioning</a>, <a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>, <a href="#Variable%20Arguments%20Output">Variable Arguments Output</a>, <a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>, <a href="#Block%20Input%2fOutput">Block Input/Output</a>, <a href="#Character%20Input">Character Input</a>, <a href="#Simple%20Output">Simple Output</a>, <a href="#Opening%20Streams">Opening Streams</a>, <a href="#Standard%20Streams">Standard Streams</a>, <a href="#Streams">Streams</a>
<li><code>stdlib.h</code>: <a href="#Running%20a%20Command">Running a Command</a>, <a href="#Aborting%20a%20Program">Aborting a Program</a>, <a href="#Exit%20Status">Exit Status</a>, <a href="#Environment%20Access">Environment Access</a>, <a href="#Parsing%20of%20Floats">Parsing of Floats</a>, <a href="#Parsing%20of%20Integers">Parsing of Integers</a>, <a href="#Absolute%20Value">Absolute Value</a>, <a href="#Integer%20Division">Integer Division</a>, <a href="#SVID%20Random">SVID Random</a>, <a href="#BSD%20Random">BSD Random</a>, <a href="#ISO%20Random">ISO Random</a>, <a href="#Allocation">Allocation</a>, <a href="#Array%20Sort%20Function">Array Sort Function</a>, <a href="#Array%20Search%20Function">Array Search Function</a>, <a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Character Conversion</a>, <a href="#Selecting%20the%20Conversion">Selecting the Conversion</a>, <a href="#Variable%20Size%20Automatic">Variable Size Automatic</a>, <a href="#Aligned%20Memory%20Blocks">Aligned Memory Blocks</a>, <a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>, <a href="#Changing%20Block%20Size">Changing Block Size</a>, <a href="#Freeing%20after%20Malloc">Freeing after Malloc</a>, <a href="#Basic%20Allocation">Basic Allocation</a>
<li><code>string.h</code>: <a href="#Signal%20Messages">Signal Messages</a>, <a href="#Trivial%20Encryption">Trivial Encryption</a>, <a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>, <a href="#Search%20Functions">Search Functions</a>, <a href="#Collation%20Functions">Collation Functions</a>, <a href="#String%2fArray%20Comparison">String/Array Comparison</a>, <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>, <a href="#String%20Length">String Length</a>
<li><code>sys/param.h</code>: <a href="#Host%20Identification">Host Identification</a>
<li><code>sys/resource.h</code>: <a href="#Traditional%20Scheduling%20Functions">Traditional Scheduling Functions</a>, <a href="#Limits%20on%20Resources">Limits on Resources</a>, <a href="#Resource%20Usage">Resource Usage</a>
<li><code>sys/socket.h</code>: <a href="#Socket-Level%20Options">Socket-Level Options</a>, <a href="#Socket%20Option%20Functions">Socket Option Functions</a>, <a href="#Sending%20Datagrams">Sending Datagrams</a>, <a href="#Socket%20Data%20Options">Socket Data Options</a>, <a href="#Receiving%20Data">Receiving Data</a>, <a href="#Sending%20Data">Sending Data</a>, <a href="#Socket%20Pairs">Socket Pairs</a>, <a href="#Closing%20a%20Socket">Closing a Socket</a>, <a href="#Creating%20a%20Socket">Creating a Socket</a>, <a href="#Internet%20Namespace">Internet Namespace</a>, <a href="#Local%20Namespace%20Details">Local Namespace Details</a>, <a href="#Reading%20Address">Reading Address</a>, <a href="#Setting%20Address">Setting Address</a>, <a href="#Address%20Formats">Address Formats</a>, <a href="#Communication%20Styles">Communication Styles</a>
<li><code>sys/stat.h</code>: <a href="#FIFO%20Special%20Files">FIFO Special Files</a>, <a href="#Making%20Special%20Files">Making Special Files</a>, <a href="#Setting%20Permissions">Setting Permissions</a>, <a href="#Permission%20Bits">Permission Bits</a>, <a href="#Testing%20File%20Type">Testing File Type</a>, <a href="#Attribute%20Meanings">Attribute Meanings</a>, <a href="#Creating%20Directories">Creating Directories</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>sys/time.h</code>: <a href="#Setting%20an%20Alarm">Setting an Alarm</a>, <a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>, <a href="#File%20Times">File Times</a>
<li><code>sys/times.h</code>: <a href="#Processor%20Time">Processor Time</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>sys/timex.h</code>: <a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><code>sys/types.h</code>: <a href="#Setting%20Groups">Setting Groups</a>, <a href="#Setting%20User%20ID">Setting User ID</a>, <a href="#Reading%20Persona">Reading Persona</a>, <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>, <a href="#Process%20Group%20Functions">Process Group Functions</a>, <a href="#Process%20Identification">Process Identification</a>, <a href="#Waiting%20for%20I%2fO">Waiting for I/O</a>
<li><code>sys/un.h</code>: <a href="#Local%20Namespace%20Details">Local Namespace Details</a>
<li><code>sys/utsname.h</code>: <a href="#Platform%20Type">Platform Type</a>
<li><code>sys/vlimit.h</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>sys/vtimes.h</code>: <a href="#Resource%20Usage">Resource Usage</a>
<li><code>sys/wait.h</code>: <a href="#BSD%20Wait%20Functions">BSD Wait Functions</a>, <a href="#Process%20Completion%20Status">Process Completion Status</a>, <a href="#Process%20Completion">Process Completion</a>
<li><code>termios.h</code>: <a href="#Terminal%20Modes">Terminal Modes</a>, <a href="#Reserved%20Names">Reserved Names</a>
<li><code>time.h</code>: <a href="#TZ%20Variable">TZ Variable</a>, <a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>, <a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>, <a href="#CPU%20Time">CPU Time</a>, <a href="#File%20Times">File Times</a>
<li><code>ulimit.h</code>: <a href="#Limits%20on%20Resources">Limits on Resources</a>
<li><code>umask</code>: <a href="#Setting%20Permissions">Setting Permissions</a>
<li><code>unistd.h</code>: <a href="#Options%20for%20Files">Options for Files</a>, <a href="#System%20Options">System Options</a>, <a href="#Host%20Identification">Host Identification</a>, <a href="#Who%20Logged%20In">Who Logged In</a>, <a href="#Setting%20Groups">Setting Groups</a>, <a href="#Setting%20User%20ID">Setting User ID</a>, <a href="#Reading%20Persona">Reading Persona</a>, <a href="#Terminal%20Access%20Functions">Terminal Access Functions</a>, <a href="#Process%20Group%20Functions">Process Group Functions</a>, <a href="#Executing%20a%20File">Executing a File</a>, <a href="#Creating%20a%20Process">Creating a Process</a>, <a href="#Process%20Identification">Process Identification</a>, <a href="#Termination%20Internals">Termination Internals</a>, <a href="#Using%20Getopt">Using Getopt</a>, <a href="#Setting%20an%20Alarm">Setting an Alarm</a>, <a href="#Is%20It%20a%20Terminal">Is It a Terminal</a>, <a href="#Creating%20a%20Pipe">Creating a Pipe</a>, <a href="#Testing%20File%20Access">Testing File Access</a>, <a href="#File%20Owner">File Owner</a>, <a href="#Deleting%20Files">Deleting Files</a>, <a href="#Symbolic%20Links">Symbolic Links</a>, <a href="#Hard%20Links">Hard Links</a>, <a href="#Working%20Directory">Working Directory</a>, <a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>, <a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>, <a href="#I%2fO%20Primitives">I/O Primitives</a>, <a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><code>utime.h</code>: <a href="#File%20Times">File Times</a>
<li><code>utmp.h</code>: <a href="#Logging%20In%20and%20Out">Logging In and Out</a>, <a href="#Manipulating%20the%20Database">Manipulating the Database</a>
<li><code>utmpx.h</code>: <a href="#XPG%20Functions">XPG Functions</a>
<li><code>varargs.h</code>: <a href="#Old%20Varargs">Old Varargs</a>
<li><code>wchar.h</code>: <a href="#Parsing%20of%20Integers">Parsing of Integers</a>, <a href="#Character%20Input">Character Input</a>, <a href="#Simple%20Output">Simple Output</a>, <a href="#Converting%20Strings">Converting Strings</a>, <a href="#Converting%20a%20Character">Converting a Character</a>, <a href="#Keeping%20the%20state">Keeping the state</a>, <a href="#Extended%20Char%20Intro">Extended Char Intro</a>, <a href="#Collation%20Functions">Collation Functions</a>, <a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><code>wctype.h</code>: <a href="#Wide%20Character%20Case%20Conversion">Wide Character Case Conversion</a>, <a href="#Classification%20of%20Wide%20Characters">Classification of Wide Characters</a>
<li><code>zoneinfo</code>: <a href="#TZ%20Variable">TZ Variable</a>
</ul>


<h2>Short Contents</h2>
<ul>
<li><a href="#toc_Top">Main Menu</a>
<li><a href="#toc_Introduction">Introduction</a>
<li><a href="#toc_Error%20Reporting">Error Reporting</a>
<li><a href="#toc_Memory">Virtual Memory Allocation And Paging</a>
<li><a href="#toc_Character%20Handling">Character Handling</a>
<li><a href="#toc_String%20and%20Array%20Utilities">String and Array Utilities</a>
<li><a href="#toc_Character%20Set%20Handling">Character Set Handling</a>
<li><a href="#toc_Locales">Locales and Internationalization</a>
<li><a href="#toc_Message%20Translation">Message Translation</a>
<li><a href="#toc_Searching%20and%20Sorting">Searching and Sorting</a>
<li><a href="#toc_Pattern%20Matching">Pattern Matching</a>
<li><a href="#toc_I%2fO%20Overview">Input/Output Overview</a>
<li><a href="#toc_I%2fO%20on%20Streams">Input/Output on Streams</a>
<li><a href="#toc_Low-Level%20I%2fO">Low-Level Input/Output</a>
<li><a href="#toc_File%20System%20Interface">File System Interface</a>
<li><a href="#toc_Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<li><a href="#toc_Sockets">Sockets</a>
<li><a href="#toc_Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<li><a href="#toc_Syslog">Syslog</a>
<li><a href="#toc_Mathematics">Mathematics</a>
<li><a href="#toc_Arithmetic">Arithmetic Functions</a>
<li><a href="#toc_Date%20and%20Time">Date and Time</a>
<li><a href="#toc_Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<li><a href="#toc_Non-Local%20Exits">Non-Local Exits</a>
<li><a href="#toc_Signal%20Handling">Signal Handling</a>
<li><a href="#toc_Program%20Basics">The Basic Program/System Interface</a>
<li><a href="#toc_Processes">Processes</a>
<li><a href="#toc_Job%20Control">Job Control</a>
<li><a href="#toc_Name%20Service%20Switch">System Databases and Name Service Switch</a>
<li><a href="#toc_Users%20and%20Groups">Users and Groups</a>
<li><a href="#toc_System%20Management">System Management</a>
<li><a href="#toc_System%20Configuration">System Configuration Parameters</a>
<li><a href="#toc_Cryptographic%20Functions">DES Encryption and Password Handling</a>
<li><a href="#toc_Debugging%20Support">Debugging support</a>
<li><a href="#toc_Language%20Features">C Language Facilities in the Library</a>
<li><a href="#toc_Library%20Summary">Summary of Library Facilities</a>
<li><a href="#toc_Installation">Installing the GNU C Library</a>
<li><a href="#toc_Maintenance">Library Maintenance</a>
<li><a href="#toc_Contributors">Contributors to the GNU C Library</a>
<li><a href="#toc_Free%20Manuals">Free Software Needs Free Documentation</a>
<li><a href="#toc_Copying">GNU Lesser General Public License</a>
<li><a href="#toc_Documentation%20License">GNU Free Documentation License</a>
<li><a href="#toc_Concept%20Index">Concept Index</a>
<li><a href="#toc_Type%20Index">Type Index</a>
<li><a href="#toc_Function%20Index">Function and Macro Index</a>
<li><a href="#toc_Variable%20Index">Variable and Constant Macro Index</a>
<li><a href="#toc_File%20Index">Program and File Index</a>
</ul>


<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top"></a>
    <a href="#Top">Main Menu</a>
<li><a name="toc_Introduction"></a>
    <a href="#Introduction">Introduction</a>
<ul>
<li><a href="#Getting%20Started">Getting Started</a>
<li><a href="#Standards%20and%20Portability">Standards and Portability</a>
<ul>
<li><a href="#ISO%20C">ISO C</a>
<li><a href="#POSIX">POSIX (The Portable Operating System Interface)</a>
<li><a href="#Berkeley%20Unix">Berkeley Unix</a>
<li><a href="#SVID">SVID (The System V Interface Description)</a>
<li><a href="#XPG">XPG (The X/Open Portability Guide)</a>
</ul>
<li><a href="#Using%20the%20Library">Using the Library</a>
<ul>
<li><a href="#Header%20Files">Header Files</a>
<li><a href="#Macro%20Definitions">Macro Definitions of Functions</a>
<li><a href="#Reserved%20Names">Reserved Names</a>
<li><a href="#Feature%20Test%20Macros">Feature Test Macros</a>
</ul>
<li><a href="#Roadmap%20to%20the%20Manual">Roadmap to the Manual</a>
</ul>
<li><a name="toc_Error%20Reporting"></a>
    <a href="#Error%20Reporting">Error Reporting</a>
<ul>
<li><a href="#Checking%20for%20Errors">Checking for Errors</a>
<li><a href="#Error%20Codes">Error Codes</a>
<li><a href="#Error%20Messages">Error Messages</a>
</ul>
<li><a name="toc_Memory"></a>
    <a href="#Memory">Virtual Memory Allocation And Paging</a>
<ul>
<li><a href="#Memory%20Concepts">Process Memory Concepts</a>
<li><a href="#Memory%20Allocation">Allocating Storage For Program Data</a>
<ul>
<li><a href="#Memory%20Allocation%20and%20C">Memory Allocation in C Programs</a>
<ul>
<li><a href="#Memory%20Allocation%20and%20C">Dynamic Memory Allocation</a>
</ul>
<li><a href="#Unconstrained%20Allocation">Unconstrained Allocation</a>
<ul>
<li><a href="#Basic%20Allocation">Basic Memory Allocation</a>
<li><a href="#Malloc%20Examples">Examples of <code>malloc</code></a>
<li><a href="#Freeing%20after%20Malloc">Freeing Memory Allocated with <code>malloc</code></a>
<li><a href="#Changing%20Block%20Size">Changing the Size of a Block</a>
<li><a href="#Allocating%20Cleared%20Space">Allocating Cleared Space</a>
<li><a href="#Efficiency%20and%20Malloc">Efficiency Considerations for <code>malloc</code></a>
<li><a href="#Aligned%20Memory%20Blocks">Allocating Aligned Memory Blocks</a>
<li><a href="#Malloc%20Tunable%20Parameters">Malloc Tunable Parameters</a>
<li><a href="#Heap%20Consistency%20Checking">Heap Consistency Checking</a>
<li><a href="#Hooks%20for%20Malloc">Memory Allocation Hooks</a>
<li><a href="#Statistics%20of%20Malloc">Statistics for Memory Allocation with <code>malloc</code></a>
<li><a href="#Summary%20of%20Malloc">Summary of <code>malloc</code>-Related Functions</a>
</ul>
<li><a href="#Allocation%20Debugging">Allocation Debugging</a>
<ul>
<li><a href="#Tracing%20malloc">How to install the tracing functionality</a>
<li><a href="#Using%20the%20Memory%20Debugger">Example program excerpts</a>
<li><a href="#Tips%20for%20the%20Memory%20Debugger">Some more or less clever ideas</a>
<li><a href="#Interpreting%20the%20traces">Interpreting the traces</a>
</ul>
<li><a href="#Obstacks">Obstacks</a>
<ul>
<li><a href="#Creating%20Obstacks">Creating Obstacks</a>
<li><a href="#Preparing%20for%20Obstacks">Preparing for Using Obstacks</a>
<li><a href="#Allocation%20in%20an%20Obstack">Allocation in an Obstack</a>
<li><a href="#Freeing%20Obstack%20Objects">Freeing Objects in an Obstack</a>
<li><a href="#Obstack%20Functions">Obstack Functions and Macros</a>
<li><a href="#Growing%20Objects">Growing Objects</a>
<li><a href="#Extra%20Fast%20Growing">Extra Fast Growing Objects</a>
<li><a href="#Status%20of%20an%20Obstack">Status of an Obstack</a>
<li><a href="#Obstacks%20Data%20Alignment">Alignment of Data in Obstacks</a>
<li><a href="#Obstack%20Chunks">Obstack Chunks</a>
<li><a href="#Summary%20of%20Obstacks">Summary of Obstack Functions</a>
</ul>
<li><a href="#Variable%20Size%20Automatic">Automatic Storage with Variable Size</a>
<ul>
<li><a href="#Alloca%20Example"><code>alloca</code> Example</a>
<li><a href="#Advantages%20of%20Alloca">Advantages of <code>alloca</code></a>
<li><a href="#Disadvantages%20of%20Alloca">Disadvantages of <code>alloca</code></a>
<li><a href="#GNU%20C%20Variable-Size%20Arrays">GNU C Variable-Size Arrays</a>
</ul>
</ul>
<li><a href="#Resizing%20the%20Data%20Segment">Resizing the Data Segment</a>
<li><a href="#Locking%20Pages">Locking Pages</a>
<ul>
<li><a href="#Why%20Lock%20Pages">Why Lock Pages</a>
<li><a href="#Locked%20Memory%20Details">Locked Memory Details</a>
<li><a href="#Page%20Lock%20Functions">Functions To Lock And Unlock Pages</a>
</ul>
</ul>
<li><a name="toc_Character%20Handling"></a>
    <a href="#Character%20Handling">Character Handling</a>
<ul>
<li><a href="#Classification%20of%20Characters">Classification of Characters</a>
<li><a href="#Case%20Conversion">Case Conversion</a>
<li><a href="#Classification%20of%20Wide%20Characters">Character class determination for wide characters</a>
<li><a href="#Using%20Wide%20Char%20Classes">Notes on using the wide character classes</a>
<li><a href="#Wide%20Character%20Case%20Conversion">Mapping of wide characters.</a>
</ul>
<li><a name="toc_String%20and%20Array%20Utilities"></a>
    <a href="#String%20and%20Array%20Utilities">String and Array Utilities</a>
<ul>
<li><a href="#Representation%20of%20Strings">Representation of Strings</a>
<li><a href="#String%2fArray%20Conventions">String and Array Conventions</a>
<li><a href="#String%20Length">String Length</a>
<li><a href="#Copying%20and%20Concatenation">Copying and Concatenation</a>
<li><a href="#String%2fArray%20Comparison">String/Array Comparison</a>
<li><a href="#Collation%20Functions">Collation Functions</a>
<li><a href="#Search%20Functions">Search Functions</a>
<ul>
<li><a href="#Search%20Functions">Compatibility String Search Functions</a>
</ul>
<li><a href="#Finding%20Tokens%20in%20a%20String">Finding Tokens in a String</a>
<li><a href="#strfry">strfry</a>
<li><a href="#Trivial%20Encryption">Trivial Encryption</a>
<li><a href="#Encode%20Binary%20Data">Encode Binary Data</a>
<li><a href="#Argz%20and%20Envz%20Vectors">Argz and Envz Vectors</a>
<ul>
<li><a href="#Argz%20Functions">Argz Functions</a>
<li><a href="#Envz%20Functions">Envz Functions</a>
</ul>
</ul>
<li><a name="toc_Character%20Set%20Handling"></a>
    <a href="#Character%20Set%20Handling">Character Set Handling</a>
<ul>
<li><a href="#Extended%20Char%20Intro">Introduction to Extended Characters</a>
<li><a href="#Charset%20Function%20Overview">Overview about Character Handling Functions</a>
<li><a href="#Restartable%20multibyte%20conversion">Restartable Multibyte Conversion Functions</a>
<ul>
<li><a href="#Selecting%20the%20Conversion">Selecting the conversion and its properties</a>
<li><a href="#Keeping%20the%20state">Representing the state of the conversion</a>
<li><a href="#Converting%20a%20Character">Converting Single Characters</a>
<li><a href="#Converting%20Strings">Converting Multibyte and Wide Character Strings</a>
<li><a href="#Multibyte%20Conversion%20Example">A Complete Multibyte Conversion Example</a>
</ul>
<li><a href="#Non-reentrant%20Conversion">Non-reentrant Conversion Function</a>
<ul>
<li><a href="#Non-reentrant%20Character%20Conversion">Non-reentrant Conversion of Single Characters</a>
<li><a href="#Non-reentrant%20String%20Conversion">Non-reentrant Conversion of Strings</a>
<li><a href="#Shift%20State">States in Non-reentrant Functions</a>
</ul>
<li><a href="#Generic%20Charset%20Conversion">Generic Charset Conversion</a>
<ul>
<li><a href="#Generic%20Conversion%20Interface">Generic Character Set Conversion Interface</a>
<li><a href="#iconv%20Examples">A complete <code>iconv</code> example</a>
<li><a href="#Other%20iconv%20Implementations">Some Details about other <code>iconv</code> Implementations</a>
<li><a href="#glibc%20iconv%20Implementation">The <code>iconv</code> Implementation in the GNU C library</a>
<ul>
<li><a href="#glibc%20iconv%20Implementation">Format of <code>gconv-modules</code> files</a>
<li><a href="#glibc%20iconv%20Implementation">Finding the conversion path in <code>iconv</code></a>
<li><a href="#glibc%20iconv%20Implementation"><code>iconv</code> module data structures</a>
<li><a href="#glibc%20iconv%20Implementation"><code>iconv</code> module interfaces</a>
</ul>
</ul>
</ul>
<li><a name="toc_Locales"></a>
    <a href="#Locales">Locales and Internationalization</a>
<ul>
<li><a href="#Effects%20of%20Locale">What Effects a Locale Has</a>
<li><a href="#Choosing%20Locale">Choosing a Locale</a>
<li><a href="#Locale%20Categories">Categories of Activities that Locales Affect</a>
<li><a href="#Setting%20the%20Locale">How Programs Set the Locale</a>
<li><a href="#Standard%20Locales">Standard Locales</a>
<li><a href="#Locale%20Information">Accessing Locale Information</a>
<ul>
<li><a href="#The%20Lame%20Way%20to%20Locale%20Data"><code>localeconv</code>: It is portable but <small>...</small></a>
<ul>
<li><a href="#General%20Numeric">Generic Numeric Formatting Parameters</a>
<li><a href="#Currency%20Symbol">Printing the Currency Symbol</a>
<li><a href="#Sign%20of%20Money%20Amount">Printing the Sign of a Monetary Amount</a>
</ul>
<li><a href="#The%20Elegant%20and%20Fast%20Way">Pinpoint Access to Locale Data</a>
</ul>
<li><a href="#Formatting%20Numbers">A dedicated function to format numbers</a>
<li><a href="#Yes-or-No%20Questions">Yes-or-No Questions</a>
</ul>
<li><a name="toc_Message%20Translation"></a>
    <a href="#Message%20Translation">Message Translation</a>
<ul>
<li><a href="#Message%20catalogs%20a%20la%20X%2fOpen">X/Open Message Catalog Handling</a>
<ul>
<li><a href="#The%20catgets%20Functions">The <code>catgets</code> function family</a>
<li><a href="#The%20message%20catalog%20files">Format of the message catalog files</a>
<li><a href="#The%20gencat%20program">Generate Message Catalogs files</a>
<li><a href="#Common%20Usage">How to use the <code>catgets</code> interface</a>
<ul>
<li><a href="#Common%20Usage">Not using symbolic names</a>
<li><a href="#Common%20Usage">Using symbolic names</a>
<li><a href="#Common%20Usage">How does to this allow to develop</a>
</ul>
</ul>
<li><a href="#The%20Uniforum%20approach">The Uniforum approach to Message Translation</a>
<ul>
<li><a href="#Message%20catalogs%20with%20gettext">The <code>gettext</code> family of functions</a>
<ul>
<li><a href="#Translation%20with%20gettext">What has to be done to translate a message?</a>
<li><a href="#Locating%20gettext%20catalog">How to determine which catalog to be used</a>
<li><a href="#Advanced%20gettext%20functions">Additional functions for more complicated situations</a>
<li><a href="#Charset%20conversion%20in%20gettext">How to specify the output character set <code>gettext</code> uses</a>
<li><a href="#GUI%20program%20problems">How to use <code>gettext</code> in GUI programs</a>
<li><a href="#Using%20gettextized%20software">User influence on <code>gettext</code></a>
</ul>
<li><a href="#Helper%20programs%20for%20gettext">Programs to handle message catalogs for <code>gettext</code></a>
</ul>
</ul>
<li><a name="toc_Searching%20and%20Sorting"></a>
    <a href="#Searching%20and%20Sorting">Searching and Sorting</a>
<ul>
<li><a href="#Comparison%20Functions">Defining the Comparison Function</a>
<li><a href="#Array%20Search%20Function">Array Search Function</a>
<li><a href="#Array%20Sort%20Function">Array Sort Function</a>
<li><a href="#Search%2fSort%20Example">Searching and Sorting Example</a>
<li><a href="#Hash%20Search%20Function">The <code>hsearch</code> function.</a>
<li><a href="#Tree%20Search%20Function">The <code>tsearch</code> function.</a>
</ul>
<li><a name="toc_Pattern%20Matching"></a>
    <a href="#Pattern%20Matching">Pattern Matching</a>
<ul>
<li><a href="#Wildcard%20Matching">Wildcard Matching</a>
<li><a href="#Globbing">Globbing</a>
<ul>
<li><a href="#Calling%20Glob">Calling <code>glob</code></a>
<li><a href="#Flags%20for%20Globbing">Flags for Globbing</a>
<li><a href="#More%20Flags%20for%20Globbing">More Flags for Globbing</a>
</ul>
<li><a href="#Regular%20Expressions">Regular Expression Matching</a>
<ul>
<li><a href="#POSIX%20Regexp%20Compilation">POSIX Regular Expression Compilation</a>
<li><a href="#Flags%20for%20POSIX%20Regexps">Flags for POSIX Regular Expressions</a>
<li><a href="#Matching%20POSIX%20Regexps">Matching a Compiled POSIX Regular Expression</a>
<li><a href="#Regexp%20Subexpressions">Match Results with Subexpressions</a>
<li><a href="#Subexpression%20Complications">Complications in Subexpression Matching</a>
<li><a href="#Regexp%20Cleanup">POSIX Regexp Matching Cleanup</a>
</ul>
<li><a href="#Word%20Expansion">Shell-Style Word Expansion</a>
<ul>
<li><a href="#Expansion%20Stages">The Stages of Word Expansion</a>
<li><a href="#Calling%20Wordexp">Calling <code>wordexp</code></a>
<li><a href="#Flags%20for%20Wordexp">Flags for Word Expansion</a>
<li><a href="#Wordexp%20Example"><code>wordexp</code> Example</a>
<li><a href="#Tilde%20Expansion">Details of Tilde Expansion</a>
<li><a href="#Variable%20Substitution">Details of Variable Substitution</a>
</ul>
</ul>
<li><a name="toc_I%2fO%20Overview"></a>
    <a href="#I%2fO%20Overview">Input/Output Overview</a>
<ul>
<li><a href="#I%2fO%20Concepts">Input/Output Concepts</a>
<ul>
<li><a href="#Streams%20and%20File%20Descriptors">Streams and File Descriptors</a>
<li><a href="#File%20Position">File Position</a>
</ul>
<li><a href="#File%20Names">File Names</a>
<ul>
<li><a href="#Directories">Directories</a>
<li><a href="#File%20Name%20Resolution">File Name Resolution</a>
<li><a href="#File%20Name%20Errors">File Name Errors</a>
<li><a href="#File%20Name%20Portability">Portability of File Names</a>
</ul>
</ul>
<li><a name="toc_I%2fO%20on%20Streams"></a>
    <a href="#I%2fO%20on%20Streams">Input/Output on Streams</a>
<ul>
<li><a href="#Streams">Streams</a>
<li><a href="#Standard%20Streams">Standard Streams</a>
<li><a href="#Opening%20Streams">Opening Streams</a>
<li><a href="#Closing%20Streams">Closing Streams</a>
<li><a href="#Streams%20and%20Threads">Streams and Threads</a>
<li><a href="#Streams%20and%20I18N">Streams in Internationalized Applications</a>
<li><a href="#Simple%20Output">Simple Output by Characters or Lines</a>
<li><a href="#Character%20Input">Character Input</a>
<li><a href="#Line%20Input">Line-Oriented Input</a>
<li><a href="#Unreading">Unreading</a>
<ul>
<li><a href="#Unreading%20Idea">What Unreading Means</a>
<li><a href="#How%20Unread">Using <code>ungetc</code> To Do Unreading</a>
</ul>
<li><a href="#Block%20Input%2fOutput">Block Input/Output</a>
<li><a href="#Formatted%20Output">Formatted Output</a>
<ul>
<li><a href="#Formatted%20Output%20Basics">Formatted Output Basics</a>
<li><a href="#Output%20Conversion%20Syntax">Output Conversion Syntax</a>
<li><a href="#Table%20of%20Output%20Conversions">Table of Output Conversions</a>
<li><a href="#Integer%20Conversions">Integer Conversions</a>
<li><a href="#Floating-Point%20Conversions">Floating-Point Conversions</a>
<li><a href="#Other%20Output%20Conversions">Other Output Conversions</a>
<li><a href="#Formatted%20Output%20Functions">Formatted Output Functions</a>
<li><a href="#Dynamic%20Output">Dynamically Allocating Formatted Output</a>
<li><a href="#Variable%20Arguments%20Output">Variable Arguments Output Functions</a>
<li><a href="#Parsing%20a%20Template%20String">Parsing a Template String</a>
<li><a href="#Example%20of%20Parsing">Example of Parsing a Template String</a>
</ul>
<li><a href="#Customizing%20Printf">Customizing <code>printf</code></a>
<ul>
<li><a href="#Registering%20New%20Conversions">Registering New Conversions</a>
<li><a href="#Conversion%20Specifier%20Options">Conversion Specifier Options</a>
<li><a href="#Defining%20the%20Output%20Handler">Defining the Output Handler</a>
<li><a href="#Printf%20Extension%20Example"><code>printf</code> Extension Example</a>
<li><a href="#Predefined%20Printf%20Handlers">Predefined <code>printf</code> Handlers</a>
</ul>
<li><a href="#Formatted%20Input">Formatted Input</a>
<ul>
<li><a href="#Formatted%20Input%20Basics">Formatted Input Basics</a>
<li><a href="#Input%20Conversion%20Syntax">Input Conversion Syntax</a>
<li><a href="#Table%20of%20Input%20Conversions">Table of Input Conversions</a>
<li><a href="#Numeric%20Input%20Conversions">Numeric Input Conversions</a>
<li><a href="#String%20Input%20Conversions">String Input Conversions</a>
<li><a href="#Dynamic%20String%20Input">Dynamically Allocating String Conversions</a>
<li><a href="#Other%20Input%20Conversions">Other Input Conversions</a>
<li><a href="#Formatted%20Input%20Functions">Formatted Input Functions</a>
<li><a href="#Variable%20Arguments%20Input">Variable Arguments Input Functions</a>
</ul>
<li><a href="#EOF%20and%20Errors">End-Of-File and Errors</a>
<li><a href="#Error%20Recovery">Recovering from errors</a>
<li><a href="#Binary%20Streams">Text and Binary Streams</a>
<li><a href="#File%20Positioning">File Positioning</a>
<li><a href="#Portable%20Positioning">Portable File-Position Functions</a>
<li><a href="#Stream%20Buffering">Stream Buffering</a>
<ul>
<li><a href="#Buffering%20Concepts">Buffering Concepts</a>
<li><a href="#Flushing%20Buffers">Flushing Buffers</a>
<li><a href="#Controlling%20Buffering">Controlling Which Kind of Buffering</a>
</ul>
<li><a href="#Other%20Kinds%20of%20Streams">Other Kinds of Streams</a>
<ul>
<li><a href="#String%20Streams">String Streams</a>
<li><a href="#Obstack%20Streams">Obstack Streams</a>
<li><a href="#Custom%20Streams">Programming Your Own Custom Streams</a>
<ul>
<li><a href="#Streams%20and%20Cookies">Custom Streams and Cookies</a>
<li><a href="#Hook%20Functions">Custom Stream Hook Functions</a>
</ul>
</ul>
<li><a href="#Formatted%20Messages">Formatted Messages</a>
<ul>
<li><a href="#Printing%20Formatted%20Messages">Printing Formatted Messages</a>
<li><a href="#Adding%20Severity%20Classes">Adding Severity Classes</a>
<li><a href="#Example">How to use <code>fmtmsg</code> and <code>addseverity</code></a>
</ul>
</ul>
<li><a name="toc_Low-Level%20I%2fO"></a>
    <a href="#Low-Level%20I%2fO">Low-Level Input/Output</a>
<ul>
<li><a href="#Opening%20and%20Closing%20Files">Opening and Closing Files</a>
<li><a href="#I%2fO%20Primitives">Input and Output Primitives</a>
<li><a href="#File%20Position%20Primitive">Setting the File Position of a Descriptor</a>
<li><a href="#Descriptors%20and%20Streams">Descriptors and Streams</a>
<li><a href="#Stream%2fDescriptor%20Precautions">Dangers of Mixing Streams and Descriptors</a>
<ul>
<li><a href="#Linked%20Channels">Linked Channels</a>
<li><a href="#Independent%20Channels">Independent Channels</a>
<li><a href="#Cleaning%20Streams">Cleaning Streams</a>
</ul>
<li><a href="#Scatter-Gather">Fast Scatter-Gather I/O</a>
<li><a href="#Memory-mapped%20I%2fO">Memory-mapped I/O</a>
<li><a href="#Waiting%20for%20I%2fO">Waiting for Input or Output</a>
<li><a href="#Synchronizing%20I%2fO">Synchronizing I/O operations</a>
<li><a href="#Asynchronous%20I%2fO">Perform I/O Operations in Parallel</a>
<ul>
<li><a href="#Asynchronous%20Reads%2fWrites">Asynchronous Read and Write Operations</a>
<li><a href="#Status%20of%20AIO%20Operations">Getting the Status of AIO Operations</a>
<li><a href="#Synchronizing%20AIO%20Operations">Getting into a Consistent State</a>
<li><a href="#Cancel%20AIO%20Operations">Cancellation of AIO Operations</a>
<li><a href="#Configuration%20of%20AIO">How to optimize the AIO implementation</a>
</ul>
<li><a href="#Control%20Operations">Control Operations on Files</a>
<li><a href="#Duplicating%20Descriptors">Duplicating Descriptors</a>
<li><a href="#Descriptor%20Flags">File Descriptor Flags</a>
<li><a href="#File%20Status%20Flags">File Status Flags</a>
<ul>
<li><a href="#Access%20Modes">File Access Modes</a>
<li><a href="#Open-time%20Flags">Open-time Flags</a>
<li><a href="#Operating%20Modes">I/O Operating Modes</a>
<li><a href="#Getting%20File%20Status%20Flags">Getting and Setting File Status Flags</a>
</ul>
<li><a href="#File%20Locks">File Locks</a>
<li><a href="#Interrupt%20Input">Interrupt-Driven Input</a>
<li><a href="#IOCTLs">Generic I/O Control operations</a>
</ul>
<li><a name="toc_File%20System%20Interface"></a>
    <a href="#File%20System%20Interface">File System Interface</a>
<ul>
<li><a href="#Working%20Directory">Working Directory</a>
<li><a href="#Accessing%20Directories">Accessing Directories</a>
<ul>
<li><a href="#Directory%20Entries">Format of a Directory Entry</a>
<li><a href="#Opening%20a%20Directory">Opening a Directory Stream</a>
<li><a href="#Reading%2fClosing%20Directory">Reading and Closing a Directory Stream</a>
<li><a href="#Simple%20Directory%20Lister">Simple Program to List a Directory</a>
<li><a href="#Random%20Access%20Directory">Random Access in a Directory Stream</a>
<li><a href="#Scanning%20Directory%20Content">Scanning the Content of a Directory</a>
<li><a href="#Simple%20Directory%20Lister%20Mark%20II">Simple Program to List a Directory, Mark II</a>
</ul>
<li><a href="#Working%20with%20Directory%20Trees">Working with Directory Trees</a>
<li><a href="#Hard%20Links">Hard Links</a>
<li><a href="#Symbolic%20Links">Symbolic Links</a>
<li><a href="#Deleting%20Files">Deleting Files</a>
<li><a href="#Renaming%20Files">Renaming Files</a>
<li><a href="#Creating%20Directories">Creating Directories</a>
<li><a href="#File%20Attributes">File Attributes</a>
<ul>
<li><a href="#Attribute%20Meanings">The meaning of the File Attributes</a>
<li><a href="#Reading%20Attributes">Reading the Attributes of a File</a>
<li><a href="#Testing%20File%20Type">Testing the Type of a File</a>
<li><a href="#File%20Owner">File Owner</a>
<li><a href="#Permission%20Bits">The Mode Bits for Access Permission</a>
<li><a href="#Access%20Permission">How Your Access to a File is Decided</a>
<li><a href="#Setting%20Permissions">Assigning File Permissions</a>
<li><a href="#Testing%20File%20Access">Testing Permission to Access a File</a>
<li><a href="#File%20Times">File Times</a>
<li><a href="#File%20Size">File Size</a>
</ul>
<li><a href="#Making%20Special%20Files">Making Special Files</a>
<li><a href="#Temporary%20Files">Temporary Files</a>
</ul>
<li><a name="toc_Pipes%20and%20FIFOs"></a>
    <a href="#Pipes%20and%20FIFOs">Pipes and FIFOs</a>
<ul>
<li><a href="#Creating%20a%20Pipe">Creating a Pipe</a>
<li><a href="#Pipe%20to%20a%20Subprocess">Pipe to a Subprocess</a>
<li><a href="#FIFO%20Special%20Files">FIFO Special Files</a>
<li><a href="#Pipe%20Atomicity">Atomicity of Pipe I/O</a>
</ul>
<li><a name="toc_Sockets"></a>
    <a href="#Sockets">Sockets</a>
<ul>
<li><a href="#Socket%20Concepts">Socket Concepts</a>
<li><a href="#Communication%20Styles">Communication Styles</a>
<li><a href="#Socket%20Addresses">Socket Addresses</a>
<ul>
<li><a href="#Address%20Formats">Address Formats</a>
<li><a href="#Setting%20Address">Setting the Address of a Socket</a>
<li><a href="#Reading%20Address">Reading the Address of a Socket</a>
</ul>
<li><a href="#Interface%20Naming">Interface Naming</a>
<li><a href="#Local%20Namespace">The Local Namespace</a>
<ul>
<li><a href="#Local%20Namespace%20Concepts">Local Namespace Concepts</a>
<li><a href="#Local%20Namespace%20Details">Details of Local Namespace</a>
<li><a href="#Local%20Socket%20Example">Example of Local-Namespace Sockets</a>
</ul>
<li><a href="#Internet%20Namespace">The Internet Namespace</a>
<ul>
<li><a href="#Internet%20Address%20Formats">Internet Socket Address Formats</a>
<li><a href="#Host%20Addresses">Host Addresses</a>
<ul>
<li><a href="#Abstract%20Host%20Addresses">Internet Host Addresses</a>
<li><a href="#Host%20Address%20Data%20Type">Host Address Data Type</a>
<li><a href="#Host%20Address%20Functions">Host Address Functions</a>
<li><a href="#Host%20Names">Host Names</a>
</ul>
<li><a href="#Ports">Internet Ports</a>
<li><a href="#Services%20Database">The Services Database</a>
<li><a href="#Byte%20Order">Byte Order Conversion</a>
<li><a href="#Protocols%20Database">Protocols Database</a>
<li><a href="#Inet%20Example">Internet Socket Example</a>
</ul>
<li><a href="#Misc%20Namespaces">Other Namespaces</a>
<li><a href="#Open%2fClose%20Sockets">Opening and Closing Sockets</a>
<ul>
<li><a href="#Creating%20a%20Socket">Creating a Socket</a>
<li><a href="#Closing%20a%20Socket">Closing a Socket</a>
<li><a href="#Socket%20Pairs">Socket Pairs</a>
</ul>
<li><a href="#Connections">Using Sockets with Connections</a>
<ul>
<li><a href="#Connecting">Making a Connection</a>
<li><a href="#Listening">Listening for Connections</a>
<li><a href="#Accepting%20Connections">Accepting Connections</a>
<li><a href="#Who%20is%20Connected">Who is Connected to Me?</a>
<li><a href="#Transferring%20Data">Transferring Data</a>
<ul>
<li><a href="#Sending%20Data">Sending Data</a>
<li><a href="#Receiving%20Data">Receiving Data</a>
<li><a href="#Socket%20Data%20Options">Socket Data Options</a>
</ul>
<li><a href="#Byte%20Stream%20Example">Byte Stream Socket Example</a>
<li><a href="#Server%20Example">Byte Stream Connection Server Example</a>
<li><a href="#Out-of-Band%20Data">Out-of-Band Data</a>
</ul>
<li><a href="#Datagrams">Datagram Socket Operations</a>
<ul>
<li><a href="#Sending%20Datagrams">Sending Datagrams</a>
<li><a href="#Receiving%20Datagrams">Receiving Datagrams</a>
<li><a href="#Datagram%20Example">Datagram Socket Example</a>
<li><a href="#Example%20Receiver">Example of Reading Datagrams</a>
</ul>
<li><a href="#Inetd">The <code>inetd</code> Daemon</a>
<ul>
<li><a href="#Inetd%20Servers"><code>inetd</code> Servers</a>
<li><a href="#Configuring%20Inetd">Configuring <code>inetd</code></a>
</ul>
<li><a href="#Socket%20Options">Socket Options</a>
<ul>
<li><a href="#Socket%20Option%20Functions">Socket Option Functions</a>
<li><a href="#Socket-Level%20Options">Socket-Level Options</a>
</ul>
<li><a href="#Networks%20Database">Networks Database</a>
</ul>
<li><a name="toc_Low-Level%20Terminal%20Interface"></a>
    <a href="#Low-Level%20Terminal%20Interface">Low-Level Terminal Interface</a>
<ul>
<li><a href="#Is%20It%20a%20Terminal">Identifying Terminals</a>
<li><a href="#I%2fO%20Queues">I/O Queues</a>
<li><a href="#Canonical%20or%20Not">Two Styles of Input: Canonical or Not</a>
<li><a href="#Terminal%20Modes">Terminal Modes</a>
<ul>
<li><a href="#Mode%20Data%20Types">Terminal Mode Data Types</a>
<li><a href="#Mode%20Functions">Terminal Mode Functions</a>
<li><a href="#Setting%20Modes">Setting Terminal Modes Properly</a>
<li><a href="#Input%20Modes">Input Modes</a>
<li><a href="#Output%20Modes">Output Modes</a>
<li><a href="#Control%20Modes">Control Modes</a>
<li><a href="#Local%20Modes">Local Modes</a>
<li><a href="#Line%20Speed">Line Speed</a>
<li><a href="#Special%20Characters">Special Characters</a>
<ul>
<li><a href="#Editing%20Characters">Characters for Input Editing</a>
<li><a href="#Signal%20Characters">Characters that Cause Signals</a>
<li><a href="#Start%2fStop%20Characters">Special Characters for Flow Control</a>
<li><a href="#Other%20Special">Other Special Characters</a>
</ul>
<li><a href="#Noncanonical%20Input">Noncanonical Input</a>
</ul>
<li><a href="#BSD%20Terminal%20Modes">BSD Terminal Modes</a>
<li><a href="#Line%20Control">Line Control Functions</a>
<li><a href="#Noncanon%20Example">Noncanonical Mode Example</a>
<li><a href="#Pseudo-Terminals">Pseudo-Terminals</a>
<ul>
<li><a href="#Allocation">Allocating Pseudo-Terminals</a>
<li><a href="#Pseudo-Terminal%20Pairs">Opening a Pseudo-Terminal Pair</a>
</ul>
</ul>
<li><a name="toc_Syslog"></a>
    <a href="#Syslog">Syslog</a>
<ul>
<li><a href="#Overview%20of%20Syslog">Overview of Syslog</a>
<li><a href="#Submitting%20Syslog%20Messages">Submitting Syslog Messages</a>
<ul>
<li><a href="#openlog">openlog</a>
<li><a href="#syslog%3b%20vsyslog">syslog, vsyslog</a>
<li><a href="#closelog">closelog</a>
<li><a href="#setlogmask">setlogmask</a>
<li><a href="#Syslog%20Example">Syslog Example</a>
</ul>
</ul>
<li><a name="toc_Mathematics"></a>
    <a href="#Mathematics">Mathematics</a>
<ul>
<li><a href="#Mathematical%20Constants">Predefined Mathematical Constants</a>
<li><a href="#Trig%20Functions">Trigonometric Functions</a>
<li><a href="#Inverse%20Trig%20Functions">Inverse Trigonometric Functions</a>
<li><a href="#Exponents%20and%20Logarithms">Exponentiation and Logarithms</a>
<li><a href="#Hyperbolic%20Functions">Hyperbolic Functions</a>
<li><a href="#Special%20Functions">Special Functions</a>
<li><a href="#Errors%20in%20Math%20Functions">Known Maximum Errors in Math Functions</a>
<li><a href="#Pseudo-Random%20Numbers">Pseudo-Random Numbers</a>
<ul>
<li><a href="#ISO%20Random">ISO C Random Number Functions</a>
<li><a href="#BSD%20Random">BSD Random Number Functions</a>
<li><a href="#SVID%20Random">SVID Random Number Function</a>
</ul>
<li><a href="#FP%20Function%20Optimizations">Is Fast Code or Small Code preferred?</a>
</ul>
<li><a name="toc_Arithmetic"></a>
    <a href="#Arithmetic">Arithmetic Functions</a>
<ul>
<li><a href="#Integers">Integers</a>
<li><a href="#Integer%20Division">Integer Division</a>
<li><a href="#Floating%20Point%20Numbers">Floating Point Numbers</a>
<li><a href="#Floating%20Point%20Classes">Floating-Point Number Classification Functions</a>
<li><a href="#Floating%20Point%20Errors">Errors in Floating-Point Calculations</a>
<ul>
<li><a href="#FP%20Exceptions">FP Exceptions</a>
<li><a href="#Infinity%20and%20NaN">Infinity and NaN</a>
<li><a href="#Status%20bit%20operations">Examining the FPU status word</a>
<li><a href="#Math%20Error%20Reporting">Error Reporting by Mathematical Functions</a>
</ul>
<li><a href="#Rounding">Rounding Modes</a>
<li><a href="#Control%20Functions">Floating-Point Control Functions</a>
<li><a href="#Arithmetic%20Functions">Arithmetic Functions</a>
<ul>
<li><a href="#Absolute%20Value">Absolute Value</a>
<li><a href="#Normalization%20Functions">Normalization Functions</a>
<li><a href="#Rounding%20Functions">Rounding Functions</a>
<li><a href="#Remainder%20Functions">Remainder Functions</a>
<li><a href="#FP%20Bit%20Twiddling">Setting and modifying single bits of FP values</a>
<li><a href="#FP%20Comparison%20Functions">Floating-Point Comparison Functions</a>
<li><a href="#Misc%20FP%20Arithmetic">Miscellaneous FP arithmetic functions</a>
</ul>
<li><a href="#Complex%20Numbers">Complex Numbers</a>
<li><a href="#Operations%20on%20Complex">Projections, Conjugates, and Decomposing of Complex Numbers</a>
<li><a href="#Parsing%20of%20Numbers">Parsing of Numbers</a>
<ul>
<li><a href="#Parsing%20of%20Integers">Parsing of Integers</a>
<li><a href="#Parsing%20of%20Floats">Parsing of Floats</a>
</ul>
<li><a href="#System%20V%20Number%20Conversion">Old-fashioned System V number-to-string functions</a>
</ul>
<li><a name="toc_Date%20and%20Time"></a>
    <a href="#Date%20and%20Time">Date and Time</a>
<ul>
<li><a href="#Time%20Basics">Time Basics</a>
<li><a href="#Elapsed%20Time">Elapsed Time</a>
<li><a href="#Processor%20And%20CPU%20Time">Processor And CPU Time</a>
<ul>
<li><a href="#CPU%20Time">CPU Time Inquiry</a>
<li><a href="#Processor%20Time">Processor Time Inquiry</a>
</ul>
<li><a href="#Calendar%20Time">Calendar Time</a>
<ul>
<li><a href="#Simple%20Calendar%20Time">Simple Calendar Time</a>
<li><a href="#High-Resolution%20Calendar">High-Resolution Calendar</a>
<li><a href="#Broken-down%20Time">Broken-down Time</a>
<li><a href="#High%20Accuracy%20Clock">High Accuracy Clock</a>
<li><a href="#Formatting%20Calendar%20Time">Formatting Calendar Time</a>
<li><a href="#Parsing%20Date%20and%20Time">Convert textual time and date information back</a>
<ul>
<li><a href="#Low-Level%20Time%20String%20Parsing">Interpret string according to given format</a>
<li><a href="#General%20Time%20String%20Parsing">A More User-friendly Way to Parse Times and Dates</a>
</ul>
<li><a href="#TZ%20Variable">Specifying the Time Zone with <code>TZ</code></a>
<li><a href="#Time%20Zone%20Functions">Functions and Variables for Time Zones</a>
<li><a href="#Time%20Functions%20Example">Time Functions Example</a>
</ul>
<li><a href="#Setting%20an%20Alarm">Setting an Alarm</a>
<li><a href="#Sleeping">Sleeping</a>
</ul>
<li><a name="toc_Resource%20Usage%20And%20Limitation"></a>
    <a href="#Resource%20Usage%20And%20Limitation">Resource Usage And Limitation</a>
<ul>
<li><a href="#Resource%20Usage">Resource Usage</a>
<li><a href="#Limits%20on%20Resources">Limiting Resource Usage</a>
<li><a href="#Priority">Process CPU Priority And Scheduling</a>
<ul>
<li><a href="#Absolute%20Priority">Absolute Priority</a>
<ul>
<li><a href="#Absolute%20Priority">Using Absolute Priority</a>
</ul>
<li><a href="#Realtime%20Scheduling">Realtime Scheduling</a>
<li><a href="#Basic%20Scheduling%20Functions">Basic Scheduling Functions</a>
<li><a href="#Traditional%20Scheduling">Traditional Scheduling</a>
<ul>
<li><a href="#Traditional%20Scheduling%20Intro">Introduction To Traditional Scheduling</a>
<li><a href="#Traditional%20Scheduling%20Functions">Functions For Traditional Scheduling</a>
</ul>
</ul>
<li><a href="#Memory%20Resources">Querying memory available resources</a>
<ul>
<li><a href="#Memory%20Subsystem">Overview about traditional Unix memory handling</a>
<li><a href="#Query%20Memory%20Parameters">How to get information about the memory subsystem?</a>
</ul>
<li><a href="#Processor%20Resources">Learn about the processors available</a>
</ul>
<li><a name="toc_Non-Local%20Exits"></a>
    <a href="#Non-Local%20Exits">Non-Local Exits</a>
<ul>
<li><a href="#Non-Local%20Intro">Introduction to Non-Local Exits</a>
<li><a href="#Non-Local%20Details">Details of Non-Local Exits</a>
<li><a href="#Non-Local%20Exits%20and%20Signals">Non-Local Exits and Signals</a>
<li><a href="#System%20V%20contexts">Complete Context Control</a>
</ul>
<li><a name="toc_Signal%20Handling"></a>
    <a href="#Signal%20Handling">Signal Handling</a>
<ul>
<li><a href="#Concepts%20of%20Signals">Basic Concepts of Signals</a>
<ul>
<li><a href="#Kinds%20of%20Signals">Some Kinds of Signals</a>
<li><a href="#Signal%20Generation">Concepts of Signal Generation</a>
<li><a href="#Delivery%20of%20Signal">How Signals Are Delivered</a>
</ul>
<li><a href="#Standard%20Signals">Standard Signals</a>
<ul>
<li><a href="#Program%20Error%20Signals">Program Error Signals</a>
<li><a href="#Termination%20Signals">Termination Signals</a>
<li><a href="#Alarm%20Signals">Alarm Signals</a>
<li><a href="#Asynchronous%20I%2fO%20Signals">Asynchronous I/O Signals</a>
<li><a href="#Job%20Control%20Signals">Job Control Signals</a>
<li><a href="#Operation%20Error%20Signals">Operation Error Signals</a>
<li><a href="#Miscellaneous%20Signals">Miscellaneous Signals</a>
<li><a href="#Signal%20Messages">Signal Messages</a>
</ul>
<li><a href="#Signal%20Actions">Specifying Signal Actions</a>
<ul>
<li><a href="#Basic%20Signal%20Handling">Basic Signal Handling</a>
<li><a href="#Advanced%20Signal%20Handling">Advanced Signal Handling</a>
<li><a href="#Signal%20and%20Sigaction">Interaction of <code>signal</code> and <code>sigaction</code></a>
<li><a href="#Sigaction%20Function%20Example"><code>sigaction</code> Function Example</a>
<li><a href="#Flags%20for%20Sigaction">Flags for <code>sigaction</code></a>
<li><a href="#Initial%20Signal%20Actions">Initial Signal Actions</a>
</ul>
<li><a href="#Defining%20Handlers">Defining Signal Handlers</a>
<ul>
<li><a href="#Handler%20Returns">Signal Handlers that Return</a>
<li><a href="#Termination%20in%20Handler">Handlers That Terminate the Process</a>
<li><a href="#Longjmp%20in%20Handler">Nonlocal Control Transfer in Handlers</a>
<li><a href="#Signals%20in%20Handler">Signals Arriving While a Handler Runs</a>
<li><a href="#Merged%20Signals">Signals Close Together Merge into One</a>
<li><a href="#Nonreentrancy">Signal Handling and Nonreentrant Functions</a>
<li><a href="#Atomic%20Data%20Access">Atomic Data Access and Signal Handling</a>
<ul>
<li><a href="#Non-atomic%20Example">Problems with Non-Atomic Access</a>
<li><a href="#Atomic%20Types">Atomic Types</a>
<li><a href="#Atomic%20Usage">Atomic Usage Patterns</a>
</ul>
</ul>
<li><a href="#Interrupted%20Primitives">Primitives Interrupted by Signals</a>
<li><a href="#Generating%20Signals">Generating Signals</a>
<ul>
<li><a href="#Signaling%20Yourself">Signaling Yourself</a>
<li><a href="#Signaling%20Another%20Process">Signaling Another Process</a>
<li><a href="#Permission%20for%20kill">Permission for using <code>kill</code></a>
<li><a href="#Kill%20Example">Using <code>kill</code> for Communication</a>
</ul>
<li><a href="#Blocking%20Signals">Blocking Signals</a>
<ul>
<li><a href="#Why%20Block">Why Blocking Signals is Useful</a>
<li><a href="#Signal%20Sets">Signal Sets</a>
<li><a href="#Process%20Signal%20Mask">Process Signal Mask</a>
<li><a href="#Testing%20for%20Delivery">Blocking to Test for Delivery of a Signal</a>
<li><a href="#Blocking%20for%20Handler">Blocking Signals for a Handler</a>
<li><a href="#Checking%20for%20Pending%20Signals">Checking for Pending Signals</a>
<li><a href="#Remembering%20a%20Signal">Remembering a Signal to Act On Later</a>
</ul>
<li><a href="#Waiting%20for%20a%20Signal">Waiting for a Signal</a>
<ul>
<li><a href="#Using%20Pause">Using <code>pause</code></a>
<li><a href="#Pause%20Problems">Problems with <code>pause</code></a>
<li><a href="#Sigsuspend">Using <code>sigsuspend</code></a>
</ul>
<li><a href="#Signal%20Stack">Using a Separate Signal Stack</a>
<li><a href="#BSD%20Signal%20Handling">BSD Signal Handling</a>
<ul>
<li><a href="#BSD%20Handler">BSD Function to Establish a Handler</a>
<li><a href="#Blocking%20in%20BSD">BSD Functions for Blocking Signals</a>
</ul>
</ul>
<li><a name="toc_Program%20Basics"></a>
    <a href="#Program%20Basics">The Basic Program/System Interface</a>
<ul>
<li><a href="#Program%20Arguments">Program Arguments</a>
<ul>
<li><a href="#Argument%20Syntax">Program Argument Syntax Conventions</a>
<li><a href="#Parsing%20Program%20Arguments">Parsing Program Arguments</a>
</ul>
<li><a href="#Getopt">Parsing program options using <code>getopt</code></a>
<ul>
<li><a href="#Using%20Getopt">Using the <code>getopt</code> function</a>
<li><a href="#Example%20of%20Getopt">Example of Parsing Arguments with <code>getopt</code></a>
<li><a href="#Getopt%20Long%20Options">Parsing Long Options with <code>getopt_long</code></a>
<li><a href="#Getopt%20Long%20Option%20Example">Example of Parsing Long Options with <code>getopt_long</code></a>
</ul>
<li><a href="#Argp">Parsing Program Options with Argp</a>
<ul>
<li><a href="#Argp">The <code>argp_parse</code> Function</a>
<li><a href="#Argp%20Global%20Variables">Argp Global Variables</a>
<li><a href="#Argp%20Parsers">Specifying Argp Parsers</a>
<li><a href="#Argp%20Option%20Vectors">Specifying Options in an Argp Parser</a>
<ul>
<li><a href="#Argp%20Option%20Flags">Flags for Argp Options</a>
</ul>
<li><a href="#Argp%20Parser%20Functions">Argp Parser Functions</a>
<ul>
<li><a href="#Argp%20Special%20Keys">Special Keys for Argp Parser Functions</a>
<li><a href="#Argp%20Helper%20Functions">Functions For Use in Argp Parsers</a>
<li><a href="#Argp%20Parsing%20State">Argp Parsing State</a>
</ul>
<li><a href="#Argp%20Children">Combining Multiple Argp Parsers</a>
<li><a href="#Argp%20Flags">Flags for <code>argp_parse</code></a>
<li><a href="#Argp%20Help%20Filtering">Customizing Argp Help Output</a>
<ul>
<li><a href="#Argp%20Help%20Filter%20Keys">Special Keys for Argp Help Filter Functions</a>
</ul>
<li><a href="#Argp%20Help">The <code>argp_help</code> Function</a>
<li><a href="#Argp%20Help%20Flags">Flags for the <code>argp_help</code> Function</a>
<li><a href="#Argp%20Examples">Argp Examples</a>
<ul>
<li><a href="#Argp%20Example%201">A Minimal Program Using Argp</a>
<li><a href="#Argp%20Example%202">A Program Using Argp with Only Default Options</a>
<li><a href="#Argp%20Example%203">A Program Using Argp with User Options</a>
<li><a href="#Argp%20Example%204">A Program Using Multiple Combined Argp Parsers</a>
</ul>
<li><a href="#Argp%20User%20Customization">Argp User Customization</a>
<ul>
<li><a href="#Suboptions">Parsing of Suboptions</a>
</ul>
<li><a href="#Suboptions%20Example">Parsing of Suboptions Example</a>
</ul>
<li><a href="#Environment%20Variables">Environment Variables</a>
<ul>
<li><a href="#Environment%20Access">Environment Access</a>
<li><a href="#Standard%20Environment">Standard Environment Variables</a>
</ul>
<li><a href="#System%20Calls">System Calls</a>
<li><a href="#Program%20Termination">Program Termination</a>
<ul>
<li><a href="#Normal%20Termination">Normal Termination</a>
<li><a href="#Exit%20Status">Exit Status</a>
<li><a href="#Cleanups%20on%20Exit">Cleanups on Exit</a>
<li><a href="#Aborting%20a%20Program">Aborting a Program</a>
<li><a href="#Termination%20Internals">Termination Internals</a>
</ul>
</ul>
<li><a name="toc_Processes"></a>
    <a href="#Processes">Processes</a>
<ul>
<li><a href="#Running%20a%20Command">Running a Command</a>
<li><a href="#Process%20Creation%20Concepts">Process Creation Concepts</a>
<li><a href="#Process%20Identification">Process Identification</a>
<li><a href="#Creating%20a%20Process">Creating a Process</a>
<li><a href="#Executing%20a%20File">Executing a File</a>
<li><a href="#Process%20Completion">Process Completion</a>
<li><a href="#Process%20Completion%20Status">Process Completion Status</a>
<li><a href="#BSD%20Wait%20Functions">BSD Process Wait Functions</a>
<li><a href="#Process%20Creation%20Example">Process Creation Example</a>
</ul>
<li><a name="toc_Job%20Control"></a>
    <a href="#Job%20Control">Job Control</a>
<ul>
<li><a href="#Concepts%20of%20Job%20Control">Concepts of Job Control</a>
<li><a href="#Job%20Control%20is%20Optional">Job Control is Optional</a>
<li><a href="#Controlling%20Terminal">Controlling Terminal of a Process</a>
<li><a href="#Access%20to%20the%20Terminal">Access to the Controlling Terminal</a>
<li><a href="#Orphaned%20Process%20Groups">Orphaned Process Groups</a>
<li><a href="#Implementing%20a%20Shell">Implementing a Job Control Shell</a>
<ul>
<li><a href="#Data%20Structures">Data Structures for the Shell</a>
<li><a href="#Initializing%20the%20Shell">Initializing the Shell</a>
<li><a href="#Launching%20Jobs">Launching Jobs</a>
<li><a href="#Foreground%20and%20Background">Foreground and Background</a>
<li><a href="#Stopped%20and%20Terminated%20Jobs">Stopped and Terminated Jobs</a>
<li><a href="#Continuing%20Stopped%20Jobs">Continuing Stopped Jobs</a>
<li><a href="#Missing%20Pieces">The Missing Pieces</a>
</ul>
<li><a href="#Functions%20for%20Job%20Control">Functions for Job Control</a>
<ul>
<li><a href="#Identifying%20the%20Terminal">Identifying the Controlling Terminal</a>
<li><a href="#Process%20Group%20Functions">Process Group Functions</a>
<li><a href="#Terminal%20Access%20Functions">Functions for Controlling Terminal Access</a>
</ul>
</ul>
<li><a name="toc_Name%20Service%20Switch"></a>
    <a href="#Name%20Service%20Switch">System Databases and Name Service Switch</a>
<ul>
<li><a href="#NSS%20Basics">NSS Basics</a>
<li><a href="#NSS%20Configuration%20File">The NSS Configuration File</a>
<ul>
<li><a href="#Services%20in%20the%20NSS%20configuration">Services in the NSS configuration File</a>
<li><a href="#Actions%20in%20the%20NSS%20configuration">Actions in the NSS configuration</a>
<li><a href="#Notes%20on%20NSS%20Configuration%20File">Notes on the NSS Configuration File</a>
</ul>
<li><a href="#NSS%20Module%20Internals">NSS Module Internals</a>
<ul>
<li><a href="#NSS%20Module%20Names">The Naming Scheme of the NSS Modules</a>
<li><a href="#NSS%20Modules%20Interface">The Interface of the Function in NSS Modules</a>
</ul>
<li><a href="#Extending%20NSS">Extending NSS</a>
<ul>
<li><a href="#Adding%20another%20Service%20to%20NSS">Adding another Service to NSS</a>
<li><a href="#NSS%20Module%20Function%20Internals">Internals of the NSS Module Functions</a>
</ul>
</ul>
<li><a name="toc_Users%20and%20Groups"></a>
    <a href="#Users%20and%20Groups">Users and Groups</a>
<ul>
<li><a href="#User%20and%20Group%20IDs">User and Group IDs</a>
<li><a href="#Process%20Persona">The Persona of a Process</a>
<li><a href="#Why%20Change%20Persona">Why Change the Persona of a Process?</a>
<li><a href="#How%20Change%20Persona">How an Application Can Change Persona</a>
<li><a href="#Reading%20Persona">Reading the Persona of a Process</a>
<li><a href="#Setting%20User%20ID">Setting the User ID</a>
<li><a href="#Setting%20Groups">Setting the Group IDs</a>
<li><a href="#Enable%2fDisable%20Setuid">Enabling and Disabling Setuid Access</a>
<li><a href="#Setuid%20Program%20Example">Setuid Program Example</a>
<li><a href="#Tips%20for%20Setuid">Tips for Writing Setuid Programs</a>
<li><a href="#Who%20Logged%20In">Identifying Who Logged In</a>
<li><a href="#User%20Accounting%20Database">The User Accounting Database</a>
<ul>
<li><a href="#Manipulating%20the%20Database">Manipulating the User Accounting Database</a>
<li><a href="#XPG%20Functions">XPG User Accounting Database Functions</a>
<li><a href="#Logging%20In%20and%20Out">Logging In and Out</a>
</ul>
<li><a href="#User%20Database">User Database</a>
<ul>
<li><a href="#User%20Data%20Structure">The Data Structure that Describes a User</a>
<li><a href="#Lookup%20User">Looking Up One User</a>
<li><a href="#Scanning%20All%20Users">Scanning the List of All Users</a>
<li><a href="#Writing%20a%20User%20Entry">Writing a User Entry</a>
</ul>
<li><a href="#Group%20Database">Group Database</a>
<ul>
<li><a href="#Group%20Data%20Structure">The Data Structure for a Group</a>
<li><a href="#Lookup%20Group">Looking Up One Group</a>
<li><a href="#Scanning%20All%20Groups">Scanning the List of All Groups</a>
</ul>
<li><a href="#Database%20Example">User and Group Database Example</a>
<li><a href="#Netgroup%20Database">Netgroup Database</a>
<ul>
<li><a href="#Netgroup%20Data">Netgroup Data</a>
<li><a href="#Lookup%20Netgroup">Looking up one Netgroup</a>
<li><a href="#Netgroup%20Membership">Testing for Netgroup Membership</a>
</ul>
</ul>
<li><a name="toc_System%20Management"></a>
    <a href="#System%20Management">System Management</a>
<ul>
<li><a href="#Host%20Identification">Host Identification</a>
<li><a href="#Platform%20Type">Platform Type Identification</a>
<li><a href="#Filesystem%20Handling">Controlling and Querying Mounts</a>
<ul>
<li><a href="#Mount%20Information">Mount Information</a>
<ul>
<li><a href="#fstab">The <code>fstab</code> file</a>
<li><a href="#mtab">The <code>mtab</code> file</a>
<li><a href="#Other%20Mount%20Information">Other (Non-libc) Sources of Mount Information</a>
</ul>
<li><a href="#Mount-Unmount-Remount">Mount, Unmount, Remount</a>
</ul>
<li><a href="#System%20Parameters">System Parameters</a>
</ul>
<li><a name="toc_System%20Configuration"></a>
    <a href="#System%20Configuration">System Configuration Parameters</a>
<ul>
<li><a href="#General%20Limits">General Capacity Limits</a>
<li><a href="#System%20Options">Overall System Options</a>
<li><a href="#Version%20Supported">Which Version of POSIX is Supported</a>
<li><a href="#Sysconf">Using <code>sysconf</code></a>
<ul>
<li><a href="#Sysconf%20Definition">Definition of <code>sysconf</code></a>
<li><a href="#Constants%20for%20Sysconf">Constants for <code>sysconf</code> Parameters</a>
<li><a href="#Examples%20of%20Sysconf">Examples of <code>sysconf</code></a>
</ul>
<li><a href="#Minimums">Minimum Values for General Capacity Limits</a>
<li><a href="#Limits%20for%20Files">Limits on File System Capacity</a>
<li><a href="#Options%20for%20Files">Optional Features in File Support</a>
<li><a href="#File%20Minimums">Minimum Values for File System Limits</a>
<li><a href="#Pathconf">Using <code>pathconf</code></a>
<li><a href="#Utility%20Limits">Utility Program Capacity Limits</a>
<li><a href="#Utility%20Minimums">Minimum Values for Utility Limits</a>
<li><a href="#String%20Parameters">String-Valued Parameters</a>
</ul>
<li><a name="toc_Cryptographic%20Functions"></a>
    <a href="#Cryptographic%20Functions">DES Encryption and Password Handling</a>
<ul>
<li><a href="#Legal%20Problems">Legal Problems</a>
<li><a href="#getpass">Reading Passwords</a>
<li><a href="#crypt">Encrypting Passwords</a>
<li><a href="#DES%20Encryption">DES Encryption</a>
</ul>
<li><a name="toc_Debugging%20Support"></a>
    <a href="#Debugging%20Support">Debugging support</a>
<ul>
<li><a href="#Backtraces">Backtraces</a>
</ul>
<li><a name="toc_Language%20Features"></a>
    <a href="#Language%20Features">C Language Facilities in the Library</a>
<ul>
<li><a href="#Consistency%20Checking">Explicitly Checking Internal Consistency</a>
<li><a href="#Variadic%20Functions">Variadic Functions</a>
<ul>
<li><a href="#Why%20Variadic">Why Variadic Functions are Used</a>
<li><a href="#How%20Variadic">How Variadic Functions are Defined and Used</a>
<ul>
<li><a href="#Variadic%20Prototypes">Syntax for Variable Arguments</a>
<li><a href="#Receiving%20Arguments">Receiving the Argument Values</a>
<li><a href="#How%20Many%20Arguments">How Many Arguments Were Supplied</a>
<li><a href="#Calling%20Variadics">Calling Variadic Functions</a>
<li><a href="#Argument%20Macros">Argument Access Macros</a>
</ul>
<li><a href="#Variadic%20Example">Example of a Variadic Function</a>
<ul>
<li><a href="#Old%20Varargs">Old-Style Variadic Functions</a>
</ul>
</ul>
<li><a href="#Null%20Pointer%20Constant">Null Pointer Constant</a>
<li><a href="#Important%20Data%20Types">Important Data Types</a>
<li><a href="#Data%20Type%20Measurements">Data Type Measurements</a>
<ul>
<li><a href="#Width%20of%20Type">Computing the Width of an Integer Data Type</a>
<li><a href="#Range%20of%20Type">Range of an Integer Type</a>
<li><a href="#Floating%20Type%20Macros">Floating Type Macros</a>
<ul>
<li><a href="#Floating%20Point%20Concepts">Floating Point Representation Concepts</a>
<li><a href="#Floating%20Point%20Parameters">Floating Point Parameters</a>
<li><a href="#IEEE%20Floating%20Point">IEEE Floating Point</a>
</ul>
<li><a href="#Structure%20Measurement">Structure Field Offset Measurement</a>
</ul>
</ul>
<li><a name="toc_Library%20Summary"></a>
    <a href="#Library%20Summary">Summary of Library Facilities</a>
<li><a name="toc_Installation"></a>
    <a href="#Installation">Installing the GNU C Library</a>
<ul>
<li><a href="#Configuring%20and%20compiling">Configuring and compiling GNU Libc</a>
<li><a href="#Running%20make%20install">Installing the C Library</a>
<li><a href="#Tools%20for%20Compilation">Recommended Tools for Compilation</a>
<li><a href="#Supported%20Configurations">Supported Configurations</a>
<li><a href="#Linux">Specific advice for Linux systems</a>
<li><a href="#Reporting%20Bugs">Reporting Bugs</a>
</ul>
<li><a name="toc_Maintenance"></a>
    <a href="#Maintenance">Library Maintenance</a>
<ul>
<li><a href="#Source%20Layout">Adding New Functions</a>
<li><a href="#Porting">Porting the GNU C Library</a>
<ul>
<li><a href="#Hierarchy%20Conventions">Layout of the <code>sysdeps</code> Directory Hierarchy</a>
<li><a href="#Porting%20to%20Unix">Porting the GNU C Library to Unix Systems</a>
</ul>
</ul>
<li><a name="toc_Contributors"></a>
    <a href="#Contributors">Contributors to the GNU C Library</a>
<li><a name="toc_Free%20Manuals"></a>
    <a href="#Free%20Manuals">Free Software Needs Free Documentation</a>
<li><a name="toc_Copying"></a>
    <a href="#Copying">GNU Lesser General Public License</a>
<ul>
<ul>
<li><a href="#Copying">Preamble</a>
<li><a href="#Copying">How to Apply These Terms to Your New Libraries</a>
</ul>
</ul>
<li><a name="toc_Documentation%20License"></a>
    <a href="#Documentation%20License">GNU Free Documentation License</a>
<ul>
<ul>
<li><a href="#Documentation%20License">ADDENDUM: How to use this License for your documents</a>
</ul>
</ul>
<li><a name="toc_Concept%20Index"></a>
    <a href="#Concept%20Index">Concept Index</a>
<li><a name="toc_Type%20Index"></a>
    <a href="#Type%20Index">Type Index</a>
<li><a name="toc_Function%20Index"></a>
    <a href="#Function%20Index">Function and Macro Index</a>
<li><a name="toc_Variable%20Index"></a>
    <a href="#Variable%20Index">Variable and Constant Macro Index</a>
<li><a name="toc_File%20Index"></a>
    <a href="#File%20Index">Program and File Index</a>
</ul>

<hr><h4>Footnotes</h4>
<ol type="1">
<li><a name="fn-1"></a>
<p>Additions are welcome.  Send appropriate information to
<a href="mailto:bug-glibc-manual@gnu.org">bug-glibc-manual@gnu.org</a>.</p>

<li><a name="fn-2"></a>
<p>Actually, the terminal-specific functions are implemented with
IOCTLs on many platforms.</p>

<li><a name="fn-3"></a>
<p>Now you might ask why this information is
duplicated.  The answer is that we want to make it possible to link
directly with these shared objects.</p>

<li><a name="fn-4"></a>
<p>There is a second explanation: we were too
lazy to change the Makefiles to allow the generation of shared objects
not starting with <code>lib</code> but don't tell this to anybody.</p>

</ol><hr>

</body></html>
